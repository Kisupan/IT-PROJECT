{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: \"ProfileBody\",\n\n  data() {\n    return {\n      infoList: [],\n      profileFormData: {\n        _id: \"\",\n        email: \"abccc@gmail.com\",\n        avatar: \"\",\n        password: \"hxx211\",\n        username: \"hxx\",\n        dateOfBirth: \"01/09/2022\",\n        gender: \"Male\",\n        intro: \"\"\n      },\n      myVideoList: [{\n        id: 0,\n        title: \"Title\",\n        author: \"ZCC\",\n        date: \"1/9/2022\"\n      }, {\n        id: 0,\n        title: \"Title\",\n        author: \"ZCC\",\n        date: \"1/9/2022\"\n      }, {\n        id: 0,\n        title: \"Title\",\n        author: \"ZCC\",\n        date: \"1/9/2022\"\n      }, {\n        id: 0,\n        title: \"Title\",\n        author: \"ZCC\",\n        date: \"1/9/2022\"\n      }, {\n        id: 0,\n        title: \"Title\",\n        author: \"ZCC\",\n        date: \"1/9/2022\"\n      }],\n      videoData: {\n        id: 0,\n        imageAddr: \"resources/ZCC.JPG\",\n        videoAddr: \"blankpage.html\",\n        title: \"Title\",\n        author: \"ZCC\",\n        date: \"1/9/2022\"\n      },\n      favouriteVideoList: [{\n        id: 0,\n        title: \"Title\",\n        author: \"HXX\",\n        date: \"2/9/2022\"\n      }, {\n        id: 0,\n        title: \"Title\",\n        author: \"ZCC\",\n        date: \"1/9/2022\"\n      }, {\n        id: 0,\n        title: \"Title\",\n        author: \"ZCC\",\n        date: \"1/9/2022\"\n      }, {\n        id: 0,\n        title: \"Title\",\n        author: \"ZCC\",\n        date: \"1/9/2022\"\n      }, {\n        id: 0,\n        title: \"Title\",\n        author: \"ZCC\",\n        date: \"1/9/2022\"\n      }]\n    };\n  },\n\n  mounted() {\n    this.getProfileInfo();\n  },\n\n  methods: {\n    getProfileInfo: function () {\n      var profileInfo = window.localStorage.getItem(\"profileInfo\");\n\n      if (profileInfo) {\n        this.infoList = JSON.parse(profileInfo);\n      }\n    },\n    getProfileInfoServer: function () {\n      var that = this;\n      this.axios.get('http://localhost:3000/api/findall', {\n        params: {\n          email: \"\"\n        }\n      }).then(function (response) {\n        // handle success\n        var result = response.data;\n        console.log(result);\n\n        if (result.status == 200) {\n          that.profileFormData = result;\n        }\n      }).catch(function (error) {\n        // handle error\n        console.log(error);\n      }).then(function () {// always executed\n      });\n    },\n    updateInfo: function () {\n      var profileFormData = {\n        email: this.profileFormData.email,\n        password: this.profileFormData.password,\n        username: this.profileFormData.username,\n        dateOfBirth: this.profileFormData.dateOfBirth,\n        gender: this.profileFormData.gender,\n        intro: this.profileFormData.intro\n      };\n      this.infoList.splice(0, 1);\n      this.infoList.push(profileFormData);\n      window.localStorage.setItem(\"profileInfo\", JSON.stringify(this.infoList)); // axios.post('http://localhost:3000/api/update/:email', {\n      //     email: this.profileFormData.email,\n      //     username: this.profileFormData.username,\n      //     password: this.profileFormData.password,\n      // })\n      //     .then(function (response) {\n      //         console.log(response);\n      //         if (result.status != 200) {\n      //             alert(\"Update Unsuccessful. Please Try Again!\");\n      //         }\n      //     })\n      //     .catch(function (error) {\n      //         console.log(error);\n      //     });\n\n      this.axios.post('http://localhost:3000/api/password-reset', {\n        email: this.profileFormData.email,\n        password: this.profileFormData.password\n      }).then(function (response) {\n        console.log(response);\n\n        if (response.status != 200) {\n          alert(\"Update Unsuccessful. Please Try Again!\");\n        } else {\n          alert(\"Update successful!\");\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n    },\n    getMyVideoInfo: function () {\n      var that = this; // Make a request for a user with a given ID\n\n      this.axios.get('/user?ID=12345').then(function (response) {\n        // handle success\n        var result = response.data;\n        console.log(result);\n\n        if (result.status == 200) {\n          that.myVideoList = result;\n        }\n      }).catch(function (error) {\n        // handle error\n        console.log(error);\n      }).then(function () {// always executed\n      });\n    },\n    getFavouriteVideoInfo: function () {\n      var that = this; // Make a request for a user with a given ID\n\n      this.axios.get('/user?ID=12345').then(function (response) {\n        // handle success\n        var result = response.data;\n        console.log(result);\n\n        if (result.status == 200) {\n          that.favouriteVideoList = result;\n        }\n      }).catch(function (error) {\n        // handle error\n        console.log(error);\n      }).then(function () {// always executed\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";AAsLA;EACAA,mBADA;;EAEAC;IACA;MACAC,YADA;MAEAC;QACAC,OADA;QAEAC,wBAFA;QAGAC,UAHA;QAIAC,kBAJA;QAKAC,eALA;QAMAC,yBANA;QAOAC,cAPA;QAQAC;MARA,CAFA;MAYAC;QAAAC;QAAAC;QAAAC;QAAAC;MAAA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,EAZA;MAaAC;QACAJ,KADA;QAEAK,8BAFA;QAGAC,2BAHA;QAIAL,cAJA;QAKAC,aALA;QAMAC;MANA,CAbA;MAqBAI;QAAAP;QAAAC;QAAAC;QAAAC;MAAA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA;IArBA;EAuBA,CA1BA;;EA4BAK;IACA;EACA,CA9BA;;EAgCAC;IACAC;MACA;;MACA;QACA;MACA;IACA,CANA;IAQAC;MACA;MACA;QACAC;UACApB;QADA;MADA,GAKAqB,IALA,CAKA;QACA;QACA;QACAC;;QACA;UACAC;QACA;MACA,CAZA,EAaAC,KAbA,CAaA;QACA;QACAF;MACA,CAhBA,EAiBAD,IAjBA,CAiBA,aACA;MACA,CAnBA;IAoBA,CA9BA;IAiCAI;MACA;QACAzB,iCADA;QAEAE,uCAFA;QAGAC,uCAHA;QAIAC,6CAJA;QAKAC,mCALA;QAMAC;MANA;MAQA;MACA;MACAoB,0EAXA,CAYA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;;MACA;QACA1B,iCADA;QAEAE;MAFA,GAIAmB,IAJA,CAIA;QACAC;;QACA;UACAK;QACA,CAFA,MAEA;UACAA;QACA;MACA,CAXA,EAYAH,KAZA,CAYA;QACAF;MACA,CAdA;IAeA,CA1EA;IA8EAM;MACA,gBADA,CAEA;;MACA,iCACAP,IADA,CACA;QACA;QACA;QACAC;;QACA;UACAC;QACA;MACA,CARA,EASAC,KATA,CASA;QACA;QACAF;MACA,CAZA,EAaAD,IAbA,CAaA,aACA;MACA,CAfA;IAgBA,CAjGA;IAmGAQ;MACA,gBADA,CAEA;;MACA,iCACAR,IADA,CACA;QACA;QACA;QACAC;;QACA;UACAC;QACA;MACA,CARA,EASAC,KATA,CASA;QACA;QACAF;MACA,CAZA,EAaAD,IAbA,CAaA,aACA;MACA,CAfA;IAgBA;EAtHA;AAhCA","names":["name","data","infoList","profileFormData","_id","email","avatar","password","username","dateOfBirth","gender","intro","myVideoList","id","title","author","date","videoData","imageAddr","videoAddr","favouriteVideoList","mounted","methods","getProfileInfo","getProfileInfoServer","params","then","console","that","catch","updateInfo","window","alert","getMyVideoInfo","getFavouriteVideoInfo"],"sourceRoot":"src/components","sources":["ProfileBody.vue"],"sourcesContent":["<template>\n    <div class=\"profile-intro-upload\">\n        <div class=\"nav-area\">\n            <nav class=\"navbar bg-light\">\n                <div class=\"container-fluid\">\n                    <div class=\"navbar-brand\" href=\"profilepage.html\" v-for=\"info in infoList\" :key=\"info._id\">\n                        <img src=\"/resources/ZCC.JPG\" alt=\"\" width=\"100\" height=\"100\"\n                            class=\"d-inline-block align-text-center\" style=\"border-radius: 50%;\">\n                        <!-- <div>\n                            <el-form-item label=\"图片\" prop=\"img\">\n                                <imageUpload v-on:change=\"change\" />\n                            </el-form-item>\n                        </div> -->\n                        <p class=\"web-name\" style=\"color:black; display: inline-block;\">\n                            {{info.username}}</p>\n                    </div>\n                    <div class=\"text-container\">\n                        <p v-for=\"info in infoList\" :key=\"info._id\">\n                            {{info.intro}}\n                        </p>\n                    </div>\n                    <div class=\"upload\">\n                        <a class=\"btn btn-outline-primary\" href=\"uploadpage.html\" role=\"button\"\n                            target=\"_blank\">Upload Video</a>\n                    </div>\n                </div>\n            </nav>\n        </div>\n\n\n        <div class=\"tabs\">\n            <ul class=\"nav nav-tabs\" id=\"myTab\" role=\"tablist\">\n                <li class=\"nav-item\" role=\"presentation\">\n                    <button class=\"nav-link active\" id=\"my-video-tab\" data-bs-toggle=\"tab\"\n                        data-bs-target=\"#my-video-tab-pane\" type=\"button\" role=\"tab\"\n                        aria-controls=\"my-video-tab-pane\" aria-selected=\"true\">My Video</button>\n                </li>\n                <li class=\"nav-item\" role=\"presentation\">\n                    <button class=\"nav-link\" id=\"favourite-tab\" data-bs-toggle=\"tab\"\n                        data-bs-target=\"#favourite-tab-pane\" type=\"button\" role=\"tab\"\n                        aria-controls=\"favourite-tab-pane\" aria-selected=\"false\">Favourite</button>\n                </li>\n                <li class=\"nav-item\" role=\"presentation\">\n                    <button class=\"nav-link\" id=\"intro-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#intro-tab-pane\"\n                        type=\"button\" role=\"tab\" aria-controls=\"intro-tab-pane\"\n                        aria-selected=\"false\">Profile</button>\n                </li>\n                <!-- <li class=\"nav-item\" role=\"presentation\">\n                    <button class=\"nav-link\" id=\"manage-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#manage-tab-pane\"\n                        type=\"button\" role=\"tab\" aria-controls=\"manage-tab-pane\" aria-selected=\"false\">Manage\n                        profile</button>\n                </li> -->\n                <!-- <li class=\"nav-item\" role=\"presentation\">\n                    <button class=\"nav-link\" id=\"disabled-tab\" data-bs-toggle=\"tab\"\n                        data-bs-target=\"#disabled-tab-pane\" type=\"button\" role=\"tab\"\n                        aria-controls=\"disabled-tab-pane\" aria-selected=\"false\" disabled>Disabled</button>\n                </li> -->\n            </ul>\n            <div class=\"tab-content\" id=\"myTabContent\">\n                <div class=\"tab-pane fade show active\" id=\"my-video-tab-pane\" role=\"tabpanel\"\n                    aria-labelledby=\"my-video-tab\" tabindex=\"0\">\n                    <div class=\"my-videos-area\">\n                        <div class=\"row row-cols-4\">\n                            <div class=\"col\" v-for=\"video in myVideoList\" :key=\"video._id\">\n                                <div class=\"card\">\n                                    <a href=\"blankpage.html\" target=\"_blank\">\n                                        <img src=\"resources/ZCC.JPG\" class=\"card-img-top\" alt=\"...\">\n                                    </a>\n                                    <div class=\"card-body\">\n                                        <h5>{{video.title}}</h5>\n                                        <p>{{video.author}}</p>\n                                        <p>{{video.date}}</p>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"tab-pane fade\" id=\"favourite-tab-pane\" role=\"tabpanel\" aria-labelledby=\"favourite-tab\"\n                    tabindex=\"0\">\n                    <div class=\"favourite-videos-area\">\n                        <div class=\"row row-cols-4\">\n                            <div class=\"col\" v-for=\"video in favouriteVideoList\" :key=\"video._id\">\n                                <div class=\"card\">\n                                    <a href=\"blankpage.html\" target=\"_blank\">\n                                        <img src=\"resources/ZCC.JPG\" class=\"card-img-top\" alt=\"...\">\n                                    </a>\n                                    <div class=\"card-body\">\n                                        <h5>{{video.title}}</h5>\n                                        <p>{{video.author}}</p>\n                                        <p>{{video.date}}</p>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"tab-pane fade\" id=\"intro-tab-pane\" role=\"tabpanel\" aria-labelledby=\"intro-tab\"\n                    tabindex=\"0\">\n                    <ul type=\"none\">\n                        <li class=\"profile-info\" v-for=\"info in infoList\" :key=\"info._id\">\n                            <!-- {{info.email}} - {{info.password}} - {{info.username}} - {{info.dateOfBirth}} - {{info.gender}} -->\n                            E-Mail: {{info.email}} <br>\n                            Password: {{info.password}} <br>\n                            Username: {{info.username}} <br>\n                            Date of birth: {{info.dateOfBirth}} <br>\n                            Gender: {{info.gender}} <br>\n                        </li>\n                    </ul>\n                    <!-- Button trigger modal -->\n                    <button type=\"button\" class=\"btn btn-primary\" data-bs-toggle=\"modal\"\n                        data-bs-target=\"#manage-profile\">\n                        Manange profile\n                    </button>\n                    <div class=\"modal fade\" id=\"manage-profile\" tabindex=\"-1\" aria-labelledby=\"myModalLabel\"\n                        aria-hidden=\"true\">\n                        <div class=\"modal-dialog\">\n                            <div class=\"modal-content\">\n                                <div class=\"modal-header\">\n                                    <h5 class=\"modal-title\" id=\"myModalLabel\">Manage profile</h5>\n                                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\"\n                                        aria-label=\"Close\"></button>\n                                </div>\n                                <div class=\"modal-body\">\n                                    <form class=\"row g-3\">\n                                        <div class=\"col-md-12\">\n                                            <label class=\"form-label\" for=\"inputPhoto\">Photo</label>\n                                            <input type=\"file\" class=\"form-control\" id=\"inputPhoto\">\n                                        </div>\n                                        <div class=\"col-md-12\">\n                                            <label for=\"inputEmail4\" class=\"form-label\">Email</label>\n                                            <input type=\"email\" class=\"form-control\" id=\"inputEmail4\"\n                                                v-model=\"profileFormData.email\" disabled>\n                                        </div>\n                                        <div class=\"col-6\">\n                                            <label for=\"inputUsername\" class=\"form-label\">Username</label>\n                                            <input type=\"text\" class=\"form-control\" id=\"inputUsername\"\n                                                v-model=\"profileFormData.username\" maxlength=\"16\">\n                                        </div>\n                                        <div class=\"col-md-6\">\n                                            <label for=\"inputPassword4\" class=\"form-label\">Password</label>\n                                            <input type=\"password\" class=\"form-control\" id=\"inputPassword4\"\n                                                v-model=\"profileFormData.password\" maxlength=\"16\">\n                                        </div>\n                                        <div class=\"col-md-6\">\n                                            <label for=\"inputDOB\" class=\"form-label\">DateOfBirth</label>\n                                            <input type=\"date\" class=\"form-control\" id=\"inputDOB\"\n                                                v-model=\"profileFormData.dateOfBirth\">\n                                        </div>\n                                        <div class=\"col-md-6\">\n                                            <label for=\"inputGender\" class=\"form-label\">Gender</label>\n                                            <select id=\"inputGender\" class=\"form-select\"\n                                                v-model=\"profileFormData.gender\">\n                                                <option selected>Please select</option>\n                                                <option>Male</option>\n                                                <option>Female</option>\n                                                <option>Others</option>\n                                            </select>\n                                        </div>\n                                        <div class=\"col-12\">\n                                            <label for=\"introduction\" class=\"form-label\">Introduction</label>\n                                            <textarea id=\"introduction\" class=\"form-control\" rows=\"3\"\n                                                maxlength=\"350\" v-model=\"profileFormData.intro\"></textarea>\n                                        </div>\n                                    </form>\n                                </div>\n                                <div class=\"modal-footer\">\n                                    <button type=\"button\" class=\"btn btn-secondary\"\n                                        data-bs-dismiss=\"modal\">Close</button>\n                                    <button type=\"submit\" class=\"btn btn-primary\"\n                                        @click=\"updateInfo()\">Update</button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: \"ProfileBody\",\n    data() {\n        return {\n            infoList: [],\n            profileFormData: {\n                _id: \"\",\n                email: \"abccc@gmail.com\",\n                avatar: \"\",\n                password: \"hxx211\",\n                username: \"hxx\",\n                dateOfBirth: \"01/09/2022\",\n                gender: \"Male\",\n                intro: \"\"\n            },\n            myVideoList: [{ id: 0, title: \"Title\", author: \"ZCC\", date: \"1/9/2022\" }, { id: 0, title: \"Title\", author: \"ZCC\", date: \"1/9/2022\" }, { id: 0, title: \"Title\", author: \"ZCC\", date: \"1/9/2022\" }, { id: 0, title: \"Title\", author: \"ZCC\", date: \"1/9/2022\" }, { id: 0, title: \"Title\", author: \"ZCC\", date: \"1/9/2022\" }],\n            videoData: {\n                id: 0,\n                imageAddr: \"resources/ZCC.JPG\",\n                videoAddr: \"blankpage.html\",\n                title: \"Title\",\n                author: \"ZCC\",\n                date: \"1/9/2022\"\n            },\n            favouriteVideoList: [{ id: 0, title: \"Title\", author: \"HXX\", date: \"2/9/2022\" }, { id: 0, title: \"Title\", author: \"ZCC\", date: \"1/9/2022\" }, { id: 0, title: \"Title\", author: \"ZCC\", date: \"1/9/2022\" }, { id: 0, title: \"Title\", author: \"ZCC\", date: \"1/9/2022\" }, { id: 0, title: \"Title\", author: \"ZCC\", date: \"1/9/2022\" }],\n        }\n    },\n\n    mounted() {\n        this.getProfileInfo();\n    },\n\n    methods: {\n        getProfileInfo: function () {\n            var profileInfo = window.localStorage.getItem(\"profileInfo\");\n            if (profileInfo) {\n                this.infoList = JSON.parse(profileInfo);\n            }\n        },\n\n        getProfileInfoServer: function () {\n            var that = this;\n            this.axios.get('http://localhost:3000/api/findall', {\n                params: {\n                    email: \"\"\n                }\n            })\n                .then(function (response) {\n                    // handle success\n                    var result = response.data;\n                    console.log(result);\n                    if (result.status == 200) {\n                        that.profileFormData = result;\n                    }\n                })\n                .catch(function (error) {\n                    // handle error\n                    console.log(error);\n                })\n                .then(function () {\n                    // always executed\n                });\n        },\n\n\n        updateInfo: function () {\n            var profileFormData = {\n                email: this.profileFormData.email,\n                password: this.profileFormData.password,\n                username: this.profileFormData.username,\n                dateOfBirth: this.profileFormData.dateOfBirth,\n                gender: this.profileFormData.gender,\n                intro: this.profileFormData.intro\n            };\n            this.infoList.splice(0, 1);\n            this.infoList.push(profileFormData);\n            window.localStorage.setItem(\"profileInfo\", JSON.stringify(this.infoList));\n            // axios.post('http://localhost:3000/api/update/:email', {\n            //     email: this.profileFormData.email,\n            //     username: this.profileFormData.username,\n            //     password: this.profileFormData.password,\n            // })\n            //     .then(function (response) {\n            //         console.log(response);\n            //         if (result.status != 200) {\n            //             alert(\"Update Unsuccessful. Please Try Again!\");\n            //         }\n            //     })\n            //     .catch(function (error) {\n            //         console.log(error);\n            //     });\n            this.axios.post('http://localhost:3000/api/password-reset', {\n                email: this.profileFormData.email,\n                password: this.profileFormData.password,\n            })\n                .then(function (response) {\n                    console.log(response);\n                    if (response.status != 200) {\n                        alert(\"Update Unsuccessful. Please Try Again!\");\n                    } else {\n                        alert(\"Update successful!\");\n                    }\n                })\n                .catch(function (error) {\n                    console.log(error);\n                });\n        },\n\n\n\n        getMyVideoInfo: function () {\n            var that = this;\n            // Make a request for a user with a given ID\n            this.axios.get('/user?ID=12345')\n                .then(function (response) {\n                    // handle success\n                    var result = response.data;\n                    console.log(result);\n                    if (result.status == 200) {\n                        that.myVideoList = result;\n                    }\n                })\n                .catch(function (error) {\n                    // handle error\n                    console.log(error);\n                })\n                .then(function () {\n                    // always executed\n                });\n        },\n\n        getFavouriteVideoInfo: function () {\n            var that = this;\n            // Make a request for a user with a given ID\n            this.axios.get('/user?ID=12345')\n                .then(function (response) {\n                    // handle success\n                    var result = response.data;\n                    console.log(result);\n                    if (result.status == 200) {\n                        that.favouriteVideoList = result;\n                    }\n                })\n                .catch(function (error) {\n                    // handle error\n                    console.log(error);\n                })\n                .then(function () {\n                    // always executed\n                });\n        }\n    },\n}\n</script>\n\n<style>\n    .profile-intro-upload {\n        margin-left: 70px;\n        margin-top: 40px;\n        margin-right: 70px;\n    }\n\n    .text-container {\n        width: 600px;\n        height: 125px;\n        background-color: white;\n        align-items: center;\n    }\n    .tabs {\n    margin-top: 30px;\n    }\n\n    .my-videos-area {\n        padding-top: 20px;\n    }\n\n    .favourite-videos-area {\n        padding-top: 20px;\n    }\n\n\n    .col {\n        padding: 30px\n    }\n\n    #intro-tab-pane {\n        margin-top: 30px;\n    }\n\n    .update-button {\n        margin-top: 20px;\n    }\n\n    .profile-info {\n        font-size: 20px;\n        font-style: normal;\n    }\n</style>"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"export default {\n  name: 'SignIn',\n\n  data() {\n    return {\n      email: \"\",\n      account: \"\",\n      username: \"\",\n      password: \"\",\n      isLogin: false,\n      isRegister: false\n    };\n  },\n\n  methods: {\n    login: function () {\n      console.log('login'); // 前端校验\n\n      if (this.account == '') {\n        alert('请填写账户');\n        return;\n      }\n\n      if (this.password == '') {\n        alert('请填写密码');\n        return;\n      }\n\n      var params = {\n        account: this.account,\n        password: this.password\n      };\n      var that = this;\n      axios.post('http://localhost:3000/api/signin', params).then(function (response) {\n        console.log(response);\n\n        if (response.status == 200) {\n          that.isLogin = true;\n        }\n      }).catch(function (error) {\n        console.log(error);\n        alert('该账户不存在或密码错误');\n        that.account = '';\n        that.password = '';\n      });\n    },\n\n    mounted() {\n      console.log(this.$route);\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAwCA;EACAA,cADA;;EAEAC;IACA;MACAC,SADA;MACAC,WADA;MACAC,YADA;MACAC,YADA;MACAC,cADA;MACAC;IADA;EAGA,CANA;;EAOAC;IACAC;MACAC,qBADA,CAEA;;MACA;QACAC;QACA;MACA;;MACA;QACAA;QACA;MACA;;MACA;QACAR,qBADA;QAEAE;MAFA;MAIA;MACAO,uDACAC,IADA,CACA;QACAH;;QACA;UACAI;QACA;MACA,CANA,EAOAC,KAPA,CAOA;QACAL;QACAC;QACAG;QACAA;MAEA,CAbA;IAcA,CA/BA;;IAgCAE;MACAN;IACA;;EAlCA;AAPA","names":["name","data","email","account","username","password","isLogin","isRegister","methods","login","console","alert","axios","then","that","catch","mounted"],"sourceRoot":"src/pages","sources":["SignIn.vue"],"sourcesContent":["<template>\r\n\t<div >\r\n\t\t<div v-if=\"isLogin\">\r\n\t\t\t欢迎您！{{account}} <a href=\"\" v-on:click.prevent=\"logout()\">退出</a>\r\n\t\t</div>\r\n\t\t<div v-if=\"isRegister\">\r\n\t\t\t<div>\r\n\t\t\t\t邮箱: <input type=\"text\" v-model=\"email\">\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t密码: <input type=\"password\" v-model=\"password\">\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t用户名: <input type=\"text\" v-model=\"username\">\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<button @click=\"notRegister()\">返回</button>\r\n\t\t\t\t<button @click=\"register()\">提交</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div v-if=\"check()\">\r\n\t\t\t尚未登录，请先登录\r\n\t\t\t<!-- <a href=\"\" v-on:click.prevent=\"login()\">立即登录</a> -->\r\n\t\t\t<div>\r\n\t\t\t\t账户: <input type=\"text\" v-model=\"account\">\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t密码: <input type=\"password\" v-model=\"password\">\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<button @click=\"login()\">登录</button>\r\n\t\t\t\t<button @click=isRegistering()>注册</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n<script src=\"https://cdn.jsdelivr.net/npm/vue/dist/vue.js\"></script>\r\n<script src=\"https://unpkg.com/axios/dist/axios.min.js\"></script>\r\n\r\n<script>\r\n\texport default {\r\n\t\tname:'SignIn',\r\n\t\tdata() {\r\n    return {\r\n         email: \"\",account: \"\",username: \"\",password: \"\",isLogin: false,isRegister: false\r\n    }\r\n  },\r\n  methods: {\r\n\t\t\tlogin: function () {\r\n\t\t\t\tconsole.log('login');\r\n\t\t\t\t// 前端校验\r\n\t\t\t\tif (this.account == '') {\r\n\t\t\t\t\talert('请填写账户');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.password == '') {\r\n\t\t\t\t\talert('请填写密码');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tvar params = {\r\n\t\t\t\t\taccount: this.account,\r\n\t\t\t\t\tpassword: this.password\r\n\t\t\t\t};\r\n\t\t\t\tvar that = this;\r\n\t\t\t\taxios.post('http://localhost:3000/api/signin', params)\r\n\t\t\t\t\t.then(function (response) {\r\n\t\t\t\t\t\tconsole.log(response);\r\n\t\t\t\t\t\tif (response.status == 200) {\r\n\t\t\t\t\t\t\tthat.isLogin = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function (error) {\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t\talert('该账户不存在或密码错误');\r\n\t\t\t\t\t\tthat.account = '';\r\n\t\t\t\t\t\tthat.password = '';\r\n\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\tmounted() {\r\n\t\t\tconsole.log(this.$route)\r\n\t\t},\r\n\t}\r\n}\r\n</script>"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"export default {\n  name: \"LogIn\",\n\n  data() {\n    return {\n      email: \"\",\n      account: \"\",\n      username: \"\",\n      password: \"\"\n    };\n  },\n\n  methods: {\n    login: function () {\n      console.log('login'); // 前端校验\n\n      if (this.account == '') {\n        alert('请填写账户');\n        return;\n      }\n\n      if (this.password == '') {\n        alert('请填写密码');\n        return;\n      }\n\n      var params = {\n        account: this.account,\n        password: this.password\n      };\n      var that = this;\n      console.log(params);\n      this.axios.post('http://localhost:3000/api/signin', params).then(function (response) {\n        console.log(response);\n\n        if (response.status == 200) {\n          that.isLogin = true;\n        }\n      }).catch(function (error) {\n        console.log(error);\n        alert('该账户不存在或密码错误');\n        that.account = '';\n        that.password = '';\n      });\n    },\n    register: function () {\n      console.log('register');\n\n      if (this.email == '') {\n        alert('请填写邮箱');\n        return;\n      }\n\n      if (this.password == '') {\n        alert('请填写密码');\n        return;\n      }\n\n      if (this.username == '') {\n        alert('请填写用户名');\n        return;\n      }\n\n      var params = {\n        email: this.email,\n        password: this.password,\n        username: this.username\n      };\n      var that = this;\n      this.axios.post('http://localhost:3000/api/signup', params).then(function (request) {\n        if (request.status == 201) {\n          alert('注册成功！立即登录！');\n          that.email = '';\n          that.username = '';\n          that.password = '';\n          that.isRegister = false;\n        }\n      }).catch(function (error) {\n        console.log(error);\n        alert('邮箱或用户名已被注册');\n        that.email = '';\n        that.username = '';\n        that.password = '';\n      });\n    }\n  }\n};","map":{"version":3,"mappings":"AAiBA;EACAA,aADA;;EAEAC;IACA;MACAC,SADA;MAEAC,WAFA;MAGAC,YAHA;MAIAC;IAJA;EAMA,CATA;;EAUAC;IACAC;MACAC,qBADA,CAEA;;MACA;QACAC;QACA;MACA;;MACA;QACAA;QACA;MACA;;MACA;QACAN,qBADA;QAEAE;MAFA;MAIA;MACAG;MACA,4DACAE,IADA,CACA;QACAF;;QACA;UACAG;QACA;MACA,CANA,EAOAC,KAPA,CAOA;QACAJ;QACAC;QACAE;QACAA;MAEA,CAbA;IAcA,CAhCA;IAkCAE;MACAL;;MACA;QACAC;QACA;MACA;;MACA;QACAA;QACA;MACA;;MACA;QACAA;QACA;MACA;;MACA;QACAP,iBADA;QAEAG,uBAFA;QAGAD;MAHA;MAKA;MACA,4DACAM,IADA,CACA;QACA;UACAD;UACAE;UACAA;UACAA;UACAA;QACA;MACA,CATA,EAUAC,KAVA,CAUA;QACAJ;QACAC;QACAE;QACAA;QACAA;MAEA,CAjBA;IAkBA;EAxEA;AAVA","names":["name","data","email","account","username","password","methods","login","console","alert","then","that","catch","register"],"sourceRoot":"src/pages","sources":["SignIn.vue"],"sourcesContent":["<template>\r\n\t\r\n\t<div>\r\n\t\t<div>\r\n\t\t\t\t账户: <input type=\"text\" v-model=\"account\">\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t密码: <input type=\"password\" v-model=\"password\">\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<button @click=\"login()\">登录</button>\r\n\t\t\t\t<button @click=isRegistering()>注册</button>\r\n\t\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tname: \"LogIn\",\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\temail: \"\",\r\n\t\t\taccount: \"\",\r\n\t\t\tusername: \"\",\r\n\t\t\tpassword: \"\",\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tlogin: function () {\r\n\t\t\t\tconsole.log('login');\r\n\t\t\t\t// 前端校验\r\n\t\t\t\tif (this.account == '') {\r\n\t\t\t\t\talert('请填写账户');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.password == '') {\r\n\t\t\t\t\talert('请填写密码');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tvar params = {\r\n\t\t\t\t\taccount: this.account,\r\n\t\t\t\t\tpassword: this.password\r\n\t\t\t\t};\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tconsole.log(params)\r\n\t\t\t\tthis.axios.post('http://localhost:3000/api/signin', params)\r\n\t\t\t\t\t.then(function (response) {\r\n\t\t\t\t\t\tconsole.log(response);\r\n\t\t\t\t\t\tif (response.status == 200) {\r\n\t\t\t\t\t\t\tthat.isLogin = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function (error) {\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t\talert('该账户不存在或密码错误');\r\n\t\t\t\t\t\tthat.account = '';\r\n\t\t\t\t\t\tthat.password = '';\r\n\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\r\n\tregister: function () {\r\n\t\t\t\tconsole.log('register');\r\n\t\t\t\tif (this.email == '') {\r\n\t\t\t\t\talert('请填写邮箱');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.password == '') {\r\n\t\t\t\t\talert('请填写密码');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.username == '') {\r\n\t\t\t\t\talert('请填写用户名');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tvar params = {\r\n\t\t\t\t\temail: this.email,\r\n\t\t\t\t\tpassword: this.password,\r\n\t\t\t\t\tusername: this.username\r\n\t\t\t\t};\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tthis.axios.post('http://localhost:3000/api/signup', params)\r\n\t\t\t\t\t.then(function (request) {\r\n\t\t\t\t\t\tif (request.status == 201) {\r\n\t\t\t\t\t\t\talert('注册成功！立即登录！')\r\n\t\t\t\t\t\t\tthat.email = ''\r\n\t\t\t\t\t\t\tthat.username = ''\r\n\t\t\t\t\t\t\tthat.password = ''\r\n\t\t\t\t\t\t\tthat.isRegister = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function (error) {\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t\talert('邮箱或用户名已被注册');\r\n\t\t\t\t\t\tthat.email = '';\r\n\t\t\t\t\t\tthat.username = '';\r\n\t\t\t\t\t\tthat.password = ''\r\n\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n}\r\n</script>\r\n  \r\n<style>\r\n.login {\r\n\tmargin-top: 200px;\r\n}\r\n\r\n.input_style {\r\n\twidth: 200px;\r\n\tmargin-bottom: 10px;\r\n}\r\n\r\n.login_style {\r\n\twidth: 200px;\r\n}\r\n</style>\r\n  \r\n  "]},"metadata":{},"sourceType":"module"}
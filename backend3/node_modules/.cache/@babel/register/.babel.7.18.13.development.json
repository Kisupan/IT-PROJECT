<<<<<<< Updated upstream
<<<<<<< Updated upstream
{"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"filename\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _mongoose = require(\"mongoose\");\n\nvar _dotenv = require(\"dotenv\");\n\nvar _Auth = _interopRequireDefault(require(\"./Routes/Auth.routes\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _Video = _interopRequireDefault(require(\"./Routes/Video.routes\"));\n\nvar _process$env$PORT;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n(0, _dotenv.config)();\nvar server = (0, _express[\"default\"])(); //==============MiddleWares===========================================\n\nserver.use((0, _cors[\"default\"])()); //==========mongo DB connection========================================\n\nvar mongoURI = process.env.mongoURI;\n(0, _mongoose.connect)(mongoURI, function (error) {\n  if (error) {\n    return console.log(error);\n  }\n\n  console.log('connection to mongo DB successful!!!');\n}); //==============================server endpoints=============================\n\nserver.use(_Auth[\"default\"]);\nserver.use(_Video[\"default\"]);\nvar PORT = (_process$env$PORT = process.env.PORT) !== null && _process$env$PORT !== void 0 ? _process$env$PORT : 3000;\nserver.listen(PORT, function () {\n  console.log(\"Server started on PORT \".concat(PORT));\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25maWciLCJzZXJ2ZXIiLCJleHByZXNzIiwidXNlIiwiY29ycyIsIm1vbmdvVVJJIiwicHJvY2VzcyIsImVudiIsImNvbm5lY3QiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJBdXRoUm91dGVzIiwiVmlkZW9Sb3V0ZXMiLCJQT1JUIiwibGlzdGVuIl0sInNvdXJjZVJvb3QiOiJEOlxcU2Nob29sXFxJVCBQcm9qZWN0XFxJVC1QUk9KRUNUXFxiYWNrZW5kM1xcc3JjXFwiLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcclxuaW1wb3J0eyBjb25uZWN0IH0gZnJvbSAnbW9uZ29vc2UnO1xyXG5pbXBvcnR7IGNvbmZpZyB9IGZyb20gJ2RvdGVudic7XHJcbmltcG9ydCBBdXRoUm91dGVzIGZyb20gJy4vUm91dGVzL0F1dGgucm91dGVzJ1xyXG5pbXBvcnQgY29ycyBmcm9tICdjb3JzJ1xyXG5pbXBvcnQgVmlkZW9Sb3V0ZXMgZnJvbSAnLi9Sb3V0ZXMvVmlkZW8ucm91dGVzJ1xyXG5cclxuY29uZmlnKCk7XHJcblxyXG5jb25zdCBzZXJ2ZXIgPSBleHByZXNzKCk7XHJcbi8vPT09PT09PT09PT09PT1NaWRkbGVXYXJlcz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuc2VydmVyLnVzZShjb3JzKCkpXHJcbi8vPT09PT09PT09PW1vbmdvIERCIGNvbm5lY3Rpb249PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbmNvbnN0IG1vbmdvVVJJID0gcHJvY2Vzcy5lbnYubW9uZ29VUkk7XHJcbmNvbm5lY3QobW9uZ29VUkksIChlcnJvcik9PntcclxuICAgIGlmKGVycm9yKXtcclxuICAgICAgICByZXR1cm4gY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgfVxyXG4gICAgY29uc29sZS5sb2coJ2Nvbm5lY3Rpb24gdG8gbW9uZ28gREIgc3VjY2Vzc2Z1bCEhIScpXHJcbn0pXHJcblxyXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PXNlcnZlciBlbmRwb2ludHM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5zZXJ2ZXIudXNlKEF1dGhSb3V0ZXMpXHJcbnNlcnZlci51c2UoVmlkZW9Sb3V0ZXMpXHJcblxyXG5jb25zdCBQT1JUID0gcHJvY2Vzcy5lbnYuUE9SVCA/PyAzMDAwO1xyXG5cclxuXHJcbnNlcnZlci5saXN0ZW4oUE9SVCwgKCk9PntcclxuICAgIGNvbnNvbGUubG9nKGBTZXJ2ZXIgc3RhcnRlZCBvbiBQT1JUICR7UE9SVH1gKVxyXG59KSJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7Ozs7O0FBRUEsSUFBQUEsY0FBQTtBQUVBLElBQU1DLE1BQU0sR0FBRyxJQUFBQyxtQkFBQSxHQUFmLEMsQ0FDQTs7QUFDQUQsTUFBTSxDQUFDRSxHQUFQLENBQVcsSUFBQUMsZ0JBQUEsR0FBWCxFLENBQ0E7O0FBQ0EsSUFBTUMsUUFBUSxHQUFHQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUYsUUFBN0I7QUFDQSxJQUFBRyxpQkFBQSxFQUFRSCxRQUFSLEVBQWtCLFVBQUNJLEtBQUQsRUFBUztFQUN2QixJQUFHQSxLQUFILEVBQVM7SUFDTCxPQUFPQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUYsS0FBWixDQUFQO0VBQ0g7O0VBQ0RDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLHNDQUFaO0FBQ0gsQ0FMRCxFLENBT0E7O0FBQ0FWLE1BQU0sQ0FBQ0UsR0FBUCxDQUFXUyxnQkFBWDtBQUNBWCxNQUFNLENBQUNFLEdBQVAsQ0FBV1UsaUJBQVg7QUFFQSxJQUFNQyxJQUFJLHdCQUFHUixPQUFPLENBQUNDLEdBQVIsQ0FBWU8sSUFBZixpRUFBdUIsSUFBakM7QUFHQWIsTUFBTSxDQUFDYyxNQUFQLENBQWNELElBQWQsRUFBb0IsWUFBSTtFQUNwQkosT0FBTyxDQUFDQyxHQUFSLGtDQUFzQ0csSUFBdEM7QUFDSCxDQUZEIn0=","map":{"version":3,"names":["config","server","express","use","cors","mongoURI","process","env","connect","error","console","log","AuthRoutes","VideoRoutes","PORT","listen"],"sourceRoot":"D:\\School\\IT Project\\IT-PROJECT\\backend3\\src\\","sources":["server.js"],"sourcesContent":["import express from 'express';\r\nimport{ connect } from 'mongoose';\r\nimport{ config } from 'dotenv';\r\nimport AuthRoutes from './Routes/Auth.routes'\r\nimport cors from 'cors'\r\nimport VideoRoutes from './Routes/Video.routes'\r\n\r\nconfig();\r\n\r\nconst server = express();\r\n//==============MiddleWares===========================================\r\nserver.use(cors())\r\n//==========mongo DB connection========================================\r\nconst mongoURI = process.env.mongoURI;\r\nconnect(mongoURI, (error)=>{\r\n    if(error){\r\n        return console.log(error);\r\n    }\r\n    console.log('connection to mongo DB successful!!!')\r\n})\r\n\r\n//==============================server endpoints=============================\r\nserver.use(AuthRoutes)\r\nserver.use(VideoRoutes)\r\n\r\nconst PORT = process.env.PORT ?? 3000;\r\n\r\n\r\nserver.listen(PORT, ()=>{\r\n    console.log(`Server started on PORT ${PORT}`)\r\n})"],"mappings":";;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;AAEA,IAAAA,cAAA;AAEA,IAAMC,MAAM,GAAG,IAAAC,mBAAA,GAAf,C,CACA;;AACAD,MAAM,CAACE,GAAP,CAAW,IAAAC,gBAAA,GAAX,E,CACA;;AACA,IAAMC,QAAQ,GAAGC,OAAO,CAACC,GAAR,CAAYF,QAA7B;AACA,IAAAG,iBAAA,EAAQH,QAAR,EAAkB,UAACI,KAAD,EAAS;EACvB,IAAGA,KAAH,EAAS;IACL,OAAOC,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAP;EACH;;EACDC,OAAO,CAACC,GAAR,CAAY,sCAAZ;AACH,CALD,E,CAOA;;AACAV,MAAM,CAACE,GAAP,CAAWS,gBAAX;AACAX,MAAM,CAACE,GAAP,CAAWU,iBAAX;AAEA,IAAMC,IAAI,wBAAGR,OAAO,CAACC,GAAR,CAAYO,IAAf,iEAAuB,IAAjC;AAGAb,MAAM,CAACc,MAAP,CAAcD,IAAd,EAAoB,YAAI;EACpBJ,OAAO,CAACC,GAAR,kCAAsCG,IAAtC;AACH,CAFD"}},"mtime":1662523367956},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"filename\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Routes\\\\Auth.routes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _express = require(\"express\");\n\nvar _Auth = require(\"../Controller/Auth.controller\");\n\nvar router = (0, _express.Router)();\nvar Controller = new _Auth.AuthController(); //router.post('/app/signup')\n\nrouter.post('/api/signup', function (request, response) {\n  Controller.signup(request, response);\n});\nrouter.post('/api/signin', function (request, response) {\n  Controller.signin(request, response);\n}); // reset password\n\nrouter.post('/api/password-reset', function (request, response) {\n  Controller.forgotPassword(request, response);\n}); // delet a user from mongo DB\n\nrouter.post('/api/delete', function (request, response) {\n  Controller[\"delete\"](request, response);\n}); //find all user and return \n\nrouter.get('/api/findall', function (request, response) {\n  Controller.findAllUser(request, response);\n}); // update user information\n\nrouter.put('/api/update/:email', function (request, response) {\n  Controller.update(request, response);\n}); // search for a user\n\nrouter.get('/api/user-search/', function (request, response) {\n  Controller.searchUser(request, response);\n}); // Update user info including  email, password, username, age and gender\n\nrouter.post('/api/update', function (request, response) {\n  Controller.update(request, response);\n});\nvar _default = router; //module.exports = router;\n\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJSb3V0ZXIiLCJDb250cm9sbGVyIiwiQXV0aENvbnRyb2xsZXIiLCJwb3N0IiwicmVxdWVzdCIsInJlc3BvbnNlIiwic2lnbnVwIiwic2lnbmluIiwiZm9yZ290UGFzc3dvcmQiLCJnZXQiLCJmaW5kQWxsVXNlciIsInB1dCIsInVwZGF0ZSIsInNlYXJjaFVzZXIiXSwic291cmNlUm9vdCI6IkQ6XFxTY2hvb2xcXElUIFByb2plY3RcXElULVBST0pFQ1RcXGJhY2tlbmQzXFxzcmNcXFJvdXRlc1xcIiwic291cmNlcyI6WyJBdXRoLnJvdXRlcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1JvdXRlcn0gZnJvbSAnZXhwcmVzcyc7XHJcbmltcG9ydCB7QXV0aENvbnRyb2xsZXJ9IGZyb20gJy4uL0NvbnRyb2xsZXIvQXV0aC5jb250cm9sbGVyJztcclxuIFxyXG5cclxuY29uc3Qgcm91dGVyID0gUm91dGVyKCk7XHJcbmNvbnN0IENvbnRyb2xsZXIgPSBuZXcgQXV0aENvbnRyb2xsZXIoKTtcclxuXHJcbi8vcm91dGVyLnBvc3QoJy9hcHAvc2lnbnVwJylcclxucm91dGVyLnBvc3QoJy9hcGkvc2lnbnVwJywocmVxdWVzdCxyZXNwb25zZSk9PntcclxuICAgIENvbnRyb2xsZXIuc2lnbnVwKHJlcXVlc3QsIHJlc3BvbnNlKVxyXG59KVxyXG5cclxucm91dGVyLnBvc3QoJy9hcGkvc2lnbmluJywocmVxdWVzdCxyZXNwb25zZSk9PntcclxuICAgIENvbnRyb2xsZXIuc2lnbmluKHJlcXVlc3QsIHJlc3BvbnNlKVxyXG59KVxyXG5cclxuLy8gcmVzZXQgcGFzc3dvcmRcclxucm91dGVyLnBvc3QoJy9hcGkvcGFzc3dvcmQtcmVzZXQnLChyZXF1ZXN0LHJlc3BvbnNlKT0+e1xyXG4gICAgQ29udHJvbGxlci5mb3Jnb3RQYXNzd29yZChyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcbiBcclxuLy8gZGVsZXQgYSB1c2VyIGZyb20gbW9uZ28gREJcclxucm91dGVyLnBvc3QoJy9hcGkvZGVsZXRlJywocmVxdWVzdCxyZXNwb25zZSk9PntcclxuICAgIENvbnRyb2xsZXIuZGVsZXRlKHJlcXVlc3QsIHJlc3BvbnNlKVxyXG59KVxyXG5cclxuLy9maW5kIGFsbCB1c2VyIGFuZCByZXR1cm4gXHJcbnJvdXRlci5nZXQoJy9hcGkvZmluZGFsbCcsKHJlcXVlc3QscmVzcG9uc2UpPT57XHJcbiAgICBDb250cm9sbGVyLmZpbmRBbGxVc2VyIChyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcbi8vIHVwZGF0ZSB1c2VyIGluZm9ybWF0aW9uXHJcbnJvdXRlci5wdXQoJy9hcGkvdXBkYXRlLzplbWFpbCcsKHJlcXVlc3QscmVzcG9uc2UpPT57XHJcbiAgICBDb250cm9sbGVyLnVwZGF0ZSAocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG5cclxuLy8gc2VhcmNoIGZvciBhIHVzZXJcclxucm91dGVyLmdldCgnL2FwaS91c2VyLXNlYXJjaC8nLChyZXF1ZXN0LHJlc3BvbnNlKT0+e1xyXG4gICAgQ29udHJvbGxlci5zZWFyY2hVc2VyIChyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcbi8vIFVwZGF0ZSB1c2VyIGluZm8gaW5jbHVkaW5nICBlbWFpbCwgcGFzc3dvcmQsIHVzZXJuYW1lLCBhZ2UgYW5kIGdlbmRlclxyXG5yb3V0ZXIucG9zdCgnL2FwaS91cGRhdGUnLChyZXF1ZXN0LHJlc3BvbnNlKT0+e1xyXG4gICAgQ29udHJvbGxlci51cGRhdGUocmVxdWVzdCxyZXNwb25zZSkgIFxyXG59KVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XHJcbi8vbW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBR0EsSUFBTUEsTUFBTSxHQUFHLElBQUFDLGVBQUEsR0FBZjtBQUNBLElBQU1DLFVBQVUsR0FBRyxJQUFJQyxvQkFBSixFQUFuQixDLENBRUE7O0FBQ0FILE1BQU0sQ0FBQ0ksSUFBUCxDQUFZLGFBQVosRUFBMEIsVUFBQ0MsT0FBRCxFQUFTQyxRQUFULEVBQW9CO0VBQzFDSixVQUFVLENBQUNLLE1BQVgsQ0FBa0JGLE9BQWxCLEVBQTJCQyxRQUEzQjtBQUNILENBRkQ7QUFJQU4sTUFBTSxDQUFDSSxJQUFQLENBQVksYUFBWixFQUEwQixVQUFDQyxPQUFELEVBQVNDLFFBQVQsRUFBb0I7RUFDMUNKLFVBQVUsQ0FBQ00sTUFBWCxDQUFrQkgsT0FBbEIsRUFBMkJDLFFBQTNCO0FBQ0gsQ0FGRCxFLENBSUE7O0FBQ0FOLE1BQU0sQ0FBQ0ksSUFBUCxDQUFZLHFCQUFaLEVBQWtDLFVBQUNDLE9BQUQsRUFBU0MsUUFBVCxFQUFvQjtFQUNsREosVUFBVSxDQUFDTyxjQUFYLENBQTBCSixPQUExQixFQUFtQ0MsUUFBbkM7QUFDSCxDQUZELEUsQ0FLQTs7QUFDQU4sTUFBTSxDQUFDSSxJQUFQLENBQVksYUFBWixFQUEwQixVQUFDQyxPQUFELEVBQVNDLFFBQVQsRUFBb0I7RUFDMUNKLFVBQVUsVUFBVixDQUFrQkcsT0FBbEIsRUFBMkJDLFFBQTNCO0FBQ0gsQ0FGRCxFLENBSUE7O0FBQ0FOLE1BQU0sQ0FBQ1UsR0FBUCxDQUFXLGNBQVgsRUFBMEIsVUFBQ0wsT0FBRCxFQUFTQyxRQUFULEVBQW9CO0VBQzFDSixVQUFVLENBQUNTLFdBQVgsQ0FBd0JOLE9BQXhCLEVBQWlDQyxRQUFqQztBQUNILENBRkQsRSxDQUlBOztBQUNBTixNQUFNLENBQUNZLEdBQVAsQ0FBVyxvQkFBWCxFQUFnQyxVQUFDUCxPQUFELEVBQVNDLFFBQVQsRUFBb0I7RUFDaERKLFVBQVUsQ0FBQ1csTUFBWCxDQUFtQlIsT0FBbkIsRUFBNEJDLFFBQTVCO0FBQ0gsQ0FGRCxFLENBS0E7O0FBQ0FOLE1BQU0sQ0FBQ1UsR0FBUCxDQUFXLG1CQUFYLEVBQStCLFVBQUNMLE9BQUQsRUFBU0MsUUFBVCxFQUFvQjtFQUMvQ0osVUFBVSxDQUFDWSxVQUFYLENBQXVCVCxPQUF2QixFQUFnQ0MsUUFBaEM7QUFDSCxDQUZELEUsQ0FJQTs7QUFDQU4sTUFBTSxDQUFDSSxJQUFQLENBQVksYUFBWixFQUEwQixVQUFDQyxPQUFELEVBQVNDLFFBQVQsRUFBb0I7RUFDMUNKLFVBQVUsQ0FBQ1csTUFBWCxDQUFrQlIsT0FBbEIsRUFBMEJDLFFBQTFCO0FBQ0gsQ0FGRDtlQVNlTixNLEVBQ2YifQ==","map":{"version":3,"names":["router","Router","Controller","AuthController","post","request","response","signup","signin","forgotPassword","get","findAllUser","put","update","searchUser"],"sourceRoot":"D:\\School\\IT Project\\IT-PROJECT\\backend3\\src\\Routes\\","sources":["Auth.routes.js"],"sourcesContent":["import {Router} from 'express';\r\nimport {AuthController} from '../Controller/Auth.controller';\r\n \r\n\r\nconst router = Router();\r\nconst Controller = new AuthController();\r\n\r\n//router.post('/app/signup')\r\nrouter.post('/api/signup',(request,response)=>{\r\n    Controller.signup(request, response)\r\n})\r\n\r\nrouter.post('/api/signin',(request,response)=>{\r\n    Controller.signin(request, response)\r\n})\r\n\r\n// reset password\r\nrouter.post('/api/password-reset',(request,response)=>{\r\n    Controller.forgotPassword(request, response)\r\n})\r\n\r\n \r\n// delet a user from mongo DB\r\nrouter.post('/api/delete',(request,response)=>{\r\n    Controller.delete(request, response)\r\n})\r\n\r\n//find all user and return \r\nrouter.get('/api/findall',(request,response)=>{\r\n    Controller.findAllUser (request, response)\r\n})\r\n\r\n// update user information\r\nrouter.put('/api/update/:email',(request,response)=>{\r\n    Controller.update (request, response)\r\n})\r\n\r\n\r\n// search for a user\r\nrouter.get('/api/user-search/',(request,response)=>{\r\n    Controller.searchUser (request, response)\r\n})\r\n\r\n// Update user info including  email, password, username, age and gender\r\nrouter.post('/api/update',(request,response)=>{\r\n    Controller.update(request,response)  \r\n})\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default router;\r\n//module.exports = router;"],"mappings":";;;;;;;AAAA;;AACA;;AAGA,IAAMA,MAAM,GAAG,IAAAC,eAAA,GAAf;AACA,IAAMC,UAAU,GAAG,IAAIC,oBAAJ,EAAnB,C,CAEA;;AACAH,MAAM,CAACI,IAAP,CAAY,aAAZ,EAA0B,UAACC,OAAD,EAASC,QAAT,EAAoB;EAC1CJ,UAAU,CAACK,MAAX,CAAkBF,OAAlB,EAA2BC,QAA3B;AACH,CAFD;AAIAN,MAAM,CAACI,IAAP,CAAY,aAAZ,EAA0B,UAACC,OAAD,EAASC,QAAT,EAAoB;EAC1CJ,UAAU,CAACM,MAAX,CAAkBH,OAAlB,EAA2BC,QAA3B;AACH,CAFD,E,CAIA;;AACAN,MAAM,CAACI,IAAP,CAAY,qBAAZ,EAAkC,UAACC,OAAD,EAASC,QAAT,EAAoB;EAClDJ,UAAU,CAACO,cAAX,CAA0BJ,OAA1B,EAAmCC,QAAnC;AACH,CAFD,E,CAKA;;AACAN,MAAM,CAACI,IAAP,CAAY,aAAZ,EAA0B,UAACC,OAAD,EAASC,QAAT,EAAoB;EAC1CJ,UAAU,UAAV,CAAkBG,OAAlB,EAA2BC,QAA3B;AACH,CAFD,E,CAIA;;AACAN,MAAM,CAACU,GAAP,CAAW,cAAX,EAA0B,UAACL,OAAD,EAASC,QAAT,EAAoB;EAC1CJ,UAAU,CAACS,WAAX,CAAwBN,OAAxB,EAAiCC,QAAjC;AACH,CAFD,E,CAIA;;AACAN,MAAM,CAACY,GAAP,CAAW,oBAAX,EAAgC,UAACP,OAAD,EAASC,QAAT,EAAoB;EAChDJ,UAAU,CAACW,MAAX,CAAmBR,OAAnB,EAA4BC,QAA5B;AACH,CAFD,E,CAKA;;AACAN,MAAM,CAACU,GAAP,CAAW,mBAAX,EAA+B,UAACL,OAAD,EAASC,QAAT,EAAoB;EAC/CJ,UAAU,CAACY,UAAX,CAAuBT,OAAvB,EAAgCC,QAAhC;AACH,CAFD,E,CAIA;;AACAN,MAAM,CAACI,IAAP,CAAY,aAAZ,EAA0B,UAACC,OAAD,EAASC,QAAT,EAAoB;EAC1CJ,UAAU,CAACW,MAAX,CAAkBR,OAAlB,EAA0BC,QAA1B;AACH,CAFD;eASeN,M,EACf"}},"mtime":1665536983491},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Controller\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"filename\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Controller\\\\Auth.controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AuthController = void 0;\n\nvar _formidable = require(\"formidable\");\n\nvar _bcrypt = require(\"bcrypt\");\n\nvar _dotenv = require(\"dotenv\");\n\nvar _jsonwebtoken = require(\"jsonwebtoken\");\n\nvar _User = require(\"../Models/User.model\");\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n(0, _dotenv.config)();\n\nvar AuthController = /*#__PURE__*/function () {\n  function AuthController() {\n    _classCallCheck(this, AuthController);\n  }\n\n  _createClass(AuthController, [{\n    key: \"signup\",\n    value: //signup method\n    function signup(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(error, fields, files) {\n          var username, email, password, age, gender, salt, hashedPassword, newAccount, savedAccount;\n          return _regeneratorRuntime().wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  if (!error) {\n                    _context.next = 2;\n                    break;\n                  }\n\n                  return _context.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to create account, maybe try again later'\n                  }));\n\n                case 2:\n                  username = fields.username, email = fields.email, password = fields.password, age = fields.age, gender = fields.gender;\n\n                  if (!(password.length > 20 || password.length < 6)) {\n                    _context.next = 5;\n                    break;\n                  }\n\n                  return _context.abrupt(\"return\", response.status(503).json({\n                    msg: 'Password length need to be 6-20 range'\n                  }));\n\n                case 5:\n                  if (!(age > 150 || age < 0)) {\n                    _context.next = 7;\n                    break;\n                  }\n\n                  return _context.abrupt(\"return\", response.status(502).json({\n                    msg: 'Invalid age'\n                  }));\n\n                case 7:\n                  _context.next = 9;\n                  return (0, _bcrypt.genSalt)(15);\n\n                case 9:\n                  salt = _context.sent;\n                  _context.next = 12;\n                  return (0, _bcrypt.hash)(password, salt);\n\n                case 12:\n                  hashedPassword = _context.sent;\n                  newAccount = new _User.userModel({\n                    username: username,\n                    email: email,\n                    password: hashedPassword,\n                    age: age,\n                    gender: gender\n                  }); // create an account successful or failed\n\n                  _context.prev = 14;\n                  _context.next = 17;\n                  return newAccount.save();\n\n                case 17:\n                  savedAccount = _context.sent;\n                  return _context.abrupt(\"return\", response.status(201).json({\n                    msg: 'Account created successfully'\n                  }));\n\n                case 21:\n                  _context.prev = 21;\n                  _context.t0 = _context[\"catch\"](14);\n                  console.log(_context.t0);\n                  return _context.abrupt(\"return\", response.status(501).json({\n                    msg: 'This account has been registered. Change email or username'\n                  }));\n\n                case 25:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, null, [[14, 21]]);\n        }));\n\n        return function (_x, _x2, _x3) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n    } // sign in\n\n  }, {\n    key: \"signin\",\n    value: function signin(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(error, fields, files) {\n          var account, password, isAccountEmail, _user, _isPasswordValid, _token_payload, _token, _username, user, isPasswordValid, token_payload, token, username;\n\n          return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  if (!error) {\n                    _context2.next = 2;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to signin'\n                  }));\n\n                case 2:\n                  account = fields.account, password = fields.password; // email log in \n\n                  isAccountEmail = account.includes('@');\n\n                  if (!isAccountEmail) {\n                    _context2.next = 19;\n                    break;\n                  }\n\n                  _context2.next = 7;\n                  return _User.userModel.findOne({\n                    email: account\n                  });\n\n                case 7:\n                  _user = _context2.sent;\n\n                  if (_user) {\n                    _context2.next = 10;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\", response.status(404).json({\n                    msg: 'Email of this account does not exist'\n                  }));\n\n                case 10:\n                  _context2.next = 12;\n                  return (0, _bcrypt.compare)(password, _user.password);\n\n                case 12:\n                  _isPasswordValid = _context2.sent;\n\n                  if (_isPasswordValid) {\n                    _context2.next = 15;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\", response.status(400).json({\n                    msg: 'Invalid password'\n                  }));\n\n                case 15:\n                  _token_payload = {\n                    _id: _user._id,\n                    email: _user.email,\n                    username: _user.username\n                  };\n                  _token = (0, _jsonwebtoken.sign)(_token_payload, process.env.cookie_secret, {\n                    expiresIn: '365d'\n                  });\n                  _username = _token_payload.username;\n                  return _context2.abrupt(\"return\", response.status(200).json({\n                    token: _token,\n                    username: _username\n                  }));\n\n                case 19:\n                  _context2.next = 21;\n                  return _User.userModel.findOne({\n                    username: account\n                  });\n\n                case 21:\n                  user = _context2.sent;\n\n                  if (user) {\n                    _context2.next = 24;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\", response.status(404).json({\n                    msg: 'username of this account does not exist'\n                  }));\n\n                case 24:\n                  _context2.next = 26;\n                  return (0, _bcrypt.compare)(password, user.password);\n\n                case 26:\n                  isPasswordValid = _context2.sent;\n\n                  if (isPasswordValid) {\n                    _context2.next = 29;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\", response.status(400).json({\n                    msg: 'Invalid password'\n                  }));\n\n                case 29:\n                  token_payload = {\n                    _id: user._id,\n                    email: user.email,\n                    username: user.username\n                  };\n                  token = (0, _jsonwebtoken.sign)(token_payload, process.env.cookie_secret, {\n                    expiresIn: '365d'\n                  });\n                  username = token_payload.username;\n                  return _context2.abrupt(\"return\", response.status(200).json({\n                    token: token,\n                    username: username\n                  }));\n\n                case 33:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2);\n        }));\n\n        return function (_x4, _x5, _x6) {\n          return _ref2.apply(this, arguments);\n        };\n      }());\n    } // forgot password and reset\n\n  }, {\n    key: \"forgotPassword\",\n    value: function forgotPassword(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(error, fields, files) {\n          var email, password, salt, hashedPassword, user, updatedAccount;\n          return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n            while (1) {\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  if (!error) {\n                    _context3.next = 2;\n                    break;\n                  }\n\n                  return _context3.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to rset password'\n                  }));\n\n                case 2:\n                  email = fields.email, password = fields.password;\n\n                  if (!(!email || !password)) {\n                    _context3.next = 5;\n                    break;\n                  }\n\n                  return _context3.abrupt(\"return\", response.status(400).json({\n                    msg: 'email and password are required to reset password '\n                  }));\n\n                case 5:\n                  _context3.next = 7;\n                  return (0, _bcrypt.genSalt)(15);\n\n                case 7:\n                  salt = _context3.sent;\n                  _context3.next = 10;\n                  return (0, _bcrypt.hash)(password, salt);\n\n                case 10:\n                  hashedPassword = _context3.sent;\n                  _context3.prev = 11;\n                  _context3.next = 14;\n                  return _User.userModel.findOne({\n                    email: email\n                  });\n\n                case 14:\n                  user = _context3.sent;\n\n                  if (user) {\n                    _context3.next = 17;\n                    break;\n                  }\n\n                  return _context3.abrupt(\"return\", response.status(404).json({\n                    msg: 'Account with this email does not exist'\n                  }));\n\n                case 17:\n                  _context3.next = 19;\n                  return _User.userModel.findOneAndUpdate({\n                    email: email\n                  }, {\n                    $set: {\n                      password: hashedPassword\n                    }\n                  }, {\n                    \"new\": true\n                  });\n\n                case 19:\n                  updatedAccount = _context3.sent;\n                  return _context3.abrupt(\"return\", response.status(200).json({\n                    msg: 'Password rest successful'\n                  }));\n\n                case 23:\n                  _context3.prev = 23;\n                  _context3.t0 = _context3[\"catch\"](11);\n                  return _context3.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to reset password'\n                  }));\n\n                case 26:\n                case \"end\":\n                  return _context3.stop();\n              }\n            }\n          }, _callee3, null, [[11, 23]]);\n        }));\n\n        return function (_x7, _x8, _x9) {\n          return _ref3.apply(this, arguments);\n        };\n      }());\n    } // updat user info such as username, password, age and gender via email.\n\n  }, {\n    key: \"update\",\n    value: function update(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(error, fields, files) {\n          var email, username, age, gender, newUsername, newAge, newGender, user, updatedAccount;\n          return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n            while (1) {\n              switch (_context4.prev = _context4.next) {\n                case 0:\n                  if (!error) {\n                    _context4.next = 2;\n                    break;\n                  }\n\n                  return _context4.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to update. Try again later'\n                  }));\n\n                case 2:\n                  email = fields.email, username = fields.username, age = fields.age, gender = fields.gender;\n                  newUsername = username;\n                  newAge = age;\n                  newGender = gender;\n                  _context4.prev = 6;\n                  _context4.next = 9;\n                  return _User.userModel.findOne({\n                    email: email\n                  });\n\n                case 9:\n                  user = _context4.sent;\n\n                  if (user) {\n                    _context4.next = 12;\n                    break;\n                  }\n\n                  return _context4.abrupt(\"return\", response.status(404).json({\n                    msg: 'Account with this email does not exist'\n                  }));\n\n                case 12:\n                  _context4.next = 14;\n                  return _User.userModel.findOneAndUpdate({\n                    email: email\n                  }, {\n                    $set: {\n                      username: newUsername,\n                      age: newAge,\n                      gender: newGender\n                    }\n                  }, {\n                    \"new\": true\n                  });\n\n                case 14:\n                  updatedAccount = _context4.sent;\n                  return _context4.abrupt(\"return\", response.status(200).json({\n                    msg: 'Edit successful'\n                  }));\n\n                case 18:\n                  _context4.prev = 18;\n                  _context4.t0 = _context4[\"catch\"](6);\n                  return _context4.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to update. Change email or username and try again'\n                  }));\n\n                case 21:\n                case \"end\":\n                  return _context4.stop();\n              }\n            }\n          }, _callee4, null, [[6, 18]]);\n        }));\n\n        return function (_x10, _x11, _x12) {\n          return _ref4.apply(this, arguments);\n        };\n      }());\n    } //delete user account\n\n  }, {\n    key: \"delete\",\n    value: function _delete(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(error, fields, files) {\n          var email, user;\n          return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n            while (1) {\n              switch (_context5.prev = _context5.next) {\n                case 0:\n                  if (!error) {\n                    _context5.next = 2;\n                    break;\n                  }\n\n                  return _context5.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to delete account, maybe try again later'\n                  }));\n\n                case 2:\n                  email = fields.email;\n                  _context5.prev = 3;\n                  _context5.next = 6;\n                  return _User.userModel.findOneAndDelete({\n                    email: email\n                  });\n\n                case 6:\n                  user = _context5.sent;\n                  return _context5.abrupt(\"return\", response.status(200).json({\n                    msg: 'delete successful'\n                  }));\n\n                case 10:\n                  _context5.prev = 10;\n                  _context5.t0 = _context5[\"catch\"](3);\n                  return _context5.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to delete'\n                  }));\n\n                case 13:\n                case \"end\":\n                  return _context5.stop();\n              }\n            }\n          }, _callee5, null, [[3, 10]]);\n        }));\n\n        return function (_x13, _x14, _x15) {\n          return _ref5.apply(this, arguments);\n        };\n      }());\n    } // find all user\n\n  }, {\n    key: \"findAllUser\",\n    value: function findAllUser(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(error, fields, files) {\n          var user;\n          return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n            while (1) {\n              switch (_context6.prev = _context6.next) {\n                case 0:\n                  if (!error) {\n                    _context6.next = 2;\n                    break;\n                  }\n\n                  return _context6.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to delete account, maybe try again later'\n                  }));\n\n                case 2:\n                  _context6.prev = 2;\n                  _context6.next = 5;\n                  return _User.userModel.find();\n\n                case 5:\n                  user = _context6.sent;\n                  return _context6.abrupt(\"return\", response.send(user));\n\n                case 9:\n                  _context6.prev = 9;\n                  _context6.t0 = _context6[\"catch\"](2);\n                  return _context6.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed find all users'\n                  }));\n\n                case 12:\n                case \"end\":\n                  return _context6.stop();\n              }\n            }\n          }, _callee6, null, [[2, 9]]);\n        }));\n\n        return function (_x16, _x17, _x18) {\n          return _ref6.apply(this, arguments);\n        };\n      }());\n    } // search for a user by request \n\n  }, {\n    key: \"searchUser\",\n    value: function () {\n      var _searchUser = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(request, response) {\n        var name, user;\n        return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                name = request.query.username;\n                _context7.prev = 1;\n                _context7.next = 4;\n                return _User.userModel.find({\n                  username: {\n                    $regex: name\n                  }\n                });\n\n              case 4:\n                user = _context7.sent;\n                return _context7.abrupt(\"return\", response.send(user));\n\n              case 8:\n                _context7.prev = 8;\n                _context7.t0 = _context7[\"catch\"](1);\n                return _context7.abrupt(\"return\", response.status(500).json({\n                  msg: 'No matching user'\n                }));\n\n              case 11:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, null, [[1, 8]]);\n      }));\n\n      function searchUser(_x19, _x20) {\n        return _searchUser.apply(this, arguments);\n      }\n\n      return searchUser;\n    }()\n  }]);\n\n  return AuthController;\n}();\n\nexports.AuthController = AuthController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25maWciLCJBdXRoQ29udHJvbGxlciIsInJlcXVlc3QiLCJyZXNwb25zZSIsImZvcm0iLCJJbmNvbWluZ0Zvcm0iLCJwYXJzZSIsImVycm9yIiwiZmllbGRzIiwiZmlsZXMiLCJzdGF0dXMiLCJqc29uIiwibXNnIiwidXNlcm5hbWUiLCJlbWFpbCIsInBhc3N3b3JkIiwiYWdlIiwiZ2VuZGVyIiwibGVuZ3RoIiwiZ2VuU2FsdCIsInNhbHQiLCJoYXNoIiwiaGFzaGVkUGFzc3dvcmQiLCJuZXdBY2NvdW50IiwidXNlck1vZGVsIiwic2F2ZSIsInNhdmVkQWNjb3VudCIsImNvbnNvbGUiLCJsb2ciLCJhY2NvdW50IiwiaXNBY2NvdW50RW1haWwiLCJpbmNsdWRlcyIsImZpbmRPbmUiLCJ1c2VyIiwiY29tcGFyZSIsImlzUGFzc3dvcmRWYWxpZCIsInRva2VuX3BheWxvYWQiLCJfaWQiLCJ0b2tlbiIsInNpZ24iLCJwcm9jZXNzIiwiZW52IiwiY29va2llX3NlY3JldCIsImV4cGlyZXNJbiIsImZpbmRPbmVBbmRVcGRhdGUiLCIkc2V0IiwidXBkYXRlZEFjY291bnQiLCJuZXdVc2VybmFtZSIsIm5ld0FnZSIsIm5ld0dlbmRlciIsImZpbmRPbmVBbmREZWxldGUiLCJmaW5kIiwic2VuZCIsIm5hbWUiLCJxdWVyeSIsIiRyZWdleCJdLCJzb3VyY2VSb290IjoiRDpcXFNjaG9vbFxcSVQgUHJvamVjdFxcSVQtUFJPSkVDVFxcYmFja2VuZDNcXHNyY1xcQ29udHJvbGxlclxcIiwic291cmNlcyI6WyJBdXRoLmNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5jb21pbmdGb3JtIH0gZnJvbSAnZm9ybWlkYWJsZSc7XHJcbmltcG9ydCB7IGdlblNhbHQsIGhhc2gsIGNvbXBhcmUgfSBmcm9tICdiY3J5cHQnO1xyXG5pbXBvcnQgeyBjb25maWcgfSBmcm9tICdkb3RlbnYnO1xyXG5pbXBvcnQgeyB2ZXJpZnksIHNpZ24gfSBmcm9tICdqc29ud2VidG9rZW4nO1xyXG5pbXBvcnQgeyB1c2VyTW9kZWwgfSBmcm9tICcuLi9Nb2RlbHMvVXNlci5tb2RlbCdcclxuY29uZmlnKClcclxuXHJcbmV4cG9ydCBjbGFzcyBBdXRoQ29udHJvbGxlciB7XHJcbiAgICAvL3NpZ251cCBtZXRob2RcclxuICAgIHNpZ251cChyZXF1ZXN0LCByZXNwb25zZSkge1xyXG4gICAgICAgIGNvbnN0IGZvcm0gPSBuZXcgSW5jb21pbmdGb3JtKCk7XHJcblxyXG4gICAgICAgIGZvcm0ucGFyc2UocmVxdWVzdCwgYXN5bmMgKGVycm9yLCBmaWVsZHMsIGZpbGVzKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oeyBtc2c6ICdGYWlsZWQgdG8gY3JlYXRlIGFjY291bnQsIG1heWJlIHRyeSBhZ2FpbiBsYXRlcicgfSlcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc3QgeyB1c2VybmFtZSwgZW1haWwsIHBhc3N3b3JkLCBhZ2UsIGdlbmRlciB9ID0gZmllbGRzO1xyXG4gICAgICAgICAgICBpZiAocGFzc3dvcmQubGVuZ3RoID4gMjAgfHwgcGFzc3dvcmQubGVuZ3RoIDwgNikgeyAgLy8gcGFzc3dvcmQgbWluaW11bSBsZW5ndGggPSA2LCBtYXhpbXVtIGxlbmd0aCA9IDIwXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMykuanNvbih7IG1zZzogJ1Bhc3N3b3JkIGxlbmd0aCBuZWVkIHRvIGJlIDYtMjAgcmFuZ2UnIH0pXHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChhZ2UgPiAxNTAgfHwgYWdlIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDIpLmpzb24oeyBtc2c6ICdJbnZhbGlkIGFnZScgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBzYWx0ID0gYXdhaXQgZ2VuU2FsdCgxNSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGhhc2hlZFBhc3N3b3JkID0gYXdhaXQgaGFzaChwYXNzd29yZCwgc2FsdCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld0FjY291bnQgPSBuZXcgdXNlck1vZGVsKHtcclxuICAgICAgICAgICAgICAgIHVzZXJuYW1lLFxyXG4gICAgICAgICAgICAgICAgZW1haWwsXHJcbiAgICAgICAgICAgICAgICBwYXNzd29yZDogaGFzaGVkUGFzc3dvcmQsXHJcbiAgICAgICAgICAgICAgICBhZ2UsXHJcbiAgICAgICAgICAgICAgICBnZW5kZXJcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLy8gY3JlYXRlIGFuIGFjY291bnQgc3VjY2Vzc2Z1bCBvciBmYWlsZWRcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNhdmVkQWNjb3VudCA9IGF3YWl0IG5ld0FjY291bnQuc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cygyMDEpLmpzb24oeyBtc2c6ICdBY2NvdW50IGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5JyB9KVxyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMSkuanNvbih7IG1zZzogJ1RoaXMgYWNjb3VudCBoYXMgYmVlbiByZWdpc3RlcmVkLiBDaGFuZ2UgZW1haWwgb3IgdXNlcm5hbWUnIH0pXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICAvLyBzaWduIGluXHJcbiAgICBzaWduaW4ocmVxdWVzdCwgcmVzcG9uc2UpIHtcclxuICAgICAgICBjb25zdCBmb3JtID0gbmV3IEluY29taW5nRm9ybSgpO1xyXG5cclxuICAgICAgICBmb3JtLnBhcnNlKHJlcXVlc3QsIGFzeW5jIChlcnJvciwgZmllbGRzLCBmaWxlcykgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAnRmFpbGVkIHRvIHNpZ25pbicgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB7IGFjY291bnQsIHBhc3N3b3JkIH0gPSBmaWVsZHM7XHJcbiAgICAgICAgICAgIC8vIGVtYWlsIGxvZyBpbiBcclxuICAgICAgICAgICAgY29uc3QgaXNBY2NvdW50RW1haWwgPSBhY2NvdW50LmluY2x1ZGVzKCdAJyk7XHJcbiAgICAgICAgICAgIGlmIChpc0FjY291bnRFbWFpbCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IHVzZXJNb2RlbC5maW5kT25lKHsgZW1haWw6IGFjY291bnQgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCF1c2VyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg0MDQpLmpzb24oeyBtc2c6ICdFbWFpbCBvZiB0aGlzIGFjY291bnQgZG9lcyBub3QgZXhpc3QnIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpc1Bhc3N3b3JkVmFsaWQgPSBhd2FpdCBjb21wYXJlKHBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKTsgIC8vIGhhc2hlZCBwYXNzd29yZFxyXG4gICAgICAgICAgICAgICAgaWYgKCFpc1Bhc3N3b3JkVmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwMCkuanNvbih7IG1zZzogJ0ludmFsaWQgcGFzc3dvcmQnIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0b2tlbl9wYXlsb2FkID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIF9pZDogdXNlci5faWQsXHJcbiAgICAgICAgICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXHJcbiAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWVcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IHRva2VuID0gc2lnbih0b2tlbl9wYXlsb2FkLCBwcm9jZXNzLmVudi5jb29raWVfc2VjcmV0LCB7IGV4cGlyZXNJbjogJzM2NWQnIH0pXHJcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VybmFtZSA9IHRva2VuX3BheWxvYWQudXNlcm5hbWU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7IHRva2VuLCB1c2VybmFtZSB9KVxyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgdXNlck1vZGVsLmZpbmRPbmUoeyB1c2VybmFtZTogYWNjb3VudCB9KTtcclxuXHJcbiAgICAgICAgICAgIGlmICghdXNlcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg0MDQpLmpzb24oeyBtc2c6ICd1c2VybmFtZSBvZiB0aGlzIGFjY291bnQgZG9lcyBub3QgZXhpc3QnIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgaXNQYXNzd29yZFZhbGlkID0gYXdhaXQgY29tcGFyZShwYXNzd29yZCwgdXNlci5wYXNzd29yZCk7ICAvLyBoYXNoZWQgcGFzc3dvcmRcclxuICAgICAgICAgICAgaWYgKCFpc1Bhc3N3b3JkVmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNDAwKS5qc29uKHsgbXNnOiAnSW52YWxpZCBwYXNzd29yZCcgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB0b2tlbl9wYXlsb2FkID0ge1xyXG4gICAgICAgICAgICAgICAgX2lkOiB1c2VyLl9pZCxcclxuICAgICAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxyXG4gICAgICAgICAgICAgICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB0b2tlbiA9IHNpZ24odG9rZW5fcGF5bG9hZCwgcHJvY2Vzcy5lbnYuY29va2llX3NlY3JldCwgeyBleHBpcmVzSW46ICczNjVkJyB9KVxyXG4gICAgICAgICAgICBjb25zdCB1c2VybmFtZSA9IHRva2VuX3BheWxvYWQudXNlcm5hbWU7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHsgdG9rZW4sIHVzZXJuYW1lIH0pXHJcblxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLy8gZm9yZ290IHBhc3N3b3JkIGFuZCByZXNldFxyXG4gICAgZm9yZ290UGFzc3dvcmQocmVxdWVzdCwgcmVzcG9uc2UpIHtcclxuICAgICAgICBjb25zdCBmb3JtID0gbmV3IEluY29taW5nRm9ybSgpO1xyXG5cclxuICAgICAgICBmb3JtLnBhcnNlKHJlcXVlc3QsIGFzeW5jIChlcnJvciwgZmllbGRzLCBmaWxlcykgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAnRmFpbGVkIHRvIHJzZXQgcGFzc3dvcmQnIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQgfSA9IGZpZWxkcztcclxuXHJcbiAgICAgICAgICAgIGlmICghZW1haWwgfHwgIXBhc3N3b3JkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwMCkuanNvbih7IG1zZzogJ2VtYWlsIGFuZCBwYXNzd29yZCBhcmUgcmVxdWlyZWQgdG8gcmVzZXQgcGFzc3dvcmQgJyB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHNhbHQgPSBhd2FpdCBnZW5TYWx0KDE1KTtcclxuICAgICAgICAgICAgY29uc3QgaGFzaGVkUGFzc3dvcmQgPSBhd2FpdCBoYXNoKHBhc3N3b3JkLCBzYWx0KVxyXG5cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB1c2VyTW9kZWwuZmluZE9uZSh7IGVtYWlsOiBlbWFpbCB9KTtcclxuICAgICAgICAgICAgICAgIGlmICghdXNlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNDA0KS5qc29uKHsgbXNnOiAnQWNjb3VudCB3aXRoIHRoaXMgZW1haWwgZG9lcyBub3QgZXhpc3QnIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvKiBjb25zdCB1cGRhdGVkQWNjb3VudCA9IGF3YWl0IHVzZXJNb2RlbC5maW5kT25lQW5kVXBkYXRlKHtlbWFpbDplbWFpbH0sIHskc2V0OntwYXNzd29yZDogaGFzaGVkUGFzc3dvcmR9fSwge25ldzp0cnVlfSlcclxuICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7bXNnOidQYXNzd29yZCByZXN0IHN1Y2Nlc3NmdWwnfSkgKi9cclxuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRBY2NvdW50ID0gYXdhaXQgdXNlck1vZGVsLmZpbmRPbmVBbmRVcGRhdGUoeyBlbWFpbDogZW1haWwgfSwgeyAkc2V0OiB7IHBhc3N3b3JkOiBoYXNoZWRQYXNzd29yZCB9IH0sIHsgbmV3OiB0cnVlIH0pXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7IG1zZzogJ1Bhc3N3b3JkIHJlc3Qgc3VjY2Vzc2Z1bCcgfSlcclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAnRmFpbGVkIHRvIHJlc2V0IHBhc3N3b3JkJyB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICAvLyB1cGRhdCB1c2VyIGluZm8gc3VjaCBhcyB1c2VybmFtZSwgcGFzc3dvcmQsIGFnZSBhbmQgZ2VuZGVyIHZpYSBlbWFpbC5cclxuICAgIHVwZGF0ZShyZXF1ZXN0LCByZXNwb25zZSkge1xyXG4gICAgICAgIGNvbnN0IGZvcm0gPSBuZXcgSW5jb21pbmdGb3JtKCk7XHJcblxyXG4gICAgICAgIGZvcm0ucGFyc2UocmVxdWVzdCwgYXN5bmMgKGVycm9yLCBmaWVsZHMsIGZpbGVzKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oeyBtc2c6ICdGYWlsZWQgdG8gdXBkYXRlLiBUcnkgYWdhaW4gbGF0ZXInIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgeyBlbWFpbCwgdXNlcm5hbWUsIGFnZSwgZ2VuZGVyIH0gPSBmaWVsZHM7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1VzZXJuYW1lID0gdXNlcm5hbWVcclxuICAgICAgICAgICAgY29uc3QgbmV3QWdlID0gYWdlXHJcbiAgICAgICAgICAgIGNvbnN0IG5ld0dlbmRlciA9IGdlbmRlclxyXG5cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB1c2VyTW9kZWwuZmluZE9uZSh7IGVtYWlsOiBlbWFpbCB9KTtcclxuICAgICAgICAgICAgICAgIGlmICghdXNlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNDA0KS5qc29uKHsgbXNnOiAnQWNjb3VudCB3aXRoIHRoaXMgZW1haWwgZG9lcyBub3QgZXhpc3QnIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvKiBjb25zdCB1cGRhdGVkQWNjb3VudCA9IGF3YWl0IHVzZXJNb2RlbC5maW5kT25lQW5kVXBkYXRlKHtlbWFpbDplbWFpbH0sIHskc2V0OntwYXNzd29yZDogaGFzaGVkUGFzc3dvcmR9fSwge25ldzp0cnVlfSlcclxuICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7bXNnOidQYXNzd29yZCByZXN0IHN1Y2Nlc3NmdWwnfSkgKi9cclxuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRBY2NvdW50ID0gYXdhaXQgdXNlck1vZGVsLmZpbmRPbmVBbmRVcGRhdGUoeyBlbWFpbDogZW1haWwgfSwgeyAkc2V0OiB7IHVzZXJuYW1lOiBuZXdVc2VybmFtZSwgYWdlOiBuZXdBZ2UsIGdlbmRlcjogbmV3R2VuZGVyIH0gfSwgeyBuZXc6IHRydWUgfSlcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHsgbXNnOiAnRWRpdCBzdWNjZXNzZnVsJyB9KVxyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oeyBtc2c6ICdGYWlsZWQgdG8gdXBkYXRlLiBDaGFuZ2UgZW1haWwgb3IgdXNlcm5hbWUgYW5kIHRyeSBhZ2FpbicgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLy9kZWxldGUgdXNlciBhY2NvdW50XHJcbiAgICBkZWxldGUocmVxdWVzdCwgcmVzcG9uc2UpIHtcclxuICAgICAgICBjb25zdCBmb3JtID0gbmV3IEluY29taW5nRm9ybSgpO1xyXG4gICAgICAgIGZvcm0ucGFyc2UocmVxdWVzdCwgYXN5bmMgKGVycm9yLCBmaWVsZHMsIGZpbGVzKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oeyBtc2c6ICdGYWlsZWQgdG8gZGVsZXRlIGFjY291bnQsIG1heWJlIHRyeSBhZ2FpbiBsYXRlcicgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB7IGVtYWlsIH0gPSBmaWVsZHM7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgdXNlck1vZGVsLmZpbmRPbmVBbmREZWxldGUoeyBlbWFpbDogZW1haWwgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7IG1zZzogJ2RlbGV0ZSBzdWNjZXNzZnVsJyB9KVxyXG5cclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAnRmFpbGVkIHRvIGRlbGV0ZScgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLy8gZmluZCBhbGwgdXNlclxyXG4gICAgZmluZEFsbFVzZXIocmVxdWVzdCwgcmVzcG9uc2UpIHtcclxuICAgICAgICBjb25zdCBmb3JtID0gbmV3IEluY29taW5nRm9ybSgpO1xyXG5cclxuICAgICAgICBmb3JtLnBhcnNlKHJlcXVlc3QsIGFzeW5jIChlcnJvciwgZmllbGRzLCBmaWxlcykgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAnRmFpbGVkIHRvIGRlbGV0ZSBhY2NvdW50LCBtYXliZSB0cnkgYWdhaW4gbGF0ZXInIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB1c2VyTW9kZWwuZmluZCgpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc2VuZCh1c2VyKVxyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oeyBtc2c6ICdGYWlsZWQgZmluZCBhbGwgdXNlcnMnIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvLyBzZWFyY2ggZm9yIGEgdXNlciBieSByZXF1ZXN0IFxyXG4gICAgYXN5bmMgc2VhcmNoVXNlcihyZXF1ZXN0LCByZXNwb25zZSkge1xyXG4gICAgICAgIGNvbnN0IG5hbWUgPSByZXF1ZXN0LnF1ZXJ5LnVzZXJuYW1lO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCB1c2VyID0gYXdhaXQgdXNlck1vZGVsLmZpbmQoeyB1c2VybmFtZTogeyAkcmVnZXg6IG5hbWUgfSB9KVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc2VuZCh1c2VyKVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAnTm8gbWF0Y2hpbmcgdXNlcicgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7OytDQUhBLG9KOzs7Ozs7Ozs7Ozs7QUFJQSxJQUFBQSxjQUFBOztJQUVhQyxjOzs7Ozs7O1dBQ1Q7SUFDQSxnQkFBT0MsT0FBUCxFQUFnQkMsUUFBaEIsRUFBMEI7TUFDdEIsSUFBTUMsSUFBSSxHQUFHLElBQUlDLHdC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","map":{"version":3,"names":["config","AuthController","request","response","form","IncomingForm","parse","error","fields","files","status","json","msg","username","email","password","age","gender","length","genSalt","salt","hash","hashedPassword","newAccount","userModel","save","savedAccount","console","log","account","isAccountEmail","includes","findOne","user","compare","isPasswordValid","token_payload","_id","token","sign","process","env","cookie_secret","expiresIn","findOneAndUpdate","$set","updatedAccount","newUsername","newAge","newGender","findOneAndDelete","find","send","name","query","$regex"],"sourceRoot":"D:\\School\\IT Project\\IT-PROJECT\\backend3\\src\\Controller\\","sources":["Auth.controller.js"],"sourcesContent":["import { IncomingForm } from 'formidable';\r\nimport { genSalt, hash, compare } from 'bcrypt';\r\nimport { config } from 'dotenv';\r\nimport { verify, sign } from 'jsonwebtoken';\r\nimport { userModel } from '../Models/User.model'\r\nconfig()\r\n\r\nexport class AuthController {\r\n    //signup method\r\n    signup(request, response) {\r\n        const form = new IncomingForm();\r\n\r\n        form.parse(request, async (error, fields, files) => {\r\n            if (error) {\r\n                return response.status(500).json({ msg: 'Failed to create account, maybe try again later' })\r\n            }\r\n\r\n            const { username, email, password, age, gender } = fields;\r\n            if (password.length > 20 || password.length < 6) {  // password minimum length = 6, maximum length = 20\r\n                return response.status(503).json({ msg: 'Password length need to be 6-20 range' })\r\n\r\n            }\r\n            if (age > 150 || age < 0) {\r\n                return response.status(502).json({ msg: 'Invalid age' })\r\n            }\r\n            const salt = await genSalt(15);\r\n            const hashedPassword = await hash(password, salt);\r\n            const newAccount = new userModel({\r\n                username,\r\n                email,\r\n                password: hashedPassword,\r\n                age,\r\n                gender\r\n            })\r\n            // create an account successful or failed\r\n            try {\r\n                const savedAccount = await newAccount.save();\r\n                return response.status(201).json({ msg: 'Account created successfully' })\r\n            } catch (error) {\r\n                console.log(error)\r\n                return response.status(501).json({ msg: 'This account has been registered. Change email or username' })\r\n            }\r\n\r\n        })\r\n    }\r\n\r\n    // sign in\r\n    signin(request, response) {\r\n        const form = new IncomingForm();\r\n\r\n        form.parse(request, async (error, fields, files) => {\r\n            if (error) {\r\n                return response.status(500).json({ msg: 'Failed to signin' })\r\n            }\r\n            const { account, password } = fields;\r\n            // email log in \r\n            const isAccountEmail = account.includes('@');\r\n            if (isAccountEmail) {\r\n                const user = await userModel.findOne({ email: account });\r\n\r\n                if (!user) {\r\n                    return response.status(404).json({ msg: 'Email of this account does not exist' })\r\n                }\r\n                const isPasswordValid = await compare(password, user.password);  // hashed password\r\n                if (!isPasswordValid) {\r\n                    return response.status(400).json({ msg: 'Invalid password' })\r\n                }\r\n                const token_payload = {\r\n                    _id: user._id,\r\n                    email: user.email,\r\n                    username: user.username\r\n                }\r\n                const token = sign(token_payload, process.env.cookie_secret, { expiresIn: '365d' })\r\n                const username = token_payload.username;\r\n                return response.status(200).json({ token, username })\r\n\r\n            }\r\n            const user = await userModel.findOne({ username: account });\r\n\r\n            if (!user) {\r\n                return response.status(404).json({ msg: 'username of this account does not exist' })\r\n            }\r\n            const isPasswordValid = await compare(password, user.password);  // hashed password\r\n            if (!isPasswordValid) {\r\n                return response.status(400).json({ msg: 'Invalid password' })\r\n            }\r\n            const token_payload = {\r\n                _id: user._id,\r\n                email: user.email,\r\n                username: user.username\r\n            }\r\n            const token = sign(token_payload, process.env.cookie_secret, { expiresIn: '365d' })\r\n            const username = token_payload.username;\r\n            return response.status(200).json({ token, username })\r\n\r\n        })\r\n    }\r\n\r\n    // forgot password and reset\r\n    forgotPassword(request, response) {\r\n        const form = new IncomingForm();\r\n\r\n        form.parse(request, async (error, fields, files) => {\r\n            if (error) {\r\n                return response.status(500).json({ msg: 'Failed to rset password' })\r\n            }\r\n            const { email, password } = fields;\r\n\r\n            if (!email || !password) {\r\n                return response.status(400).json({ msg: 'email and password are required to reset password ' })\r\n            }\r\n            const salt = await genSalt(15);\r\n            const hashedPassword = await hash(password, salt)\r\n\r\n            try {\r\n                const user = await userModel.findOne({ email: email });\r\n                if (!user) {\r\n                    return response.status(404).json({ msg: 'Account with this email does not exist' })\r\n                }\r\n                /* const updatedAccount = await userModel.findOneAndUpdate({email:email}, {$set:{password: hashedPassword}}, {new:true})\r\n                 return response.status(200).json({msg:'Password rest successful'}) */\r\n                const updatedAccount = await userModel.findOneAndUpdate({ email: email }, { $set: { password: hashedPassword } }, { new: true })\r\n                return response.status(200).json({ msg: 'Password rest successful' })\r\n            } catch (error) {\r\n                return response.status(500).json({ msg: 'Failed to reset password' })\r\n            }\r\n        })\r\n    }\r\n\r\n    // updat user info such as username, password, age and gender via email.\r\n    update(request, response) {\r\n        const form = new IncomingForm();\r\n\r\n        form.parse(request, async (error, fields, files) => {\r\n            if (error) {\r\n                return response.status(500).json({ msg: 'Failed to update. Try again later' })\r\n            }\r\n            const { email, username, age, gender } = fields;\r\n            const newUsername = username\r\n            const newAge = age\r\n            const newGender = gender\r\n\r\n            try {\r\n                const user = await userModel.findOne({ email: email });\r\n                if (!user) {\r\n                    return response.status(404).json({ msg: 'Account with this email does not exist' })\r\n                }\r\n                /* const updatedAccount = await userModel.findOneAndUpdate({email:email}, {$set:{password: hashedPassword}}, {new:true})\r\n                 return response.status(200).json({msg:'Password rest successful'}) */\r\n                const updatedAccount = await userModel.findOneAndUpdate({ email: email }, { $set: { username: newUsername, age: newAge, gender: newGender } }, { new: true })\r\n                return response.status(200).json({ msg: 'Edit successful' })\r\n            } catch (error) {\r\n                return response.status(500).json({ msg: 'Failed to update. Change email or username and try again' })\r\n            }\r\n        })\r\n    }\r\n\r\n    //delete user account\r\n    delete(request, response) {\r\n        const form = new IncomingForm();\r\n        form.parse(request, async (error, fields, files) => {\r\n            if (error) {\r\n                return response.status(500).json({ msg: 'Failed to delete account, maybe try again later' })\r\n            }\r\n            const { email } = fields;\r\n            try {\r\n                const user = await userModel.findOneAndDelete({ email: email });\r\n                return response.status(200).json({ msg: 'delete successful' })\r\n\r\n            } catch (error) {\r\n                return response.status(500).json({ msg: 'Failed to delete' })\r\n            }\r\n        })\r\n    }\r\n\r\n    // find all user\r\n    findAllUser(request, response) {\r\n        const form = new IncomingForm();\r\n\r\n        form.parse(request, async (error, fields, files) => {\r\n            if (error) {\r\n                return response.status(500).json({ msg: 'Failed to delete account, maybe try again later' })\r\n            }\r\n            try {\r\n                const user = await userModel.find()\r\n                return response.send(user)\r\n            } catch (error) {\r\n                return response.status(500).json({ msg: 'Failed find all users' })\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    // search for a user by request \r\n    async searchUser(request, response) {\r\n        const name = request.query.username;\r\n        try {\r\n            let user = await userModel.find({ username: { $regex: name } })\r\n            return response.send(user)\r\n        } catch (error) {\r\n            return response.status(500).json({ msg: 'No matching user' })\r\n        }\r\n    }\r\n\r\n\r\n}"],"mappings":"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"}},"mtime":1665539931764},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"filename\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Models\\\\User.model.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.userModel = void 0;\n\nvar _mongoose = require(\"mongoose\");\n\nvar uservalidator = function uservalidator(s) {\n  return /^[a-zA-Z0-9]{1,20}$/.test(s);\n};\n\nvar emailvalidator = function emailvalidator(s) {\n  return /^[a-z0-9@.-_]{6,40}$/.test(s);\n};\n\nvar agevalidator = function agevalidator(s) {\n  return /^[0-9]{1,3}$/.test(s);\n};\n\nvar userSchema = new _mongoose.Schema({\n  username: {\n    // username should be unique and no longer than 20 characters\n    type: String,\n    reuqired: [true, 'Username is required'],\n    unique: [true, 'Usename exist'],\n    validate: [uservalidator, 'Please enter less than 20 numbers and alphabets only']\n  },\n  email: {\n    // email should be be unique\n    type: String,\n    required: [true, 'Email is required to create an account'],\n    unique: [true, 'Account with this email already exist'],\n    validate: [emailvalidator, 'Please enter numbers, alphabets, and @ . - _ only']\n  },\n  password: {\n    type: String,\n    requried: [true, 'Password is required to create account']\n  },\n  age: {\n    // age should be within 0 - 120 range\n    type: Number,\n    requried: [true, 'Age is required to create an account'],\n    validate: [agevalidator, 'Please enter a number between 0-120']\n  },\n  gender: {\n    type: String,\n    \"enum\": [\"Male\", \"Female\", \"Prefer not to say\"],\n    required: true\n  },\n  videos: [{\n    type: _mongoose.Schema.Types.ObjectId,\n    ref: 'videos'\n  }]\n});\nvar userModel = (0, _mongoose.model)('user', userSchema);\nexports.userModel = userModel;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VydmFsaWRhdG9yIiwicyIsInRlc3QiLCJlbWFpbHZhbGlkYXRvciIsImFnZXZhbGlkYXRvciIsInVzZXJTY2hlbWEiLCJTY2hlbWEiLCJ1c2VybmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXVxaXJlZCIsInVuaXF1ZSIsInZhbGlkYXRlIiwiZW1haWwiLCJyZXF1aXJlZCIsInBhc3N3b3JkIiwicmVxdXJpZWQiLCJhZ2UiLCJOdW1iZXIiLCJnZW5kZXIiLCJ2aWRlb3MiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwidXNlck1vZGVsIiwibW9kZWwiXSwic291cmNlUm9vdCI6IkQ6XFxTY2hvb2xcXElUIFByb2plY3RcXElULVBST0pFQ1RcXGJhY2tlbmQzXFxzcmNcXE1vZGVsc1xcIiwic291cmNlcyI6WyJVc2VyLm1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydHsgU2NoZW1hLCBtb2RlbH0gZnJvbSAnbW9uZ29vc2UnO1xyXG5jb25zdCB1c2VydmFsaWRhdG9yID0gKHMpID0+XHJcbiAgICAvXlthLXpBLVowLTldezEsMjB9JC8udGVzdChzKVxyXG5cclxuY29uc3QgZW1haWx2YWxpZGF0b3IgPSAocykgPT5cclxuICAgIC9eW2EtejAtOUAuLV9dezYsNDB9JC8udGVzdChzKVxyXG5cclxuY29uc3QgYWdldmFsaWRhdG9yID0gKHMpID0+XHJcbiAgICAvXlswLTldezEsM30kLy50ZXN0KHMpXHJcblxyXG5jb25zdCB1c2VyU2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgICB1c2VybmFtZTp7IC8vIHVzZXJuYW1lIHNob3VsZCBiZSB1bmlxdWUgYW5kIG5vIGxvbmdlciB0aGFuIDIwIGNoYXJhY3RlcnNcclxuICAgICAgICB0eXBlOlN0cmluZyxcclxuICAgICAgICByZXVxaXJlZDogW3RydWUsICdVc2VybmFtZSBpcyByZXF1aXJlZCddLFxyXG4gICAgICAgIHVuaXF1ZTpbdHJ1ZSwgJ1VzZW5hbWUgZXhpc3QnXSxcclxuICAgICAgICB2YWxpZGF0ZTogW3VzZXJ2YWxpZGF0b3IsICdQbGVhc2UgZW50ZXIgbGVzcyB0aGFuIDIwIG51bWJlcnMgYW5kIGFscGhhYmV0cyBvbmx5J11cclxuICAgIH0sXHJcbiAgICBlbWFpbDp7IC8vIGVtYWlsIHNob3VsZCBiZSBiZSB1bmlxdWVcclxuICAgICAgICB0eXBlOlN0cmluZyxcclxuICAgICAgICByZXF1aXJlZDogW3RydWUsICdFbWFpbCBpcyByZXF1aXJlZCB0byBjcmVhdGUgYW4gYWNjb3VudCddLFxyXG4gICAgICAgIHVuaXF1ZTpbdHJ1ZSwgJ0FjY291bnQgd2l0aCB0aGlzIGVtYWlsIGFscmVhZHkgZXhpc3QnXSxcclxuICAgICAgICB2YWxpZGF0ZTogW2VtYWlsdmFsaWRhdG9yLCAnUGxlYXNlIGVudGVyIG51bWJlcnMsIGFscGhhYmV0cywgYW5kIEAgLiAtIF8gb25seSddXHJcbiAgICB9LFxyXG4gICAgcGFzc3dvcmQ6e1xyXG4gICAgICAgIHR5cGU6U3RyaW5nLFxyXG4gICAgICAgIHJlcXVyaWVkOlt0cnVlLCAnUGFzc3dvcmQgaXMgcmVxdWlyZWQgdG8gY3JlYXRlIGFjY291bnQnXSxcclxuXHJcbiAgICB9LFxyXG4gICAgYWdlOnsgLy8gYWdlIHNob3VsZCBiZSB3aXRoaW4gMCAtIDEyMCByYW5nZVxyXG4gICAgICAgIHR5cGU6TnVtYmVyLFxyXG4gICAgICAgIHJlcXVyaWVkOlt0cnVlLCAnQWdlIGlzIHJlcXVpcmVkIHRvIGNyZWF0ZSBhbiBhY2NvdW50J10sXHJcbiAgICAgICAgdmFsaWRhdGU6IFthZ2V2YWxpZGF0b3IsICdQbGVhc2UgZW50ZXIgYSBudW1iZXIgYmV0d2VlbiAwLTEyMCddXHJcblxyXG4gICAgfSxcclxuICAgIGdlbmRlcjp7XHJcbiAgICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICAgIGVudW06IFtcIk1hbGVcIiwgXCJGZW1hbGVcIiwgXCJQcmVmZXIgbm90IHRvIHNheVwiXSxcclxuICAgICAgICByZXF1aXJlZDogdHJ1ZVxyXG4gICAgfSxcclxuICAgIHZpZGVvczpbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0eXBlOlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcclxuICAgICAgICAgICAgcmVmOid2aWRlb3MnXHJcbiAgICAgICAgfVxyXG4gICAgXSxcclxuXHJcblxyXG5cclxuICAgICBcclxufSlcclxuZXhwb3J0IGNvbnN0IHVzZXJNb2RlbCA9IG1vZGVsKCd1c2VyJywgdXNlclNjaGVtYSlcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0EsSUFBTUEsYUFBYSxHQUFHLFNBQWhCQSxhQUFnQixDQUFDQyxDQUFEO0VBQUEsT0FDbEIsc0JBQXNCQyxJQUF0QixDQUEyQkQsQ0FBM0IsQ0FEa0I7QUFBQSxDQUF0Qjs7QUFHQSxJQUFNRSxjQUFjLEdBQUcsU0FBakJBLGNBQWlCLENBQUNGLENBQUQ7RUFBQSxPQUNuQix1QkFBdUJDLElBQXZCLENBQTRCRCxDQUE1QixDQURtQjtBQUFBLENBQXZCOztBQUdBLElBQU1HLFlBQVksR0FBRyxTQUFmQSxZQUFlLENBQUNILENBQUQ7RUFBQSxPQUNqQixlQUFlQyxJQUFmLENBQW9CRCxDQUFwQixDQURpQjtBQUFBLENBQXJCOztBQUdBLElBQU1JLFVBQVUsR0FBRyxJQUFJQyxnQkFBSixDQUFXO0VBQzFCQyxRQUFRLEVBQUM7SUFBRTtJQUNQQyxJQUFJLEVBQUNDLE1BREE7SUFFTEMsUUFBUSxFQUFFLENBQUMsSUFBRCxFQUFPLHNCQUFQLENBRkw7SUFHTEMsTUFBTSxFQUFDLENBQUMsSUFBRCxFQUFPLGVBQVAsQ0FIRjtJQUlMQyxRQUFRLEVBQUUsQ0FBQ1osYUFBRCxFQUFnQixzREFBaEI7RUFKTCxDQURpQjtFQU8xQmEsS0FBSyxFQUFDO0lBQUU7SUFDSkwsSUFBSSxFQUFDQyxNQURIO0lBRUZLLFFBQVEsRUFBRSxDQUFDLElBQUQsRUFBTyx3Q0FBUCxDQUZSO0lBR0ZILE1BQU0sRUFBQyxDQUFDLElBQUQsRUFBTyx1Q0FBUCxDQUhMO0lBSUZDLFFBQVEsRUFBRSxDQUFDVCxjQUFELEVBQWlCLG1EQUFqQjtFQUpSLENBUG9CO0VBYTFCWSxRQUFRLEVBQUM7SUFDTFAsSUFBSSxFQUFDQyxNQURBO0lBRUxPLFFBQVEsRUFBQyxDQUFDLElBQUQsRUFBTyx3Q0FBUDtFQUZKLENBYmlCO0VBa0IxQkMsR0FBRyxFQUFDO0lBQUU7SUFDRlQsSUFBSSxFQUFDVSxNQURMO0lBRUFGLFFBQVEsRUFBQyxDQUFDLElBQUQsRUFBTyxzQ0FBUCxDQUZUO0lBR0FKLFFBQVEsRUFBRSxDQUFDUixZQUFELEVBQWUscUNBQWY7RUFIVixDQWxCc0I7RUF3QjFCZSxNQUFNLEVBQUM7SUFDSFgsSUFBSSxFQUFFQyxNQURIO0lBRUgsUUFBTSxDQUFDLE1BQUQsRUFBUyxRQUFULEVBQW1CLG1CQUFuQixDQUZIO0lBR0hLLFFBQVEsRUFBRTtFQUhQLENBeEJtQjtFQTZCMUJNLE1BQU0sRUFBQyxDQUNIO0lBQ0laLElBQUksRUFBQ0YsZ0JBQUEsQ0FBT2UsS0FBUCxDQUFhQyxRQUR0QjtJQUVJQyxHQUFHLEVBQUM7RUFGUixDQURHO0FBN0JtQixDQUFYLENBQW5CO0FBd0NPLElBQU1DLFNBQVMsR0FBRyxJQUFBQyxlQUFBLEVBQU0sTUFBTixFQUFjcEIsVUFBZCxDQUFsQiJ9","map":{"version":3,"names":["uservalidator","s","test","emailvalidator","agevalidator","userSchema","Schema","username","type","String","reuqired","unique","validate","email","required","password","requried","age","Number","gender","videos","Types","ObjectId","ref","userModel","model"],"sourceRoot":"D:\\School\\IT Project\\IT-PROJECT\\backend3\\src\\Models\\","sources":["User.model.js"],"sourcesContent":["import{ Schema, model} from 'mongoose';\r\nconst uservalidator = (s) =>\r\n    /^[a-zA-Z0-9]{1,20}$/.test(s)\r\n\r\nconst emailvalidator = (s) =>\r\n    /^[a-z0-9@.-_]{6,40}$/.test(s)\r\n\r\nconst agevalidator = (s) =>\r\n    /^[0-9]{1,3}$/.test(s)\r\n\r\nconst userSchema = new Schema({\r\n    username:{ // username should be unique and no longer than 20 characters\r\n        type:String,\r\n        reuqired: [true, 'Username is required'],\r\n        unique:[true, 'Usename exist'],\r\n        validate: [uservalidator, 'Please enter less than 20 numbers and alphabets only']\r\n    },\r\n    email:{ // email should be be unique\r\n        type:String,\r\n        required: [true, 'Email is required to create an account'],\r\n        unique:[true, 'Account with this email already exist'],\r\n        validate: [emailvalidator, 'Please enter numbers, alphabets, and @ . - _ only']\r\n    },\r\n    password:{\r\n        type:String,\r\n        requried:[true, 'Password is required to create account'],\r\n\r\n    },\r\n    age:{ // age should be within 0 - 120 range\r\n        type:Number,\r\n        requried:[true, 'Age is required to create an account'],\r\n        validate: [agevalidator, 'Please enter a number between 0-120']\r\n\r\n    },\r\n    gender:{\r\n        type: String,\r\n        enum: [\"Male\", \"Female\", \"Prefer not to say\"],\r\n        required: true\r\n    },\r\n    videos:[\r\n        {\r\n            type:Schema.Types.ObjectId,\r\n            ref:'videos'\r\n        }\r\n    ],\r\n\r\n\r\n\r\n     \r\n})\r\nexport const userModel = model('user', userSchema)\r\n"],"mappings":";;;;;;;AAAA;;AACA,IAAMA,aAAa,GAAG,SAAhBA,aAAgB,CAACC,CAAD;EAAA,OAClB,sBAAsBC,IAAtB,CAA2BD,CAA3B,CADkB;AAAA,CAAtB;;AAGA,IAAME,cAAc,GAAG,SAAjBA,cAAiB,CAACF,CAAD;EAAA,OACnB,uBAAuBC,IAAvB,CAA4BD,CAA5B,CADmB;AAAA,CAAvB;;AAGA,IAAMG,YAAY,GAAG,SAAfA,YAAe,CAACH,CAAD;EAAA,OACjB,eAAeC,IAAf,CAAoBD,CAApB,CADiB;AAAA,CAArB;;AAGA,IAAMI,UAAU,GAAG,IAAIC,gBAAJ,CAAW;EAC1BC,QAAQ,EAAC;IAAE;IACPC,IAAI,EAACC,MADA;IAELC,QAAQ,EAAE,CAAC,IAAD,EAAO,sBAAP,CAFL;IAGLC,MAAM,EAAC,CAAC,IAAD,EAAO,eAAP,CAHF;IAILC,QAAQ,EAAE,CAACZ,aAAD,EAAgB,sDAAhB;EAJL,CADiB;EAO1Ba,KAAK,EAAC;IAAE;IACJL,IAAI,EAACC,MADH;IAEFK,QAAQ,EAAE,CAAC,IAAD,EAAO,wCAAP,CAFR;IAGFH,MAAM,EAAC,CAAC,IAAD,EAAO,uCAAP,CAHL;IAIFC,QAAQ,EAAE,CAACT,cAAD,EAAiB,mDAAjB;EAJR,CAPoB;EAa1BY,QAAQ,EAAC;IACLP,IAAI,EAACC,MADA;IAELO,QAAQ,EAAC,CAAC,IAAD,EAAO,wCAAP;EAFJ,CAbiB;EAkB1BC,GAAG,EAAC;IAAE;IACFT,IAAI,EAACU,MADL;IAEAF,QAAQ,EAAC,CAAC,IAAD,EAAO,sCAAP,CAFT;IAGAJ,QAAQ,EAAE,CAACR,YAAD,EAAe,qCAAf;EAHV,CAlBsB;EAwB1Be,MAAM,EAAC;IACHX,IAAI,EAAEC,MADH;IAEH,QAAM,CAAC,MAAD,EAAS,QAAT,EAAmB,mBAAnB,CAFH;IAGHK,QAAQ,EAAE;EAHP,CAxBmB;EA6B1BM,MAAM,EAAC,CACH;IACIZ,IAAI,EAACF,gBAAA,CAAOe,KAAP,CAAaC,QADtB;IAEIC,GAAG,EAAC;EAFR,CADG;AA7BmB,CAAX,CAAnB;AAwCO,IAAMC,SAAS,GAAG,IAAAC,eAAA,EAAM,MAAN,EAAcpB,UAAd,CAAlB"}},"mtime":1664931413585},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"filename\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Routes\\\\Video.routes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _express = require(\"express\");\n\nvar _Authenticate = require(\"../Middlewares/Authenticate.middleware\");\n\nvar _Video = require(\"../Middlewares/Video.middleware\");\n\nvar _bodyParser = require(\"body-parser\");\n\nvar _Video2 = require(\"../Controller/Video.controller\");\n\nvar router = (0, _express.Router)();\nvar Controller = new _Video2.VideoController(); //after upload work, next step is save to mongo db\n\nrouter.post('/api/video', (0, _bodyParser.json)(), _Authenticate.Authenticate, _Video.videoUpload.single('video'), function (request, response) {\n  Controller.upload(request, response);\n}); // video stream\n\nrouter.get('/api/video/:filename', function (request, response) {\n  Controller.stream(request, response);\n}); // like a video\n\nrouter.get('/api/video-like/:id', function (request, response) {\n  Controller.like(request, response);\n}); // dislike a video\n\nrouter.get('/api/video-dislike/:id', function (request, response) {\n  Controller.dislike(request, response);\n}); // search for a video\n\nrouter.get('/api/video-search/', function (request, response) {\n  Controller.searchVideo(request, response);\n}); // delete a video\n\nrouter[\"delete\"]('/api/video/:video_id/:video_path', function (request, response) {\n  Controller[\"delete\"](request, response);\n}); // search for video under certain user\n\nrouter.get('/api/user-video-search/', function (request, response) {\n  Controller.searchUVideo(request, response);\n}); // search for video under certain category\n\nrouter.get('/api/cat-search/', function (request, response) {\n  Controller.searchCat(request, response);\n}); //find all videos and return \n\nrouter.get('/api/findallV', function (request, response) {\n  Controller.findAllVideo(request, response);\n});\nvar _default = router;\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJSb3V0ZXIiLCJDb250cm9sbGVyIiwiVmlkZW9Db250cm9sbGVyIiwicG9zdCIsImpzb24iLCJBdXRoZW50aWNhdGUiLCJ2aWRlb1VwbG9hZCIsInNpbmdsZSIsInJlcXVlc3QiLCJyZXNwb25zZSIsInVwbG9hZCIsImdldCIsInN0cmVhbSIsImxpa2UiLCJkaXNsaWtlIiwic2VhcmNoVmlkZW8iLCJzZWFyY2hVVmlkZW8iLCJzZWFyY2hDYXQiLCJmaW5kQWxsVmlkZW8iXSwic291cmNlUm9vdCI6IkQ6XFxTY2hvb2xcXElUIFByb2plY3RcXElULVBST0pFQ1RcXGJhY2tlbmQzXFxzcmNcXFJvdXRlc1xcIiwic291cmNlcyI6WyJWaWRlby5yb3V0ZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtyZXNwb25zZSwgUm91dGVyIH0gZnJvbSAnZXhwcmVzcyc7XHJcbmltcG9ydCB7IEF1dGhlbnRpY2F0ZSB9IGZyb20gJy4uL01pZGRsZXdhcmVzL0F1dGhlbnRpY2F0ZS5taWRkbGV3YXJlJztcclxuaW1wb3J0IHt2aWRlb1VwbG9hZH0gZnJvbSAnLi4vTWlkZGxld2FyZXMvVmlkZW8ubWlkZGxld2FyZSc7XHJcbmltcG9ydCB7anNvbn0gZnJvbSAnYm9keS1wYXJzZXInXHJcbmltcG9ydHsgVmlkZW9Db250cm9sbGVyIH0gZnJvbSAnLi4vQ29udHJvbGxlci9WaWRlby5jb250cm9sbGVyJ1xyXG5cclxuY29uc3Qgcm91dGVyID0gUm91dGVyKCk7XHJcbmNvbnN0IENvbnRyb2xsZXIgPSBuZXcgVmlkZW9Db250cm9sbGVyKCk7XHJcbi8vYWZ0ZXIgdXBsb2FkIHdvcmssIG5leHQgc3RlcCBpcyBzYXZlIHRvIG1vbmdvIGRiXHJcbnJvdXRlci5wb3N0KCcvYXBpL3ZpZGVvJywganNvbigpLCBBdXRoZW50aWNhdGUsIHZpZGVvVXBsb2FkLnNpbmdsZSgndmlkZW8nKSwgKHJlcXVlc3QsIHJlc3BvbnNlKT0+e1xyXG4gICAgQ29udHJvbGxlci51cGxvYWQocmVxdWVzdCxyZXNwb25zZSlcclxufSlcclxuXHJcbi8vIHZpZGVvIHN0cmVhbVxyXG5yb3V0ZXIuZ2V0KCcvYXBpL3ZpZGVvLzpmaWxlbmFtZScsIChyZXF1ZXN0LCByZXNwb25zZSk9PiB7XHJcbiAgICBDb250cm9sbGVyLnN0cmVhbShyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcbi8vIGxpa2UgYSB2aWRlb1xyXG5yb3V0ZXIuZ2V0KCcvYXBpL3ZpZGVvLWxpa2UvOmlkJywocmVxdWVzdCwgcmVzcG9uc2UpPT57XHJcbiAgICBDb250cm9sbGVyLmxpa2UocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG5cclxuLy8gZGlzbGlrZSBhIHZpZGVvXHJcbnJvdXRlci5nZXQoJy9hcGkvdmlkZW8tZGlzbGlrZS86aWQnLChyZXF1ZXN0LCByZXNwb25zZSk9PntcclxuICAgIENvbnRyb2xsZXIuZGlzbGlrZShyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcbi8vIHNlYXJjaCBmb3IgYSB2aWRlb1xyXG5yb3V0ZXIuZ2V0KCcvYXBpL3ZpZGVvLXNlYXJjaC8nLChyZXF1ZXN0LHJlc3BvbnNlKT0+e1xyXG4gICAgQ29udHJvbGxlci5zZWFyY2hWaWRlbyAocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG4vLyBkZWxldGUgYSB2aWRlb1xyXG5yb3V0ZXIuZGVsZXRlKCcvYXBpL3ZpZGVvLzp2aWRlb19pZC86dmlkZW9fcGF0aCcsIChyZXF1ZXN0LCByZXNwb25zZSk9PntcclxuICAgIENvbnRyb2xsZXIuZGVsZXRlKHJlcXVlc3QsIHJlc3BvbnNlKVxyXG59KVxyXG5cclxuLy8gc2VhcmNoIGZvciB2aWRlbyB1bmRlciBjZXJ0YWluIHVzZXJcclxucm91dGVyLmdldCgnL2FwaS91c2VyLXZpZGVvLXNlYXJjaC8nLChyZXF1ZXN0LHJlc3BvbnNlKT0+e1xyXG4gICAgQ29udHJvbGxlci5zZWFyY2hVVmlkZW8gKHJlcXVlc3QsIHJlc3BvbnNlKVxyXG59KVxyXG5cclxuLy8gc2VhcmNoIGZvciB2aWRlbyB1bmRlciBjZXJ0YWluIGNhdGVnb3J5XHJcbnJvdXRlci5nZXQoJy9hcGkvY2F0LXNlYXJjaC8nLChyZXF1ZXN0LHJlc3BvbnNlKT0+e1xyXG4gICAgQ29udHJvbGxlci5zZWFyY2hDYXQgKHJlcXVlc3QsIHJlc3BvbnNlKVxyXG59KVxyXG5cclxuLy9maW5kIGFsbCB2aWRlb3MgYW5kIHJldHVybiBcclxucm91dGVyLmdldCgnL2FwaS9maW5kYWxsVicsKHJlcXVlc3QsIHJlc3BvbnNlKT0+e1xyXG4gICAgQ29udHJvbGxlci5maW5kQWxsVmlkZW8gKHJlcXVlc3QsIHJlc3BvbnNlKVxyXG59KVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUVBLElBQU1BLE1BQU0sR0FBRyxJQUFBQyxlQUFBLEdBQWY7QUFDQSxJQUFNQyxVQUFVLEdBQUcsSUFBSUMsdUJBQUosRUFBbkIsQyxDQUNBOztBQUNBSCxNQUFNLENBQUNJLElBQVAsQ0FBWSxZQUFaLEVBQTBCLElBQUFDLGdCQUFBLEdBQTFCLEVBQWtDQywwQkFBbEMsRUFBZ0RDLGtCQUFBLENBQVlDLE1BQVosQ0FBbUIsT0FBbkIsQ0FBaEQsRUFBNkUsVUFBQ0MsT0FBRCxFQUFVQyxRQUFWLEVBQXFCO0VBQzlGUixVQUFVLENBQUNTLE1BQVgsQ0FBa0JGLE9BQWxCLEVBQTBCQyxRQUExQjtBQUNILENBRkQsRSxDQUlBOztBQUNBVixNQUFNLENBQUNZLEdBQVAsQ0FBVyxzQkFBWCxFQUFtQyxVQUFDSCxPQUFELEVBQVVDLFFBQVYsRUFBc0I7RUFDckRSLFVBQVUsQ0FBQ1csTUFBWCxDQUFrQkosT0FBbEIsRUFBMkJDLFFBQTNCO0FBQ0gsQ0FGRCxFLENBSUE7O0FBQ0FWLE1BQU0sQ0FBQ1ksR0FBUCxDQUFXLHFCQUFYLEVBQWlDLFVBQUNILE9BQUQsRUFBVUMsUUFBVixFQUFxQjtFQUNsRFIsVUFBVSxDQUFDWSxJQUFYLENBQWdCTCxPQUFoQixFQUF5QkMsUUFBekI7QUFDSCxDQUZELEUsQ0FLQTs7QUFDQVYsTUFBTSxDQUFDWSxHQUFQLENBQVcsd0JBQVgsRUFBb0MsVUFBQ0gsT0FBRCxFQUFVQyxRQUFWLEVBQXFCO0VBQ3JEUixVQUFVLENBQUNhLE9BQVgsQ0FBbUJOLE9BQW5CLEVBQTRCQyxRQUE1QjtBQUNILENBRkQsRSxDQUlBOztBQUNBVixNQUFNLENBQUNZLEdBQVAsQ0FBVyxvQkFBWCxFQUFnQyxVQUFDSCxPQUFELEVBQVNDLFFBQVQsRUFBb0I7RUFDaERSLFVBQVUsQ0FBQ2MsV0FBWCxDQUF3QlAsT0FBeEIsRUFBaUNDLFFBQWpDO0FBQ0gsQ0FGRCxFLENBSUE7O0FBQ0FWLE1BQU0sVUFBTixDQUFjLGtDQUFkLEVBQWtELFVBQUNTLE9BQUQsRUFBVUMsUUFBVixFQUFxQjtFQUNuRVIsVUFBVSxVQUFWLENBQWtCTyxPQUFsQixFQUEyQkMsUUFBM0I7QUFDSCxDQUZELEUsQ0FJQTs7QUFDQVYsTUFBTSxDQUFDWSxHQUFQLENBQVcseUJBQVgsRUFBcUMsVUFBQ0gsT0FBRCxFQUFTQyxRQUFULEVBQW9CO0VBQ3JEUixVQUFVLENBQUNlLFlBQVgsQ0FBeUJSLE9BQXpCLEVBQWtDQyxRQUFsQztBQUNILENBRkQsRSxDQUlBOztBQUNBVixNQUFNLENBQUNZLEdBQVAsQ0FBVyxrQkFBWCxFQUE4QixVQUFDSCxPQUFELEVBQVNDLFFBQVQsRUFBb0I7RUFDOUNSLFVBQVUsQ0FBQ2dCLFNBQVgsQ0FBc0JULE9BQXRCLEVBQStCQyxRQUEvQjtBQUNILENBRkQsRSxDQUlBOztBQUNBVixNQUFNLENBQUNZLEdBQVAsQ0FBVyxlQUFYLEVBQTJCLFVBQUNILE9BQUQsRUFBVUMsUUFBVixFQUFxQjtFQUM1Q1IsVUFBVSxDQUFDaUIsWUFBWCxDQUF5QlYsT0FBekIsRUFBa0NDLFFBQWxDO0FBQ0gsQ0FGRDtlQUllVixNIn0=","map":{"version":3,"names":["router","Router","Controller","VideoController","post","json","Authenticate","videoUpload","single","request","response","upload","get","stream","like","dislike","searchVideo","searchUVideo","searchCat","findAllVideo"],"sourceRoot":"D:\\School\\IT Project\\IT-PROJECT\\backend3\\src\\Routes\\","sources":["Video.routes.js"],"sourcesContent":["import {response, Router } from 'express';\r\nimport { Authenticate } from '../Middlewares/Authenticate.middleware';\r\nimport {videoUpload} from '../Middlewares/Video.middleware';\r\nimport {json} from 'body-parser'\r\nimport{ VideoController } from '../Controller/Video.controller'\r\n\r\nconst router = Router();\r\nconst Controller = new VideoController();\r\n//after upload work, next step is save to mongo db\r\nrouter.post('/api/video', json(), Authenticate, videoUpload.single('video'), (request, response)=>{\r\n    Controller.upload(request,response)\r\n})\r\n\r\n// video stream\r\nrouter.get('/api/video/:filename', (request, response)=> {\r\n    Controller.stream(request, response)\r\n})\r\n\r\n// like a video\r\nrouter.get('/api/video-like/:id',(request, response)=>{\r\n    Controller.like(request, response)\r\n})\r\n\r\n\r\n// dislike a video\r\nrouter.get('/api/video-dislike/:id',(request, response)=>{\r\n    Controller.dislike(request, response)\r\n})\r\n\r\n// search for a video\r\nrouter.get('/api/video-search/',(request,response)=>{\r\n    Controller.searchVideo (request, response)\r\n})\r\n\r\n// delete a video\r\nrouter.delete('/api/video/:video_id/:video_path', (request, response)=>{\r\n    Controller.delete(request, response)\r\n})\r\n\r\n// search for video under certain user\r\nrouter.get('/api/user-video-search/',(request,response)=>{\r\n    Controller.searchUVideo (request, response)\r\n})\r\n\r\n// search for video under certain category\r\nrouter.get('/api/cat-search/',(request,response)=>{\r\n    Controller.searchCat (request, response)\r\n})\r\n\r\n//find all videos and return \r\nrouter.get('/api/findallV',(request, response)=>{\r\n    Controller.findAllVideo (request, response)\r\n})\r\n\r\nexport default router;"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AAEA,IAAMA,MAAM,GAAG,IAAAC,eAAA,GAAf;AACA,IAAMC,UAAU,GAAG,IAAIC,uBAAJ,EAAnB,C,CACA;;AACAH,MAAM,CAACI,IAAP,CAAY,YAAZ,EAA0B,IAAAC,gBAAA,GAA1B,EAAkCC,0BAAlC,EAAgDC,kBAAA,CAAYC,MAAZ,CAAmB,OAAnB,CAAhD,EAA6E,UAACC,OAAD,EAAUC,QAAV,EAAqB;EAC9FR,UAAU,CAACS,MAAX,CAAkBF,OAAlB,EAA0BC,QAA1B;AACH,CAFD,E,CAIA;;AACAV,MAAM,CAACY,GAAP,CAAW,sBAAX,EAAmC,UAACH,OAAD,EAAUC,QAAV,EAAsB;EACrDR,UAAU,CAACW,MAAX,CAAkBJ,OAAlB,EAA2BC,QAA3B;AACH,CAFD,E,CAIA;;AACAV,MAAM,CAACY,GAAP,CAAW,qBAAX,EAAiC,UAACH,OAAD,EAAUC,QAAV,EAAqB;EAClDR,UAAU,CAACY,IAAX,CAAgBL,OAAhB,EAAyBC,QAAzB;AACH,CAFD,E,CAKA;;AACAV,MAAM,CAACY,GAAP,CAAW,wBAAX,EAAoC,UAACH,OAAD,EAAUC,QAAV,EAAqB;EACrDR,UAAU,CAACa,OAAX,CAAmBN,OAAnB,EAA4BC,QAA5B;AACH,CAFD,E,CAIA;;AACAV,MAAM,CAACY,GAAP,CAAW,oBAAX,EAAgC,UAACH,OAAD,EAASC,QAAT,EAAoB;EAChDR,UAAU,CAACc,WAAX,CAAwBP,OAAxB,EAAiCC,QAAjC;AACH,CAFD,E,CAIA;;AACAV,MAAM,UAAN,CAAc,kCAAd,EAAkD,UAACS,OAAD,EAAUC,QAAV,EAAqB;EACnER,UAAU,UAAV,CAAkBO,OAAlB,EAA2BC,QAA3B;AACH,CAFD,E,CAIA;;AACAV,MAAM,CAACY,GAAP,CAAW,yBAAX,EAAqC,UAACH,OAAD,EAASC,QAAT,EAAoB;EACrDR,UAAU,CAACe,YAAX,CAAyBR,OAAzB,EAAkCC,QAAlC;AACH,CAFD,E,CAIA;;AACAV,MAAM,CAACY,GAAP,CAAW,kBAAX,EAA8B,UAACH,OAAD,EAASC,QAAT,EAAoB;EAC9CR,UAAU,CAACgB,SAAX,CAAsBT,OAAtB,EAA+BC,QAA/B;AACH,CAFD,E,CAIA;;AACAV,MAAM,CAACY,GAAP,CAAW,eAAX,EAA2B,UAACH,OAAD,EAAUC,QAAV,EAAqB;EAC5CR,UAAU,CAACiB,YAAX,CAAyBV,OAAzB,EAAkCC,QAAlC;AACH,CAFD;eAIeV,M"}},"mtime":1665548626063},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Middlewares\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"filename\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Middlewares\\\\Authenticate.middleware.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Authenticate = void 0;\n\nvar _jsonwebtoken = require(\"jsonwebtoken\");\n\nvar _dotenv = require(\"dotenv\");\n\n(0, _dotenv.config)();\n\nvar Authenticate = function Authenticate(request, response, next) {\n  var token = request.headers['x-auth-token'];\n  (0, _jsonwebtoken.verify)(token, process.env.cookie_secret, function (error, decoded) {\n    if (error) {\n      return response.status(403).json({\n        msg: 'Signup or Login to upload video'\n      });\n    }\n\n    request.token = decoded;\n    next();\n  });\n};\n\nexports.Authenticate = Authenticate;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25maWciLCJBdXRoZW50aWNhdGUiLCJyZXF1ZXN0IiwicmVzcG9uc2UiLCJuZXh0IiwidG9rZW4iLCJoZWFkZXJzIiwidmVyaWZ5IiwicHJvY2VzcyIsImVudiIsImNvb2tpZV9zZWNyZXQiLCJlcnJvciIsImRlY29kZWQiLCJzdGF0dXMiLCJqc29uIiwibXNnIl0sInNvdXJjZVJvb3QiOiJEOlxcU2Nob29sXFxJVCBQcm9qZWN0XFxJVC1QUk9KRUNUXFxiYWNrZW5kM1xcc3JjXFxNaWRkbGV3YXJlc1xcIiwic291cmNlcyI6WyJBdXRoZW50aWNhdGUubWlkZGxld2FyZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge3ZlcmlmeX0gZnJvbSAnanNvbndlYnRva2VuJztcclxuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnZG90ZW52JztcclxuY29uZmlnKCk7XHJcblxyXG5leHBvcnQgY29uc3QgQXV0aGVudGljYXRlID0gKHJlcXVlc3QsIHJlc3BvbnNlLCBuZXh0KT0+e1xyXG4gICAgY29uc3QgdG9rZW4gPSByZXF1ZXN0LmhlYWRlcnNbJ3gtYXV0aC10b2tlbiddO1xyXG5cclxuICAgIHZlcmlmeSh0b2tlbiwgcHJvY2Vzcy5lbnYuY29va2llX3NlY3JldCwgKGVycm9yLCBkZWNvZGVkKT0+e1xyXG4gICAgICAgIGlmIChlcnJvcil7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNDAzKS5qc29uKHttc2c6J1NpZ251cCBvciBMb2dpbiB0byB1cGxvYWQgdmlkZW8nfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgcmVxdWVzdC50b2tlbiA9IGRlY29kZWQ7XHJcbiAgICAgICAgbmV4dCgpXHJcbiAgICB9KVxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0EsSUFBQUEsY0FBQTs7QUFFTyxJQUFNQyxZQUFZLEdBQUcsU0FBZkEsWUFBZSxDQUFDQyxPQUFELEVBQVVDLFFBQVYsRUFBb0JDLElBQXBCLEVBQTJCO0VBQ25ELElBQU1DLEtBQUssR0FBR0gsT0FBTyxDQUFDSSxPQUFSLENBQWdCLGNBQWhCLENBQWQ7RUFFQSxJQUFBQyxvQkFBQSxFQUFPRixLQUFQLEVBQWNHLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxhQUExQixFQUF5QyxVQUFDQyxLQUFELEVBQVFDLE9BQVIsRUFBa0I7SUFDdkQsSUFBSUQsS0FBSixFQUFVO01BQ04sT0FBT1IsUUFBUSxDQUFDVSxNQUFULENBQWdCLEdBQWhCLEVBQXFCQyxJQUFyQixDQUEwQjtRQUFDQyxHQUFHLEVBQUM7TUFBTCxDQUExQixDQUFQO0lBQ0g7O0lBQ0RiLE9BQU8sQ0FBQ0csS0FBUixHQUFnQk8sT0FBaEI7SUFDQVIsSUFBSTtFQUNQLENBTkQ7QUFPSCxDQVZNIn0=","map":{"version":3,"names":["config","Authenticate","request","response","next","token","headers","verify","process","env","cookie_secret","error","decoded","status","json","msg"],"sourceRoot":"D:\\School\\IT Project\\IT-PROJECT\\backend3\\src\\Middlewares\\","sources":["Authenticate.middleware.js"],"sourcesContent":["import {verify} from 'jsonwebtoken';\r\nimport { config } from 'dotenv';\r\nconfig();\r\n\r\nexport const Authenticate = (request, response, next)=>{\r\n    const token = request.headers['x-auth-token'];\r\n\r\n    verify(token, process.env.cookie_secret, (error, decoded)=>{\r\n        if (error){\r\n            return response.status(403).json({msg:'Signup or Login to upload video'})\r\n        }\r\n        request.token = decoded;\r\n        next()\r\n    })\r\n}"],"mappings":";;;;;;;AAAA;;AACA;;AACA,IAAAA,cAAA;;AAEO,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,OAAD,EAAUC,QAAV,EAAoBC,IAApB,EAA2B;EACnD,IAAMC,KAAK,GAAGH,OAAO,CAACI,OAAR,CAAgB,cAAhB,CAAd;EAEA,IAAAC,oBAAA,EAAOF,KAAP,EAAcG,OAAO,CAACC,GAAR,CAAYC,aAA1B,EAAyC,UAACC,KAAD,EAAQC,OAAR,EAAkB;IACvD,IAAID,KAAJ,EAAU;MACN,OAAOR,QAAQ,CAACU,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B;QAACC,GAAG,EAAC;MAAL,CAA1B,CAAP;IACH;;IACDb,OAAO,CAACG,KAAR,GAAgBO,OAAhB;IACAR,IAAI;EACP,CAND;AAOH,CAVM"}},"mtime":1662523367956},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Middlewares\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"filename\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Middlewares\\\\Video.middleware.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.videoUpload = void 0;\n\nvar _file = _interopRequireDefault(require(\"@babel/core/lib/transformation/file/file\"));\n\nvar _express = require(\"express\");\n\nvar _multer = _interopRequireDefault(require(\"multer\"));\n\nvar _uuid = require(\"uuid\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n// video storage\nvar videoStorage = _multer[\"default\"].diskStorage({\n  destination: \"videos\",\n  filename: function filename(request, file, cb) {\n    var id = (0, _uuid.v4)();\n    var token = request.token;\n    var filename = \"\".concat(token._id.toString(), \"-\").concat(id);\n    request.filename = filename;\n    cb(null, filename);\n  }\n}); //video upload\n\n\nvar videoUpload = (0, _multer[\"default\"])({\n  storage: videoStorage,\n  limits: {\n    fieldSize: 90000000 * 5 //10 MB   \n\n  },\n  fileFilter: function fileFilter(request, file, cb) {\n    if (!file.originalname.match(/\\.(mp4|MPEG-4|mkv)$/)) {\n      return cb(new Error('Video fomat nor supported'));\n    }\n\n    cb(undefined, true);\n  }\n});\nexports.videoUpload = videoUpload;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ2aWRlb1N0b3JhZ2UiLCJtdWx0ZXIiLCJkaXNrU3RvcmFnZSIsImRlc3RpbmF0aW9uIiwiZmlsZW5hbWUiLCJyZXF1ZXN0IiwiZmlsZSIsImNiIiwiaWQiLCJ1dWlkdjQiLCJ0b2tlbiIsIl9pZCIsInRvU3RyaW5nIiwidmlkZW9VcGxvYWQiLCJzdG9yYWdlIiwibGltaXRzIiwiZmllbGRTaXplIiwiZmlsZUZpbHRlciIsIm9yaWdpbmFsbmFtZSIsIm1hdGNoIiwiRXJyb3IiLCJ1bmRlZmluZWQiXSwic291cmNlUm9vdCI6IkQ6XFxTY2hvb2xcXElUIFByb2plY3RcXElULVBST0pFQ1RcXGJhY2tlbmQzXFxzcmNcXE1pZGRsZXdhcmVzXFwiLCJzb3VyY2VzIjpbIlZpZGVvLm1pZGRsZXdhcmUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGZpbGUgZnJvbSBcIkBiYWJlbC9jb3JlL2xpYi90cmFuc2Zvcm1hdGlvbi9maWxlL2ZpbGVcIjtcclxuaW1wb3J0IHsgcmVxdWVzdCB9IGZyb20gXCJleHByZXNzXCI7XHJcbmltcG9ydCBtdWx0ZXIgZnJvbSBcIm11bHRlclwiO1xyXG5pbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tICd1dWlkJzsgXHJcblxyXG4vLyB2aWRlbyBzdG9yYWdlXHJcbmNvbnN0IHZpZGVvU3RvcmFnZSA9IG11bHRlci5kaXNrU3RvcmFnZSh7XHJcbiAgICBkZXN0aW5hdGlvbjpcInZpZGVvc1wiLFxyXG4gICAgZmlsZW5hbWU6IChyZXF1ZXN0LCBmaWxlLCBjYik9PntcclxuICAgICAgICBjb25zdCBpZCA9IHV1aWR2NCgpO1xyXG4gICAgICAgIGNvbnN0IHRva2VuID0gcmVxdWVzdC50b2tlbjtcclxuICAgICAgICBjb25zdCBmaWxlbmFtZSA9IGAke3Rva2VuLl9pZC50b1N0cmluZygpfS0ke2lkfWA7XHJcbiAgICAgICAgcmVxdWVzdC5maWxlbmFtZSA9IGZpbGVuYW1lO1xyXG4gICAgICAgIGNiKG51bGwsIGZpbGVuYW1lKVxyXG4gICAgfVxyXG5cclxufSlcclxuXHJcbi8vdmlkZW8gdXBsb2FkXHJcbmV4cG9ydCBjb25zdCB2aWRlb1VwbG9hZCA9IG11bHRlcih7XHJcbiAgICBzdG9yYWdlOnZpZGVvU3RvcmFnZSxcclxuICAgIGxpbWl0czp7XHJcbiAgICAgICAgZmllbGRTaXplOiA5MDAwMDAwMCo1IC8vMTAgTUIgICBcclxuICAgIH0sXHJcbiAgICBmaWxlRmlsdGVyOihyZXF1ZXN0LCBmaWxlLCBjYik9PntcclxuICAgICAgICBpZighZmlsZS5vcmlnaW5hbG5hbWUubWF0Y2goL1xcLihtcDR8TVBFRy00fG1rdikkLykpe1xyXG4gICAgICAgICAgICByZXR1cm4gY2IobmV3IEVycm9yKCdWaWRlbyBmb21hdCBub3Igc3VwcG9ydGVkJykpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNiKHVuZGVmaW5lZCwgdHJ1ZSlcclxuICAgIH1cclxufSkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUVBO0FBQ0EsSUFBTUEsWUFBWSxHQUFHQyxrQkFBQSxDQUFPQyxXQUFQLENBQW1CO0VBQ3BDQyxXQUFXLEVBQUMsUUFEd0I7RUFFcENDLFFBQVEsRUFBRSxrQkFBQ0MsT0FBRCxFQUFVQyxJQUFWLEVBQWdCQyxFQUFoQixFQUFxQjtJQUMzQixJQUFNQyxFQUFFLEdBQUcsSUFBQUMsUUFBQSxHQUFYO0lBQ0EsSUFBTUMsS0FBSyxHQUFHTCxPQUFPLENBQUNLLEtBQXRCO0lBQ0EsSUFBTU4sUUFBUSxhQUFNTSxLQUFLLENBQUNDLEdBQU4sQ0FBVUMsUUFBVixFQUFOLGNBQThCSixFQUE5QixDQUFkO0lBQ0FILE9BQU8sQ0FBQ0QsUUFBUixHQUFtQkEsUUFBbkI7SUFDQUcsRUFBRSxDQUFDLElBQUQsRUFBT0gsUUFBUCxDQUFGO0VBQ0g7QUFSbUMsQ0FBbkIsQ0FBckIsQyxDQVlBOzs7QUFDTyxJQUFNUyxXQUFXLEdBQUcsSUFBQVosa0JBQUEsRUFBTztFQUM5QmEsT0FBTyxFQUFDZCxZQURzQjtFQUU5QmUsTUFBTSxFQUFDO0lBQ0hDLFNBQVMsRUFBRSxXQUFTLENBRGpCLENBQ21COztFQURuQixDQUZ1QjtFQUs5QkMsVUFBVSxFQUFDLG9CQUFDWixPQUFELEVBQVVDLElBQVYsRUFBZ0JDLEVBQWhCLEVBQXFCO0lBQzVCLElBQUcsQ0FBQ0QsSUFBSSxDQUFDWSxZQUFMLENBQWtCQyxLQUFsQixDQUF3QixxQkFBeEIsQ0FBSixFQUFtRDtNQUMvQyxPQUFPWixFQUFFLENBQUMsSUFBSWEsS0FBSixDQUFVLDJCQUFWLENBQUQsQ0FBVDtJQUNIOztJQUNEYixFQUFFLENBQUNjLFNBQUQsRUFBWSxJQUFaLENBQUY7RUFDSDtBQVY2QixDQUFQLENBQXBCIn0=","map":{"version":3,"names":["videoStorage","multer","diskStorage","destination","filename","request","file","cb","id","uuidv4","token","_id","toString","videoUpload","storage","limits","fieldSize","fileFilter","originalname","match","Error","undefined"],"sourceRoot":"D:\\School\\IT Project\\IT-PROJECT\\backend3\\src\\Middlewares\\","sources":["Video.middleware.js"],"sourcesContent":["import file from \"@babel/core/lib/transformation/file/file\";\r\nimport { request } from \"express\";\r\nimport multer from \"multer\";\r\nimport { v4 as uuidv4 } from 'uuid'; \r\n\r\n// video storage\r\nconst videoStorage = multer.diskStorage({\r\n    destination:\"videos\",\r\n    filename: (request, file, cb)=>{\r\n        const id = uuidv4();\r\n        const token = request.token;\r\n        const filename = `${token._id.toString()}-${id}`;\r\n        request.filename = filename;\r\n        cb(null, filename)\r\n    }\r\n\r\n})\r\n\r\n//video upload\r\nexport const videoUpload = multer({\r\n    storage:videoStorage,\r\n    limits:{\r\n        fieldSize: 90000000*5 //10 MB   \r\n    },\r\n    fileFilter:(request, file, cb)=>{\r\n        if(!file.originalname.match(/\\.(mp4|MPEG-4|mkv)$/)){\r\n            return cb(new Error('Video fomat nor supported'))\r\n        }\r\n        cb(undefined, true)\r\n    }\r\n})"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;AAEA;AACA,IAAMA,YAAY,GAAGC,kBAAA,CAAOC,WAAP,CAAmB;EACpCC,WAAW,EAAC,QADwB;EAEpCC,QAAQ,EAAE,kBAACC,OAAD,EAAUC,IAAV,EAAgBC,EAAhB,EAAqB;IAC3B,IAAMC,EAAE,GAAG,IAAAC,QAAA,GAAX;IACA,IAAMC,KAAK,GAAGL,OAAO,CAACK,KAAtB;IACA,IAAMN,QAAQ,aAAMM,KAAK,CAACC,GAAN,CAAUC,QAAV,EAAN,cAA8BJ,EAA9B,CAAd;IACAH,OAAO,CAACD,QAAR,GAAmBA,QAAnB;IACAG,EAAE,CAAC,IAAD,EAAOH,QAAP,CAAF;EACH;AARmC,CAAnB,CAArB,C,CAYA;;;AACO,IAAMS,WAAW,GAAG,IAAAZ,kBAAA,EAAO;EAC9Ba,OAAO,EAACd,YADsB;EAE9Be,MAAM,EAAC;IACHC,SAAS,EAAE,WAAS,CADjB,CACmB;;EADnB,CAFuB;EAK9BC,UAAU,EAAC,oBAACZ,OAAD,EAAUC,IAAV,EAAgBC,EAAhB,EAAqB;IAC5B,IAAG,CAACD,IAAI,CAACY,YAAL,CAAkBC,KAAlB,CAAwB,qBAAxB,CAAJ,EAAmD;MAC/C,OAAOZ,EAAE,CAAC,IAAIa,KAAJ,CAAU,2BAAV,CAAD,CAAT;IACH;;IACDb,EAAE,CAACc,SAAD,EAAY,IAAZ,CAAF;EACH;AAV6B,CAAP,CAApB"}},"mtime":1665537139855},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Controller\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"filename\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Controller\\\\Video.controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.VideoController = void 0;\n\nvar _Video = require(\"../Models/Video.model\");\n\nvar _fs = _interopRequireDefault(require(\"fs\"));\n\nvar _dns = require(\"dns\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nvar VideoController = /*#__PURE__*/function () {\n  function VideoController() {\n    _classCallCheck(this, VideoController);\n  }\n\n  _createClass(VideoController, [{\n    key: \"upload\",\n    value: function () {\n      var _upload = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(request, response) {\n        var newVideo, saveVideo;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                newVideo = new _Video.videoModel({\n                  owner: request.token._id,\n                  username: request.body.username,\n                  category: request.body.category,\n                  name: request.body.name,\n                  videopath: request.filename\n                });\n                _context.prev = 1;\n                _context.next = 4;\n                return newVideo.save();\n\n              case 4:\n                saveVideo = _context.sent;\n                return _context.abrupt(\"return\", response.status(201).json({\n                  msg: 'Video uploaded successfully'\n                }));\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context[\"catch\"](1);\n                return _context.abrupt(\"return\", response.status(500).json({\n                  msg: 'Video upload failed'\n                }));\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[1, 8]]);\n      }));\n\n      function upload(_x, _x2) {\n        return _upload.apply(this, arguments);\n      }\n\n      return upload;\n    }()\n  }, {\n    key: \"like\",\n    value: function like(request, response) {\n      var video_id = request.params.id;\n\n      _Video.videoModel.findOneAndUpdate({\n        _id: video_id\n      }, {\n        $inc: {\n          likes: 1\n        }\n      }, {\n        \"new\": true\n      }, function (error, doc) {\n        if (error) {\n          return response.status(500).json({\n            msg: 'Network Error: Failed to like video'\n          });\n        }\n\n        return response.status(200).json({\n          msg: 'Video liked'\n        });\n      });\n    }\n  }, {\n    key: \"dislike\",\n    value: function dislike(request, response) {\n      var video_id = request.params.id;\n\n      _Video.videoModel.findOneAndUpdate({\n        _id: video_id\n      }, {\n        $inc: {\n          dislikes: 1\n        }\n      }, {\n        \"new\": true\n      }, function (error, doc) {\n        if (error) {\n          return response.status(500).json({\n            msg: 'Network Error: Failed to like video'\n          });\n        }\n\n        return response.status(200).json({\n          msg: 'Video disliked'\n        });\n      });\n    }\n  }, {\n    key: \"searchVideo\",\n    value: function () {\n      var _searchVideo = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(request, response) {\n        var name, video;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                name = request.query.key;\n                _context2.prev = 1;\n                _context2.next = 4;\n                return _Video.videoModel.find({\n                  name: {\n                    $regex: name.toLowerCase()\n                  }\n                });\n\n              case 4:\n                video = _context2.sent;\n                return _context2.abrupt(\"return\", response.send(video));\n\n              case 8:\n                _context2.prev = 8;\n                _context2.t0 = _context2[\"catch\"](1);\n                return _context2.abrupt(\"return\", response.status(700).json({\n                  msg: 'No matching video'\n                }));\n\n              case 11:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[1, 8]]);\n      }));\n\n      function searchVideo(_x3, _x4) {\n        return _searchVideo.apply(this, arguments);\n      }\n\n      return searchVideo;\n    }() // search all videos and display\n\n  }, {\n    key: \"findAllVideo\",\n    value: function () {\n      var _findAllVideo = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(request, response) {\n        var video;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                _context3.next = 3;\n                return _Video.videoModel.find();\n\n              case 3:\n                video = _context3.sent;\n                return _context3.abrupt(\"return\", response.send(video));\n\n              case 7:\n                _context3.prev = 7;\n                _context3.t0 = _context3[\"catch\"](0);\n                return _context3.abrupt(\"return\", response.status(700).json({\n                  msg: 'No videos'\n                }));\n\n              case 10:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, null, [[0, 7]]);\n      }));\n\n      function findAllVideo(_x5, _x6) {\n        return _findAllVideo.apply(this, arguments);\n      }\n\n      return findAllVideo;\n    }() // search video by username\n\n  }, {\n    key: \"searchUVideo\",\n    value: function () {\n      var _searchUVideo = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(request, response) {\n        var name, video;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                name = request.query.key;\n                _context4.prev = 1;\n                _context4.next = 4;\n                return _Video.videoModel.find({\n                  username: {\n                    $regex: name\n                  }\n                });\n\n              case 4:\n                video = _context4.sent;\n                return _context4.abrupt(\"return\", response.send(video));\n\n              case 8:\n                _context4.prev = 8;\n                _context4.t0 = _context4[\"catch\"](1);\n                return _context4.abrupt(\"return\", response.status(700).json({\n                  msg: 'No matching video'\n                }));\n\n              case 11:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, null, [[1, 8]]);\n      }));\n\n      function searchUVideo(_x7, _x8) {\n        return _searchUVideo.apply(this, arguments);\n      }\n\n      return searchUVideo;\n    }() // search video by category\n\n  }, {\n    key: \"searchCat\",\n    value: function () {\n      var _searchCat = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(request, response) {\n        var cat, video;\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                cat = request.query.key;\n                _context5.prev = 1;\n                _context5.next = 4;\n                return _Video.videoModel.find({\n                  category: {\n                    $regex: cat\n                  }\n                });\n\n              case 4:\n                video = _context5.sent;\n                return _context5.abrupt(\"return\", response.send(video));\n\n              case 8:\n                _context5.prev = 8;\n                _context5.t0 = _context5[\"catch\"](1);\n                return _context5.abrupt(\"return\", response.status(700).json({\n                  msg: 'No matching video'\n                }));\n\n              case 11:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, null, [[1, 8]]);\n      }));\n\n      function searchCat(_x9, _x10) {\n        return _searchCat.apply(this, arguments);\n      }\n\n      return searchCat;\n    }() // stream video \n\n  }, {\n    key: \"stream\",\n    value: function stream(request, response) {\n      var range = request.hearders.range;\n\n      if (!range) {\n        return response.status(400).json({\n          msg: 'Range header is required to start'\n        });\n      }\n\n      var videopath = \"videos/\".concat(request.params.filename);\n\n      var videosize = _fs[\"default\"].statSync(videopath).size; // get video size\n\n\n      var start = Number(range.replace(/\\D/g, \"\")); //get start point \n\n      var chunk_size = Math.pow(10, 6); // 1 mb , chunck size\n\n      var end = Math.min(start + chunk_size, videosize - 1); //end position\n\n      var contenLength = end - start + 1; // how many  size sending\n\n      var hearders = {\n        'Content-Length': contenLength,\n        'Accept-Range': 'bytes',\n        'Content-Type': 'video/mp40',\n        'Content-Range': \"bytes \".concat(start, \" -\").concat(end, \"/\").concat(videosize) //decise how far video gone\n\n      };\n      response.writeHead(206, hearders);\n\n      var videostream = _fs[\"default\"].createReadStream(videopath, {\n        start: start,\n        end: end\n      }); // create video stream\n\n\n      videostream.pipe(response);\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete(request, response) {\n      var video_id = request.params.video_id;\n      var video_path = request.params.video_path;\n      var videopath = \"videos/\".concat(video_path);\n\n      if (_fs[\"default\"].existsSync(videopath)) {\n        _fs[\"default\"].unlink(videopath, function (error) {\n          if (error) {\n            return response.status(500).json({\n              msg: 'Network Error: Failed to delete video'\n            });\n          }\n\n          _Video.videoModel.findOneAndDelete({\n            _id: video_id\n          }, function (error) {\n            if (error) {\n              return response.status(500).json({\n                msg: 'Network Error: Failed to delete video'\n              });\n            }\n\n            return response.status(200).json({\n              msg: ' video delete'\n            });\n          });\n        });\n      }\n    }\n    /*delete(request, response){\r\n        \r\n        const video_id = request.params.video_id;\r\n        const video_path = request.params.video_path;\r\n          const videopath = `videos/${video_path}`;   \r\n        if(fs.existsSync(videopath)){\r\n            fs.unlink(videopath, (error)=>{\r\n                if(error){\r\n                    return response.status(500).json({msg:'Network Error: Failed to delete video'})\r\n                }\r\n                videoModel.findOneAndDelete({_id:video_id}, (error)=>{\r\n                    if (error){\r\n                        return response.status(500).json({msg:'Network Error: Failed to delete video'})\r\n                    }\r\n                    return response.status(200).json({msg:' video delete'})\r\n                })                \r\n            })\r\n        }\r\n    } */\n\n  }]);\n\n  return VideoController;\n}();\n\nexports.VideoController = VideoController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJWaWRlb0NvbnRyb2xsZXIiLCJyZXF1ZXN0IiwicmVzcG9uc2UiLCJuZXdWaWRlbyIsInZpZGVvTW9kZWwiLCJvd25lciIsInRva2VuIiwiX2lkIiwidXNlcm5hbWUiLCJib2R5IiwiY2F0ZWdvcnkiLCJuYW1lIiwidmlkZW9wYXRoIiwiZmlsZW5hbWUiLCJzYXZlIiwic2F2ZVZpZGVvIiwic3RhdHVzIiwianNvbiIsIm1zZyIsInZpZGVvX2lkIiwicGFyYW1zIiwiaWQiLCJmaW5kT25lQW5kVXBkYXRlIiwiJGluYyIsImxpa2VzIiwiZXJyb3IiLCJkb2MiLCJkaXNsaWtlcyIsInF1ZXJ5Iiwia2V5IiwiZmluZCIsIiRyZWdleCIsInRvTG93ZXJDYXNlIiwidmlkZW8iLCJzZW5kIiwiY2F0IiwicmFuZ2UiLCJoZWFyZGVycyIsInZpZGVvc2l6ZSIsImZzIiwic3RhdFN5bmMiLCJzaXplIiwic3RhcnQiLCJOdW1iZXIiLCJyZXBsYWNlIiwiY2h1bmtfc2l6ZSIsImVuZCIsIk1hdGgiLCJtaW4iLCJjb250ZW5MZW5ndGgiLCJ3cml0ZUhlYWQiLCJ2aWRlb3N0cmVhbSIsImNyZWF0ZVJlYWRTdHJlYW0iLCJwaXBlIiwidmlkZW9fcGF0aCIsImV4aXN0c1N5bmMiLCJ1bmxpbmsiLCJmaW5kT25lQW5kRGVsZXRlIl0sInNvdXJjZVJvb3QiOiJEOlxcU2Nob29sXFxJVCBQcm9qZWN0XFxJVC1QUk9KRUNUXFxiYWNrZW5kM1xcc3JjXFxDb250cm9sbGVyXFwiLCJzb3VyY2VzIjpbIlZpZGVvLmNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdmlkZW9Nb2RlbCB9IGZyb20gJy4uL01vZGVscy9WaWRlby5tb2RlbCdcclxuaW1wb3J0IGZzIGZyb20gJ2ZzJ1xyXG5pbXBvcnQgeyBOT05BTUUgfSBmcm9tICdkbnMnXHJcblxyXG5leHBvcnQgY2xhc3MgVmlkZW9Db250cm9sbGVye1xyXG4gICAgYXN5bmMgdXBsb2FkKHJlcXVlc3QsIHJlc3BvbnNlKXtcclxuXHJcbiAgICAgICAgY29uc3QgbmV3VmlkZW8gPSBuZXcgdmlkZW9Nb2RlbCh7XHJcbiAgICAgICAgICAgIG93bmVyOnJlcXVlc3QudG9rZW4uX2lkLFxyXG4gICAgICAgICAgICB1c2VybmFtZTpyZXF1ZXN0LmJvZHkudXNlcm5hbWUsXHJcbiAgICAgICAgICAgIGNhdGVnb3J5OnJlcXVlc3QuYm9keS5jYXRlZ29yeSxcclxuICAgICAgICAgICAgbmFtZTpyZXF1ZXN0LmJvZHkubmFtZSxcclxuICAgICAgICAgICAgdmlkZW9wYXRoOnJlcXVlc3QuZmlsZW5hbWVcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBzYXZlVmlkZW8gPSBhd2FpdCBuZXdWaWRlby5zYXZlKClcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cygyMDEpLmpzb24oe21zZzonVmlkZW8gdXBsb2FkZWQgc3VjY2Vzc2Z1bGx5J30pXHJcbiAgICAgICAgfWNhdGNoIChlcnJvcil7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHttc2c6J1ZpZGVvIHVwbG9hZCBmYWlsZWQnfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuXHJcbiAgICBsaWtlIChyZXF1ZXN0LCByZXNwb25zZSl7XHJcbiAgICAgICAgY29uc3QgdmlkZW9faWQgPSByZXF1ZXN0LnBhcmFtcy5pZDtcclxuICAgICAgICB2aWRlb01vZGVsLmZpbmRPbmVBbmRVcGRhdGUoe19pZDp2aWRlb19pZH0sIHskaW5jOntsaWtlczoxfX0sXHJcbiAgICAgICAgICAgIHtuZXc6dHJ1ZX0sIChlcnJvcixkb2MpPT57XHJcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3Ipe1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHttc2c6J05ldHdvcmsgRXJyb3I6IEZhaWxlZCB0byBsaWtlIHZpZGVvJ30pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7bXNnOidWaWRlbyBsaWtlZCd9KVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIGRpc2xpa2UgKHJlcXVlc3QsIHJlc3BvbnNlKXtcclxuICAgICAgICBjb25zdCB2aWRlb19pZCA9IHJlcXVlc3QucGFyYW1zLmlkO1xyXG4gICAgICAgIHZpZGVvTW9kZWwuZmluZE9uZUFuZFVwZGF0ZSh7X2lkOnZpZGVvX2lkfSwgeyRpbmM6e2Rpc2xpa2VzOjF9fSxcclxuICAgICAgICAgICAge25ldzp0cnVlfSwgKGVycm9yLGRvYyk9PntcclxuICAgICAgICAgICAgICAgIGlmIChlcnJvcil7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oe21zZzonTmV0d29yayBFcnJvcjogRmFpbGVkIHRvIGxpa2UgdmlkZW8nfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHttc2c6J1ZpZGVvIGRpc2xpa2VkJ30pXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgc2VhcmNoVmlkZW8gKHJlcXVlc3QsIHJlc3BvbnNlKXtcclxuICAgICAgICBjb25zdCBuYW1lID0gcmVxdWVzdC5xdWVyeS5rZXk7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdmlkZW8gPSBhd2FpdCB2aWRlb01vZGVsLmZpbmQoe25hbWU6ICB7JHJlZ2V4OiBuYW1lLnRvTG93ZXJDYXNlKCkgfSAgfSlcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zZW5kKHZpZGVvKSAgICAgXHJcblxyXG4gICAgICAgICAgICB9Y2F0Y2goZXJyb3Ipe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg3MDApLmpzb24oe21zZzonTm8gbWF0Y2hpbmcgdmlkZW8nfSlcclxuICAgICAgICAgICAgfSAgIFxyXG4gICAgfVxyXG5cclxuICAgIC8vIHNlYXJjaCBhbGwgdmlkZW9zIGFuZCBkaXNwbGF5XHJcbiAgICBhc3luYyBmaW5kQWxsVmlkZW8ocmVxdWVzdCwgcmVzcG9uc2UpIHtcclxuXHJcbiAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgdmlkZW8gPSBhd2FpdCB2aWRlb01vZGVsLmZpbmQoKVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc2VuZCh2aWRlbykgICAgIFxyXG5cclxuICAgICAgICB9Y2F0Y2goZXJyb3Ipe1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDcwMCkuanNvbih7bXNnOidObyB2aWRlb3MnfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBzZWFyY2ggdmlkZW8gYnkgdXNlcm5hbWVcclxuICAgIGFzeW5jIHNlYXJjaFVWaWRlbyAocmVxdWVzdCwgcmVzcG9uc2Upe1xyXG4gICAgICAgIGNvbnN0IG5hbWUgPSByZXF1ZXN0LnF1ZXJ5LmtleTtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGxldCB2aWRlbyA9IGF3YWl0IHZpZGVvTW9kZWwuZmluZCh7dXNlcm5hbWU6ICB7JHJlZ2V4OiBuYW1lIH0gIH0pXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc2VuZCh2aWRlbykgICAgIFxyXG5cclxuICAgICAgICAgICAgfWNhdGNoKGVycm9yKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNzAwKS5qc29uKHttc2c6J05vIG1hdGNoaW5nIHZpZGVvJ30pXHJcbiAgICAgICAgICAgIH0gICBcclxuICAgIH1cclxuXHJcbiAgICAvLyBzZWFyY2ggdmlkZW8gYnkgY2F0ZWdvcnlcclxuICAgIGFzeW5jIHNlYXJjaENhdCAocmVxdWVzdCwgcmVzcG9uc2Upe1xyXG4gICAgICAgIGNvbnN0IGNhdCA9IHJlcXVlc3QucXVlcnkua2V5O1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHZpZGVvID0gYXdhaXQgdmlkZW9Nb2RlbC5maW5kKHtjYXRlZ29yeTogIHskcmVnZXg6IGNhdCB9ICB9KVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnNlbmQodmlkZW8pICAgICBcclxuXHJcbiAgICAgICAgICAgIH1jYXRjaChlcnJvcil7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDcwMCkuanNvbih7bXNnOidObyBtYXRjaGluZyB2aWRlbyd9KVxyXG4gICAgICAgICAgICB9ICAgXHJcbiAgICB9ICAgIFxyXG5cclxuICAgIC8vIHN0cmVhbSB2aWRlbyBcclxuICAgIHN0cmVhbShyZXF1ZXN0LCByZXNwb25zZSl7XHJcbiAgICAgICAgY29uc3QgcmFuZ2UgPSByZXF1ZXN0LmhlYXJkZXJzLnJhbmdlXHJcbiAgICAgICAgaWYoIXJhbmdlKXtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg0MDApLmpzb24oe21zZzonUmFuZ2UgaGVhZGVyIGlzIHJlcXVpcmVkIHRvIHN0YXJ0J30pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHZpZGVvcGF0aCA9IGB2aWRlb3MvJHtyZXF1ZXN0LnBhcmFtcy5maWxlbmFtZX1gO1xyXG4gICAgICAgIGNvbnN0IHZpZGVvc2l6ZSA9IGZzLnN0YXRTeW5jKHZpZGVvcGF0aCkuc2l6ZTsgIC8vIGdldCB2aWRlbyBzaXplXHJcblxyXG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gTnVtYmVyKHJhbmdlLnJlcGxhY2UoL1xcRC9nLCBcIlwiKSk7ICAvL2dldCBzdGFydCBwb2ludCBcclxuICAgICAgICBjb25zdCBjaHVua19zaXplID0gMTAqKjYgLy8gMSBtYiAsIGNodW5jayBzaXplXHJcbiAgICAgICAgY29uc3QgZW5kID0gTWF0aC5taW4oc3RhcnQgKyBjaHVua19zaXplLCB2aWRlb3NpemUgLSAxKTsgICAvL2VuZCBwb3NpdGlvblxyXG5cclxuICAgICAgICBjb25zdCBjb250ZW5MZW5ndGggPSBlbmQgLSBzdGFydCArIDEgIC8vIGhvdyBtYW55ICBzaXplIHNlbmRpbmdcclxuICAgICAgICBjb25zdCBoZWFyZGVycyA9IHtcclxuICAgICAgICAgICAgJ0NvbnRlbnQtTGVuZ3RoJyA6IGNvbnRlbkxlbmd0aCxcclxuICAgICAgICAgICAgJ0FjY2VwdC1SYW5nZSc6ICdieXRlcycsXHJcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAndmlkZW8vbXA0MCcsXHJcbiAgICAgICAgICAgICdDb250ZW50LVJhbmdlJzogYGJ5dGVzICR7c3RhcnR9IC0ke2VuZH0vJHt2aWRlb3NpemV9YCAgIC8vZGVjaXNlIGhvdyBmYXIgdmlkZW8gZ29uZVxyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgcmVzcG9uc2Uud3JpdGVIZWFkKDIwNiwgaGVhcmRlcnMpOyAgIFxyXG4gICAgICAgIGNvbnN0IHZpZGVvc3RyZWFtID0gZnMuY3JlYXRlUmVhZFN0cmVhbSh2aWRlb3BhdGgsIHtzdGFydCwgZW5kfSk7IC8vIGNyZWF0ZSB2aWRlbyBzdHJlYW1cclxuICAgICAgICB2aWRlb3N0cmVhbS5waXBlKHJlc3BvbnNlKSAgIFxyXG4gICAgfVxyXG4gICAgIFxyXG4gICAgZGVsZXRlKHJlcXVlc3QsIHJlc3BvbnNlKXtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCB2aWRlb19pZCA9IHJlcXVlc3QucGFyYW1zLnZpZGVvX2lkO1xyXG4gICAgICAgIGNvbnN0IHZpZGVvX3BhdGggPSByZXF1ZXN0LnBhcmFtcy52aWRlb19wYXRoO1xyXG5cclxuICAgICAgICBjb25zdCB2aWRlb3BhdGggPSBgdmlkZW9zLyR7dmlkZW9fcGF0aH1gOyAgIFxyXG4gICAgICAgIGlmKGZzLmV4aXN0c1N5bmModmlkZW9wYXRoKSl7XHJcbiAgICAgICAgICAgIGZzLnVubGluayh2aWRlb3BhdGgsIChlcnJvcik9PntcclxuICAgICAgICAgICAgICAgIGlmKGVycm9yKXtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7bXNnOidOZXR3b3JrIEVycm9yOiBGYWlsZWQgdG8gZGVsZXRlIHZpZGVvJ30pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2aWRlb01vZGVsLmZpbmRPbmVBbmREZWxldGUoe19pZDp2aWRlb19pZH0sIChlcnJvcik9PntcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3Ipe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7bXNnOidOZXR3b3JrIEVycm9yOiBGYWlsZWQgdG8gZGVsZXRlIHZpZGVvJ30pXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHttc2c6JyB2aWRlbyBkZWxldGUnfSlcclxuICAgICAgICAgICAgICAgIH0pICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKmRlbGV0ZShyZXF1ZXN0LCByZXNwb25zZSl7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgdmlkZW9faWQgPSByZXF1ZXN0LnBhcmFtcy52aWRlb19pZDtcclxuICAgICAgICBjb25zdCB2aWRlb19wYXRoID0gcmVxdWVzdC5wYXJhbXMudmlkZW9fcGF0aDtcclxuXHJcbiAgICAgICAgY29uc3QgdmlkZW9wYXRoID0gYHZpZGVvcy8ke3ZpZGVvX3BhdGh9YDsgICBcclxuICAgICAgICBpZihmcy5leGlzdHNTeW5jKHZpZGVvcGF0aCkpe1xyXG4gICAgICAgICAgICBmcy51bmxpbmsodmlkZW9wYXRoLCAoZXJyb3IpPT57XHJcbiAgICAgICAgICAgICAgICBpZihlcnJvcil7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oe21zZzonTmV0d29yayBFcnJvcjogRmFpbGVkIHRvIGRlbGV0ZSB2aWRlbyd9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmlkZW9Nb2RlbC5maW5kT25lQW5kRGVsZXRlKHtfaWQ6dmlkZW9faWR9LCAoZXJyb3IpPT57XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oe21zZzonTmV0d29yayBFcnJvcjogRmFpbGVkIHRvIGRlbGV0ZSB2aWRlbyd9KVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7bXNnOicgdmlkZW8gZGVsZXRlJ30pXHJcbiAgICAgICAgICAgICAgICB9KSAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9ICovXHJcblxyXG4gICAgIFxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7OzsrQ0FEQSxvSjs7Ozs7Ozs7Ozs7O0lBR2FBLGU7Ozs7Ozs7OytFQUNULGlCQUFhQyxPQUFiLEVBQXNCQyxRQUF0QjtRQUFBO1FBQUE7VUFBQTtZQUFBO2NBQUE7Z0JBRVVDLFFBRlYsR0FFcUIsSUFBSUMsaUJBQUosQ0FBZTtrQkFDNUJDLEtBQUssRUFBQ0osT0FBTyxDQUFDSyxLQUFSLENBQWNDLEdBRFE7a0JBRTVCQyxRQUFRLEVBQUNQLE9BQU8sQ0FBQ1EsSUFBUixDQUFhRCxRQUZNO2tCQUc1QkUsUUFBUSxFQUFDVCxPQUFPLENBQUNRLElBQVIsQ0FBYUMsUUFITTtr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","map":{"version":3,"names":["VideoController","request","response","newVideo","videoModel","owner","token","_id","username","body","category","name","videopath","filename","save","saveVideo","status","json","msg","video_id","params","id","findOneAndUpdate","$inc","likes","error","doc","dislikes","query","key","find","$regex","toLowerCase","video","send","cat","range","hearders","videosize","fs","statSync","size","start","Number","replace","chunk_size","end","Math","min","contenLength","writeHead","videostream","createReadStream","pipe","video_path","existsSync","unlink","findOneAndDelete"],"sourceRoot":"D:\\School\\IT Project\\IT-PROJECT\\backend3\\src\\Controller\\","sources":["Video.controller.js"],"sourcesContent":["import { videoModel } from '../Models/Video.model'\r\nimport fs from 'fs'\r\nimport { NONAME } from 'dns'\r\n\r\nexport class VideoController{\r\n    async upload(request, response){\r\n\r\n        const newVideo = new videoModel({\r\n            owner:request.token._id,\r\n            username:request.body.username,\r\n            category:request.body.category,\r\n            name:request.body.name,\r\n            videopath:request.filename\r\n        })\r\n\r\n        try {\r\n            const saveVideo = await newVideo.save()\r\n            return response.status(201).json({msg:'Video uploaded successfully'})\r\n        }catch (error){\r\n            return response.status(500).json({msg:'Video upload failed'})\r\n        }\r\n    }\r\n    \r\n\r\n    like (request, response){\r\n        const video_id = request.params.id;\r\n        videoModel.findOneAndUpdate({_id:video_id}, {$inc:{likes:1}},\r\n            {new:true}, (error,doc)=>{\r\n                if (error){\r\n                    return response.status(500).json({msg:'Network Error: Failed to like video'})\r\n                }\r\n                return response.status(200).json({msg:'Video liked'})\r\n            })\r\n    }\r\n\r\n    dislike (request, response){\r\n        const video_id = request.params.id;\r\n        videoModel.findOneAndUpdate({_id:video_id}, {$inc:{dislikes:1}},\r\n            {new:true}, (error,doc)=>{\r\n                if (error){\r\n                    return response.status(500).json({msg:'Network Error: Failed to like video'})\r\n                }\r\n                return response.status(200).json({msg:'Video disliked'})\r\n            })\r\n    }\r\n\r\n    async searchVideo (request, response){\r\n        const name = request.query.key;\r\n            try {\r\n                let video = await videoModel.find({name:  {$regex: name.toLowerCase() }  })\r\n                return response.send(video)     \r\n\r\n            }catch(error){\r\n                return response.status(700).json({msg:'No matching video'})\r\n            }   \r\n    }\r\n\r\n    // search all videos and display\r\n    async findAllVideo(request, response) {\r\n\r\n       try {\r\n            let video = await videoModel.find()\r\n            return response.send(video)     \r\n\r\n        }catch(error){\r\n            return response.status(700).json({msg:'No videos'})\r\n        }\r\n    }\r\n    // search video by username\r\n    async searchUVideo (request, response){\r\n        const name = request.query.key;\r\n            try {\r\n                let video = await videoModel.find({username:  {$regex: name }  })\r\n                return response.send(video)     \r\n\r\n            }catch(error){\r\n                return response.status(700).json({msg:'No matching video'})\r\n            }   \r\n    }\r\n\r\n    // search video by category\r\n    async searchCat (request, response){\r\n        const cat = request.query.key;\r\n            try {\r\n                let video = await videoModel.find({category:  {$regex: cat }  })\r\n                return response.send(video)     \r\n\r\n            }catch(error){\r\n                return response.status(700).json({msg:'No matching video'})\r\n            }   \r\n    }    \r\n\r\n    // stream video \r\n    stream(request, response){\r\n        const range = request.hearders.range\r\n        if(!range){\r\n            return response.status(400).json({msg:'Range header is required to start'})\r\n        }\r\n        const videopath = `videos/${request.params.filename}`;\r\n        const videosize = fs.statSync(videopath).size;  // get video size\r\n\r\n        const start = Number(range.replace(/\\D/g, \"\"));  //get start point \r\n        const chunk_size = 10**6 // 1 mb , chunck size\r\n        const end = Math.min(start + chunk_size, videosize - 1);   //end position\r\n\r\n        const contenLength = end - start + 1  // how many  size sending\r\n        const hearders = {\r\n            'Content-Length' : contenLength,\r\n            'Accept-Range': 'bytes',\r\n            'Content-Type': 'video/mp40',\r\n            'Content-Range': `bytes ${start} -${end}/${videosize}`   //decise how far video gone\r\n\r\n        }\r\n        response.writeHead(206, hearders);   \r\n        const videostream = fs.createReadStream(videopath, {start, end}); // create video stream\r\n        videostream.pipe(response)   \r\n    }\r\n     \r\n    delete(request, response){\r\n        \r\n        const video_id = request.params.video_id;\r\n        const video_path = request.params.video_path;\r\n\r\n        const videopath = `videos/${video_path}`;   \r\n        if(fs.existsSync(videopath)){\r\n            fs.unlink(videopath, (error)=>{\r\n                if(error){\r\n                    return response.status(500).json({msg:'Network Error: Failed to delete video'})\r\n                }\r\n                videoModel.findOneAndDelete({_id:video_id}, (error)=>{\r\n                    if (error){\r\n                        return response.status(500).json({msg:'Network Error: Failed to delete video'})\r\n                    }\r\n                    return response.status(200).json({msg:' video delete'})\r\n                })                \r\n            })\r\n        }\r\n    }\r\n\r\n    /*delete(request, response){\r\n        \r\n        const video_id = request.params.video_id;\r\n        const video_path = request.params.video_path;\r\n\r\n        const videopath = `videos/${video_path}`;   \r\n        if(fs.existsSync(videopath)){\r\n            fs.unlink(videopath, (error)=>{\r\n                if(error){\r\n                    return response.status(500).json({msg:'Network Error: Failed to delete video'})\r\n                }\r\n                videoModel.findOneAndDelete({_id:video_id}, (error)=>{\r\n                    if (error){\r\n                        return response.status(500).json({msg:'Network Error: Failed to delete video'})\r\n                    }\r\n                    return response.status(200).json({msg:' video delete'})\r\n                })                \r\n            })\r\n        }\r\n    } */\r\n\r\n     \r\n}"],"mappings":"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"}},"mtime":1665548626060},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"filename\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Models\\\\Video.model.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.videoModel = void 0;\n\nvar _mongoose = require(\"mongoose\");\n\nvar videoSchema = new _mongoose.Schema({\n  owner: {\n    type: _mongoose.Schema.Types.ObjectId,\n    ref: 'user'\n  },\n  username: {\n    type: String\n  },\n  name: {\n    type: String,\n    required: [true, 'Upload video needs a video name']\n  },\n  videopath: {\n    type: String,\n    required: [true, 'Upload video needs a video path'],\n    unique: [true, 'Video path already exist']\n  },\n  category: {\n    type: String,\n    \"enum\": [\"Sports\", \"News\", \"Tech\", \"Others\"],\n    required: true\n  },\n  likes: {\n    type: Number,\n    \"default\": 0\n  },\n  dislikes: {\n    type: Number,\n    \"default\": 0\n  },\n  views: {\n    type: Array,\n    \"default\": []\n  },\n  comments: {\n    type: Array,\n    \"default\": []\n  }\n});\nvar videoModel = (0, _mongoose.model)('video', videoSchema);\nexports.videoModel = videoModel;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ2aWRlb1NjaGVtYSIsIlNjaGVtYSIsIm93bmVyIiwidHlwZSIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJ1c2VybmFtZSIsIlN0cmluZyIsIm5hbWUiLCJyZXF1aXJlZCIsInZpZGVvcGF0aCIsInVuaXF1ZSIsImNhdGVnb3J5IiwibGlrZXMiLCJOdW1iZXIiLCJkaXNsaWtlcyIsInZpZXdzIiwiQXJyYXkiLCJjb21tZW50cyIsInZpZGVvTW9kZWwiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiRDpcXFNjaG9vbFxcSVQgUHJvamVjdFxcSVQtUFJPSkVDVFxcYmFja2VuZDNcXHNyY1xcTW9kZWxzXFwiLCJzb3VyY2VzIjpbIlZpZGVvLm1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNjaGVtYSwgbW9kZWx9IGZyb20gJ21vbmdvb3NlJ1xyXG5cclxuY29uc3QgdmlkZW9TY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICAgIG93bmVyOntcclxuICAgICAgICB0eXBlOlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcclxuICAgICAgICByZWY6J3VzZXInXHJcbiAgICB9LFxyXG4gICAgdXNlcm5hbWU6e1xyXG4gICAgICAgIHR5cGU6U3RyaW5nLFxyXG4gICAgfSxcclxuICAgIG5hbWU6e1xyXG4gICAgICAgIHR5cGU6U3RyaW5nLFxyXG4gICAgICAgIHJlcXVpcmVkOlt0cnVlLCAnVXBsb2FkIHZpZGVvIG5lZWRzIGEgdmlkZW8gbmFtZSddXHJcbiAgICB9LFxyXG4gICAgdmlkZW9wYXRoOntcclxuICAgICAgICB0eXBlOlN0cmluZyxcclxuICAgICAgICByZXF1aXJlZDpbdHJ1ZSwgJ1VwbG9hZCB2aWRlbyBuZWVkcyBhIHZpZGVvIHBhdGgnXSxcclxuICAgICAgICB1bmlxdWU6W3RydWUsICdWaWRlbyBwYXRoIGFscmVhZHkgZXhpc3QnXVxyXG4gICAgfSxcclxuICAgIGNhdGVnb3J5OntcclxuICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgZW51bTogW1wiU3BvcnRzXCIsIFwiTmV3c1wiLCBcIlRlY2hcIiwgXCJPdGhlcnNcIl0sXHJcbiAgICAgICAgcmVxdWlyZWQ6IHRydWVcclxuICAgIH0sXHJcbiAgICBsaWtlczp7XHJcbiAgICAgICAgdHlwZTpOdW1iZXIsXHJcbiAgICAgICAgZGVmYXVsdDowXHJcbiAgICB9LFxyXG4gICAgZGlzbGlrZXM6e1xyXG4gICAgICAgIHR5cGU6TnVtYmVyLFxyXG4gICAgICAgIGRlZmF1bHQ6MFxyXG4gICAgfSxcclxuICAgIHZpZXdzOntcclxuICAgICAgICB0eXBlOkFycmF5LFxyXG4gICAgICAgIGRlZmF1bHQ6W11cclxuICAgIH0sXHJcbiAgICBjb21tZW50czp7XHJcbiAgICAgICAgdHlwZTogQXJyYXksXHJcbiAgICAgICAgZGVmYXVsdDpbXVxyXG4gICAgfVxyXG5cclxufSlcclxuZXhwb3J0IGNvbnN0IHZpZGVvTW9kZWwgPSBtb2RlbCgndmlkZW8nLHZpZGVvU2NoZW1hKSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUVBLElBQU1BLFdBQVcsR0FBRyxJQUFJQyxnQkFBSixDQUFXO0VBQzNCQyxLQUFLLEVBQUM7SUFDRkMsSUFBSSxFQUFDRixnQkFBQSxDQUFPRyxLQUFQLENBQWFDLFFBRGhCO0lBRUZDLEdBQUcsRUFBQztFQUZGLENBRHFCO0VBSzNCQyxRQUFRLEVBQUM7SUFDTEosSUFBSSxFQUFDSztFQURBLENBTGtCO0VBUTNCQyxJQUFJLEVBQUM7SUFDRE4sSUFBSSxFQUFDSyxNQURKO0lBRURFLFFBQVEsRUFBQyxDQUFDLElBQUQsRUFBTyxpQ0FBUDtFQUZSLENBUnNCO0VBWTNCQyxTQUFTLEVBQUM7SUFDTlIsSUFBSSxFQUFDSyxNQURDO0lBRU5FLFFBQVEsRUFBQyxDQUFDLElBQUQsRUFBTyxpQ0FBUCxDQUZIO0lBR05FLE1BQU0sRUFBQyxDQUFDLElBQUQsRUFBTywwQkFBUDtFQUhELENBWmlCO0VBaUIzQkMsUUFBUSxFQUFDO0lBQ0xWLElBQUksRUFBRUssTUFERDtJQUVMLFFBQU0sQ0FBQyxRQUFELEVBQVcsTUFBWCxFQUFtQixNQUFuQixFQUEyQixRQUEzQixDQUZEO0lBR0xFLFFBQVEsRUFBRTtFQUhMLENBakJrQjtFQXNCM0JJLEtBQUssRUFBQztJQUNGWCxJQUFJLEVBQUNZLE1BREg7SUFFRixXQUFRO0VBRk4sQ0F0QnFCO0VBMEIzQkMsUUFBUSxFQUFDO0lBQ0xiLElBQUksRUFBQ1ksTUFEQTtJQUVMLFdBQVE7RUFGSCxDQTFCa0I7RUE4QjNCRSxLQUFLLEVBQUM7SUFDRmQsSUFBSSxFQUFDZSxLQURIO0lBRUYsV0FBUTtFQUZOLENBOUJxQjtFQWtDM0JDLFFBQVEsRUFBQztJQUNMaEIsSUFBSSxFQUFFZSxLQUREO0lBRUwsV0FBUTtFQUZIO0FBbENrQixDQUFYLENBQXBCO0FBd0NPLElBQU1FLFVBQVUsR0FBRyxJQUFBQyxlQUFBLEVBQU0sT0FBTixFQUFjckIsV0FBZCxDQUFuQiJ9","map":{"version":3,"names":["videoSchema","Schema","owner","type","Types","ObjectId","ref","username","String","name","required","videopath","unique","category","likes","Number","dislikes","views","Array","comments","videoModel","model"],"sourceRoot":"D:\\School\\IT Project\\IT-PROJECT\\backend3\\src\\Models\\","sources":["Video.model.js"],"sourcesContent":["import { Schema, model} from 'mongoose'\r\n\r\nconst videoSchema = new Schema({\r\n    owner:{\r\n        type:Schema.Types.ObjectId,\r\n        ref:'user'\r\n    },\r\n    username:{\r\n        type:String,\r\n    },\r\n    name:{\r\n        type:String,\r\n        required:[true, 'Upload video needs a video name']\r\n    },\r\n    videopath:{\r\n        type:String,\r\n        required:[true, 'Upload video needs a video path'],\r\n        unique:[true, 'Video path already exist']\r\n    },\r\n    category:{\r\n        type: String,\r\n        enum: [\"Sports\", \"News\", \"Tech\", \"Others\"],\r\n        required: true\r\n    },\r\n    likes:{\r\n        type:Number,\r\n        default:0\r\n    },\r\n    dislikes:{\r\n        type:Number,\r\n        default:0\r\n    },\r\n    views:{\r\n        type:Array,\r\n        default:[]\r\n    },\r\n    comments:{\r\n        type: Array,\r\n        default:[]\r\n    }\r\n\r\n})\r\nexport const videoModel = model('video',videoSchema)"],"mappings":";;;;;;;AAAA;;AAEA,IAAMA,WAAW,GAAG,IAAIC,gBAAJ,CAAW;EAC3BC,KAAK,EAAC;IACFC,IAAI,EAACF,gBAAA,CAAOG,KAAP,CAAaC,QADhB;IAEFC,GAAG,EAAC;EAFF,CADqB;EAK3BC,QAAQ,EAAC;IACLJ,IAAI,EAACK;EADA,CALkB;EAQ3BC,IAAI,EAAC;IACDN,IAAI,EAACK,MADJ;IAEDE,QAAQ,EAAC,CAAC,IAAD,EAAO,iCAAP;EAFR,CARsB;EAY3BC,SAAS,EAAC;IACNR,IAAI,EAACK,MADC;IAENE,QAAQ,EAAC,CAAC,IAAD,EAAO,iCAAP,CAFH;IAGNE,MAAM,EAAC,CAAC,IAAD,EAAO,0BAAP;EAHD,CAZiB;EAiB3BC,QAAQ,EAAC;IACLV,IAAI,EAAEK,MADD;IAEL,QAAM,CAAC,QAAD,EAAW,MAAX,EAAmB,MAAnB,EAA2B,QAA3B,CAFD;IAGLE,QAAQ,EAAE;EAHL,CAjBkB;EAsB3BI,KAAK,EAAC;IACFX,IAAI,EAACY,MADH;IAEF,WAAQ;EAFN,CAtBqB;EA0B3BC,QAAQ,EAAC;IACLb,IAAI,EAACY,MADA;IAEL,WAAQ;EAFH,CA1BkB;EA8B3BE,KAAK,EAAC;IACFd,IAAI,EAACe,KADH;IAEF,WAAQ;EAFN,CA9BqB;EAkC3BC,QAAQ,EAAC;IACLhB,IAAI,EAAEe,KADD;IAEL,WAAQ;EAFH;AAlCkB,CAAX,CAApB;AAwCO,IAAME,UAAU,GAAG,IAAAC,eAAA,EAAM,OAAN,EAAcrB,WAAd,CAAnB"}},"mtime":1665550104194},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"filename\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _mongoose = require(\"mongoose\");\n\nvar _dotenv = require(\"dotenv\");\n\nvar _Auth = _interopRequireDefault(require(\"./Routes/Auth.routes\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _Video = _interopRequireDefault(require(\"./Routes/Video.routes\"));\n\nvar _process$env$PORT;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n(0, _dotenv.config)();\nvar server = (0, _express[\"default\"])(); //==============MiddleWares===========================================\n\nserver.use((0, _cors[\"default\"])()); //==========mongo DB connection========================================\n\nvar mongoURI = process.env.mongoURI;\n(0, _mongoose.connect)(mongoURI, function (error) {\n  if (error) {\n    return console.log(error);\n  }\n\n  console.log('connection to mongo DB successful!!!');\n}); //==============================server endpoints=============================\n\nserver.use(_Auth[\"default\"]);\nserver.use(_Video[\"default\"]);\nvar PORT = (_process$env$PORT = process.env.PORT) !== null && _process$env$PORT !== void 0 ? _process$env$PORT : 3000;\nserver.listen(PORT, function () {\n  console.log(\"Server started on PORT \".concat(PORT));\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25maWciLCJzZXJ2ZXIiLCJleHByZXNzIiwidXNlIiwiY29ycyIsIm1vbmdvVVJJIiwicHJvY2VzcyIsImVudiIsImNvbm5lY3QiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJBdXRoUm91dGVzIiwiVmlkZW9Sb3V0ZXMiLCJQT1JUIiwibGlzdGVuIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXDExNzgxXFxEb2N1bWVudHNcXEdpdEh1YlxcSVQtUFJPSkVDVFxcYmFja2VuZDNcXHNyY1xcIiwic291cmNlcyI6WyJzZXJ2ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XHJcbmltcG9ydHsgY29ubmVjdCB9IGZyb20gJ21vbmdvb3NlJztcclxuaW1wb3J0eyBjb25maWcgfSBmcm9tICdkb3RlbnYnO1xyXG5pbXBvcnQgQXV0aFJvdXRlcyBmcm9tICcuL1JvdXRlcy9BdXRoLnJvdXRlcydcclxuaW1wb3J0IGNvcnMgZnJvbSAnY29ycydcclxuaW1wb3J0IFZpZGVvUm91dGVzIGZyb20gJy4vUm91dGVzL1ZpZGVvLnJvdXRlcydcclxuXHJcbmNvbmZpZygpO1xyXG5cclxuY29uc3Qgc2VydmVyID0gZXhwcmVzcygpO1xyXG4vLz09PT09PT09PT09PT09TWlkZGxlV2FyZXM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbnNlcnZlci51c2UoY29ycygpKVxyXG4vLz09PT09PT09PT1tb25nbyBEQiBjb25uZWN0aW9uPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5jb25zdCBtb25nb1VSSSA9IHByb2Nlc3MuZW52Lm1vbmdvVVJJO1xyXG5jb25uZWN0KG1vbmdvVVJJLCAoZXJyb3IpPT57XHJcbiAgICBpZihlcnJvcil7XHJcbiAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgIH1cclxuICAgIGNvbnNvbGUubG9nKCdjb25uZWN0aW9uIHRvIG1vbmdvIERCIHN1Y2Nlc3NmdWwhISEnKVxyXG59KVxyXG5cclxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1zZXJ2ZXIgZW5kcG9pbnRzPT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuc2VydmVyLnVzZShBdXRoUm91dGVzKVxyXG5zZXJ2ZXIudXNlKFZpZGVvUm91dGVzKVxyXG5cclxuY29uc3QgUE9SVCA9IHByb2Nlc3MuZW52LlBPUlQgPz8gMzAwMDtcclxuXHJcblxyXG5zZXJ2ZXIubGlzdGVuKFBPUlQsICgpPT57XHJcbiAgICBjb25zb2xlLmxvZyhgU2VydmVyIHN0YXJ0ZWQgb24gUE9SVCAke1BPUlR9YClcclxufSkiXSwibWFwcGluZ3MiOiI7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7OztBQUVBLElBQUFBLGNBQUE7QUFFQSxJQUFNQyxNQUFNLEdBQUcsSUFBQUMsbUJBQUEsR0FBZixDLENBQ0E7O0FBQ0FELE1BQU0sQ0FBQ0UsR0FBUCxDQUFXLElBQUFDLGdCQUFBLEdBQVgsRSxDQUNBOztBQUNBLElBQU1DLFFBQVEsR0FBR0MsT0FBTyxDQUFDQyxHQUFSLENBQVlGLFFBQTdCO0FBQ0EsSUFBQUcsaUJBQUEsRUFBUUgsUUFBUixFQUFrQixVQUFDSSxLQUFELEVBQVM7RUFDdkIsSUFBR0EsS0FBSCxFQUFTO0lBQ0wsT0FBT0MsT0FBTyxDQUFDQyxHQUFSLENBQVlGLEtBQVosQ0FBUDtFQUNIOztFQUNEQyxPQUFPLENBQUNDLEdBQVIsQ0FBWSxzQ0FBWjtBQUNILENBTEQsRSxDQU9BOztBQUNBVixNQUFNLENBQUNFLEdBQVAsQ0FBV1MsZ0JBQVg7QUFDQVgsTUFBTSxDQUFDRSxHQUFQLENBQVdVLGlCQUFYO0FBRUEsSUFBTUMsSUFBSSx3QkFBR1IsT0FBTyxDQUFDQyxHQUFSLENBQVlPLElBQWYsaUVBQXVCLElBQWpDO0FBR0FiLE1BQU0sQ0FBQ2MsTUFBUCxDQUFjRCxJQUFkLEVBQW9CLFlBQUk7RUFDcEJKLE9BQU8sQ0FBQ0MsR0FBUixrQ0FBc0NHLElBQXRDO0FBQ0gsQ0FGRCJ9","map":{"version":3,"names":["config","server","express","use","cors","mongoURI","process","env","connect","error","console","log","AuthRoutes","VideoRoutes","PORT","listen"],"sourceRoot":"C:\\Users\\11781\\Documents\\GitHub\\IT-PROJECT\\backend3\\src\\","sources":["server.js"],"sourcesContent":["import express from 'express';\r\nimport{ connect } from 'mongoose';\r\nimport{ config } from 'dotenv';\r\nimport AuthRoutes from './Routes/Auth.routes'\r\nimport cors from 'cors'\r\nimport VideoRoutes from './Routes/Video.routes'\r\n\r\nconfig();\r\n\r\nconst server = express();\r\n//==============MiddleWares===========================================\r\nserver.use(cors())\r\n//==========mongo DB connection========================================\r\nconst mongoURI = process.env.mongoURI;\r\nconnect(mongoURI, (error)=>{\r\n    if(error){\r\n        return console.log(error);\r\n    }\r\n    console.log('connection to mongo DB successful!!!')\r\n})\r\n\r\n//==============================server endpoints=============================\r\nserver.use(AuthRoutes)\r\nserver.use(VideoRoutes)\r\n\r\nconst PORT = process.env.PORT ?? 3000;\r\n\r\n\r\nserver.listen(PORT, ()=>{\r\n    console.log(`Server started on PORT ${PORT}`)\r\n})"],"mappings":";;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;AAEA,IAAAA,cAAA;AAEA,IAAMC,MAAM,GAAG,IAAAC,mBAAA,GAAf,C,CACA;;AACAD,MAAM,CAACE,GAAP,CAAW,IAAAC,gBAAA,GAAX,E,CACA;;AACA,IAAMC,QAAQ,GAAGC,OAAO,CAACC,GAAR,CAAYF,QAA7B;AACA,IAAAG,iBAAA,EAAQH,QAAR,EAAkB,UAACI,KAAD,EAAS;EACvB,IAAGA,KAAH,EAAS;IACL,OAAOC,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAP;EACH;;EACDC,OAAO,CAACC,GAAR,CAAY,sCAAZ;AACH,CALD,E,CAOA;;AACAV,MAAM,CAACE,GAAP,CAAWS,gBAAX;AACAX,MAAM,CAACE,GAAP,CAAWU,iBAAX;AAEA,IAAMC,IAAI,wBAAGR,OAAO,CAACC,GAAR,CAAYO,IAAf,iEAAuB,IAAjC;AAGAb,MAAM,CAACc,MAAP,CAAcD,IAAd,EAAoB,YAAI;EACpBJ,OAAO,CAACC,GAAR,kCAAsCG,IAAtC;AACH,CAFD"}},"mtime":1662448999288},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"filename\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Routes\\\\Auth.routes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _express = require(\"express\");\n\nvar _Auth = require(\"../Controller/Auth.controller\");\n\nvar router = (0, _express.Router)();\nvar Controller = new _Auth.AuthController(); //router.post('/app/signup')\n\nrouter.post('/api/signup', function (request, response) {\n  Controller.signup(request, response);\n});\nrouter.post('/api/signin', function (request, response) {\n  Controller.signin(request, response);\n}); // reset password\n\nrouter.post('/api/password-reset', function (request, response) {\n  Controller.forgotPassword(request, response);\n}); // delet a user from mongo DB\n\nrouter.post('/api/delete', function (request, response) {\n  Controller[\"delete\"](request, response);\n}); //find all user and return \n\nrouter.get('/api/findall', function (request, response) {\n  Controller.findAllUser(request, response);\n}); // update user information\n\nrouter.put('/api/update/:email', function (request, response) {\n  Controller.update(request, response);\n}); // search for a user\n\nrouter.get('/api/search/', function (request, response) {\n  Controller.searchUser(request, response);\n}); // Update user info including  email, password, username, age and gender\n\nrouter.post('/api/update', function (request, response) {\n  Controller.update(request, response);\n});\nvar _default = router; //module.exports = router;\n\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJSb3V0ZXIiLCJDb250cm9sbGVyIiwiQXV0aENvbnRyb2xsZXIiLCJwb3N0IiwicmVxdWVzdCIsInJlc3BvbnNlIiwic2lnbnVwIiwic2lnbmluIiwiZm9yZ290UGFzc3dvcmQiLCJnZXQiLCJmaW5kQWxsVXNlciIsInB1dCIsInVwZGF0ZSIsInNlYXJjaFVzZXIiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcMTE3ODFcXERvY3VtZW50c1xcR2l0SHViXFxJVC1QUk9KRUNUXFxiYWNrZW5kM1xcc3JjXFxSb3V0ZXNcXCIsInNvdXJjZXMiOlsiQXV0aC5yb3V0ZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtSb3V0ZXJ9IGZyb20gJ2V4cHJlc3MnO1xyXG5pbXBvcnQge0F1dGhDb250cm9sbGVyfSBmcm9tICcuLi9Db250cm9sbGVyL0F1dGguY29udHJvbGxlcic7XHJcbiBcclxuXHJcbmNvbnN0IHJvdXRlciA9IFJvdXRlcigpO1xyXG5jb25zdCBDb250cm9sbGVyID0gbmV3IEF1dGhDb250cm9sbGVyKCk7XHJcblxyXG4vL3JvdXRlci5wb3N0KCcvYXBwL3NpZ251cCcpXHJcbnJvdXRlci5wb3N0KCcvYXBpL3NpZ251cCcsKHJlcXVlc3QscmVzcG9uc2UpPT57XHJcbiAgICBDb250cm9sbGVyLnNpZ251cChyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcbnJvdXRlci5wb3N0KCcvYXBpL3NpZ25pbicsKHJlcXVlc3QscmVzcG9uc2UpPT57XHJcbiAgICBDb250cm9sbGVyLnNpZ25pbihyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcbi8vIHJlc2V0IHBhc3N3b3JkXHJcbnJvdXRlci5wb3N0KCcvYXBpL3Bhc3N3b3JkLXJlc2V0JywocmVxdWVzdCxyZXNwb25zZSk9PntcclxuICAgIENvbnRyb2xsZXIuZm9yZ290UGFzc3dvcmQocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG4gXHJcbi8vIGRlbGV0IGEgdXNlciBmcm9tIG1vbmdvIERCXHJcbnJvdXRlci5wb3N0KCcvYXBpL2RlbGV0ZScsKHJlcXVlc3QscmVzcG9uc2UpPT57XHJcbiAgICBDb250cm9sbGVyLmRlbGV0ZShyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcbi8vZmluZCBhbGwgdXNlciBhbmQgcmV0dXJuIFxyXG5yb3V0ZXIuZ2V0KCcvYXBpL2ZpbmRhbGwnLChyZXF1ZXN0LHJlc3BvbnNlKT0+e1xyXG4gICAgQ29udHJvbGxlci5maW5kQWxsVXNlciAocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG4vLyB1cGRhdGUgdXNlciBpbmZvcm1hdGlvblxyXG5yb3V0ZXIucHV0KCcvYXBpL3VwZGF0ZS86ZW1haWwnLChyZXF1ZXN0LHJlc3BvbnNlKT0+e1xyXG4gICAgQ29udHJvbGxlci51cGRhdGUgKHJlcXVlc3QsIHJlc3BvbnNlKVxyXG59KVxyXG5cclxuXHJcbi8vIHNlYXJjaCBmb3IgYSB1c2VyXHJcbnJvdXRlci5nZXQoJy9hcGkvc2VhcmNoLycsKHJlcXVlc3QscmVzcG9uc2UpPT57XHJcbiAgICBDb250cm9sbGVyLnNlYXJjaFVzZXIgKHJlcXVlc3QsIHJlc3BvbnNlKVxyXG59KVxyXG5cclxuLy8gVXBkYXRlIHVzZXIgaW5mbyBpbmNsdWRpbmcgIGVtYWlsLCBwYXNzd29yZCwgdXNlcm5hbWUsIGFnZSBhbmQgZ2VuZGVyXHJcbnJvdXRlci5wb3N0KCcvYXBpL3VwZGF0ZScsKHJlcXVlc3QscmVzcG9uc2UpPT57XHJcbiAgICBDb250cm9sbGVyLnVwZGF0ZShyZXF1ZXN0LHJlc3BvbnNlKSAgXHJcbn0pXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcclxuLy9tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFHQSxJQUFNQSxNQUFNLEdBQUcsSUFBQUMsZUFBQSxHQUFmO0FBQ0EsSUFBTUMsVUFBVSxHQUFHLElBQUlDLG9CQUFKLEVBQW5CLEMsQ0FFQTs7QUFDQUgsTUFBTSxDQUFDSSxJQUFQLENBQVksYUFBWixFQUEwQixVQUFDQyxPQUFELEVBQVNDLFFBQVQsRUFBb0I7RUFDMUNKLFVBQVUsQ0FBQ0ssTUFBWCxDQUFrQkYsT0FBbEIsRUFBMkJDLFFBQTNCO0FBQ0gsQ0FGRDtBQUlBTixNQUFNLENBQUNJLElBQVAsQ0FBWSxhQUFaLEVBQTBCLFVBQUNDLE9BQUQsRUFBU0MsUUFBVCxFQUFvQjtFQUMxQ0osVUFBVSxDQUFDTSxNQUFYLENBQWtCSCxPQUFsQixFQUEyQkMsUUFBM0I7QUFDSCxDQUZELEUsQ0FJQTs7QUFDQU4sTUFBTSxDQUFDSSxJQUFQLENBQVkscUJBQVosRUFBa0MsVUFBQ0MsT0FBRCxFQUFTQyxRQUFULEVBQW9CO0VBQ2xESixVQUFVLENBQUNPLGNBQVgsQ0FBMEJKLE9BQTFCLEVBQW1DQyxRQUFuQztBQUNILENBRkQsRSxDQUtBOztBQUNBTixNQUFNLENBQUNJLElBQVAsQ0FBWSxhQUFaLEVBQTBCLFVBQUNDLE9BQUQsRUFBU0MsUUFBVCxFQUFvQjtFQUMxQ0osVUFBVSxVQUFWLENBQWtCRyxPQUFsQixFQUEyQkMsUUFBM0I7QUFDSCxDQUZELEUsQ0FJQTs7QUFDQU4sTUFBTSxDQUFDVSxHQUFQLENBQVcsY0FBWCxFQUEwQixVQUFDTCxPQUFELEVBQVNDLFFBQVQsRUFBb0I7RUFDMUNKLFVBQVUsQ0FBQ1MsV0FBWCxDQUF3Qk4sT0FBeEIsRUFBaUNDLFFBQWpDO0FBQ0gsQ0FGRCxFLENBSUE7O0FBQ0FOLE1BQU0sQ0FBQ1ksR0FBUCxDQUFXLG9CQUFYLEVBQWdDLFVBQUNQLE9BQUQsRUFBU0MsUUFBVCxFQUFvQjtFQUNoREosVUFBVSxDQUFDVyxNQUFYLENBQW1CUixPQUFuQixFQUE0QkMsUUFBNUI7QUFDSCxDQUZELEUsQ0FLQTs7QUFDQU4sTUFBTSxDQUFDVSxHQUFQLENBQVcsY0FBWCxFQUEwQixVQUFDTCxPQUFELEVBQVNDLFFBQVQsRUFBb0I7RUFDMUNKLFVBQVUsQ0FBQ1ksVUFBWCxDQUF1QlQsT0FBdkIsRUFBZ0NDLFFBQWhDO0FBQ0gsQ0FGRCxFLENBSUE7O0FBQ0FOLE1BQU0sQ0FBQ0ksSUFBUCxDQUFZLGFBQVosRUFBMEIsVUFBQ0MsT0FBRCxFQUFTQyxRQUFULEVBQW9CO0VBQzFDSixVQUFVLENBQUNXLE1BQVgsQ0FBa0JSLE9BQWxCLEVBQTBCQyxRQUExQjtBQUNILENBRkQ7ZUFTZU4sTSxFQUNmIn0=","map":{"version":3,"names":["router","Router","Controller","AuthController","post","request","response","signup","signin","forgotPassword","get","findAllUser","put","update","searchUser"],"sourceRoot":"C:\\Users\\11781\\Documents\\GitHub\\IT-PROJECT\\backend3\\src\\Routes\\","sources":["Auth.routes.js"],"sourcesContent":["import {Router} from 'express';\r\nimport {AuthController} from '../Controller/Auth.controller';\r\n \r\n\r\nconst router = Router();\r\nconst Controller = new AuthController();\r\n\r\n//router.post('/app/signup')\r\nrouter.post('/api/signup',(request,response)=>{\r\n    Controller.signup(request, response)\r\n})\r\n\r\nrouter.post('/api/signin',(request,response)=>{\r\n    Controller.signin(request, response)\r\n})\r\n\r\n// reset password\r\nrouter.post('/api/password-reset',(request,response)=>{\r\n    Controller.forgotPassword(request, response)\r\n})\r\n\r\n \r\n// delet a user from mongo DB\r\nrouter.post('/api/delete',(request,response)=>{\r\n    Controller.delete(request, response)\r\n})\r\n\r\n//find all user and return \r\nrouter.get('/api/findall',(request,response)=>{\r\n    Controller.findAllUser (request, response)\r\n})\r\n\r\n// update user information\r\nrouter.put('/api/update/:email',(request,response)=>{\r\n    Controller.update (request, response)\r\n})\r\n\r\n\r\n// search for a user\r\nrouter.get('/api/search/',(request,response)=>{\r\n    Controller.searchUser (request, response)\r\n})\r\n\r\n// Update user info including  email, password, username, age and gender\r\nrouter.post('/api/update',(request,response)=>{\r\n    Controller.update(request,response)  \r\n})\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default router;\r\n//module.exports = router;"],"mappings":";;;;;;;AAAA;;AACA;;AAGA,IAAMA,MAAM,GAAG,IAAAC,eAAA,GAAf;AACA,IAAMC,UAAU,GAAG,IAAIC,oBAAJ,EAAnB,C,CAEA;;AACAH,MAAM,CAACI,IAAP,CAAY,aAAZ,EAA0B,UAACC,OAAD,EAASC,QAAT,EAAoB;EAC1CJ,UAAU,CAACK,MAAX,CAAkBF,OAAlB,EAA2BC,QAA3B;AACH,CAFD;AAIAN,MAAM,CAACI,IAAP,CAAY,aAAZ,EAA0B,UAACC,OAAD,EAASC,QAAT,EAAoB;EAC1CJ,UAAU,CAACM,MAAX,CAAkBH,OAAlB,EAA2BC,QAA3B;AACH,CAFD,E,CAIA;;AACAN,MAAM,CAACI,IAAP,CAAY,qBAAZ,EAAkC,UAACC,OAAD,EAASC,QAAT,EAAoB;EAClDJ,UAAU,CAACO,cAAX,CAA0BJ,OAA1B,EAAmCC,QAAnC;AACH,CAFD,E,CAKA;;AACAN,MAAM,CAACI,IAAP,CAAY,aAAZ,EAA0B,UAACC,OAAD,EAASC,QAAT,EAAoB;EAC1CJ,UAAU,UAAV,CAAkBG,OAAlB,EAA2BC,QAA3B;AACH,CAFD,E,CAIA;;AACAN,MAAM,CAACU,GAAP,CAAW,cAAX,EAA0B,UAACL,OAAD,EAASC,QAAT,EAAoB;EAC1CJ,UAAU,CAACS,WAAX,CAAwBN,OAAxB,EAAiCC,QAAjC;AACH,CAFD,E,CAIA;;AACAN,MAAM,CAACY,GAAP,CAAW,oBAAX,EAAgC,UAACP,OAAD,EAASC,QAAT,EAAoB;EAChDJ,UAAU,CAACW,MAAX,CAAmBR,OAAnB,EAA4BC,QAA5B;AACH,CAFD,E,CAKA;;AACAN,MAAM,CAACU,GAAP,CAAW,cAAX,EAA0B,UAACL,OAAD,EAASC,QAAT,EAAoB;EAC1CJ,UAAU,CAACY,UAAX,CAAuBT,OAAvB,EAAgCC,QAAhC;AACH,CAFD,E,CAIA;;AACAN,MAAM,CAACI,IAAP,CAAY,aAAZ,EAA0B,UAACC,OAAD,EAASC,QAAT,EAAoB;EAC1CJ,UAAU,CAACW,MAAX,CAAkBR,OAAlB,EAA0BC,QAA1B;AACH,CAFD;eASeN,M,EACf"}},"mtime":1665044761623},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Controller\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"filename\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Controller\\\\Auth.controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AuthController = void 0;\n\nvar _formidable = require(\"formidable\");\n\nvar _bcrypt = require(\"bcrypt\");\n\nvar _dotenv = require(\"dotenv\");\n\nvar _jsonwebtoken = require(\"jsonwebtoken\");\n\nvar _User = require(\"../Models/User.model\");\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n(0, _dotenv.config)();\n\nvar AuthController = /*#__PURE__*/function () {\n  function AuthController() {\n    _classCallCheck(this, AuthController);\n  }\n\n  _createClass(AuthController, [{\n    key: \"signup\",\n    value: //signup method\n    function signup(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(error, fields, files) {\n          var username, email, password, age, gender, salt, hashedPassword, newAccount, savedAccount;\n          return _regeneratorRuntime().wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  if (!error) {\n                    _context.next = 2;\n                    break;\n                  }\n\n                  return _context.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to create account, maybe try again later'\n                  }));\n\n                case 2:\n                  username = fields.username, email = fields.email, password = fields.password, age = fields.age, gender = fields.gender;\n\n                  if (!(password.length > 20 || password.length < 6)) {\n                    _context.next = 5;\n                    break;\n                  }\n\n                  return _context.abrupt(\"return\", response.status(503).json({\n                    msg: 'Password length need to be 6-20 range'\n                  }));\n\n                case 5:\n                  if (!(age > 150 || age < 0)) {\n                    _context.next = 7;\n                    break;\n                  }\n\n                  return _context.abrupt(\"return\", response.status(502).json({\n                    msg: 'Invalid age'\n                  }));\n\n                case 7:\n                  _context.next = 9;\n                  return (0, _bcrypt.genSalt)(15);\n\n                case 9:\n                  salt = _context.sent;\n                  _context.next = 12;\n                  return (0, _bcrypt.hash)(password, salt);\n\n                case 12:\n                  hashedPassword = _context.sent;\n                  newAccount = new _User.userModel({\n                    username: username,\n                    email: email,\n                    password: hashedPassword,\n                    age: age,\n                    gender: gender\n                  }); // create an account successful or failed\n\n                  _context.prev = 14;\n                  _context.next = 17;\n                  return newAccount.save();\n\n                case 17:\n                  savedAccount = _context.sent;\n                  return _context.abrupt(\"return\", response.status(201).json({\n                    msg: 'Account created successfully'\n                  }));\n\n                case 21:\n                  _context.prev = 21;\n                  _context.t0 = _context[\"catch\"](14);\n                  console.log(_context.t0);\n                  return _context.abrupt(\"return\", response.status(501).json({\n                    msg: 'format error'\n                  }));\n\n                case 25:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, null, [[14, 21]]);\n        }));\n\n        return function (_x, _x2, _x3) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n    } // sign in\n\n  }, {\n    key: \"signin\",\n    value: function signin(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(error, fields, files) {\n          var account, password, isAccountEmail, _user, _isPasswordValid, _token_payload, _token, _username, user, isPasswordValid, token_payload, token, username;\n\n          return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  if (!error) {\n                    _context2.next = 2;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to signin'\n                  }));\n\n                case 2:\n                  account = fields.account, password = fields.password; // email log in \n\n                  isAccountEmail = account.includes('@');\n\n                  if (!isAccountEmail) {\n                    _context2.next = 19;\n                    break;\n                  }\n\n                  _context2.next = 7;\n                  return _User.userModel.findOne({\n                    email: account\n                  });\n\n                case 7:\n                  _user = _context2.sent;\n\n                  if (_user) {\n                    _context2.next = 10;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\", response.status(404).json({\n                    msg: 'Email of this account does not exist'\n                  }));\n\n                case 10:\n                  _context2.next = 12;\n                  return (0, _bcrypt.compare)(password, _user.password);\n\n                case 12:\n                  _isPasswordValid = _context2.sent;\n\n                  if (_isPasswordValid) {\n                    _context2.next = 15;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\", response.status(400).json({\n                    msg: 'Invalid password'\n                  }));\n\n                case 15:\n                  _token_payload = {\n                    _id: _user._id,\n                    email: _user.email,\n                    username: _user.username\n                  };\n                  _token = (0, _jsonwebtoken.sign)(_token_payload, process.env.cookie_secret, {\n                    expiresIn: '365d'\n                  });\n                  _username = _token_payload.username;\n                  return _context2.abrupt(\"return\", response.status(200).json({\n                    token: _token,\n                    username: _username\n                  }));\n\n                case 19:\n                  _context2.next = 21;\n                  return _User.userModel.findOne({\n                    username: account\n                  });\n\n                case 21:\n                  user = _context2.sent;\n\n                  if (user) {\n                    _context2.next = 24;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\", response.status(404).json({\n                    msg: 'username of this account does not exist'\n                  }));\n\n                case 24:\n                  _context2.next = 26;\n                  return (0, _bcrypt.compare)(password, user.password);\n\n                case 26:\n                  isPasswordValid = _context2.sent;\n\n                  if (isPasswordValid) {\n                    _context2.next = 29;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\", response.status(400).json({\n                    msg: 'Invalid password'\n                  }));\n\n                case 29:\n                  token_payload = {\n                    _id: user._id,\n                    email: user.email,\n                    username: user.username\n                  };\n                  token = (0, _jsonwebtoken.sign)(token_payload, process.env.cookie_secret, {\n                    expiresIn: '365d'\n                  });\n                  username = token_payload.username;\n                  return _context2.abrupt(\"return\", response.status(200).json({\n                    token: token,\n                    username: username\n                  }));\n\n                case 33:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2);\n        }));\n\n        return function (_x4, _x5, _x6) {\n          return _ref2.apply(this, arguments);\n        };\n      }());\n    } // forgot password and reset\n\n  }, {\n    key: \"forgotPassword\",\n    value: function forgotPassword(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(error, fields, files) {\n          var email, password, salt, hashedPassword, user, updatedAccount;\n          return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n            while (1) {\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  if (!error) {\n                    _context3.next = 2;\n                    break;\n                  }\n\n                  return _context3.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to rset password'\n                  }));\n\n                case 2:\n                  email = fields.email, password = fields.password;\n\n                  if (!(!email || !password)) {\n                    _context3.next = 5;\n                    break;\n                  }\n\n                  return _context3.abrupt(\"return\", response.status(400).json({\n                    msg: 'email and password are required to reset password '\n                  }));\n\n                case 5:\n                  _context3.next = 7;\n                  return (0, _bcrypt.genSalt)(15);\n\n                case 7:\n                  salt = _context3.sent;\n                  _context3.next = 10;\n                  return (0, _bcrypt.hash)(password, salt);\n\n                case 10:\n                  hashedPassword = _context3.sent;\n                  _context3.prev = 11;\n                  _context3.next = 14;\n                  return _User.userModel.findOne({\n                    email: email\n                  });\n\n                case 14:\n                  user = _context3.sent;\n\n                  if (user) {\n                    _context3.next = 17;\n                    break;\n                  }\n\n                  return _context3.abrupt(\"return\", response.status(404).json({\n                    msg: 'Account with this email does not exist'\n                  }));\n\n                case 17:\n                  _context3.next = 19;\n                  return _User.userModel.findOneAndUpdate({\n                    email: email\n                  }, {\n                    $set: {\n                      password: hashedPassword\n                    }\n                  }, {\n                    \"new\": true\n                  });\n\n                case 19:\n                  updatedAccount = _context3.sent;\n                  return _context3.abrupt(\"return\", response.status(200).json({\n                    msg: 'Password rest successful'\n                  }));\n\n                case 23:\n                  _context3.prev = 23;\n                  _context3.t0 = _context3[\"catch\"](11);\n                  return _context3.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to reset password'\n                  }));\n\n                case 26:\n                case \"end\":\n                  return _context3.stop();\n              }\n            }\n          }, _callee3, null, [[11, 23]]);\n        }));\n\n        return function (_x7, _x8, _x9) {\n          return _ref3.apply(this, arguments);\n        };\n      }());\n    } // updat user info such as username, password, age and gender via email.\n\n  }, {\n    key: \"update\",\n    value: function update(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(error, fields, files) {\n          var email, password, username, age, gender, salt, hashedPassword, newUsername, newAge, newGender, user, updatedAccount;\n          return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n            while (1) {\n              switch (_context4.prev = _context4.next) {\n                case 0:\n                  if (!error) {\n                    _context4.next = 2;\n                    break;\n                  }\n\n                  return _context4.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to rset password'\n                  }));\n\n                case 2:\n                  email = fields.email, password = fields.password, username = fields.username, age = fields.age, gender = fields.gender;\n\n                  if (!(!email || !password || !username || !age || !gender)) {\n                    _context4.next = 5;\n                    break;\n                  }\n\n                  return _context4.abrupt(\"return\", response.status(400).json({\n                    msg: 'emailpasswordusername, age and gender are required to edit '\n                  }));\n\n                case 5:\n                  _context4.next = 7;\n                  return (0, _bcrypt.genSalt)(15);\n\n                case 7:\n                  salt = _context4.sent;\n                  _context4.next = 10;\n                  return (0, _bcrypt.hash)(password, salt);\n\n                case 10:\n                  hashedPassword = _context4.sent;\n                  newUsername = username;\n                  newAge = age;\n                  newGender = gender;\n                  _context4.prev = 14;\n                  _context4.next = 17;\n                  return _User.userModel.findOne({\n                    email: email\n                  });\n\n                case 17:\n                  user = _context4.sent;\n\n                  if (user) {\n                    _context4.next = 20;\n                    break;\n                  }\n\n                  return _context4.abrupt(\"return\", response.status(404).json({\n                    msg: 'Account with this email does not exist'\n                  }));\n\n                case 20:\n                  _context4.next = 22;\n                  return _User.userModel.findOneAndUpdate({\n                    email: email\n                  }, {\n                    $set: {\n                      password: hashedPassword,\n                      username: newUsername,\n                      age: newAge,\n                      gender: newGender\n                    }\n                  }, {\n                    \"new\": true\n                  });\n\n                case 22:\n                  updatedAccount = _context4.sent;\n                  return _context4.abrupt(\"return\", response.status(200).json({\n                    msg: 'Edit successful'\n                  }));\n\n                case 26:\n                  _context4.prev = 26;\n                  _context4.t0 = _context4[\"catch\"](14);\n                  return _context4.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to Edit'\n                  }));\n\n                case 29:\n                case \"end\":\n                  return _context4.stop();\n              }\n            }\n          }, _callee4, null, [[14, 26]]);\n        }));\n\n        return function (_x10, _x11, _x12) {\n          return _ref4.apply(this, arguments);\n        };\n      }());\n    }\n    /* // updat user info such as user name via email.\r\n     update(request, response){\r\n         const form = new IncomingForm();\r\n         form.parse(request, async (error, fields, files)=>{\r\n             if(error){\r\n                 return response.status(500).json({msg:'Failed to update'})\r\n             }\r\n             try{\r\n                 const updatedAccount = userModel.findOneAndUpdate({email:email}, { $set:{username:username}})\r\n                 return response.send(user)   \r\n                 //return response.status(200).json({msg:'update successful'})\r\n             }catch(error){\r\n                 return response.status(500).json({msg:'Failed to update, maybe try again later'})\r\n             }\r\n         })\r\n     } */\n    //delete user account\n\n  }, {\n    key: \"delete\",\n    value: function _delete(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(error, fields, files) {\n          var email, user;\n          return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n            while (1) {\n              switch (_context5.prev = _context5.next) {\n                case 0:\n                  if (!error) {\n                    _context5.next = 2;\n                    break;\n                  }\n\n                  return _context5.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to delete account, maybe try again later'\n                  }));\n\n                case 2:\n                  email = fields.email;\n                  _context5.prev = 3;\n                  _context5.next = 6;\n                  return _User.userModel.findOneAndDelete({\n                    email: email\n                  });\n\n                case 6:\n                  user = _context5.sent;\n                  return _context5.abrupt(\"return\", response.status(200).json({\n                    msg: 'delete successful'\n                  }));\n\n                case 10:\n                  _context5.prev = 10;\n                  _context5.t0 = _context5[\"catch\"](3);\n                  return _context5.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to delete'\n                  }));\n\n                case 13:\n                case \"end\":\n                  return _context5.stop();\n              }\n            }\n          }, _callee5, null, [[3, 10]]);\n        }));\n\n        return function (_x13, _x14, _x15) {\n          return _ref5.apply(this, arguments);\n        };\n      }());\n    } // find all user\n\n  }, {\n    key: \"findAllUser\",\n    value: function findAllUser(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(error, fields, files) {\n          var user;\n          return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n            while (1) {\n              switch (_context6.prev = _context6.next) {\n                case 0:\n                  if (!error) {\n                    _context6.next = 2;\n                    break;\n                  }\n\n                  return _context6.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to delete account, maybe try again later'\n                  }));\n\n                case 2:\n                  _context6.prev = 2;\n                  _context6.next = 5;\n                  return _User.userModel.find();\n\n                case 5:\n                  user = _context6.sent;\n                  return _context6.abrupt(\"return\", response.send(user));\n\n                case 9:\n                  _context6.prev = 9;\n                  _context6.t0 = _context6[\"catch\"](2);\n                  return _context6.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed find all users'\n                  }));\n\n                case 12:\n                case \"end\":\n                  return _context6.stop();\n              }\n            }\n          }, _callee6, null, [[2, 9]]);\n        }));\n\n        return function (_x16, _x17, _x18) {\n          return _ref6.apply(this, arguments);\n        };\n      }());\n    } // search for a user by request params\n\n  }, {\n    key: \"searchUser\",\n    value: function () {\n      var _searchUser = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(request, response) {\n        var name, user;\n        return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                // const name = request.params.username;\n                name = request.query.username;\n                _context7.prev = 1;\n                _context7.next = 4;\n                return _User.userModel.find({\n                  username: {\n                    $regex: name\n                  }\n                });\n\n              case 4:\n                user = _context7.sent;\n                return _context7.abrupt(\"return\", response.send(user));\n\n              case 8:\n                _context7.prev = 8;\n                _context7.t0 = _context7[\"catch\"](1);\n                return _context7.abrupt(\"return\", response.status(500).json({\n                  msg: 'No matching user'\n                }));\n\n              case 11:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, null, [[1, 8]]);\n      }));\n\n      function searchUser(_x19, _x20) {\n        return _searchUser.apply(this, arguments);\n      }\n\n      return searchUser;\n    }()\n  }]);\n\n  return AuthController;\n}();\n\nexports.AuthController = AuthController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25maWciLCJBdXRoQ29udHJvbGxlciIsInJlcXVlc3QiLCJyZXNwb25zZSIsImZvcm0iLCJJbmNvbWluZ0Zvcm0iLCJwYXJzZSIsImVycm9yIiwiZmllbGRzIiwiZmlsZXMiLCJzdGF0dXMiLCJqc29uIiwibXNnIiwidXNlcm5hbWUiLCJlbWFpbCIsInBhc3N3b3JkIiwiYWdlIiwiZ2VuZGVyIiwibGVuZ3RoIiwiZ2VuU2FsdCIsInNhbHQiLCJoYXNoIiwiaGFzaGVkUGFzc3dvcmQiLCJuZXdBY2NvdW50IiwidXNlck1vZGVsIiwic2F2ZSIsInNhdmVkQWNjb3VudCIsImNvbnNvbGUiLCJsb2ciLCJhY2NvdW50IiwiaXNBY2NvdW50RW1haWwiLCJpbmNsdWRlcyIsImZpbmRPbmUiLCJ1c2VyIiwiY29tcGFyZSIsImlzUGFzc3dvcmRWYWxpZCIsInRva2VuX3BheWxvYWQiLCJfaWQiLCJ0b2tlbiIsInNpZ24iLCJwcm9jZXNzIiwiZW52IiwiY29va2llX3NlY3JldCIsImV4cGlyZXNJbiIsImZpbmRPbmVBbmRVcGRhdGUiLCIkc2V0IiwidXBkYXRlZEFjY291bnQiLCJuZXdVc2VybmFtZSIsIm5ld0FnZSIsIm5ld0dlbmRlciIsImZpbmRPbmVBbmREZWxldGUiLCJmaW5kIiwic2VuZCIsIm5hbWUiLCJxdWVyeSIsIiRyZWdleCJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFwxMTc4MVxcRG9jdW1lbnRzXFxHaXRIdWJcXElULVBST0pFQ1RcXGJhY2tlbmQzXFxzcmNcXENvbnRyb2xsZXJcXCIsInNvdXJjZXMiOlsiQXV0aC5jb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluY29taW5nRm9ybSB9IGZyb20gJ2Zvcm1pZGFibGUnO1xyXG5pbXBvcnQgeyBnZW5TYWx0LCBoYXNoLCBjb21wYXJlIH0gZnJvbSAnYmNyeXB0JztcclxuaW1wb3J0IHtjb25maWd9IGZyb20gJ2RvdGVudic7XHJcbmltcG9ydCB7IHZlcmlmeSwgc2lnbn0gZnJvbSAnanNvbndlYnRva2VuJzsgXHJcbmltcG9ydCB7IHVzZXJNb2RlbH0gZnJvbSAnLi4vTW9kZWxzL1VzZXIubW9kZWwnXHJcbmNvbmZpZygpXHJcblxyXG5leHBvcnQgY2xhc3MgQXV0aENvbnRyb2xsZXJ7XHJcbiAgICAvL3NpZ251cCBtZXRob2RcclxuICAgIHNpZ251cChyZXF1ZXN0LHJlc3BvbnNlKXtcclxuICAgICAgICBjb25zdCBmb3JtID0gbmV3IEluY29taW5nRm9ybSgpO1xyXG5cclxuICAgICAgICBmb3JtLnBhcnNlKHJlcXVlc3QsIGFzeW5jIChlcnJvciwgZmllbGRzLCBmaWxlcykgPT57XHJcbiAgICAgICAgICAgIGlmIChlcnJvcil7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7bXNnOidGYWlsZWQgdG8gY3JlYXRlIGFjY291bnQsIG1heWJlIHRyeSBhZ2FpbiBsYXRlcid9KVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdHt1c2VybmFtZSwgZW1haWwsIHBhc3N3b3JkLCBhZ2UsIGdlbmRlcn0gPSBmaWVsZHM7IFxyXG4gICAgICAgICAgICBpZihwYXNzd29yZC5sZW5ndGggPiAyMCB8fCBwYXNzd29yZC5sZW5ndGggPCA2KXsgIC8vIHBhc3N3b3JkIG1pbmltdW0gbGVuZ3RoID0gNiwgbWF4aW11bSBsZW5ndGggPSAyMFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDMpLmpzb24oe21zZzonUGFzc3dvcmQgbGVuZ3RoIG5lZWQgdG8gYmUgNi0yMCByYW5nZSd9KVxyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZihhZ2UgPiAxNTAgfHwgYWdlIDwwKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAyKS5qc29uKHttc2c6J0ludmFsaWQgYWdlJ30pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3Qgc2FsdCA9IGF3YWl0IGdlblNhbHQoMTUpO1xyXG4gICAgICAgICAgICBjb25zdCBoYXNoZWRQYXNzd29yZCA9IGF3YWl0IGhhc2gocGFzc3dvcmQsIHNhbHQpO1xyXG4gICAgICAgICAgICBjb25zdCBuZXdBY2NvdW50ID0gbmV3IHVzZXJNb2RlbCh7XHJcbiAgICAgICAgICAgICAgICB1c2VybmFtZSxcclxuICAgICAgICAgICAgICAgIGVtYWlsLFxyXG4gICAgICAgICAgICAgICAgcGFzc3dvcmQ6aGFzaGVkUGFzc3dvcmQsXHJcbiAgICAgICAgICAgICAgICBhZ2UsXHJcbiAgICAgICAgICAgICAgICBnZW5kZXJcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLy8gY3JlYXRlIGFuIGFjY291bnQgc3VjY2Vzc2Z1bCBvciBmYWlsZWRcclxuICAgICAgICAgICAgdHJ5e1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2F2ZWRBY2NvdW50ID0gYXdhaXQgbmV3QWNjb3VudC5zYXZlKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMSkuanNvbih7bXNnOidBY2NvdW50IGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5J30pXHJcbiAgICAgICAgICAgIH1jYXRjaChlcnJvcil7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAxKS5qc29uKHttc2c6J2Zvcm1hdCBlcnJvcid9KVxyXG4gICAgICAgICAgICB9ICAgICAgXHJcblxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIHNpZ24gaW5cclxuICAgIHNpZ25pbihyZXF1ZXN0LCByZXNwb25zZSl7XHJcbiAgICAgICAgY29uc3QgZm9ybSA9IG5ldyBJbmNvbWluZ0Zvcm0oKTtcclxuXHJcbiAgICAgICAgZm9ybS5wYXJzZShyZXF1ZXN0LGFzeW5jIChlcnJvciwgZmllbGRzLCBmaWxlcyk9PntcclxuICAgICAgICAgICAgaWYoZXJyb3Ipe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oe21zZzonRmFpbGVkIHRvIHNpZ25pbid9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0e2FjY291bnQsIHBhc3N3b3JkfSA9IGZpZWxkcztcclxuICAgICAgICAgICAgLy8gZW1haWwgbG9nIGluIFxyXG4gICAgICAgICAgICBjb25zdCBpc0FjY291bnRFbWFpbCA9IGFjY291bnQuaW5jbHVkZXMoJ0AnKTtcclxuICAgICAgICAgICAgaWYoaXNBY2NvdW50RW1haWwpe1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IHVzZXJNb2RlbC5maW5kT25lKHtlbWFpbDphY2NvdW50fSk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGlmKCF1c2VyKXtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwNCkuanNvbih7bXNnOidFbWFpbCBvZiB0aGlzIGFjY291bnQgZG9lcyBub3QgZXhpc3QnfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IGlzUGFzc3dvcmRWYWxpZCA9IGF3YWl0IGNvbXBhcmUocGFzc3dvcmQsIHVzZXIucGFzc3dvcmQpOyAgLy8gaGFzaGVkIHBhc3N3b3JkXHJcbiAgICAgICAgICAgICAgICBpZighaXNQYXNzd29yZFZhbGlkKXtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwMCkuanNvbih7bXNnOidJbnZhbGlkIHBhc3N3b3JkJ30pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0b2tlbl9wYXlsb2FkID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIF9pZDp1c2VyLl9pZCxcclxuICAgICAgICAgICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcclxuICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3QgdG9rZW4gID0gc2lnbih0b2tlbl9wYXlsb2FkLCBwcm9jZXNzLmVudi5jb29raWVfc2VjcmV0LCB7IGV4cGlyZXNJbjonMzY1ZCcgfSlcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJuYW1lID0gdG9rZW5fcGF5bG9hZC51c2VybmFtZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHt0b2tlbiwgdXNlcm5hbWV9KVxyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgdXNlck1vZGVsLmZpbmRPbmUoe3VzZXJuYW1lOmFjY291bnR9KTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZighdXNlcil7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwNCkuanNvbih7bXNnOid1c2VybmFtZSBvZiB0aGlzIGFjY291bnQgZG9lcyBub3QgZXhpc3QnfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBpc1Bhc3N3b3JkVmFsaWQgPSBhd2FpdCBjb21wYXJlKHBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKTsgIC8vIGhhc2hlZCBwYXNzd29yZFxyXG4gICAgICAgICAgICBpZighaXNQYXNzd29yZFZhbGlkKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNDAwKS5qc29uKHttc2c6J0ludmFsaWQgcGFzc3dvcmQnfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB0b2tlbl9wYXlsb2FkID0ge1xyXG4gICAgICAgICAgICAgICAgX2lkOnVzZXIuX2lkLFxyXG4gICAgICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXHJcbiAgICAgICAgICAgICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHRva2VuICA9IHNpZ24odG9rZW5fcGF5bG9hZCwgcHJvY2Vzcy5lbnYuY29va2llX3NlY3JldCwgeyBleHBpcmVzSW46JzM2NWQnIH0pXHJcbiAgICAgICAgICAgIGNvbnN0IHVzZXJuYW1lID0gdG9rZW5fcGF5bG9hZC51c2VybmFtZTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cygyMDApLmpzb24oe3Rva2VuLCB1c2VybmFtZX0pXHJcblxyXG4gICAgICAgIH0pIFxyXG4gICAgfVxyXG5cclxuICAgIC8vIGZvcmdvdCBwYXNzd29yZCBhbmQgcmVzZXRcclxuICAgIGZvcmdvdFBhc3N3b3JkKHJlcXVlc3QsIHJlc3BvbnNlKXtcclxuICAgICAgICBjb25zdCBmb3JtID0gbmV3IEluY29taW5nRm9ybSgpO1xyXG5cclxuICAgICAgICBmb3JtLnBhcnNlKHJlcXVlc3QsIGFzeW5jIChlcnJvciwgZmllbGRzLCBmaWxlcyk9PntcclxuICAgICAgICAgICAgaWYoZXJyb3Ipe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oe21zZzonRmFpbGVkIHRvIHJzZXQgcGFzc3dvcmQnfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdHsgZW1haWwsIHBhc3N3b3JkIH0gPSBmaWVsZHM7XHJcblxyXG4gICAgICAgICAgICBpZighZW1haWwgfHwgIXBhc3N3b3JkKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNDAwKS5qc29uKHttc2c6J2VtYWlsIGFuZCBwYXNzd29yZCBhcmUgcmVxdWlyZWQgdG8gcmVzZXQgcGFzc3dvcmQgJ30pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3Qgc2FsdCA9IGF3YWl0IGdlblNhbHQoMTUpO1xyXG4gICAgICAgICAgICBjb25zdCBoYXNoZWRQYXNzd29yZCA9IGF3YWl0IGhhc2gocGFzc3dvcmQsIHNhbHQpXHJcblxyXG4gICAgICAgICAgICB0cnl7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgdXNlck1vZGVsLmZpbmRPbmUoe2VtYWlsOmVtYWlsfSk7XHJcbiAgICAgICAgICAgICAgICBpZighdXNlcil7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg0MDQpLmpzb24oe21zZzonQWNjb3VudCB3aXRoIHRoaXMgZW1haWwgZG9lcyBub3QgZXhpc3QnfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgLyogY29uc3QgdXBkYXRlZEFjY291bnQgPSBhd2FpdCB1c2VyTW9kZWwuZmluZE9uZUFuZFVwZGF0ZSh7ZW1haWw6ZW1haWx9LCB7JHNldDp7cGFzc3dvcmQ6IGhhc2hlZFBhc3N3b3JkfX0sIHtuZXc6dHJ1ZX0pXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7bXNnOidQYXNzd29yZCByZXN0IHN1Y2Nlc3NmdWwnfSkgKi9cclxuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRBY2NvdW50ID0gYXdhaXQgdXNlck1vZGVsLmZpbmRPbmVBbmRVcGRhdGUoe2VtYWlsOmVtYWlsfSwgeyRzZXQ6e3Bhc3N3b3JkOmhhc2hlZFBhc3N3b3JkIH19LCB7bmV3OnRydWV9KVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cygyMDApLmpzb24oe21zZzonUGFzc3dvcmQgcmVzdCBzdWNjZXNzZnVsJ30pXHJcbiAgICAgICAgICAgIH1jYXRjaChlcnJvcil7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7bXNnOidGYWlsZWQgdG8gcmVzZXQgcGFzc3dvcmQnfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLy8gdXBkYXQgdXNlciBpbmZvIHN1Y2ggYXMgdXNlcm5hbWUsIHBhc3N3b3JkLCBhZ2UgYW5kIGdlbmRlciB2aWEgZW1haWwuXHJcbiAgICB1cGRhdGUocmVxdWVzdCwgcmVzcG9uc2Upe1xyXG4gICAgICAgIGNvbnN0IGZvcm0gPSBuZXcgSW5jb21pbmdGb3JtKCk7XHJcblxyXG4gICAgICAgIGZvcm0ucGFyc2UocmVxdWVzdCwgYXN5bmMgKGVycm9yLCBmaWVsZHMsIGZpbGVzKT0+e1xyXG4gICAgICAgICAgICBpZihlcnJvcil7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7bXNnOidGYWlsZWQgdG8gcnNldCBwYXNzd29yZCd9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0eyBlbWFpbCwgcGFzc3dvcmQsIHVzZXJuYW1lLCBhZ2UsIGdlbmRlcn0gPSBmaWVsZHM7XHJcblxyXG4gICAgICAgICAgICBpZighZW1haWwgfHwgIXBhc3N3b3JkIHx8ICF1c2VybmFtZSB8fCFhZ2UgfHwgIWdlbmRlcil7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwMCkuanNvbih7bXNnOidlbWFpbO+8jHBhc3N3b3Jk77yMdXNlcm5hbWUsIGFnZSBhbmQgZ2VuZGVyIGFyZSByZXF1aXJlZCB0byBlZGl0ICd9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHNhbHQgPSBhd2FpdCBnZW5TYWx0KDE1KTtcclxuICAgICAgICAgICAgY29uc3QgaGFzaGVkUGFzc3dvcmQgPSBhd2FpdCBoYXNoKHBhc3N3b3JkLCBzYWx0KVxyXG4gICAgICAgICAgICBjb25zdCBuZXdVc2VybmFtZSA9IHVzZXJuYW1lXHJcbiAgICAgICAgICAgIGNvbnN0IG5ld0FnZSA9IGFnZVxyXG4gICAgICAgICAgICBjb25zdCBuZXdHZW5kZXI9ICBnZW5kZXJcclxuXHJcbiAgICAgICAgICAgIHRyeXtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB1c2VyTW9kZWwuZmluZE9uZSh7ZW1haWw6ZW1haWx9KTtcclxuICAgICAgICAgICAgICAgIGlmKCF1c2VyKXtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwNCkuanNvbih7bXNnOidBY2NvdW50IHdpdGggdGhpcyBlbWFpbCBkb2VzIG5vdCBleGlzdCd9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAvKiBjb25zdCB1cGRhdGVkQWNjb3VudCA9IGF3YWl0IHVzZXJNb2RlbC5maW5kT25lQW5kVXBkYXRlKHtlbWFpbDplbWFpbH0sIHskc2V0OntwYXNzd29yZDogaGFzaGVkUGFzc3dvcmR9fSwge25ldzp0cnVlfSlcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHttc2c6J1Bhc3N3b3JkIHJlc3Qgc3VjY2Vzc2Z1bCd9KSAqL1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZEFjY291bnQgPSBhd2FpdCB1c2VyTW9kZWwuZmluZE9uZUFuZFVwZGF0ZSh7ZW1haWw6ZW1haWx9LCB7JHNldDp7cGFzc3dvcmQ6aGFzaGVkUGFzc3dvcmQsIHVzZXJuYW1lOm5ld1VzZXJuYW1lLCBhZ2U6IG5ld0FnZSwgZ2VuZGVyOiBuZXdHZW5kZXJ9fSwge25ldzp0cnVlfSlcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHttc2c6J0VkaXQgc3VjY2Vzc2Z1bCd9KVxyXG4gICAgICAgICAgICB9Y2F0Y2goZXJyb3Ipe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oe21zZzonRmFpbGVkIHRvIEVkaXQnfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgIC8qIC8vIHVwZGF0IHVzZXIgaW5mbyBzdWNoIGFzIHVzZXIgbmFtZSB2aWEgZW1haWwuXHJcbiAgICB1cGRhdGUocmVxdWVzdCwgcmVzcG9uc2Upe1xyXG4gICAgICAgIGNvbnN0IGZvcm0gPSBuZXcgSW5jb21pbmdGb3JtKCk7XHJcbiAgICAgICAgZm9ybS5wYXJzZShyZXF1ZXN0LCBhc3luYyAoZXJyb3IsIGZpZWxkcywgZmlsZXMpPT57XHJcbiAgICAgICAgICAgIGlmKGVycm9yKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHttc2c6J0ZhaWxlZCB0byB1cGRhdGUnfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0cnl7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkQWNjb3VudCA9IHVzZXJNb2RlbC5maW5kT25lQW5kVXBkYXRlKHtlbWFpbDplbWFpbH0sIHsgJHNldDp7dXNlcm5hbWU6dXNlcm5hbWV9fSlcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zZW5kKHVzZXIpICAgXHJcbiAgICAgICAgICAgICAgICAvL3JldHVybiByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHttc2c6J3VwZGF0ZSBzdWNjZXNzZnVsJ30pXHJcbiAgICAgICAgICAgIH1jYXRjaChlcnJvcil7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7bXNnOidGYWlsZWQgdG8gdXBkYXRlLCBtYXliZSB0cnkgYWdhaW4gbGF0ZXInfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9ICovXHJcblxyXG5cclxuICAgIC8vZGVsZXRlIHVzZXIgYWNjb3VudFxyXG4gICAgZGVsZXRlKHJlcXVlc3QsIHJlc3BvbnNlKXtcclxuICAgICAgICBjb25zdCBmb3JtID0gbmV3IEluY29taW5nRm9ybSgpO1xyXG4gICAgICAgIGZvcm0ucGFyc2UocmVxdWVzdCwgYXN5bmMgKGVycm9yLCBmaWVsZHMsIGZpbGVzKSA9PntcclxuICAgICAgICAgICAgaWYgKGVycm9yKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHttc2c6J0ZhaWxlZCB0byBkZWxldGUgYWNjb3VudCwgbWF5YmUgdHJ5IGFnYWluIGxhdGVyJ30pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3R7IGVtYWlsfSA9IGZpZWxkcztcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB1c2VyTW9kZWwuZmluZE9uZUFuZERlbGV0ZSh7ZW1haWw6IGVtYWlsfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7bXNnOidkZWxldGUgc3VjY2Vzc2Z1bCd9KVxyXG5cclxuICAgICAgICAgICAgfWNhdGNoKGVycm9yKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHttc2c6J0ZhaWxlZCB0byBkZWxldGUnfSlcclxuICAgICAgICAgICAgfSAgIFxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLy8gZmluZCBhbGwgdXNlclxyXG4gICAgZmluZEFsbFVzZXIocmVxdWVzdCwgcmVzcG9uc2Upe1xyXG4gICAgICAgIGNvbnN0IGZvcm0gPSBuZXcgSW5jb21pbmdGb3JtKCk7ICAgICAgXHJcblxyXG4gICAgICAgIGZvcm0ucGFyc2UocmVxdWVzdCwgYXN5bmMgKGVycm9yLCBmaWVsZHMsIGZpbGVzKSA9PntcclxuICAgICAgICAgICAgaWYgKGVycm9yKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHttc2c6J0ZhaWxlZCB0byBkZWxldGUgYWNjb3VudCwgbWF5YmUgdHJ5IGFnYWluIGxhdGVyJ30pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB1c2VyTW9kZWwuZmluZCgpIFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnNlbmQodXNlcikgICAgICAgICAgXHJcbiAgICAgICAgICAgIH1jYXRjaChlcnJvcil7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7bXNnOidGYWlsZWQgZmluZCBhbGwgdXNlcnMnfSlcclxuICAgICAgICAgICAgfSAgIFxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vIHNlYXJjaCBmb3IgYSB1c2VyIGJ5IHJlcXVlc3QgcGFyYW1zXHJcbiAgICBhc3luYyBzZWFyY2hVc2VyIChyZXF1ZXN0LCByZXNwb25zZSl7XHJcblxyXG4gICAgICAgIC8vIGNvbnN0IG5hbWUgPSByZXF1ZXN0LnBhcmFtcy51c2VybmFtZTtcclxuICAgICAgICBjb25zdCBuYW1lID0gcmVxdWVzdC5xdWVyeS51c2VybmFtZTtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IHVzZXIgPSBhd2FpdCB1c2VyTW9kZWwuZmluZCh7dXNlcm5hbWU6ICB7JHJlZ2V4OiBuYW1lIH19KVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc2VuZCh1c2VyKSAgICAgXHJcbiAgICAgICAgfWNhdGNoKGVycm9yKXtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oe21zZzonTm8gbWF0Y2hpbmcgdXNlcid9KVxyXG4gICAgICAgIH0gICBcclxuXHJcbiAgXHJcbiAgICBcclxuICAgIH1cclxuXHJcbiAgICBcclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7OytDQUhBLG9KOzs7Ozs7Ozs7Ozs7QUFJQSxJQUFBQSxjQUFBOztJQUVhQyxjOzs7Ozs7O1dBQ1Q7SUFDQSxnQkFBT0MsT0FBUCxFQUFlQyxRQUFmLEVBQXdCO01BQ3BCLElBQU1DLElBQUksR0FBRyxJQUFJQyx3QkFBSixFQUFiO01BRUFELElBQUksQ0FBQ0UsS0FBTCxDQUFXSixPQUFYO1FBQUEsc0VBQW9CLGlCQUFPSyxLQUFQLEVBQWNDLE1BQWQsRUFBc0JDLEtBQXRCO1VBQUE7VUFBQTtZQUFBO2NBQUE7Z0JBQUE7a0JBQUEsS0FDWkYsS0FEWTtvQkFBQTtvQkFBQTtrQkFBQTs7a0JBQUEsaUNBRUxKLFFBQVEsQ0FBQ08sTUFBVCxDQUFnQixHQUFoQixFQUFxQkMsSUFBckIsQ0FBMEI7b0JBQUNDLEdBQUcsRUFBQztrQkFBTCxDQUExQixDQUZLOztnQkFBQTtrQkFLVkMsUUFMVSxHQUtnQ0wsTUFMaEMsQ0FLVkssUUFMVSxFQUtBQyxLQUxBLEdBS2dDTixNQUxoQyxDQUtBTSxLQUxBLEVBS09DLFFBTFAsR0FLZ0NQLE1BTGhDLENBS09PLFFBTFAsRUFLaUJDLEdBTGpCLEdBS2dDUixNQUxoQyxDQUtpQlEsR0FMakIsRUFLc0JDLE1BTHRCLEdBS2dDVCxNQUxoQyxDQUtzQlMsTUFMdEI7O2tCQUFBLE1BTWJGLFFBQVEsQ0FBQ0csTUFBVCxHQUFrQixFQUFsQixJQUF3QkgsUUFBUSxDQUFDRyxNQUFULEdBQWtCLENBTjdCO29CQUFBO29CQUFBO2tCQUFBOztrQkFBQSxpQ0FPTGYsUUFBUSxDQUFDTyxNQUFULENBQWdCLEdBQWhCLEVBQXFCQyxJQUFyQixDQUEwQjtvQkFBQ0MsR0FBRyxFQUFDO2tCQUFMLENBQTFCLENBUEs7O2dCQUFBO2tCQUFBLE1BVWJJLEdBQUcsR0FBRyxHQUFOLElBQWFBLEdBQUcsR0FBRSxDQVZMO29CQUFBO29CQUFBO2tCQUFBOztrQkFBQSxpQ0FXTGIsUUFBUSxDQUFDTyxNQUFULENBQWdCLEdBQWhCLEVBQXFCQyxJQUFyQixDQUEwQjtvQkFBQ0MsR0FBRyxFQUFDO2tCQUFMLENBQTFCLENBWEs7O2dCQUFBO2tCQUFBO2tCQUFBLE9BYUcsSUFBQU8sZUFBQSxFQUFRLEVBQVIsQ0FiSDs7Z0JBQUE7a0JBYVZDLElBYlU7a0JBQUE7a0JBQUEsT0FjYSxJQUFBQyxZQUFBLEVBQUtOLFFBQUwsRUFBZUssSUFBZixDQWRiOztnQkFBQTtrQkFjVkUsY0FkVTtrQkFlVkMsVUFmVSxHQWVHLElBQUlDLGVBQUosQ0FBYztvQkFDN0JYLFFBQVEsRUFBUkEsUUFENkI7b0JBRTdCQyxLQUFLLEVBQUxBLEtBRjZCO29CQUc3QkMsUUFBUSxFQUFDTyxjQUhvQjtvQkFJN0JOLEdBQUcsRUFBSEEsR0FKNkI7b0JBSzdCQyxNQUFNLEVBQU5BO2tCQUw2QixDQUFkLENBZkgsRUFzQmhCOztrQkF0QmdCO2tCQUFBO2tCQUFBLE9Bd0JlTSxVQUFVLENBQUNFLElBQVgsRUF4QmY7O2dCQUFBO2tCQXdCTkMsWUF4Qk07a0JBQUEsaUNBeUJMdkIsUUFBUSxDQUFDTyxNQUFULENBQWdCLEdBQWhCLEVBQXFCQyxJQUFyQixDQUEwQjtvQkFBQ0MsR0FBRyxFQUFDO2tCQUFMLENBQTFCLENBekJLOztnQkFBQTtrQkFBQTtrQkFBQTtrQkEyQlplLE9BQU8sQ0FBQ0MsR0FBUjtrQkEzQlksaUNBNEJMekIsUUFBUSxDQUFDTyxNQUFULENBQWdCLEdBQWhCLEVBQXFCQyxJQUFyQixDQUEwQjtvQkFBQ0MsR0FBRyxFQUFDO2tCQUFMLENBQTFCLENBNUJLOztnQkFBQTtnQkFBQTtrQkFBQTtjQUFBO1lBQUE7VUFBQTtRQUFBLENBQXBCOztRQUFBO1VBQUE7UUFBQTtNQUFBO0lBZ0NILEMsQ0FFRDs7OztXQUNBLGdCQUFPVixPQUFQLEVBQWdCQyxRQUFoQixFQUF5QjtNQUNyQixJQUFNQyxJQUFJLEdBQUcsSUFBSUMsd0JBQUosRUFBYjtNQUVBRCxJQUFJLENBQUNFLEtBQUwsQ0FBV0osT0FBWDtRQUFBLHVFQUFtQixrQkFBT0ssS0FBUCxFQUFjQyxNQUFkLEVBQXNCQyxLQUF0QjtVQUFBOztVQUFBO1lBQUE7Y0FBQTtnQkFBQTtrQkFBQSxLQUNaRixLQURZO29CQUFBO29CQUFBO2tCQUFBOztrQkFBQSxrQ0FFSkosUUFBUSxDQUFDTyxNQUFULENBQWdCLEdBQWhCLEVBQXFCQyxJQUFyQixDQUEwQjtvQkFBQ0MsR0FBRyxFQUFDO2tCQUFMLENBQTFCLENBRkk7O2dCQUFBO2tCQUlUaUIsT0FKUyxHQUlZckIsTUFKWixDQUlUcUIsT0FKUyxFQUlBZCxRQUpBLEdBSVlQLE1BSlosQ0FJQU8sUUFKQSxFQUtmOztrQkFDTWUsY0FOUyxHQU1RRCxPQUFPLENBQUNFLFFBQVIsQ0FBaUIsR0FBakIsQ0FOUjs7a0JBQUEsS0FPWkQsY0FQWTtvQkFBQTtvQkFBQTtrQkFBQTs7a0JBQUE7a0JBQUEsT0FRUU4sZUFBQSxDQUFVUSxPQUFWLENBQWtCO29CQUFDbEIsS0FBSyxFQUFDZTtrQkFBUCxDQUFsQixDQVJSOztnQkFBQTtrQkFRTEksS0FSSzs7a0JBQUEsSUFVUEEsS0FWTztvQkFBQTtvQkFBQTtrQkFBQTs7a0JBQUEsa0NBV0E5QixRQUFRLENBQUNPLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCO29CQUFDQyxHQUFHLEVBQUM7a0JBQUwsQ0FBMUIsQ0FYQTs7Z0JBQUE7a0JBQUE7a0JBQUEsT0FhbUIsSUFBQXNCLGVBQUEsRUFBUW5CLFFBQVIsRUFBa0JrQixLQUFJLENBQUNsQixRQUF2QixDQWJuQjs7Z0JBQUE7a0JBYUxvQixnQkFiSzs7a0JBQUEsSUFjUEEsZ0JBZE87b0JBQUE7b0JBQUE7a0JBQUE7O2tCQUFBLGtDQWVBaEMsUUFBUSxDQUFDTyxNQUFULENBQWdCLEdBQWhCLEVBQXFCQyxJQUFyQixDQUEwQjtvQkFBQ0MsR0FBRyxFQUFDO2tCQUFMLENBQTFCLENBZkE7O2dCQUFBO2tCQWlCTHdCLGNBakJLLEdBaUJXO29CQUNsQkMsR0FBRyxFQUFDSixLQUFJLENBQUNJLEdBRFM7b0JBRWxCdkIsS0FBSyxFQUFFbUIsS0FBSSxDQUFDbkIsS0FGTTtvQkFHbEJELFFBQVEsRUFBRW9CLEtBQUksQ0FBQ3BCO2tCQUhHLENBakJYO2tCQXNCTHlCLE1BdEJLLEdBc0JJLElBQUFDLGtCQUFBLEVBQUtILGNBQUwsRUFBb0JJLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxhQUFoQyxFQUErQztvQkFBRUMsU0FBUyxFQUFDO2tCQUFaLENBQS9DLENBdEJKO2tCQXVCTDlCLFNBdkJLLEdBdUJNdUIsY0FBYSxDQUFDdkIsUUF2QnBCO2tCQUFBLGtDQXdCSlYsUUFBUSxDQUFDTyxNQUFULENBQWdCLEdBQWhCLEVBQXFCQyxJQUFyQixDQUEwQjtvQkFBQzJCLEtBQUssRUFBTEEsTUFBRDtvQkFBUXpCLFFBQVEsRUFBUkE7a0JBQVIsQ0FBMUIsQ0F4Qkk7O2dCQUFBO2tCQUFBO2tCQUFBLE9BMkJJVyxlQUFBLENBQVVRLE9BQVYsQ0FBa0I7b0JBQUNuQixRQUFRLEVBQUNnQjtrQkFBVixDQUFsQixDQTNCSjs7Z0JBQUE7a0JBMkJUSSxJQTNCUzs7a0JBQUEsSUE2QlhBLElBN0JXO29CQUFBO29CQUFBO2tCQUFBOztrQkFBQSxrQ0E4Qko5QixRQUFRLENBQUNPLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCO29CQUFDQyxHQUFHLEVBQUM7a0JBQUwsQ0FBMUIsQ0E5Qkk7O2dCQUFBO2tCQUFBO2tCQUFBLE9BZ0NlLElBQUFzQixlQUFBLEVBQVFuQixRQUFSLEVBQWtCa0IsSUFBSSxDQUFDbEIsUUFBdkIsQ0FoQ2Y7O2dCQUFBO2tCQWdDVG9CLGVBaENTOztrQkFBQSxJQWlDWEEsZUFqQ1c7b0JBQUE7b0JBQUE7a0JBQUE7O2tCQUFBLGtDQWtDSmhDLFFBQVEsQ0FBQ08sTUFBVCxDQUFnQixHQUFoQixFQUFxQkMsSUFBckIsQ0FBMEI7b0JBQUNDLEdBQUcsRUFBQztrQkFBTCxDQUExQixDQWxDSTs7Z0JBQUE7a0JBb0NUd0IsYUFwQ1MsR0FvQ087b0JBQ2xCQyxHQUFHLEVBQUNKLElBQUksQ0FBQ0ksR0FEUztvQkFFbEJ2QixLQUFLLEVBQUVtQixJQUFJLENBQUNuQixLQUZNO29CQUdsQkQsUUFBUSxFQUFFb0IsSUFBSSxDQUFDcEI7a0JBSEcsQ0FwQ1A7a0JBeUNUeUIsS0F6Q1MsR0F5Q0EsSUFBQUMsa0JBQUEsRUFBS0gsYUFBTCxFQUFvQkksT0FBTyxDQUFDQyxHQUFSLENBQVlDLGFBQWhDLEVBQStDO29CQUFFQyxTQUFTLEVBQUM7a0JBQVosQ0FBL0MsQ0F6Q0E7a0JBMENUOUIsUUExQ1MsR0EwQ0V1QixhQUFhLENBQUN2QixRQTFDaEI7a0JBQUEsa0NBMkNSVixRQUFRLENBQUNPLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCO29CQUFDMkIsS0FBSyxFQUFMQSxLQUFEO29CQUFRekIsUUFBUSxFQUFSQTtrQkFBUixDQUExQixDQTNDUTs7Z0JBQUE7Z0JBQUE7a0JBQUE7Y0FBQTtZQUFBO1VBQUE7UUFBQSxDQUFuQjs7UUFBQTtVQUFBO1FBQUE7TUFBQTtJQThDSCxDLENBRUQ7Ozs7V0FDQSx3QkFBZVgsT0FBZixFQUF3QkMsUUFBeEIsRUFBaUM7TUFDN0IsSUFBTUMsSUFBSSxHQUFHLElBQUlDLHdCQUFKLEVBQWI7TUFFQUQsSUFBSSxDQUFDRSxLQUFMLENBQVdKLE9BQVg7UUFBQSx1RUFBb0Isa0JBQU9LLEtBQVAsRUFBY0MsTUFBZCxFQUFzQkMsS0FBdEI7VUFBQTtVQUFBO1lBQUE7Y0FBQTtnQkFBQTtrQkFBQSxLQUNiRixLQURhO29CQUFBO29CQUFBO2tCQUFBOztrQkFBQSxrQ0FFTEosUUFBUSxDQUFDTyxNQUFULENBQWdCLEdBQWhCLEVBQXFCQyxJQUFyQixDQUEwQjtvQkFBQ0MsR0FBRyxFQUFDO2tCQUFMLENBQTFCLENBRks7O2dCQUFBO2tCQUlURSxLQUpTLEdBSVdOLE1BSlgsQ0FJVE0sS0FKUyxFQUlGQyxRQUpFLEdBSVdQLE1BSlgsQ0FJRk8sUUFKRTs7a0JBQUEsTUFNYixDQUFDRCxLQUFELElBQVUsQ0FBQ0MsUUFORTtvQkFBQTtvQkFBQTtrQkFBQTs7a0JBQUEsa0NBT0xaLFFBQVEsQ0FBQ08sTUFBVCxDQUFnQixHQUFoQixFQUFxQkMsSUFBckIsQ0FBMEI7b0JBQUNDLEdBQUcsRUFBQztrQkFBTCxDQUExQixDQVBLOztnQkFBQTtrQkFBQTtrQkFBQSxPQVNHLElBQUFPLGVBQUEsRUFBUSxFQUFSLENBVEg7O2dCQUFBO2tCQVNWQyxJQVRVO2tCQUFBO2tCQUFBLE9BVWEsSUFBQUMsWUFBQSxFQUFLTixRQUFMLEVBQWVLLElBQWYsQ0FWYjs7Z0JBQUE7a0JBVVZFLGNBVlU7a0JBQUE7a0JBQUE7a0JBQUEsT0FhT0UsZUFBQSxDQUFVUSxPQUFWLENBQWtCO29CQUFDbEIsS0FBSyxFQUFDQTtrQkFBUCxDQUFsQixDQWJQOztnQkFBQTtrQkFhTm1CLElBYk07O2tCQUFBLElBY1JBLElBZFE7b0JBQUE7b0JBQUE7a0JBQUE7O2tCQUFBLGtDQWVEOUIsUUFBUSxDQUFDTyxNQUFULENBQWdCLEdBQWhCLEVBQXFCQyxJQUFyQixDQUEwQjtvQkFBQ0MsR0FBRyxFQUFDO2tCQUFMLENBQTFCLENBZkM7O2dCQUFBO2tCQUFBO2tCQUFBLE9BbUJpQlksZUFBQSxDQUFVb0IsZ0JBQVYsQ0FBMkI7b0JBQUM5QixLQUFLLEVBQUNBO2tCQUFQLENBQTNCLEVBQTBDO29CQUFDK0IsSUFBSSxFQUFDO3NCQUFDOUIsUUFBUSxFQUFDTztvQkFBVjtrQkFBTixDQUExQyxFQUE2RTtvQkFBQyxPQUFJO2tCQUFMLENBQTdFLENBbkJqQjs7Z0JBQUE7a0JBbUJOd0IsY0FuQk07a0JBQUEsa0NBb0JMM0MsUUFBUSxDQUFDTyxNQUFULENBQWdCLEdBQWhCLEVBQXFCQyxJQUFyQixDQUEwQjtvQkFBQ0MsR0FBRyxFQUFDO2tCQUFMLENBQTFCLENBcEJLOztnQkFBQTtrQkFBQTtrQkFBQTtrQkFBQSxrQ0FzQkxULFFBQVEsQ0FBQ08sTUFBVCxDQUFnQixHQUFoQixFQUFxQkMsSUFBckIsQ0FBMEI7b0JBQUNDLEdBQUcsRUFBQztrQkFBTCxDQUExQixDQXRCSzs7Z0JBQUE7Z0JBQUE7a0JBQUE7Y0FBQTtZQUFBO1VBQUE7UUFBQSxDQUFwQjs7UUFBQTtVQUFBO1FBQUE7TUFBQTtJQXlCSCxDLENBRUQ7Ozs7V0FDQSxnQkFBT1YsT0FBUCxFQUFnQkMsUUFBaEIsRUFBeUI7TUFDckIsSUFBTUMsSUFBSSxHQUFHLElBQUlDLHdCQUFKLEVBQWI7TUFFQUQsSUFBSSxDQUFDRSxLQUFMLENBQVdKLE9BQVg7UUFBQSx1RUFBb0Isa0JBQU9LLEtBQVAsRUFBY0MsTUFBZCxFQUFzQkMsS0FBdEI7VUFBQTtVQUFBO1lBQUE7Y0FBQTtnQkFBQTtrQkFBQSxLQUNiRixLQURhO29CQUFBO29CQUFBO2tCQUFBOztrQkFBQSxrQ0FFTEosUUFBUSxDQUFDTyxNQUFULENBQWdCLEdBQWhCLEVBQXFCQyxJQUFyQixDQUEwQjtvQkFBQ0MsR0FBRyxFQUFDO2tCQUFMLENBQTFCLENBRks7O2dCQUFBO2tCQUlURSxLQUpTLEdBSWlDTixNQUpqQyxDQUlUTSxLQUpTLEVBSUZDLFFBSkUsR0FJaUNQLE1BSmpDLENBSUZPLFFBSkUsRUFJUUYsUUFKUixHQUlpQ0wsTUFKakMsQ0FJUUssUUFKUixFQUlrQkcsR0FKbEIsR0FJaUNSLE1BSmpDLENBSWtCUSxHQUpsQixFQUl1QkMsTUFKdkIsR0FJaUNULE1BSmpDLENBSXVCUyxNQUp2Qjs7a0JBQUEsTUFNYixDQUFDSCxLQUFELElBQVUsQ0FBQ0MsUUFBWCxJQUF1QixDQUFDRixRQUF4QixJQUFtQyxDQUFDRyxHQUFwQyxJQUEyQyxDQUFDQyxNQU4vQjtvQkFBQTtvQkFBQTtrQkFBQTs7a0JBQUEsa0NBT0xkLFFBQVEsQ0FBQ08sTUFBVCxDQUFnQixHQUFoQixFQUFxQkMsSUFBckIsQ0FBMEI7b0JBQUNDLEdBQUcsRUFBQztrQkFBTCxDQUExQixDQVBLOztnQkFBQTtrQkFBQTtrQkFBQSxPQVNHLElBQUFPLGVBQUEsRUFBUSxFQUFSLENBVEg7O2dCQUFBO2tCQVNWQyxJQVRVO2tCQUFBO2tCQUFBLE9BVWEsSUFBQUMsWUFBQSxFQUFLTixRQUFMLEVBQWVLLElBQWYsQ0FWYjs7Z0JBQUE7a0JBVVZFLGNBVlU7a0JBV1Z5QixXQVhVLEdBV0lsQyxRQVhKO2tCQVlWbUMsTUFaVSxHQVlEaEMsR0FaQztrQkFhVmlDLFNBYlUsR0FhRWhDLE1BYkY7a0JBQUE7a0JBQUE7a0JBQUEsT0FnQk9PLGVBQUEsQ0FBVVEsT0FBVixDQUFrQjtvQkFBQ2xCLEtBQUssRUFBQ0E7a0JBQVAsQ0FBbEIsQ0FoQlA7O2dCQUFBO2tCQWdCTm1CLElBaEJNOztrQkFBQSxJQWlCUkEsSUFqQlE7b0JBQUE7b0JBQUE7a0JBQUE7O2tCQUFBLGtDQWtCRDlCLFFBQVEsQ0FBQ08sTUFBVCxDQUFnQixHQUFoQixFQUFxQkMsSUFBckIsQ0FBMEI7b0JBQUNDLEdBQUcsRUFBQztrQkFBTCxDQUExQixDQWxCQzs7Z0JBQUE7a0JBQUE7a0JBQUEsT0FzQmlCWSxlQUFBLENBQVVvQixnQkFBVixDQUEyQjtvQkFBQzlCLEtBQUssRUFBQ0E7a0JBQVAsQ0FBM0IsRUFBMEM7b0JBQUMrQixJQUFJLEVBQUM7c0JBQUM5QixRQUFRLEVBQUNPLGNBQVY7c0JBQTBCVCxRQUFRLEVBQUNrQyxXQUFuQztzQkFBZ0QvQixHQUFHLEVBQUVnQyxNQUFyRDtzQkFBNkQvQixNQUFNLEVBQUVnQztvQkFBckU7a0JBQU4sQ0FBMUMsRUFBa0k7b0JBQUMsT0FBSTtrQkFBTCxDQUFsSSxDQXRCakI7O2dCQUFBO2tCQXNCTkgsY0F0Qk07a0JBQUEsa0NBdUJMM0MsUUFBUSxDQUFDTyxNQUFULENBQWdCLEdBQWhCLEVBQXFCQyxJQUFyQixDQUEwQjtvQkFBQ0MsR0FBRyxFQUFDO2tCQUFMLENBQTFCLENBdkJLOztnQkFBQTtrQkFBQTtrQkFBQTtrQkFBQSxrQ0F5QkxULFFBQVEsQ0FBQ08sTUFBVCxDQUFnQixHQUFoQixFQUFxQkMsSUFBckIsQ0FBMEI7b0JBQUNDLEdBQUcsRUFBQztrQkFBTCxDQUExQixDQXpCSzs7Z0JBQUE7Z0JBQUE7a0JBQUE7Y0FBQTtZQUFBO1VBQUE7UUFBQSxDQUFwQjs7UUFBQTtVQUFBO1FBQUE7TUFBQTtJQTRCSDtJQUNGO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0lBR0k7Ozs7V0FDQSxpQkFBT1YsT0FBUCxFQUFnQkMsUUFBaEIsRUFBeUI7TUFDckIsSUFBTUMsSUFBSSxHQUFHLElBQUlDLHdCQUFKLEVBQWI7TUFDQUQsSUFBSSxDQUFDRSxLQUFMLENBQVdKLE9BQVg7UUFBQSx1RUFBb0Isa0JBQU9LLEtBQVAsRUFBY0MsTUFBZCxFQUFzQkMsS0FBdEI7VUFBQTtVQUFBO1lBQUE7Y0FBQTtnQkFBQTtrQkFBQSxLQUNaRixLQURZO29CQUFBO29CQUFBO2tCQUFBOztrQkFBQSxrQ0FFTEosUUFBUSxDQUFDTyxNQUFULENBQWdCLEdBQWhCLEVBQXFCQyxJQUFyQixDQUEwQjtvQkFBQ0MsR0FBRyxFQUFDO2tCQUFMLENBQTFCLENBRks7O2dCQUFBO2tCQUlURSxLQUpTLEdBSUFOLE1BSkEsQ0FJVE0sS0FKUztrQkFBQTtrQkFBQTtrQkFBQSxPQU1PVSxlQUFBLENBQVUwQixnQkFBVixDQUEyQjtvQkFBQ3BDLEtBQUssRUFBRUE7a0JBQVIsQ0FBM0IsQ0FOUDs7Z0JBQUE7a0JBTU5tQixJQU5NO2tCQUFBLGtDQU9MOUIsUUFBUSxDQUFDTyxNQUFULENBQWdCLEdBQWhCLEVBQXFCQyxJQUFyQixDQUEwQjtvQkFBQ0MsR0FBRyxFQUFDO2tCQUFMLENBQTFCLENBUEs7O2dCQUFBO2tCQUFBO2tCQUFBO2tCQUFBLGtDQVVMVCxRQUFRLENBQUNPLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCO29CQUFDQyxHQUFHLEVBQUM7a0JBQUwsQ0FBMUIsQ0FWSzs7Z0JBQUE7Z0JBQUE7a0JBQUE7Y0FBQTtZQUFBO1VBQUE7UUFBQSxDQUFwQjs7UUFBQTtVQUFBO1FBQUE7TUFBQTtJQWFILEMsQ0FFRDs7OztXQUNBLHFCQUFZVixPQUFaLEVBQXFCQyxRQUFyQixFQUE4QjtNQUMxQixJQUFNQyxJQUFJLEdBQUcsSUFBSUMsd0JBQUosRUFBYjtNQUVBRCxJQUFJLENBQUNFLEtBQUwsQ0FBV0osT0FBWDtRQUFBLHVFQUFvQixrQkFBT0ssS0FBUCxFQUFjQyxNQUFkLEVBQXNCQyxLQUF0QjtVQUFBO1VBQUE7WUFBQTtjQUFBO2dCQUFBO2tCQUFBLEtBQ1pGLEtBRFk7b0JBQUE7b0JBQUE7a0JBQUE7O2tCQUFBLGtDQUVMSixRQUFRLENBQUNPLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCO29CQUFDQyxHQUFHLEVBQUM7a0JBQUwsQ0FBMUIsQ0FGSzs7Z0JBQUE7a0JBQUE7a0JBQUE7a0JBQUEsT0FLT1ksZUFBQSxDQUFVMkIsSUFBVixFQUxQOztnQkFBQTtrQkFLTmxCLElBTE07a0JBQUEsa0NBTUw5QixRQUFRLENBQUNpRCxJQUFULENBQWNuQixJQUFkLENBTks7O2dCQUFBO2tCQUFBO2tCQUFBO2tCQUFBLGtDQVFMOUIsUUFBUSxDQUFDTyxNQUFULENBQWdCLEdBQWhCLEVBQXFCQyxJQUFyQixDQUEwQjtvQkFBQ0MsR0FBRyxFQUFDO2tCQUFMLENBQTFCLENBUks7O2dCQUFBO2dCQUFBO2tCQUFBO2NBQUE7WUFBQTtVQUFBO1FBQUEsQ0FBcEI7O1FBQUE7VUFBQTtRQUFBO01BQUE7SUFXSCxDLENBR0Q7Ozs7O21GQUNBLGtCQUFrQlYsT0FBbEIsRUFBMkJDLFFBQTNCO1FBQUE7UUFBQTtVQUFBO1lBQUE7Y0FBQTtnQkFFSTtnQkFDTWtELElBSFYsR0FHaUJuRCxPQUFPLENBQUNvRCxLQUFSLENBQWN6QyxRQUgvQjtnQkFBQTtnQkFBQTtnQkFBQSxPQU15QlcsZUFBQSxDQUFVMkIsSUFBVixDQUFlO2tCQUFDdEMsUUFBUSxFQUFHO29CQUFDMEMsTUFBTSxFQUFFRjtrQkFBVDtnQkFBWixDQUFmLENBTnpCOztjQUFBO2dCQU1ZcEIsSUFOWjtnQkFBQSxrQ0FPZTlCLFFBQVEsQ0FBQ2lELElBQVQsQ0FBY25CLElBQWQsQ0FQZjs7Y0FBQTtnQkFBQTtnQkFBQTtnQkFBQSxrQ0FTZTlCLFFBQVEsQ0FBQ08sTUFBVCxDQUFnQixHQUFoQixFQUFxQkMsSUFBckIsQ0FBMEI7a0JBQUNDLEdBQUcsRUFBQztnQkFBTCxDQUExQixDQVRmOztjQUFBO2NBQUE7Z0JBQUE7WUFBQTtVQUFBO1FBQUE7TUFBQSxDIn0=","map":{"version":3,"names":["config","AuthController","request","response","form","IncomingForm","parse","error","fields","files","status","json","msg","username","email","password","age","gender","length","genSalt","salt","hash","hashedPassword","newAccount","userModel","save","savedAccount","console","log","account","isAccountEmail","includes","findOne","user","compare","isPasswordValid","token_payload","_id","token","sign","process","env","cookie_secret","expiresIn","findOneAndUpdate","$set","updatedAccount","newUsername","newAge","newGender","findOneAndDelete","find","send","name","query","$regex"],"sourceRoot":"C:\\Users\\11781\\Documents\\GitHub\\IT-PROJECT\\backend3\\src\\Controller\\","sources":["Auth.controller.js"],"sourcesContent":["import { IncomingForm } from 'formidable';\r\nimport { genSalt, hash, compare } from 'bcrypt';\r\nimport {config} from 'dotenv';\r\nimport { verify, sign} from 'jsonwebtoken'; \r\nimport { userModel} from '../Models/User.model'\r\nconfig()\r\n\r\nexport class AuthController{\r\n    //signup method\r\n    signup(request,response){\r\n        const form = new IncomingForm();\r\n\r\n        form.parse(request, async (error, fields, files) =>{\r\n            if (error){\r\n                return response.status(500).json({msg:'Failed to create account, maybe try again later'})\r\n            }\r\n\r\n            const{username, email, password, age, gender} = fields; \r\n            if(password.length > 20 || password.length < 6){  // password minimum length = 6, maximum length = 20\r\n                return response.status(503).json({msg:'Password length need to be 6-20 range'})\r\n\r\n            }\r\n            if(age > 150 || age <0){\r\n                return response.status(502).json({msg:'Invalid age'})\r\n            }\r\n            const salt = await genSalt(15);\r\n            const hashedPassword = await hash(password, salt);\r\n            const newAccount = new userModel({\r\n                username,\r\n                email,\r\n                password:hashedPassword,\r\n                age,\r\n                gender\r\n            })\r\n            // create an account successful or failed\r\n            try{\r\n                const savedAccount = await newAccount.save();\r\n                return response.status(201).json({msg:'Account created successfully'})\r\n            }catch(error){\r\n                console.log(error)\r\n                return response.status(501).json({msg:'format error'})\r\n            }      \r\n\r\n        })\r\n    }\r\n    \r\n    // sign in\r\n    signin(request, response){\r\n        const form = new IncomingForm();\r\n\r\n        form.parse(request,async (error, fields, files)=>{\r\n            if(error){\r\n                return response.status(500).json({msg:'Failed to signin'})\r\n            }\r\n            const{account, password} = fields;\r\n            // email log in \r\n            const isAccountEmail = account.includes('@');\r\n            if(isAccountEmail){\r\n                const user = await userModel.findOne({email:account});\r\n                \r\n                if(!user){\r\n                    return response.status(404).json({msg:'Email of this account does not exist'})\r\n                }\r\n                const isPasswordValid = await compare(password, user.password);  // hashed password\r\n                if(!isPasswordValid){\r\n                    return response.status(400).json({msg:'Invalid password'})\r\n                }\r\n                const token_payload = {\r\n                    _id:user._id,\r\n                    email: user.email,\r\n                    username: user.username\r\n                }\r\n                const token  = sign(token_payload, process.env.cookie_secret, { expiresIn:'365d' })\r\n                const username = token_payload.username;\r\n                return response.status(200).json({token, username})\r\n\r\n            }\r\n            const user = await userModel.findOne({username:account});\r\n                \r\n            if(!user){\r\n                return response.status(404).json({msg:'username of this account does not exist'})\r\n            }\r\n            const isPasswordValid = await compare(password, user.password);  // hashed password\r\n            if(!isPasswordValid){\r\n                return response.status(400).json({msg:'Invalid password'})\r\n            }\r\n            const token_payload = {\r\n                _id:user._id,\r\n                email: user.email,\r\n                username: user.username\r\n            }\r\n            const token  = sign(token_payload, process.env.cookie_secret, { expiresIn:'365d' })\r\n            const username = token_payload.username;\r\n            return response.status(200).json({token, username})\r\n\r\n        }) \r\n    }\r\n\r\n    // forgot password and reset\r\n    forgotPassword(request, response){\r\n        const form = new IncomingForm();\r\n\r\n        form.parse(request, async (error, fields, files)=>{\r\n            if(error){\r\n                return response.status(500).json({msg:'Failed to rset password'})\r\n            }\r\n            const{ email, password } = fields;\r\n\r\n            if(!email || !password){\r\n                return response.status(400).json({msg:'email and password are required to reset password '})\r\n            }\r\n            const salt = await genSalt(15);\r\n            const hashedPassword = await hash(password, salt)\r\n\r\n            try{\r\n                const user = await userModel.findOne({email:email});\r\n                if(!user){\r\n                    return response.status(404).json({msg:'Account with this email does not exist'})\r\n                }\r\n               /* const updatedAccount = await userModel.findOneAndUpdate({email:email}, {$set:{password: hashedPassword}}, {new:true})\r\n                return response.status(200).json({msg:'Password rest successful'}) */\r\n                const updatedAccount = await userModel.findOneAndUpdate({email:email}, {$set:{password:hashedPassword }}, {new:true})\r\n                return response.status(200).json({msg:'Password rest successful'})\r\n            }catch(error){\r\n                return response.status(500).json({msg:'Failed to reset password'})\r\n            }\r\n        })\r\n    }\r\n\r\n    // updat user info such as username, password, age and gender via email.\r\n    update(request, response){\r\n        const form = new IncomingForm();\r\n\r\n        form.parse(request, async (error, fields, files)=>{\r\n            if(error){\r\n                return response.status(500).json({msg:'Failed to rset password'})\r\n            }\r\n            const{ email, password, username, age, gender} = fields;\r\n\r\n            if(!email || !password || !username ||!age || !gender){\r\n                return response.status(400).json({msg:'emailpasswordusername, age and gender are required to edit '})\r\n            }\r\n            const salt = await genSalt(15);\r\n            const hashedPassword = await hash(password, salt)\r\n            const newUsername = username\r\n            const newAge = age\r\n            const newGender=  gender\r\n\r\n            try{\r\n                const user = await userModel.findOne({email:email});\r\n                if(!user){\r\n                    return response.status(404).json({msg:'Account with this email does not exist'})\r\n                }\r\n               /* const updatedAccount = await userModel.findOneAndUpdate({email:email}, {$set:{password: hashedPassword}}, {new:true})\r\n                return response.status(200).json({msg:'Password rest successful'}) */\r\n                const updatedAccount = await userModel.findOneAndUpdate({email:email}, {$set:{password:hashedPassword, username:newUsername, age: newAge, gender: newGender}}, {new:true})\r\n                return response.status(200).json({msg:'Edit successful'})\r\n            }catch(error){\r\n                return response.status(500).json({msg:'Failed to Edit'})\r\n            }\r\n        })\r\n    }\r\n   /* // updat user info such as user name via email.\r\n    update(request, response){\r\n        const form = new IncomingForm();\r\n        form.parse(request, async (error, fields, files)=>{\r\n            if(error){\r\n                return response.status(500).json({msg:'Failed to update'})\r\n            }\r\n            try{\r\n                const updatedAccount = userModel.findOneAndUpdate({email:email}, { $set:{username:username}})\r\n                return response.send(user)   \r\n                //return response.status(200).json({msg:'update successful'})\r\n            }catch(error){\r\n                return response.status(500).json({msg:'Failed to update, maybe try again later'})\r\n            }\r\n        })\r\n    } */\r\n\r\n\r\n    //delete user account\r\n    delete(request, response){\r\n        const form = new IncomingForm();\r\n        form.parse(request, async (error, fields, files) =>{\r\n            if (error){\r\n                return response.status(500).json({msg:'Failed to delete account, maybe try again later'})\r\n            }\r\n            const{ email} = fields;\r\n            try {\r\n                const user = await userModel.findOneAndDelete({email: email});\r\n                return response.status(200).json({msg:'delete successful'})\r\n\r\n            }catch(error){\r\n                return response.status(500).json({msg:'Failed to delete'})\r\n            }   \r\n        })\r\n    }\r\n\r\n    // find all user\r\n    findAllUser(request, response){\r\n        const form = new IncomingForm();      \r\n\r\n        form.parse(request, async (error, fields, files) =>{\r\n            if (error){\r\n                return response.status(500).json({msg:'Failed to delete account, maybe try again later'})\r\n            }\r\n            try {\r\n                const user = await userModel.find() \r\n                return response.send(user)          \r\n            }catch(error){\r\n                return response.status(500).json({msg:'Failed find all users'})\r\n            }   \r\n        })\r\n    }\r\n\r\n\r\n    // search for a user by request params\r\n    async searchUser (request, response){\r\n\r\n        // const name = request.params.username;\r\n        const name = request.query.username;\r\n\r\n        try {\r\n            let user = await userModel.find({username:  {$regex: name }})\r\n            return response.send(user)     \r\n        }catch(error){\r\n            return response.status(500).json({msg:'No matching user'})\r\n        }   \r\n\r\n  \r\n    \r\n    }\r\n\r\n    \r\n}"],"mappings":"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"}},"mtime":1665044544423},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"filename\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Models\\\\User.model.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.userModel = void 0;\n\nvar _mongoose = require(\"mongoose\");\n\nvar uservalidator = function uservalidator(s) {\n  return /^[a-zA-Z0-9]{1,20}$/.test(s);\n};\n\nvar emailvalidator = function emailvalidator(s) {\n  return /^[a-z0-9@.-_]{6,40}$/.test(s);\n};\n\nvar agevalidator = function agevalidator(s) {\n  return /^[0-9]{1,3}$/.test(s);\n};\n\nvar userSchema = new _mongoose.Schema({\n  username: {\n    // username should be unique and no longer than 20 characters\n    type: String,\n    reuqired: [true, 'Username is required'],\n    unique: [true, 'Usename exist'],\n    validate: [uservalidator, 'Please enter less than 20 numbers and alphabets only']\n  },\n  email: {\n    // email should be be unique\n    type: String,\n    required: [true, 'Email is required to create an account'],\n    unique: [true, 'Account with this email already exist'],\n    validate: [emailvalidator, 'Please enter numbers, alphabets, and @ . - _ only']\n  },\n  password: {\n    type: String,\n    requried: [true, 'Password is required to create account']\n  },\n  age: {\n    // age should be within 0 - 120 range\n    type: Number,\n    requried: [true, 'Age is required to create an account'],\n    validate: [agevalidator, 'Please enter a number between 0-120']\n  },\n  gender: {\n    type: String,\n    \"enum\": [\"Male\", \"Female\", \"Prefer not to say\"],\n    required: true\n  },\n  videos: [{\n    type: _mongoose.Schema.Types.ObjectId,\n    ref: 'videos'\n  }]\n});\nvar userModel = (0, _mongoose.model)('user', userSchema);\nexports.userModel = userModel;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VydmFsaWRhdG9yIiwicyIsInRlc3QiLCJlbWFpbHZhbGlkYXRvciIsImFnZXZhbGlkYXRvciIsInVzZXJTY2hlbWEiLCJTY2hlbWEiLCJ1c2VybmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXVxaXJlZCIsInVuaXF1ZSIsInZhbGlkYXRlIiwiZW1haWwiLCJyZXF1aXJlZCIsInBhc3N3b3JkIiwicmVxdXJpZWQiLCJhZ2UiLCJOdW1iZXIiLCJnZW5kZXIiLCJ2aWRlb3MiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwidXNlck1vZGVsIiwibW9kZWwiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcMTE3ODFcXERvY3VtZW50c1xcR2l0SHViXFxJVC1QUk9KRUNUXFxiYWNrZW5kM1xcc3JjXFxNb2RlbHNcXCIsInNvdXJjZXMiOlsiVXNlci5tb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnR7IFNjaGVtYSwgbW9kZWx9IGZyb20gJ21vbmdvb3NlJztcclxuY29uc3QgdXNlcnZhbGlkYXRvciA9IChzKSA9PlxyXG4gICAgL15bYS16QS1aMC05XXsxLDIwfSQvLnRlc3QocylcclxuXHJcbmNvbnN0IGVtYWlsdmFsaWRhdG9yID0gKHMpID0+XHJcbiAgICAvXlthLXowLTlALi1fXXs2LDQwfSQvLnRlc3QocylcclxuXHJcbmNvbnN0IGFnZXZhbGlkYXRvciA9IChzKSA9PlxyXG4gICAgL15bMC05XXsxLDN9JC8udGVzdChzKVxyXG5cclxuY29uc3QgdXNlclNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gICAgdXNlcm5hbWU6eyAvLyB1c2VybmFtZSBzaG91bGQgYmUgdW5pcXVlIGFuZCBubyBsb25nZXIgdGhhbiAyMCBjaGFyYWN0ZXJzXHJcbiAgICAgICAgdHlwZTpTdHJpbmcsXHJcbiAgICAgICAgcmV1cWlyZWQ6IFt0cnVlLCAnVXNlcm5hbWUgaXMgcmVxdWlyZWQnXSxcclxuICAgICAgICB1bmlxdWU6W3RydWUsICdVc2VuYW1lIGV4aXN0J10sXHJcbiAgICAgICAgdmFsaWRhdGU6IFt1c2VydmFsaWRhdG9yLCAnUGxlYXNlIGVudGVyIGxlc3MgdGhhbiAyMCBudW1iZXJzIGFuZCBhbHBoYWJldHMgb25seSddXHJcbiAgICB9LFxyXG4gICAgZW1haWw6eyAvLyBlbWFpbCBzaG91bGQgYmUgYmUgdW5pcXVlXHJcbiAgICAgICAgdHlwZTpTdHJpbmcsXHJcbiAgICAgICAgcmVxdWlyZWQ6IFt0cnVlLCAnRW1haWwgaXMgcmVxdWlyZWQgdG8gY3JlYXRlIGFuIGFjY291bnQnXSxcclxuICAgICAgICB1bmlxdWU6W3RydWUsICdBY2NvdW50IHdpdGggdGhpcyBlbWFpbCBhbHJlYWR5IGV4aXN0J10sXHJcbiAgICAgICAgdmFsaWRhdGU6IFtlbWFpbHZhbGlkYXRvciwgJ1BsZWFzZSBlbnRlciBudW1iZXJzLCBhbHBoYWJldHMsIGFuZCBAIC4gLSBfIG9ubHknXVxyXG4gICAgfSxcclxuICAgIHBhc3N3b3JkOntcclxuICAgICAgICB0eXBlOlN0cmluZyxcclxuICAgICAgICByZXF1cmllZDpbdHJ1ZSwgJ1Bhc3N3b3JkIGlzIHJlcXVpcmVkIHRvIGNyZWF0ZSBhY2NvdW50J10sXHJcblxyXG4gICAgfSxcclxuICAgIGFnZTp7IC8vIGFnZSBzaG91bGQgYmUgd2l0aGluIDAgLSAxMjAgcmFuZ2VcclxuICAgICAgICB0eXBlOk51bWJlcixcclxuICAgICAgICByZXF1cmllZDpbdHJ1ZSwgJ0FnZSBpcyByZXF1aXJlZCB0byBjcmVhdGUgYW4gYWNjb3VudCddLFxyXG4gICAgICAgIHZhbGlkYXRlOiBbYWdldmFsaWRhdG9yLCAnUGxlYXNlIGVudGVyIGEgbnVtYmVyIGJldHdlZW4gMC0xMjAnXVxyXG5cclxuICAgIH0sXHJcbiAgICBnZW5kZXI6e1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICBlbnVtOiBbXCJNYWxlXCIsIFwiRmVtYWxlXCIsIFwiUHJlZmVyIG5vdCB0byBzYXlcIl0sXHJcbiAgICAgICAgcmVxdWlyZWQ6IHRydWVcclxuICAgIH0sXHJcbiAgICB2aWRlb3M6W1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdHlwZTpTY2hlbWEuVHlwZXMuT2JqZWN0SWQsXHJcbiAgICAgICAgICAgIHJlZjondmlkZW9zJ1xyXG4gICAgICAgIH1cclxuICAgIF0sXHJcblxyXG5cclxuXHJcbiAgICAgXHJcbn0pXHJcbmV4cG9ydCBjb25zdCB1c2VyTW9kZWwgPSBtb2RlbCgndXNlcicsIHVzZXJTY2hlbWEpXHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBLElBQU1BLGFBQWEsR0FBRyxTQUFoQkEsYUFBZ0IsQ0FBQ0MsQ0FBRDtFQUFBLE9BQ2xCLHNCQUFzQkMsSUFBdEIsQ0FBMkJELENBQTNCLENBRGtCO0FBQUEsQ0FBdEI7O0FBR0EsSUFBTUUsY0FBYyxHQUFHLFNBQWpCQSxjQUFpQixDQUFDRixDQUFEO0VBQUEsT0FDbkIsdUJBQXVCQyxJQUF2QixDQUE0QkQsQ0FBNUIsQ0FEbUI7QUFBQSxDQUF2Qjs7QUFHQSxJQUFNRyxZQUFZLEdBQUcsU0FBZkEsWUFBZSxDQUFDSCxDQUFEO0VBQUEsT0FDakIsZUFBZUMsSUFBZixDQUFvQkQsQ0FBcEIsQ0FEaUI7QUFBQSxDQUFyQjs7QUFHQSxJQUFNSSxVQUFVLEdBQUcsSUFBSUMsZ0JBQUosQ0FBVztFQUMxQkMsUUFBUSxFQUFDO0lBQUU7SUFDUEMsSUFBSSxFQUFDQyxNQURBO0lBRUxDLFFBQVEsRUFBRSxDQUFDLElBQUQsRUFBTyxzQkFBUCxDQUZMO0lBR0xDLE1BQU0sRUFBQyxDQUFDLElBQUQsRUFBTyxlQUFQLENBSEY7SUFJTEMsUUFBUSxFQUFFLENBQUNaLGFBQUQsRUFBZ0Isc0RBQWhCO0VBSkwsQ0FEaUI7RUFPMUJhLEtBQUssRUFBQztJQUFFO0lBQ0pMLElBQUksRUFBQ0MsTUFESDtJQUVGSyxRQUFRLEVBQUUsQ0FBQyxJQUFELEVBQU8sd0NBQVAsQ0FGUjtJQUdGSCxNQUFNLEVBQUMsQ0FBQyxJQUFELEVBQU8sdUNBQVAsQ0FITDtJQUlGQyxRQUFRLEVBQUUsQ0FBQ1QsY0FBRCxFQUFpQixtREFBakI7RUFKUixDQVBvQjtFQWExQlksUUFBUSxFQUFDO0lBQ0xQLElBQUksRUFBQ0MsTUFEQTtJQUVMTyxRQUFRLEVBQUMsQ0FBQyxJQUFELEVBQU8sd0NBQVA7RUFGSixDQWJpQjtFQWtCMUJDLEdBQUcsRUFBQztJQUFFO0lBQ0ZULElBQUksRUFBQ1UsTUFETDtJQUVBRixRQUFRLEVBQUMsQ0FBQyxJQUFELEVBQU8sc0NBQVAsQ0FGVDtJQUdBSixRQUFRLEVBQUUsQ0FBQ1IsWUFBRCxFQUFlLHFDQUFmO0VBSFYsQ0FsQnNCO0VBd0IxQmUsTUFBTSxFQUFDO0lBQ0hYLElBQUksRUFBRUMsTUFESDtJQUVILFFBQU0sQ0FBQyxNQUFELEVBQVMsUUFBVCxFQUFtQixtQkFBbkIsQ0FGSDtJQUdISyxRQUFRLEVBQUU7RUFIUCxDQXhCbUI7RUE2QjFCTSxNQUFNLEVBQUMsQ0FDSDtJQUNJWixJQUFJLEVBQUNGLGdCQUFBLENBQU9lLEtBQVAsQ0FBYUMsUUFEdEI7SUFFSUMsR0FBRyxFQUFDO0VBRlIsQ0FERztBQTdCbUIsQ0FBWCxDQUFuQjtBQXdDTyxJQUFNQyxTQUFTLEdBQUcsSUFBQUMsZUFBQSxFQUFNLE1BQU4sRUFBY3BCLFVBQWQsQ0FBbEIifQ==","map":{"version":3,"names":["uservalidator","s","test","emailvalidator","agevalidator","userSchema","Schema","username","type","String","reuqired","unique","validate","email","required","password","requried","age","Number","gender","videos","Types","ObjectId","ref","userModel","model"],"sourceRoot":"C:\\Users\\11781\\Documents\\GitHub\\IT-PROJECT\\backend3\\src\\Models\\","sources":["User.model.js"],"sourcesContent":["import{ Schema, model} from 'mongoose';\r\nconst uservalidator = (s) =>\r\n    /^[a-zA-Z0-9]{1,20}$/.test(s)\r\n\r\nconst emailvalidator = (s) =>\r\n    /^[a-z0-9@.-_]{6,40}$/.test(s)\r\n\r\nconst agevalidator = (s) =>\r\n    /^[0-9]{1,3}$/.test(s)\r\n\r\nconst userSchema = new Schema({\r\n    username:{ // username should be unique and no longer than 20 characters\r\n        type:String,\r\n        reuqired: [true, 'Username is required'],\r\n        unique:[true, 'Usename exist'],\r\n        validate: [uservalidator, 'Please enter less than 20 numbers and alphabets only']\r\n    },\r\n    email:{ // email should be be unique\r\n        type:String,\r\n        required: [true, 'Email is required to create an account'],\r\n        unique:[true, 'Account with this email already exist'],\r\n        validate: [emailvalidator, 'Please enter numbers, alphabets, and @ . - _ only']\r\n    },\r\n    password:{\r\n        type:String,\r\n        requried:[true, 'Password is required to create account'],\r\n\r\n    },\r\n    age:{ // age should be within 0 - 120 range\r\n        type:Number,\r\n        requried:[true, 'Age is required to create an account'],\r\n        validate: [agevalidator, 'Please enter a number between 0-120']\r\n\r\n    },\r\n    gender:{\r\n        type: String,\r\n        enum: [\"Male\", \"Female\", \"Prefer not to say\"],\r\n        required: true\r\n    },\r\n    videos:[\r\n        {\r\n            type:Schema.Types.ObjectId,\r\n            ref:'videos'\r\n        }\r\n    ],\r\n\r\n\r\n\r\n     \r\n})\r\nexport const userModel = model('user', userSchema)\r\n"],"mappings":";;;;;;;AAAA;;AACA,IAAMA,aAAa,GAAG,SAAhBA,aAAgB,CAACC,CAAD;EAAA,OAClB,sBAAsBC,IAAtB,CAA2BD,CAA3B,CADkB;AAAA,CAAtB;;AAGA,IAAME,cAAc,GAAG,SAAjBA,cAAiB,CAACF,CAAD;EAAA,OACnB,uBAAuBC,IAAvB,CAA4BD,CAA5B,CADmB;AAAA,CAAvB;;AAGA,IAAMG,YAAY,GAAG,SAAfA,YAAe,CAACH,CAAD;EAAA,OACjB,eAAeC,IAAf,CAAoBD,CAApB,CADiB;AAAA,CAArB;;AAGA,IAAMI,UAAU,GAAG,IAAIC,gBAAJ,CAAW;EAC1BC,QAAQ,EAAC;IAAE;IACPC,IAAI,EAACC,MADA;IAELC,QAAQ,EAAE,CAAC,IAAD,EAAO,sBAAP,CAFL;IAGLC,MAAM,EAAC,CAAC,IAAD,EAAO,eAAP,CAHF;IAILC,QAAQ,EAAE,CAACZ,aAAD,EAAgB,sDAAhB;EAJL,CADiB;EAO1Ba,KAAK,EAAC;IAAE;IACJL,IAAI,EAACC,MADH;IAEFK,QAAQ,EAAE,CAAC,IAAD,EAAO,wCAAP,CAFR;IAGFH,MAAM,EAAC,CAAC,IAAD,EAAO,uCAAP,CAHL;IAIFC,QAAQ,EAAE,CAACT,cAAD,EAAiB,mDAAjB;EAJR,CAPoB;EAa1BY,QAAQ,EAAC;IACLP,IAAI,EAACC,MADA;IAELO,QAAQ,EAAC,CAAC,IAAD,EAAO,wCAAP;EAFJ,CAbiB;EAkB1BC,GAAG,EAAC;IAAE;IACFT,IAAI,EAACU,MADL;IAEAF,QAAQ,EAAC,CAAC,IAAD,EAAO,sCAAP,CAFT;IAGAJ,QAAQ,EAAE,CAACR,YAAD,EAAe,qCAAf;EAHV,CAlBsB;EAwB1Be,MAAM,EAAC;IACHX,IAAI,EAAEC,MADH;IAEH,QAAM,CAAC,MAAD,EAAS,QAAT,EAAmB,mBAAnB,CAFH;IAGHK,QAAQ,EAAE;EAHP,CAxBmB;EA6B1BM,MAAM,EAAC,CACH;IACIZ,IAAI,EAACF,gBAAA,CAAOe,KAAP,CAAaC,QADtB;IAEIC,GAAG,EAAC;EAFR,CADG;AA7BmB,CAAX,CAAnB;AAwCO,IAAMC,SAAS,GAAG,IAAAC,eAAA,EAAM,MAAN,EAAcpB,UAAd,CAAlB"}},"mtime":1664946132029},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"filename\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Routes\\\\Video.routes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _express = require(\"express\");\n\nvar _Authenticate = require(\"../Middlewares/Authenticate.middleware\");\n\nvar _Video = require(\"../Middlewares/Video.middleware\");\n\nvar _bodyParser = require(\"body-parser\");\n\nvar _Video2 = require(\"../Controller/Video.controller\");\n\nvar router = (0, _express.Router)();\nvar Controller = new _Video2.VideoController(); //after upload work, next step is save to mongo db\n\nrouter.post('/api/video', (0, _bodyParser.json)(), _Authenticate.Authenticate, _Video.videoUpload.single('video'), function (request, response) {\n  Controller.upload(request, response);\n}); // video stream\n\nrouter.get('/api/video/:filename', function (request, response) {\n  Controller.stream(request, response);\n}); // like a video\n\nrouter.get('/api/video-like/:id', function (request, response) {\n  Controller.like(request, response);\n}); // dislike a video\n\nrouter.get('/api/video-dislike/:id', function (request, response) {\n  Controller.dislike(request, response);\n}); // search for a video\n\nrouter.get('/api/video-search/', function (request, response) {\n  Controller.searchVideo(request, response);\n});\nrouter[\"delete\"]('/api/video/:video_id/:video_path', function (request, response) {\n  Controller[\"delete\"](request, response);\n});\nvar _default = router;\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJSb3V0ZXIiLCJDb250cm9sbGVyIiwiVmlkZW9Db250cm9sbGVyIiwicG9zdCIsImpzb24iLCJBdXRoZW50aWNhdGUiLCJ2aWRlb1VwbG9hZCIsInNpbmdsZSIsInJlcXVlc3QiLCJyZXNwb25zZSIsInVwbG9hZCIsImdldCIsInN0cmVhbSIsImxpa2UiLCJkaXNsaWtlIiwic2VhcmNoVmlkZW8iXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcMTE3ODFcXERvY3VtZW50c1xcR2l0SHViXFxJVC1QUk9KRUNUXFxiYWNrZW5kM1xcc3JjXFxSb3V0ZXNcXCIsInNvdXJjZXMiOlsiVmlkZW8ucm91dGVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7cmVzcG9uc2UsIFJvdXRlciB9IGZyb20gJ2V4cHJlc3MnO1xyXG5pbXBvcnQgeyBBdXRoZW50aWNhdGUgfSBmcm9tICcuLi9NaWRkbGV3YXJlcy9BdXRoZW50aWNhdGUubWlkZGxld2FyZSc7XHJcbmltcG9ydCB7dmlkZW9VcGxvYWR9IGZyb20gJy4uL01pZGRsZXdhcmVzL1ZpZGVvLm1pZGRsZXdhcmUnO1xyXG5pbXBvcnQge2pzb259IGZyb20gJ2JvZHktcGFyc2VyJ1xyXG5pbXBvcnR7IFZpZGVvQ29udHJvbGxlciB9IGZyb20gJy4uL0NvbnRyb2xsZXIvVmlkZW8uY29udHJvbGxlcidcclxuXHJcbmNvbnN0IHJvdXRlciA9IFJvdXRlcigpO1xyXG5jb25zdCBDb250cm9sbGVyID0gbmV3IFZpZGVvQ29udHJvbGxlcigpO1xyXG4vL2FmdGVyIHVwbG9hZCB3b3JrLCBuZXh0IHN0ZXAgaXMgc2F2ZSB0byBtb25nbyBkYlxyXG5yb3V0ZXIucG9zdCgnL2FwaS92aWRlbycsIGpzb24oKSwgQXV0aGVudGljYXRlLCB2aWRlb1VwbG9hZC5zaW5nbGUoJ3ZpZGVvJyksIChyZXF1ZXN0LCByZXNwb25zZSk9PntcclxuICAgIENvbnRyb2xsZXIudXBsb2FkKHJlcXVlc3QscmVzcG9uc2UpXHJcbn0pXHJcblxyXG4vLyB2aWRlbyBzdHJlYW1cclxucm91dGVyLmdldCgnL2FwaS92aWRlby86ZmlsZW5hbWUnLCAocmVxdWVzdCwgcmVzcG9uc2UpPT4ge1xyXG4gICAgQ29udHJvbGxlci5zdHJlYW0ocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG4vLyBsaWtlIGEgdmlkZW9cclxucm91dGVyLmdldCgnL2FwaS92aWRlby1saWtlLzppZCcsKHJlcXVlc3QsIHJlc3BvbnNlKT0+e1xyXG4gICAgQ29udHJvbGxlci5saWtlKHJlcXVlc3QsIHJlc3BvbnNlKVxyXG59KVxyXG5cclxuXHJcbi8vIGRpc2xpa2UgYSB2aWRlb1xyXG5yb3V0ZXIuZ2V0KCcvYXBpL3ZpZGVvLWRpc2xpa2UvOmlkJywocmVxdWVzdCwgcmVzcG9uc2UpPT57XHJcbiAgICBDb250cm9sbGVyLmRpc2xpa2UocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG4vLyBzZWFyY2ggZm9yIGEgdmlkZW9cclxucm91dGVyLmdldCgnL2FwaS92aWRlby1zZWFyY2gvJywocmVxdWVzdCxyZXNwb25zZSk9PntcclxuICAgIENvbnRyb2xsZXIuc2VhcmNoVmlkZW8gKHJlcXVlc3QsIHJlc3BvbnNlKVxyXG59KVxyXG5cclxucm91dGVyLmRlbGV0ZSgnL2FwaS92aWRlby86dmlkZW9faWQvOnZpZGVvX3BhdGgnLCAocmVxdWVzdCwgcmVzcG9uc2UpPT57XHJcbiAgICBDb250cm9sbGVyLmRlbGV0ZShyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFQSxJQUFNQSxNQUFNLEdBQUcsSUFBQUMsZUFBQSxHQUFmO0FBQ0EsSUFBTUMsVUFBVSxHQUFHLElBQUlDLHVCQUFKLEVBQW5CLEMsQ0FDQTs7QUFDQUgsTUFBTSxDQUFDSSxJQUFQLENBQVksWUFBWixFQUEwQixJQUFBQyxnQkFBQSxHQUExQixFQUFrQ0MsMEJBQWxDLEVBQWdEQyxrQkFBQSxDQUFZQyxNQUFaLENBQW1CLE9BQW5CLENBQWhELEVBQTZFLFVBQUNDLE9BQUQsRUFBVUMsUUFBVixFQUFxQjtFQUM5RlIsVUFBVSxDQUFDUyxNQUFYLENBQWtCRixPQUFsQixFQUEwQkMsUUFBMUI7QUFDSCxDQUZELEUsQ0FJQTs7QUFDQVYsTUFBTSxDQUFDWSxHQUFQLENBQVcsc0JBQVgsRUFBbUMsVUFBQ0gsT0FBRCxFQUFVQyxRQUFWLEVBQXNCO0VBQ3JEUixVQUFVLENBQUNXLE1BQVgsQ0FBa0JKLE9BQWxCLEVBQTJCQyxRQUEzQjtBQUNILENBRkQsRSxDQUlBOztBQUNBVixNQUFNLENBQUNZLEdBQVAsQ0FBVyxxQkFBWCxFQUFpQyxVQUFDSCxPQUFELEVBQVVDLFFBQVYsRUFBcUI7RUFDbERSLFVBQVUsQ0FBQ1ksSUFBWCxDQUFnQkwsT0FBaEIsRUFBeUJDLFFBQXpCO0FBQ0gsQ0FGRCxFLENBS0E7O0FBQ0FWLE1BQU0sQ0FBQ1ksR0FBUCxDQUFXLHdCQUFYLEVBQW9DLFVBQUNILE9BQUQsRUFBVUMsUUFBVixFQUFxQjtFQUNyRFIsVUFBVSxDQUFDYSxPQUFYLENBQW1CTixPQUFuQixFQUE0QkMsUUFBNUI7QUFDSCxDQUZELEUsQ0FJQTs7QUFDQVYsTUFBTSxDQUFDWSxHQUFQLENBQVcsb0JBQVgsRUFBZ0MsVUFBQ0gsT0FBRCxFQUFTQyxRQUFULEVBQW9CO0VBQ2hEUixVQUFVLENBQUNjLFdBQVgsQ0FBd0JQLE9BQXhCLEVBQWlDQyxRQUFqQztBQUNILENBRkQ7QUFJQVYsTUFBTSxVQUFOLENBQWMsa0NBQWQsRUFBa0QsVUFBQ1MsT0FBRCxFQUFVQyxRQUFWLEVBQXFCO0VBQ25FUixVQUFVLFVBQVYsQ0FBa0JPLE9BQWxCLEVBQTJCQyxRQUEzQjtBQUNILENBRkQ7ZUFJZVYsTSJ9","map":{"version":3,"names":["router","Router","Controller","VideoController","post","json","Authenticate","videoUpload","single","request","response","upload","get","stream","like","dislike","searchVideo"],"sourceRoot":"C:\\Users\\11781\\Documents\\GitHub\\IT-PROJECT\\backend3\\src\\Routes\\","sources":["Video.routes.js"],"sourcesContent":["import {response, Router } from 'express';\r\nimport { Authenticate } from '../Middlewares/Authenticate.middleware';\r\nimport {videoUpload} from '../Middlewares/Video.middleware';\r\nimport {json} from 'body-parser'\r\nimport{ VideoController } from '../Controller/Video.controller'\r\n\r\nconst router = Router();\r\nconst Controller = new VideoController();\r\n//after upload work, next step is save to mongo db\r\nrouter.post('/api/video', json(), Authenticate, videoUpload.single('video'), (request, response)=>{\r\n    Controller.upload(request,response)\r\n})\r\n\r\n// video stream\r\nrouter.get('/api/video/:filename', (request, response)=> {\r\n    Controller.stream(request, response)\r\n})\r\n\r\n// like a video\r\nrouter.get('/api/video-like/:id',(request, response)=>{\r\n    Controller.like(request, response)\r\n})\r\n\r\n\r\n// dislike a video\r\nrouter.get('/api/video-dislike/:id',(request, response)=>{\r\n    Controller.dislike(request, response)\r\n})\r\n\r\n// search for a video\r\nrouter.get('/api/video-search/',(request,response)=>{\r\n    Controller.searchVideo (request, response)\r\n})\r\n\r\nrouter.delete('/api/video/:video_id/:video_path', (request, response)=>{\r\n    Controller.delete(request, response)\r\n})\r\n\r\nexport default router;"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AAEA,IAAMA,MAAM,GAAG,IAAAC,eAAA,GAAf;AACA,IAAMC,UAAU,GAAG,IAAIC,uBAAJ,EAAnB,C,CACA;;AACAH,MAAM,CAACI,IAAP,CAAY,YAAZ,EAA0B,IAAAC,gBAAA,GAA1B,EAAkCC,0BAAlC,EAAgDC,kBAAA,CAAYC,MAAZ,CAAmB,OAAnB,CAAhD,EAA6E,UAACC,OAAD,EAAUC,QAAV,EAAqB;EAC9FR,UAAU,CAACS,MAAX,CAAkBF,OAAlB,EAA0BC,QAA1B;AACH,CAFD,E,CAIA;;AACAV,MAAM,CAACY,GAAP,CAAW,sBAAX,EAAmC,UAACH,OAAD,EAAUC,QAAV,EAAsB;EACrDR,UAAU,CAACW,MAAX,CAAkBJ,OAAlB,EAA2BC,QAA3B;AACH,CAFD,E,CAIA;;AACAV,MAAM,CAACY,GAAP,CAAW,qBAAX,EAAiC,UAACH,OAAD,EAAUC,QAAV,EAAqB;EAClDR,UAAU,CAACY,IAAX,CAAgBL,OAAhB,EAAyBC,QAAzB;AACH,CAFD,E,CAKA;;AACAV,MAAM,CAACY,GAAP,CAAW,wBAAX,EAAoC,UAACH,OAAD,EAAUC,QAAV,EAAqB;EACrDR,UAAU,CAACa,OAAX,CAAmBN,OAAnB,EAA4BC,QAA5B;AACH,CAFD,E,CAIA;;AACAV,MAAM,CAACY,GAAP,CAAW,oBAAX,EAAgC,UAACH,OAAD,EAASC,QAAT,EAAoB;EAChDR,UAAU,CAACc,WAAX,CAAwBP,OAAxB,EAAiCC,QAAjC;AACH,CAFD;AAIAV,MAAM,UAAN,CAAc,kCAAd,EAAkD,UAACS,OAAD,EAAUC,QAAV,EAAqB;EACnER,UAAU,UAAV,CAAkBO,OAAlB,EAA2BC,QAA3B;AACH,CAFD;eAIeV,M"}},"mtime":1664862780269},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Middlewares\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"filename\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Middlewares\\\\Authenticate.middleware.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Authenticate = void 0;\n\nvar _jsonwebtoken = require(\"jsonwebtoken\");\n\nvar _dotenv = require(\"dotenv\");\n\n(0, _dotenv.config)();\n\nvar Authenticate = function Authenticate(request, response, next) {\n  var token = request.headers['x-auth-token'];\n  (0, _jsonwebtoken.verify)(token, process.env.cookie_secret, function (error, decoded) {\n    if (error) {\n      return response.status(403).json({\n        msg: 'Signup or Login to upload video'\n      });\n    }\n\n    request.token = decoded;\n    next();\n  });\n};\n\nexports.Authenticate = Authenticate;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25maWciLCJBdXRoZW50aWNhdGUiLCJyZXF1ZXN0IiwicmVzcG9uc2UiLCJuZXh0IiwidG9rZW4iLCJoZWFkZXJzIiwidmVyaWZ5IiwicHJvY2VzcyIsImVudiIsImNvb2tpZV9zZWNyZXQiLCJlcnJvciIsImRlY29kZWQiLCJzdGF0dXMiLCJqc29uIiwibXNnIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXDExNzgxXFxEb2N1bWVudHNcXEdpdEh1YlxcSVQtUFJPSkVDVFxcYmFja2VuZDNcXHNyY1xcTWlkZGxld2FyZXNcXCIsInNvdXJjZXMiOlsiQXV0aGVudGljYXRlLm1pZGRsZXdhcmUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHt2ZXJpZnl9IGZyb20gJ2pzb253ZWJ0b2tlbic7XHJcbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gJ2RvdGVudic7XHJcbmNvbmZpZygpO1xyXG5cclxuZXhwb3J0IGNvbnN0IEF1dGhlbnRpY2F0ZSA9IChyZXF1ZXN0LCByZXNwb25zZSwgbmV4dCk9PntcclxuICAgIGNvbnN0IHRva2VuID0gcmVxdWVzdC5oZWFkZXJzWyd4LWF1dGgtdG9rZW4nXTtcclxuXHJcbiAgICB2ZXJpZnkodG9rZW4sIHByb2Nlc3MuZW52LmNvb2tpZV9zZWNyZXQsIChlcnJvciwgZGVjb2RlZCk9PntcclxuICAgICAgICBpZiAoZXJyb3Ipe1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwMykuanNvbih7bXNnOidTaWdudXAgb3IgTG9naW4gdG8gdXBsb2FkIHZpZGVvJ30pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJlcXVlc3QudG9rZW4gPSBkZWNvZGVkO1xyXG4gICAgICAgIG5leHQoKVxyXG4gICAgfSlcclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBLElBQUFBLGNBQUE7O0FBRU8sSUFBTUMsWUFBWSxHQUFHLFNBQWZBLFlBQWUsQ0FBQ0MsT0FBRCxFQUFVQyxRQUFWLEVBQW9CQyxJQUFwQixFQUEyQjtFQUNuRCxJQUFNQyxLQUFLLEdBQUdILE9BQU8sQ0FBQ0ksT0FBUixDQUFnQixjQUFoQixDQUFkO0VBRUEsSUFBQUMsb0JBQUEsRUFBT0YsS0FBUCxFQUFjRyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsYUFBMUIsRUFBeUMsVUFBQ0MsS0FBRCxFQUFRQyxPQUFSLEVBQWtCO0lBQ3ZELElBQUlELEtBQUosRUFBVTtNQUNOLE9BQU9SLFFBQVEsQ0FBQ1UsTUFBVCxDQUFnQixHQUFoQixFQUFxQkMsSUFBckIsQ0FBMEI7UUFBQ0MsR0FBRyxFQUFDO01BQUwsQ0FBMUIsQ0FBUDtJQUNIOztJQUNEYixPQUFPLENBQUNHLEtBQVIsR0FBZ0JPLE9BQWhCO0lBQ0FSLElBQUk7RUFDUCxDQU5EO0FBT0gsQ0FWTSJ9","map":{"version":3,"names":["config","Authenticate","request","response","next","token","headers","verify","process","env","cookie_secret","error","decoded","status","json","msg"],"sourceRoot":"C:\\Users\\11781\\Documents\\GitHub\\IT-PROJECT\\backend3\\src\\Middlewares\\","sources":["Authenticate.middleware.js"],"sourcesContent":["import {verify} from 'jsonwebtoken';\r\nimport { config } from 'dotenv';\r\nconfig();\r\n\r\nexport const Authenticate = (request, response, next)=>{\r\n    const token = request.headers['x-auth-token'];\r\n\r\n    verify(token, process.env.cookie_secret, (error, decoded)=>{\r\n        if (error){\r\n            return response.status(403).json({msg:'Signup or Login to upload video'})\r\n        }\r\n        request.token = decoded;\r\n        next()\r\n    })\r\n}"],"mappings":";;;;;;;AAAA;;AACA;;AACA,IAAAA,cAAA;;AAEO,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,OAAD,EAAUC,QAAV,EAAoBC,IAApB,EAA2B;EACnD,IAAMC,KAAK,GAAGH,OAAO,CAACI,OAAR,CAAgB,cAAhB,CAAd;EAEA,IAAAC,oBAAA,EAAOF,KAAP,EAAcG,OAAO,CAACC,GAAR,CAAYC,aAA1B,EAAyC,UAACC,KAAD,EAAQC,OAAR,EAAkB;IACvD,IAAID,KAAJ,EAAU;MACN,OAAOR,QAAQ,CAACU,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B;QAACC,GAAG,EAAC;MAAL,CAA1B,CAAP;IACH;;IACDb,OAAO,CAACG,KAAR,GAAgBO,OAAhB;IACAR,IAAI;EACP,CAND;AAOH,CAVM"}},"mtime":1662444717373},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Middlewares\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"filename\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Middlewares\\\\Video.middleware.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.videoUpload = void 0;\n\nvar _file = _interopRequireDefault(require(\"@babel/core/lib/transformation/file/file\"));\n\nvar _express = require(\"express\");\n\nvar _multer = _interopRequireDefault(require(\"multer\"));\n\nvar _uuid = require(\"uuid\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n// video storage\nvar videoStorage = _multer[\"default\"].diskStorage({\n  destination: \"videos\",\n  filename: function filename(request, file, cb) {\n    var id = (0, _uuid.v4)();\n    var token = request.token;\n    var filename = \"\".concat(token._id.toString(), \"-\").concat(id);\n    var username = request.username;\n    request.filename = filename;\n    cb(null, filename);\n  }\n}); //video upload\n\n\nvar videoUpload = (0, _multer[\"default\"])({\n  storage: videoStorage,\n  limits: {\n    fieldSize: 90000000 * 5 //10 MB   \n\n  },\n  fileFilter: function fileFilter(request, file, cb) {\n    if (!file.originalname.match(/\\.(mp4|MPEG-4|mkv)$/)) {\n      return cb(new Error('Video fomat nor supported'));\n    }\n\n    cb(undefined, true);\n  }\n});\nexports.videoUpload = videoUpload;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ2aWRlb1N0b3JhZ2UiLCJtdWx0ZXIiLCJkaXNrU3RvcmFnZSIsImRlc3RpbmF0aW9uIiwiZmlsZW5hbWUiLCJyZXF1ZXN0IiwiZmlsZSIsImNiIiwiaWQiLCJ1dWlkdjQiLCJ0b2tlbiIsIl9pZCIsInRvU3RyaW5nIiwidXNlcm5hbWUiLCJ2aWRlb1VwbG9hZCIsInN0b3JhZ2UiLCJsaW1pdHMiLCJmaWVsZFNpemUiLCJmaWxlRmlsdGVyIiwib3JpZ2luYWxuYW1lIiwibWF0Y2giLCJFcnJvciIsInVuZGVmaW5lZCJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFwxMTc4MVxcRG9jdW1lbnRzXFxHaXRIdWJcXElULVBST0pFQ1RcXGJhY2tlbmQzXFxzcmNcXE1pZGRsZXdhcmVzXFwiLCJzb3VyY2VzIjpbIlZpZGVvLm1pZGRsZXdhcmUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGZpbGUgZnJvbSBcIkBiYWJlbC9jb3JlL2xpYi90cmFuc2Zvcm1hdGlvbi9maWxlL2ZpbGVcIjtcclxuaW1wb3J0IHsgcmVxdWVzdCB9IGZyb20gXCJleHByZXNzXCI7XHJcbmltcG9ydCBtdWx0ZXIgZnJvbSBcIm11bHRlclwiO1xyXG5pbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tICd1dWlkJzsgXHJcblxyXG4vLyB2aWRlbyBzdG9yYWdlXHJcbmNvbnN0IHZpZGVvU3RvcmFnZSA9IG11bHRlci5kaXNrU3RvcmFnZSh7XHJcbiAgICBkZXN0aW5hdGlvbjpcInZpZGVvc1wiLFxyXG4gICAgZmlsZW5hbWU6IChyZXF1ZXN0LCBmaWxlLCBjYik9PntcclxuICAgICAgICBjb25zdCBpZCA9IHV1aWR2NCgpO1xyXG4gICAgICAgIGNvbnN0IHRva2VuID0gcmVxdWVzdC50b2tlbjtcclxuICAgICAgICBjb25zdCBmaWxlbmFtZSA9IGAke3Rva2VuLl9pZC50b1N0cmluZygpfS0ke2lkfWA7XHJcbiAgICAgICAgY29uc3QgdXNlcm5hbWUgPSByZXF1ZXN0LnVzZXJuYW1lO1xyXG4gICAgICAgIHJlcXVlc3QuZmlsZW5hbWUgPSBmaWxlbmFtZTtcclxuICAgICAgICBjYihudWxsLCBmaWxlbmFtZSlcclxuXHJcbiAgICB9XHJcblxyXG59KVxyXG5cclxuLy92aWRlbyB1cGxvYWRcclxuZXhwb3J0IGNvbnN0IHZpZGVvVXBsb2FkID0gbXVsdGVyKHtcclxuICAgIHN0b3JhZ2U6dmlkZW9TdG9yYWdlLFxyXG4gICAgbGltaXRzOntcclxuICAgICAgICBmaWVsZFNpemU6IDkwMDAwMDAwKjUgLy8xMCBNQiAgIFxyXG4gICAgfSxcclxuICAgIGZpbGVGaWx0ZXI6KHJlcXVlc3QsIGZpbGUsIGNiKT0+e1xyXG4gICAgICAgIGlmKCFmaWxlLm9yaWdpbmFsbmFtZS5tYXRjaCgvXFwuKG1wNHxNUEVHLTR8bWt2KSQvKSl7XHJcbiAgICAgICAgICAgIHJldHVybiBjYihuZXcgRXJyb3IoJ1ZpZGVvIGZvbWF0IG5vciBzdXBwb3J0ZWQnKSlcclxuICAgICAgICB9XHJcbiAgICAgICAgY2IodW5kZWZpbmVkLCB0cnVlKVxyXG4gICAgfVxyXG59KSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUE7QUFDQSxJQUFNQSxZQUFZLEdBQUdDLGtCQUFBLENBQU9DLFdBQVAsQ0FBbUI7RUFDcENDLFdBQVcsRUFBQyxRQUR3QjtFQUVwQ0MsUUFBUSxFQUFFLGtCQUFDQyxPQUFELEVBQVVDLElBQVYsRUFBZ0JDLEVBQWhCLEVBQXFCO0lBQzNCLElBQU1DLEVBQUUsR0FBRyxJQUFBQyxRQUFBLEdBQVg7SUFDQSxJQUFNQyxLQUFLLEdBQUdMLE9BQU8sQ0FBQ0ssS0FBdEI7SUFDQSxJQUFNTixRQUFRLGFBQU1NLEtBQUssQ0FBQ0MsR0FBTixDQUFVQyxRQUFWLEVBQU4sY0FBOEJKLEVBQTlCLENBQWQ7SUFDQSxJQUFNSyxRQUFRLEdBQUdSLE9BQU8sQ0FBQ1EsUUFBekI7SUFDQVIsT0FBTyxDQUFDRCxRQUFSLEdBQW1CQSxRQUFuQjtJQUNBRyxFQUFFLENBQUMsSUFBRCxFQUFPSCxRQUFQLENBQUY7RUFFSDtBQVZtQyxDQUFuQixDQUFyQixDLENBY0E7OztBQUNPLElBQU1VLFdBQVcsR0FBRyxJQUFBYixrQkFBQSxFQUFPO0VBQzlCYyxPQUFPLEVBQUNmLFlBRHNCO0VBRTlCZ0IsTUFBTSxFQUFDO0lBQ0hDLFNBQVMsRUFBRSxXQUFTLENBRGpCLENBQ21COztFQURuQixDQUZ1QjtFQUs5QkMsVUFBVSxFQUFDLG9CQUFDYixPQUFELEVBQVVDLElBQVYsRUFBZ0JDLEVBQWhCLEVBQXFCO0lBQzVCLElBQUcsQ0FBQ0QsSUFBSSxDQUFDYSxZQUFMLENBQWtCQyxLQUFsQixDQUF3QixxQkFBeEIsQ0FBSixFQUFtRDtNQUMvQyxPQUFPYixFQUFFLENBQUMsSUFBSWMsS0FBSixDQUFVLDJCQUFWLENBQUQsQ0FBVDtJQUNIOztJQUNEZCxFQUFFLENBQUNlLFNBQUQsRUFBWSxJQUFaLENBQUY7RUFDSDtBQVY2QixDQUFQLENBQXBCIn0=","map":{"version":3,"names":["videoStorage","multer","diskStorage","destination","filename","request","file","cb","id","uuidv4","token","_id","toString","username","videoUpload","storage","limits","fieldSize","fileFilter","originalname","match","Error","undefined"],"sourceRoot":"C:\\Users\\11781\\Documents\\GitHub\\IT-PROJECT\\backend3\\src\\Middlewares\\","sources":["Video.middleware.js"],"sourcesContent":["import file from \"@babel/core/lib/transformation/file/file\";\r\nimport { request } from \"express\";\r\nimport multer from \"multer\";\r\nimport { v4 as uuidv4 } from 'uuid'; \r\n\r\n// video storage\r\nconst videoStorage = multer.diskStorage({\r\n    destination:\"videos\",\r\n    filename: (request, file, cb)=>{\r\n        const id = uuidv4();\r\n        const token = request.token;\r\n        const filename = `${token._id.toString()}-${id}`;\r\n        const username = request.username;\r\n        request.filename = filename;\r\n        cb(null, filename)\r\n\r\n    }\r\n\r\n})\r\n\r\n//video upload\r\nexport const videoUpload = multer({\r\n    storage:videoStorage,\r\n    limits:{\r\n        fieldSize: 90000000*5 //10 MB   \r\n    },\r\n    fileFilter:(request, file, cb)=>{\r\n        if(!file.originalname.match(/\\.(mp4|MPEG-4|mkv)$/)){\r\n            return cb(new Error('Video fomat nor supported'))\r\n        }\r\n        cb(undefined, true)\r\n    }\r\n})"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;AAEA;AACA,IAAMA,YAAY,GAAGC,kBAAA,CAAOC,WAAP,CAAmB;EACpCC,WAAW,EAAC,QADwB;EAEpCC,QAAQ,EAAE,kBAACC,OAAD,EAAUC,IAAV,EAAgBC,EAAhB,EAAqB;IAC3B,IAAMC,EAAE,GAAG,IAAAC,QAAA,GAAX;IACA,IAAMC,KAAK,GAAGL,OAAO,CAACK,KAAtB;IACA,IAAMN,QAAQ,aAAMM,KAAK,CAACC,GAAN,CAAUC,QAAV,EAAN,cAA8BJ,EAA9B,CAAd;IACA,IAAMK,QAAQ,GAAGR,OAAO,CAACQ,QAAzB;IACAR,OAAO,CAACD,QAAR,GAAmBA,QAAnB;IACAG,EAAE,CAAC,IAAD,EAAOH,QAAP,CAAF;EAEH;AAVmC,CAAnB,CAArB,C,CAcA;;;AACO,IAAMU,WAAW,GAAG,IAAAb,kBAAA,EAAO;EAC9Bc,OAAO,EAACf,YADsB;EAE9BgB,MAAM,EAAC;IACHC,SAAS,EAAE,WAAS,CADjB,CACmB;;EADnB,CAFuB;EAK9BC,UAAU,EAAC,oBAACb,OAAD,EAAUC,IAAV,EAAgBC,EAAhB,EAAqB;IAC5B,IAAG,CAACD,IAAI,CAACa,YAAL,CAAkBC,KAAlB,CAAwB,qBAAxB,CAAJ,EAAmD;MAC/C,OAAOb,EAAE,CAAC,IAAIc,KAAJ,CAAU,2BAAV,CAAD,CAAT;IACH;;IACDd,EAAE,CAACe,SAAD,EAAY,IAAZ,CAAF;EACH;AAV6B,CAAP,CAApB"}},"mtime":1664946132027},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Controller\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"filename\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Controller\\\\Video.controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.VideoController = void 0;\n\nvar _Video = require(\"../Models/Video.model\");\n\nvar _fs = _interopRequireDefault(require(\"fs\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nvar VideoController = /*#__PURE__*/function () {\n  function VideoController() {\n    _classCallCheck(this, VideoController);\n  }\n\n  _createClass(VideoController, [{\n    key: \"upload\",\n    value: function () {\n      var _upload = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(request, response) {\n        var newVideo, saveVideo;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                newVideo = new _Video.videoModel({\n                  owner: request.token._id,\n                  username: request.username,\n                  name: request.body.name,\n                  videopath: request.filename\n                });\n                _context.prev = 1;\n                _context.next = 4;\n                return newVideo.save();\n\n              case 4:\n                saveVideo = _context.sent;\n                return _context.abrupt(\"return\", response.status(201).json({\n                  msg: 'Video uploaded successfully'\n                }));\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context[\"catch\"](1);\n                return _context.abrupt(\"return\", response.status(500).json({\n                  msg: 'Video upload failed'\n                }));\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[1, 8]]);\n      }));\n\n      function upload(_x, _x2) {\n        return _upload.apply(this, arguments);\n      }\n\n      return upload;\n    }()\n  }, {\n    key: \"like\",\n    value: function like(request, response) {\n      var video_id = request.params.id;\n\n      _Video.videoModel.findOneAndUpdate({\n        _id: video_id\n      }, {\n        $inc: {\n          likes: 1\n        }\n      }, {\n        \"new\": true\n      }, function (error, doc) {\n        if (error) {\n          return response.status(500).json({\n            msg: 'Network Error: Failed to like video'\n          });\n        }\n\n        return response.status(200).json({\n          msg: 'Video liked'\n        });\n      });\n    }\n  }, {\n    key: \"dislike\",\n    value: function dislike(request, response) {\n      var video_id = request.params.id;\n\n      _Video.videoModel.findOneAndUpdate({\n        _id: video_id\n      }, {\n        $inc: {\n          dislikes: 1\n        }\n      }, {\n        \"new\": true\n      }, function (error, doc) {\n        if (error) {\n          return response.status(500).json({\n            msg: 'Network Error: Failed to like video'\n          });\n        }\n\n        return response.status(200).json({\n          msg: 'Video disliked'\n        });\n      });\n    }\n  }, {\n    key: \"searchVideo\",\n    value: function () {\n      var _searchVideo = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(request, response) {\n        var name, video;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                name = request.query.key;\n                _context2.prev = 1;\n                _context2.next = 4;\n                return _Video.videoModel.find({\n                  name: {\n                    $regex: name.toLowerCase()\n                  }\n                });\n\n              case 4:\n                video = _context2.sent;\n                return _context2.abrupt(\"return\", response.send(video));\n\n              case 8:\n                _context2.prev = 8;\n                _context2.t0 = _context2[\"catch\"](1);\n                return _context2.abrupt(\"return\", response.status(700).json({\n                  msg: 'No matching video'\n                }));\n\n              case 11:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[1, 8]]);\n      }));\n\n      function searchVideo(_x3, _x4) {\n        return _searchVideo.apply(this, arguments);\n      }\n\n      return searchVideo;\n    }() // // search video by owner id\n    // async searchVideo (request, response){\n    //     const name = request.query.key;\n    //         try {\n    //             let video = await videoModel.find({name:  {$regex: name.toLowerCase() }  })\n    //             return response.send(video)     \n    //         }catch(error){\n    //             return response.status(700).json({msg:'No matching video'})\n    //         }   \n    // }\n    // stream video \n\n  }, {\n    key: \"stream\",\n    value: function stream(request, response) {\n      var range = request.hearders.range;\n\n      if (!range) {\n        return response.status(400).json({\n          msg: 'Range header is required to start'\n        });\n      }\n\n      var videopath = \"videos/\".concat(request.params.filename);\n\n      var videosize = _fs[\"default\"].statSync(videopath).size; // get video size\n\n\n      var start = Number(range.replace(/\\D/g, \"\")); //get start point \n\n      var chunk_size = Math.pow(10, 6); // 1 mb , chunck size\n\n      var end = Math.min(start + chunk_size, videosize - 1); //end position\n\n      var contenLength = end - start + 1; // how many  size sending\n\n      var hearders = {\n        'Content-Length': contenLength,\n        'Accept-Range': 'bytes',\n        'Content-Type': 'video/mp40',\n        'Content-Range': \"bytes \".concat(start, \" -\").concat(end, \"/\").concat(videosize) //decise how far video gone\n\n      };\n      response.writeHead(206, hearders);\n\n      var videostream = _fs[\"default\"].createReadStream(videopath, {\n        start: start,\n        end: end\n      }); // create video stream\n\n\n      videostream.pipe(response);\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete(request, response) {\n      var video_id = request.params.video_id;\n      var video_path = request.params.video_path;\n      var videopath = \"videos/\".concat(video_path);\n\n      if (_fs[\"default\"].existsSync(videopath)) {\n        _fs[\"default\"].unlink(videopath, function (error) {\n          if (error) {\n            return response.status(500).json({\n              msg: 'Network Error: Failed to delete video'\n            });\n          }\n\n          _Video.videoModel.findOneAndDelete({\n            _id: video_id\n          }, function (error) {\n            if (error) {\n              return response.status(500).json({\n                msg: 'Network Error: Failed to delete video'\n              });\n            }\n\n            return response.status(200).json({\n              msg: ' video delete'\n            });\n          });\n        });\n      }\n    }\n    /*delete(request, response){\r\n        \r\n        const video_id = request.params.video_id;\r\n        const video_path = request.params.video_path;\r\n          const videopath = `videos/${video_path}`;   \r\n        if(fs.existsSync(videopath)){\r\n            fs.unlink(videopath, (error)=>{\r\n                if(error){\r\n                    return response.status(500).json({msg:'Network Error: Failed to delete video'})\r\n                }\r\n                videoModel.findOneAndDelete({_id:video_id}, (error)=>{\r\n                    if (error){\r\n                        return response.status(500).json({msg:'Network Error: Failed to delete video'})\r\n                    }\r\n                    return response.status(200).json({msg:' video delete'})\r\n                })                \r\n            })\r\n        }\r\n    } */\n\n  }]);\n\n  return VideoController;\n}();\n\nexports.VideoController = VideoController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJWaWRlb0NvbnRyb2xsZXIiLCJyZXF1ZXN0IiwicmVzcG9uc2UiLCJuZXdWaWRlbyIsInZpZGVvTW9kZWwiLCJvd25lciIsInRva2VuIiwiX2lkIiwidXNlcm5hbWUiLCJuYW1lIiwiYm9keSIsInZpZGVvcGF0aCIsImZpbGVuYW1lIiwic2F2ZSIsInNhdmVWaWRlbyIsInN0YXR1cyIsImpzb24iLCJtc2ciLCJ2aWRlb19pZCIsInBhcmFtcyIsImlkIiwiZmluZE9uZUFuZFVwZGF0ZSIsIiRpbmMiLCJsaWtlcyIsImVycm9yIiwiZG9jIiwiZGlzbGlrZXMiLCJxdWVyeSIsImtleSIsImZpbmQiLCIkcmVnZXgiLCJ0b0xvd2VyQ2FzZSIsInZpZGVvIiwic2VuZCIsInJhbmdlIiwiaGVhcmRlcnMiLCJ2aWRlb3NpemUiLCJmcyIsInN0YXRTeW5jIiwic2l6ZSIsInN0YXJ0IiwiTnVtYmVyIiwicmVwbGFjZSIsImNodW5rX3NpemUiLCJlbmQiLCJNYXRoIiwibWluIiwiY29udGVuTGVuZ3RoIiwid3JpdGVIZWFkIiwidmlkZW9zdHJlYW0iLCJjcmVhdGVSZWFkU3RyZWFtIiwicGlwZSIsInZpZGVvX3BhdGgiLCJleGlzdHNTeW5jIiwidW5saW5rIiwiZmluZE9uZUFuZERlbGV0ZSJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFwxMTc4MVxcRG9jdW1lbnRzXFxHaXRIdWJcXElULVBST0pFQ1RcXGJhY2tlbmQzXFxzcmNcXENvbnRyb2xsZXJcXCIsInNvdXJjZXMiOlsiVmlkZW8uY29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB2aWRlb01vZGVsIH0gZnJvbSAnLi4vTW9kZWxzL1ZpZGVvLm1vZGVsJ1xyXG5pbXBvcnQgZnMgZnJvbSAnZnMnXHJcblxyXG5leHBvcnQgY2xhc3MgVmlkZW9Db250cm9sbGVye1xyXG4gICAgYXN5bmMgdXBsb2FkKHJlcXVlc3QsIHJlc3BvbnNlKXtcclxuXHJcbiAgICAgICAgY29uc3QgbmV3VmlkZW8gPSBuZXcgdmlkZW9Nb2RlbCh7XHJcbiAgICAgICAgICAgIG93bmVyOnJlcXVlc3QudG9rZW4uX2lkLFxyXG4gICAgICAgICAgICB1c2VybmFtZTpyZXF1ZXN0LnVzZXJuYW1lLFxyXG4gICAgICAgICAgICBuYW1lOnJlcXVlc3QuYm9keS5uYW1lLFxyXG4gICAgICAgICAgICB2aWRlb3BhdGg6cmVxdWVzdC5maWxlbmFtZVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNhdmVWaWRlbyA9IGF3YWl0IG5ld1ZpZGVvLnNhdmUoKVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMSkuanNvbih7bXNnOidWaWRlbyB1cGxvYWRlZCBzdWNjZXNzZnVsbHknfSlcclxuICAgICAgICB9Y2F0Y2ggKGVycm9yKXtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oe21zZzonVmlkZW8gdXBsb2FkIGZhaWxlZCd9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG5cclxuICAgIGxpa2UgKHJlcXVlc3QsIHJlc3BvbnNlKXtcclxuICAgICAgICBjb25zdCB2aWRlb19pZCA9IHJlcXVlc3QucGFyYW1zLmlkO1xyXG4gICAgICAgIHZpZGVvTW9kZWwuZmluZE9uZUFuZFVwZGF0ZSh7X2lkOnZpZGVvX2lkfSwgeyRpbmM6e2xpa2VzOjF9fSxcclxuICAgICAgICAgICAge25ldzp0cnVlfSwgKGVycm9yLGRvYyk9PntcclxuICAgICAgICAgICAgICAgIGlmIChlcnJvcil7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oe21zZzonTmV0d29yayBFcnJvcjogRmFpbGVkIHRvIGxpa2UgdmlkZW8nfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHttc2c6J1ZpZGVvIGxpa2VkJ30pXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgZGlzbGlrZSAocmVxdWVzdCwgcmVzcG9uc2Upe1xyXG4gICAgICAgIGNvbnN0IHZpZGVvX2lkID0gcmVxdWVzdC5wYXJhbXMuaWQ7XHJcbiAgICAgICAgdmlkZW9Nb2RlbC5maW5kT25lQW5kVXBkYXRlKHtfaWQ6dmlkZW9faWR9LCB7JGluYzp7ZGlzbGlrZXM6MX19LFxyXG4gICAgICAgICAgICB7bmV3OnRydWV9LCAoZXJyb3IsZG9jKT0+e1xyXG4gICAgICAgICAgICAgICAgaWYgKGVycm9yKXtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7bXNnOidOZXR3b3JrIEVycm9yOiBGYWlsZWQgdG8gbGlrZSB2aWRlbyd9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cygyMDApLmpzb24oe21zZzonVmlkZW8gZGlzbGlrZWQnfSlcclxuICAgICAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBzZWFyY2hWaWRlbyAocmVxdWVzdCwgcmVzcG9uc2Upe1xyXG4gICAgICAgIGNvbnN0IG5hbWUgPSByZXF1ZXN0LnF1ZXJ5LmtleTtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGxldCB2aWRlbyA9IGF3YWl0IHZpZGVvTW9kZWwuZmluZCh7bmFtZTogIHskcmVnZXg6IG5hbWUudG9Mb3dlckNhc2UoKSB9ICB9KVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnNlbmQodmlkZW8pICAgICBcclxuXHJcbiAgICAgICAgICAgIH1jYXRjaChlcnJvcil7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDcwMCkuanNvbih7bXNnOidObyBtYXRjaGluZyB2aWRlbyd9KVxyXG4gICAgICAgICAgICB9ICAgXHJcbiAgICB9XHJcblxyXG4gICAgLy8gLy8gc2VhcmNoIHZpZGVvIGJ5IG93bmVyIGlkXHJcbiAgICAvLyBhc3luYyBzZWFyY2hWaWRlbyAocmVxdWVzdCwgcmVzcG9uc2Upe1xyXG4gICAgLy8gICAgIGNvbnN0IG5hbWUgPSByZXF1ZXN0LnF1ZXJ5LmtleTtcclxuICAgIC8vICAgICAgICAgdHJ5IHtcclxuICAgIC8vICAgICAgICAgICAgIGxldCB2aWRlbyA9IGF3YWl0IHZpZGVvTW9kZWwuZmluZCh7bmFtZTogIHskcmVnZXg6IG5hbWUudG9Mb3dlckNhc2UoKSB9ICB9KVxyXG4gICAgLy8gICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnNlbmQodmlkZW8pICAgICBcclxuXHJcbiAgICAvLyAgICAgICAgIH1jYXRjaChlcnJvcil7XHJcbiAgICAvLyAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDcwMCkuanNvbih7bXNnOidObyBtYXRjaGluZyB2aWRlbyd9KVxyXG4gICAgLy8gICAgICAgICB9ICAgXHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gc3RyZWFtIHZpZGVvIFxyXG4gICAgc3RyZWFtKHJlcXVlc3QsIHJlc3BvbnNlKXtcclxuICAgICAgICBjb25zdCByYW5nZSA9IHJlcXVlc3QuaGVhcmRlcnMucmFuZ2VcclxuICAgICAgICBpZighcmFuZ2Upe1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwMCkuanNvbih7bXNnOidSYW5nZSBoZWFkZXIgaXMgcmVxdWlyZWQgdG8gc3RhcnQnfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgdmlkZW9wYXRoID0gYHZpZGVvcy8ke3JlcXVlc3QucGFyYW1zLmZpbGVuYW1lfWA7XHJcbiAgICAgICAgY29uc3QgdmlkZW9zaXplID0gZnMuc3RhdFN5bmModmlkZW9wYXRoKS5zaXplOyAgLy8gZ2V0IHZpZGVvIHNpemVcclxuXHJcbiAgICAgICAgY29uc3Qgc3RhcnQgPSBOdW1iZXIocmFuZ2UucmVwbGFjZSgvXFxEL2csIFwiXCIpKTsgIC8vZ2V0IHN0YXJ0IHBvaW50IFxyXG4gICAgICAgIGNvbnN0IGNodW5rX3NpemUgPSAxMCoqNiAvLyAxIG1iICwgY2h1bmNrIHNpemVcclxuICAgICAgICBjb25zdCBlbmQgPSBNYXRoLm1pbihzdGFydCArIGNodW5rX3NpemUsIHZpZGVvc2l6ZSAtIDEpOyAgIC8vZW5kIHBvc2l0aW9uXHJcblxyXG4gICAgICAgIGNvbnN0IGNvbnRlbkxlbmd0aCA9IGVuZCAtIHN0YXJ0ICsgMSAgLy8gaG93IG1hbnkgIHNpemUgc2VuZGluZ1xyXG4gICAgICAgIGNvbnN0IGhlYXJkZXJzID0ge1xyXG4gICAgICAgICAgICAnQ29udGVudC1MZW5ndGgnIDogY29udGVuTGVuZ3RoLFxyXG4gICAgICAgICAgICAnQWNjZXB0LVJhbmdlJzogJ2J5dGVzJyxcclxuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICd2aWRlby9tcDQwJyxcclxuICAgICAgICAgICAgJ0NvbnRlbnQtUmFuZ2UnOiBgYnl0ZXMgJHtzdGFydH0gLSR7ZW5kfS8ke3ZpZGVvc2l6ZX1gICAgLy9kZWNpc2UgaG93IGZhciB2aWRlbyBnb25lXHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICByZXNwb25zZS53cml0ZUhlYWQoMjA2LCBoZWFyZGVycyk7ICAgXHJcbiAgICAgICAgY29uc3QgdmlkZW9zdHJlYW0gPSBmcy5jcmVhdGVSZWFkU3RyZWFtKHZpZGVvcGF0aCwge3N0YXJ0LCBlbmR9KTsgLy8gY3JlYXRlIHZpZGVvIHN0cmVhbVxyXG4gICAgICAgIHZpZGVvc3RyZWFtLnBpcGUocmVzcG9uc2UpICAgXHJcbiAgICB9XHJcbiAgICAgXHJcbiAgICBkZWxldGUocmVxdWVzdCwgcmVzcG9uc2Upe1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IHZpZGVvX2lkID0gcmVxdWVzdC5wYXJhbXMudmlkZW9faWQ7XHJcbiAgICAgICAgY29uc3QgdmlkZW9fcGF0aCA9IHJlcXVlc3QucGFyYW1zLnZpZGVvX3BhdGg7XHJcblxyXG4gICAgICAgIGNvbnN0IHZpZGVvcGF0aCA9IGB2aWRlb3MvJHt2aWRlb19wYXRofWA7ICAgXHJcbiAgICAgICAgaWYoZnMuZXhpc3RzU3luYyh2aWRlb3BhdGgpKXtcclxuICAgICAgICAgICAgZnMudW5saW5rKHZpZGVvcGF0aCwgKGVycm9yKT0+e1xyXG4gICAgICAgICAgICAgICAgaWYoZXJyb3Ipe1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHttc2c6J05ldHdvcmsgRXJyb3I6IEZhaWxlZCB0byBkZWxldGUgdmlkZW8nfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZpZGVvTW9kZWwuZmluZE9uZUFuZERlbGV0ZSh7X2lkOnZpZGVvX2lkfSwgKGVycm9yKT0+e1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHttc2c6J05ldHdvcmsgRXJyb3I6IEZhaWxlZCB0byBkZWxldGUgdmlkZW8nfSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cygyMDApLmpzb24oe21zZzonIHZpZGVvIGRlbGV0ZSd9KVxyXG4gICAgICAgICAgICAgICAgfSkgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qZGVsZXRlKHJlcXVlc3QsIHJlc3BvbnNlKXtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCB2aWRlb19pZCA9IHJlcXVlc3QucGFyYW1zLnZpZGVvX2lkO1xyXG4gICAgICAgIGNvbnN0IHZpZGVvX3BhdGggPSByZXF1ZXN0LnBhcmFtcy52aWRlb19wYXRoO1xyXG5cclxuICAgICAgICBjb25zdCB2aWRlb3BhdGggPSBgdmlkZW9zLyR7dmlkZW9fcGF0aH1gOyAgIFxyXG4gICAgICAgIGlmKGZzLmV4aXN0c1N5bmModmlkZW9wYXRoKSl7XHJcbiAgICAgICAgICAgIGZzLnVubGluayh2aWRlb3BhdGgsIChlcnJvcik9PntcclxuICAgICAgICAgICAgICAgIGlmKGVycm9yKXtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7bXNnOidOZXR3b3JrIEVycm9yOiBGYWlsZWQgdG8gZGVsZXRlIHZpZGVvJ30pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2aWRlb01vZGVsLmZpbmRPbmVBbmREZWxldGUoe19pZDp2aWRlb19pZH0sIChlcnJvcik9PntcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3Ipe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7bXNnOidOZXR3b3JrIEVycm9yOiBGYWlsZWQgdG8gZGVsZXRlIHZpZGVvJ30pXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHttc2c6JyB2aWRlbyBkZWxldGUnfSlcclxuICAgICAgICAgICAgICAgIH0pICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH0gKi9cclxuXHJcbiAgICAgXHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOztBQUNBOzs7OytDQUFBLG9KOzs7Ozs7Ozs7Ozs7SUFFYUEsZTs7Ozs7Ozs7K0VBQ1QsaUJBQWFDLE9BQWIsRUFBc0JDLFFBQXRCO1FBQUE7UUFBQTtVQUFBO1lBQUE7Y0FBQTtnQkFFVUMsUUFGVixHQUVxQixJQUFJQyxpQkFBSixDQUFlO2tCQUM1QkMsS0FBSyxFQUFDSixPQUFPLENBQUNLLEtBQVIsQ0FBY0MsR0FEUTtr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","map":{"version":3,"names":["VideoController","request","response","newVideo","videoModel","owner","token","_id","username","name","body","videopath","filename","save","saveVideo","status","json","msg","video_id","params","id","findOneAndUpdate","$inc","likes","error","doc","dislikes","query","key","find","$regex","toLowerCase","video","send","range","hearders","videosize","fs","statSync","size","start","Number","replace","chunk_size","end","Math","min","contenLength","writeHead","videostream","createReadStream","pipe","video_path","existsSync","unlink","findOneAndDelete"],"sourceRoot":"C:\\Users\\11781\\Documents\\GitHub\\IT-PROJECT\\backend3\\src\\Controller\\","sources":["Video.controller.js"],"sourcesContent":["import { videoModel } from '../Models/Video.model'\r\nimport fs from 'fs'\r\n\r\nexport class VideoController{\r\n    async upload(request, response){\r\n\r\n        const newVideo = new videoModel({\r\n            owner:request.token._id,\r\n            username:request.username,\r\n            name:request.body.name,\r\n            videopath:request.filename\r\n        })\r\n\r\n        try {\r\n            const saveVideo = await newVideo.save()\r\n            return response.status(201).json({msg:'Video uploaded successfully'})\r\n        }catch (error){\r\n            return response.status(500).json({msg:'Video upload failed'})\r\n        }\r\n    }\r\n    \r\n\r\n    like (request, response){\r\n        const video_id = request.params.id;\r\n        videoModel.findOneAndUpdate({_id:video_id}, {$inc:{likes:1}},\r\n            {new:true}, (error,doc)=>{\r\n                if (error){\r\n                    return response.status(500).json({msg:'Network Error: Failed to like video'})\r\n                }\r\n                return response.status(200).json({msg:'Video liked'})\r\n            })\r\n    }\r\n\r\n    dislike (request, response){\r\n        const video_id = request.params.id;\r\n        videoModel.findOneAndUpdate({_id:video_id}, {$inc:{dislikes:1}},\r\n            {new:true}, (error,doc)=>{\r\n                if (error){\r\n                    return response.status(500).json({msg:'Network Error: Failed to like video'})\r\n                }\r\n                return response.status(200).json({msg:'Video disliked'})\r\n            })\r\n    }\r\n\r\n    async searchVideo (request, response){\r\n        const name = request.query.key;\r\n            try {\r\n                let video = await videoModel.find({name:  {$regex: name.toLowerCase() }  })\r\n                return response.send(video)     \r\n\r\n            }catch(error){\r\n                return response.status(700).json({msg:'No matching video'})\r\n            }   \r\n    }\r\n\r\n    // // search video by owner id\r\n    // async searchVideo (request, response){\r\n    //     const name = request.query.key;\r\n    //         try {\r\n    //             let video = await videoModel.find({name:  {$regex: name.toLowerCase() }  })\r\n    //             return response.send(video)     \r\n\r\n    //         }catch(error){\r\n    //             return response.status(700).json({msg:'No matching video'})\r\n    //         }   \r\n    // }\r\n\r\n    // stream video \r\n    stream(request, response){\r\n        const range = request.hearders.range\r\n        if(!range){\r\n            return response.status(400).json({msg:'Range header is required to start'})\r\n        }\r\n        const videopath = `videos/${request.params.filename}`;\r\n        const videosize = fs.statSync(videopath).size;  // get video size\r\n\r\n        const start = Number(range.replace(/\\D/g, \"\"));  //get start point \r\n        const chunk_size = 10**6 // 1 mb , chunck size\r\n        const end = Math.min(start + chunk_size, videosize - 1);   //end position\r\n\r\n        const contenLength = end - start + 1  // how many  size sending\r\n        const hearders = {\r\n            'Content-Length' : contenLength,\r\n            'Accept-Range': 'bytes',\r\n            'Content-Type': 'video/mp40',\r\n            'Content-Range': `bytes ${start} -${end}/${videosize}`   //decise how far video gone\r\n\r\n        }\r\n        response.writeHead(206, hearders);   \r\n        const videostream = fs.createReadStream(videopath, {start, end}); // create video stream\r\n        videostream.pipe(response)   \r\n    }\r\n     \r\n    delete(request, response){\r\n        \r\n        const video_id = request.params.video_id;\r\n        const video_path = request.params.video_path;\r\n\r\n        const videopath = `videos/${video_path}`;   \r\n        if(fs.existsSync(videopath)){\r\n            fs.unlink(videopath, (error)=>{\r\n                if(error){\r\n                    return response.status(500).json({msg:'Network Error: Failed to delete video'})\r\n                }\r\n                videoModel.findOneAndDelete({_id:video_id}, (error)=>{\r\n                    if (error){\r\n                        return response.status(500).json({msg:'Network Error: Failed to delete video'})\r\n                    }\r\n                    return response.status(200).json({msg:' video delete'})\r\n                })                \r\n            })\r\n        }\r\n    }\r\n\r\n    /*delete(request, response){\r\n        \r\n        const video_id = request.params.video_id;\r\n        const video_path = request.params.video_path;\r\n\r\n        const videopath = `videos/${video_path}`;   \r\n        if(fs.existsSync(videopath)){\r\n            fs.unlink(videopath, (error)=>{\r\n                if(error){\r\n                    return response.status(500).json({msg:'Network Error: Failed to delete video'})\r\n                }\r\n                videoModel.findOneAndDelete({_id:video_id}, (error)=>{\r\n                    if (error){\r\n                        return response.status(500).json({msg:'Network Error: Failed to delete video'})\r\n                    }\r\n                    return response.status(200).json({msg:' video delete'})\r\n                })                \r\n            })\r\n        }\r\n    } */\r\n\r\n     \r\n}"],"mappings":"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"}},"mtime":1664946132017},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"filename\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Models\\\\Video.model.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.videoModel = void 0;\n\nvar _mongoose = require(\"mongoose\");\n\nvar videoSchema = new _mongoose.Schema({\n  owner: {\n    type: _mongoose.Schema.Types.ObjectId,\n    ref: 'user'\n  },\n  username: {\n    type: String\n  },\n  name: {\n    type: String,\n    required: [true, 'Upload video needs a video name']\n  },\n  videopath: {\n    type: String,\n    required: [true, 'Upload video needs a video path'],\n    unique: [true, 'Video path already exist']\n  },\n  likes: {\n    type: Number,\n    \"default\": 0\n  },\n  dislikes: {\n    type: Number,\n    \"default\": 0\n  },\n  views: {\n    type: Array,\n    \"default\": []\n  },\n  comments: {\n    type: Array,\n    \"default\": []\n  }\n});\nvar videoModel = (0, _mongoose.model)('video', videoSchema);\nexports.videoModel = videoModel;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ2aWRlb1NjaGVtYSIsIlNjaGVtYSIsIm93bmVyIiwidHlwZSIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJ1c2VybmFtZSIsIlN0cmluZyIsIm5hbWUiLCJyZXF1aXJlZCIsInZpZGVvcGF0aCIsInVuaXF1ZSIsImxpa2VzIiwiTnVtYmVyIiwiZGlzbGlrZXMiLCJ2aWV3cyIsIkFycmF5IiwiY29tbWVudHMiLCJ2aWRlb01vZGVsIiwibW9kZWwiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcMTE3ODFcXERvY3VtZW50c1xcR2l0SHViXFxJVC1QUk9KRUNUXFxiYWNrZW5kM1xcc3JjXFxNb2RlbHNcXCIsInNvdXJjZXMiOlsiVmlkZW8ubW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU2NoZW1hLCBtb2RlbH0gZnJvbSAnbW9uZ29vc2UnXHJcblxyXG5jb25zdCB2aWRlb1NjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gICAgb3duZXI6e1xyXG4gICAgICAgIHR5cGU6U2NoZW1hLlR5cGVzLk9iamVjdElkLFxyXG4gICAgICAgIHJlZjondXNlcidcclxuICAgIH0sXHJcbiAgICB1c2VybmFtZTp7XHJcbiAgICAgICAgdHlwZTpTdHJpbmcsXHJcbiAgICB9LFxyXG4gICAgbmFtZTp7XHJcbiAgICAgICAgdHlwZTpTdHJpbmcsXHJcbiAgICAgICAgcmVxdWlyZWQ6W3RydWUsICdVcGxvYWQgdmlkZW8gbmVlZHMgYSB2aWRlbyBuYW1lJ11cclxuICAgIH0sXHJcbiAgICB2aWRlb3BhdGg6e1xyXG4gICAgICAgIHR5cGU6U3RyaW5nLFxyXG4gICAgICAgIHJlcXVpcmVkOlt0cnVlLCAnVXBsb2FkIHZpZGVvIG5lZWRzIGEgdmlkZW8gcGF0aCddLFxyXG4gICAgICAgIHVuaXF1ZTpbdHJ1ZSwgJ1ZpZGVvIHBhdGggYWxyZWFkeSBleGlzdCddXHJcbiAgICB9LFxyXG4gICAgbGlrZXM6e1xyXG4gICAgICAgIHR5cGU6TnVtYmVyLFxyXG4gICAgICAgIGRlZmF1bHQ6MFxyXG4gICAgfSxcclxuICAgIGRpc2xpa2VzOntcclxuICAgICAgICB0eXBlOk51bWJlcixcclxuICAgICAgICBkZWZhdWx0OjBcclxuICAgIH0sXHJcbiAgICB2aWV3czp7XHJcbiAgICAgICAgdHlwZTpBcnJheSxcclxuICAgICAgICBkZWZhdWx0OltdXHJcbiAgICB9LFxyXG4gICAgY29tbWVudHM6e1xyXG4gICAgICAgIHR5cGU6IEFycmF5LFxyXG4gICAgICAgIGRlZmF1bHQ6W11cclxuICAgIH1cclxuXHJcbn0pXHJcbmV4cG9ydCBjb25zdCB2aWRlb01vZGVsID0gbW9kZWwoJ3ZpZGVvJyx2aWRlb1NjaGVtYSkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFFQSxJQUFNQSxXQUFXLEdBQUcsSUFBSUMsZ0JBQUosQ0FBVztFQUMzQkMsS0FBSyxFQUFDO0lBQ0ZDLElBQUksRUFBQ0YsZ0JBQUEsQ0FBT0csS0FBUCxDQUFhQyxRQURoQjtJQUVGQyxHQUFHLEVBQUM7RUFGRixDQURxQjtFQUszQkMsUUFBUSxFQUFDO0lBQ0xKLElBQUksRUFBQ0s7RUFEQSxDQUxrQjtFQVEzQkMsSUFBSSxFQUFDO0lBQ0ROLElBQUksRUFBQ0ssTUFESjtJQUVERSxRQUFRLEVBQUMsQ0FBQyxJQUFELEVBQU8saUNBQVA7RUFGUixDQVJzQjtFQVkzQkMsU0FBUyxFQUFDO0lBQ05SLElBQUksRUFBQ0ssTUFEQztJQUVORSxRQUFRLEVBQUMsQ0FBQyxJQUFELEVBQU8saUNBQVAsQ0FGSDtJQUdORSxNQUFNLEVBQUMsQ0FBQyxJQUFELEVBQU8sMEJBQVA7RUFIRCxDQVppQjtFQWlCM0JDLEtBQUssRUFBQztJQUNGVixJQUFJLEVBQUNXLE1BREg7SUFFRixXQUFRO0VBRk4sQ0FqQnFCO0VBcUIzQkMsUUFBUSxFQUFDO0lBQ0xaLElBQUksRUFBQ1csTUFEQTtJQUVMLFdBQVE7RUFGSCxDQXJCa0I7RUF5QjNCRSxLQUFLLEVBQUM7SUFDRmIsSUFBSSxFQUFDYyxLQURIO0lBRUYsV0FBUTtFQUZOLENBekJxQjtFQTZCM0JDLFFBQVEsRUFBQztJQUNMZixJQUFJLEVBQUVjLEtBREQ7SUFFTCxXQUFRO0VBRkg7QUE3QmtCLENBQVgsQ0FBcEI7QUFtQ08sSUFBTUUsVUFBVSxHQUFHLElBQUFDLGVBQUEsRUFBTSxPQUFOLEVBQWNwQixXQUFkLENBQW5CIn0=","map":{"version":3,"names":["videoSchema","Schema","owner","type","Types","ObjectId","ref","username","String","name","required","videopath","unique","likes","Number","dislikes","views","Array","comments","videoModel","model"],"sourceRoot":"C:\\Users\\11781\\Documents\\GitHub\\IT-PROJECT\\backend3\\src\\Models\\","sources":["Video.model.js"],"sourcesContent":["import { Schema, model} from 'mongoose'\r\n\r\nconst videoSchema = new Schema({\r\n    owner:{\r\n        type:Schema.Types.ObjectId,\r\n        ref:'user'\r\n    },\r\n    username:{\r\n        type:String,\r\n    },\r\n    name:{\r\n        type:String,\r\n        required:[true, 'Upload video needs a video name']\r\n    },\r\n    videopath:{\r\n        type:String,\r\n        required:[true, 'Upload video needs a video path'],\r\n        unique:[true, 'Video path already exist']\r\n    },\r\n    likes:{\r\n        type:Number,\r\n        default:0\r\n    },\r\n    dislikes:{\r\n        type:Number,\r\n        default:0\r\n    },\r\n    views:{\r\n        type:Array,\r\n        default:[]\r\n    },\r\n    comments:{\r\n        type: Array,\r\n        default:[]\r\n    }\r\n\r\n})\r\nexport const videoModel = model('video',videoSchema)"],"mappings":";;;;;;;AAAA;;AAEA,IAAMA,WAAW,GAAG,IAAIC,gBAAJ,CAAW;EAC3BC,KAAK,EAAC;IACFC,IAAI,EAACF,gBAAA,CAAOG,KAAP,CAAaC,QADhB;IAEFC,GAAG,EAAC;EAFF,CADqB;EAK3BC,QAAQ,EAAC;IACLJ,IAAI,EAACK;EADA,CALkB;EAQ3BC,IAAI,EAAC;IACDN,IAAI,EAACK,MADJ;IAEDE,QAAQ,EAAC,CAAC,IAAD,EAAO,iCAAP;EAFR,CARsB;EAY3BC,SAAS,EAAC;IACNR,IAAI,EAACK,MADC;IAENE,QAAQ,EAAC,CAAC,IAAD,EAAO,iCAAP,CAFH;IAGNE,MAAM,EAAC,CAAC,IAAD,EAAO,0BAAP;EAHD,CAZiB;EAiB3BC,KAAK,EAAC;IACFV,IAAI,EAACW,MADH;IAEF,WAAQ;EAFN,CAjBqB;EAqB3BC,QAAQ,EAAC;IACLZ,IAAI,EAACW,MADA;IAEL,WAAQ;EAFH,CArBkB;EAyB3BE,KAAK,EAAC;IACFb,IAAI,EAACc,KADH;IAEF,WAAQ;EAFN,CAzBqB;EA6B3BC,QAAQ,EAAC;IACLf,IAAI,EAAEc,KADD;IAEL,WAAQ;EAFH;AA7BkB,CAAX,CAApB;AAmCO,IAAME,UAAU,GAAG,IAAAC,eAAA,EAAM,OAAN,EAAcpB,WAAd,CAAnB"}},"mtime":1664946132039}}
=======
{"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"filename\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _mongoose = require(\"mongoose\");\n\nvar _dotenv = require(\"dotenv\");\n\nvar _Auth = _interopRequireDefault(require(\"./Routes/Auth.routes\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _Video = _interopRequireDefault(require(\"./Routes/Video.routes\"));\n\nvar _process$env$PORT;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n(0, _dotenv.config)();\nvar server = (0, _express[\"default\"])(); //==============MiddleWares===========================================\n\nserver.use((0, _cors[\"default\"])()); //==========mongo DB connection========================================\n\nvar mongoURI = process.env.mongoURI;\n(0, _mongoose.connect)(mongoURI, function (error) {\n  if (error) {\n    return console.log(error);\n  }\n\n  console.log('connection to mongo DB successful!!!');\n}); //==============================server endpoints=============================\n\nserver.use(_Auth[\"default\"]);\nserver.use(_Video[\"default\"]);\nvar PORT = (_process$env$PORT = process.env.PORT) !== null && _process$env$PORT !== void 0 ? _process$env$PORT : 3000;\nserver.listen(PORT, function () {\n  console.log(\"Server started on PORT \".concat(PORT));\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25maWciLCJzZXJ2ZXIiLCJleHByZXNzIiwidXNlIiwiY29ycyIsIm1vbmdvVVJJIiwicHJvY2VzcyIsImVudiIsImNvbm5lY3QiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJBdXRoUm91dGVzIiwiVmlkZW9Sb3V0ZXMiLCJQT1JUIiwibGlzdGVuIl0sInNvdXJjZVJvb3QiOiJEOlxcU2Nob29sXFxJVCBQcm9qZWN0XFxJVC1QUk9KRUNUXFxiYWNrZW5kM1xcc3JjXFwiLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcclxuaW1wb3J0eyBjb25uZWN0IH0gZnJvbSAnbW9uZ29vc2UnO1xyXG5pbXBvcnR7IGNvbmZpZyB9IGZyb20gJ2RvdGVudic7XHJcbmltcG9ydCBBdXRoUm91dGVzIGZyb20gJy4vUm91dGVzL0F1dGgucm91dGVzJ1xyXG5pbXBvcnQgY29ycyBmcm9tICdjb3JzJ1xyXG5pbXBvcnQgVmlkZW9Sb3V0ZXMgZnJvbSAnLi9Sb3V0ZXMvVmlkZW8ucm91dGVzJ1xyXG5cclxuY29uZmlnKCk7XHJcblxyXG5jb25zdCBzZXJ2ZXIgPSBleHByZXNzKCk7XHJcbi8vPT09PT09PT09PT09PT1NaWRkbGVXYXJlcz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuc2VydmVyLnVzZShjb3JzKCkpXHJcbi8vPT09PT09PT09PW1vbmdvIERCIGNvbm5lY3Rpb249PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbmNvbnN0IG1vbmdvVVJJID0gcHJvY2Vzcy5lbnYubW9uZ29VUkk7XHJcbmNvbm5lY3QobW9uZ29VUkksIChlcnJvcik9PntcclxuICAgIGlmKGVycm9yKXtcclxuICAgICAgICByZXR1cm4gY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgfVxyXG4gICAgY29uc29sZS5sb2coJ2Nvbm5lY3Rpb24gdG8gbW9uZ28gREIgc3VjY2Vzc2Z1bCEhIScpXHJcbn0pXHJcblxyXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PXNlcnZlciBlbmRwb2ludHM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5zZXJ2ZXIudXNlKEF1dGhSb3V0ZXMpXHJcbnNlcnZlci51c2UoVmlkZW9Sb3V0ZXMpXHJcblxyXG5jb25zdCBQT1JUID0gcHJvY2Vzcy5lbnYuUE9SVCA/PyAzMDAwO1xyXG5cclxuXHJcbnNlcnZlci5saXN0ZW4oUE9SVCwgKCk9PntcclxuICAgIGNvbnNvbGUubG9nKGBTZXJ2ZXIgc3RhcnRlZCBvbiBQT1JUICR7UE9SVH1gKVxyXG59KSJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7Ozs7O0FBRUEsSUFBQUEsY0FBQTtBQUVBLElBQU1DLE1BQU0sR0FBRyxJQUFBQyxtQkFBQSxHQUFmLEMsQ0FDQTs7QUFDQUQsTUFBTSxDQUFDRSxHQUFQLENBQVcsSUFBQUMsZ0JBQUEsR0FBWCxFLENBQ0E7O0FBQ0EsSUFBTUMsUUFBUSxHQUFHQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUYsUUFBN0I7QUFDQSxJQUFBRyxpQkFBQSxFQUFRSCxRQUFSLEVBQWtCLFVBQUNJLEtBQUQsRUFBUztFQUN2QixJQUFHQSxLQUFILEVBQVM7SUFDTCxPQUFPQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUYsS0FBWixDQUFQO0VBQ0g7O0VBQ0RDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLHNDQUFaO0FBQ0gsQ0FMRCxFLENBT0E7O0FBQ0FWLE1BQU0sQ0FBQ0UsR0FBUCxDQUFXUyxnQkFBWDtBQUNBWCxNQUFNLENBQUNFLEdBQVAsQ0FBV1UsaUJBQVg7QUFFQSxJQUFNQyxJQUFJLHdCQUFHUixPQUFPLENBQUNDLEdBQVIsQ0FBWU8sSUFBZixpRUFBdUIsSUFBakM7QUFHQWIsTUFBTSxDQUFDYyxNQUFQLENBQWNELElBQWQsRUFBb0IsWUFBSTtFQUNwQkosT0FBTyxDQUFDQyxHQUFSLGtDQUFzQ0csSUFBdEM7QUFDSCxDQUZEIn0=","map":{"version":3,"names":["config","server","express","use","cors","mongoURI","process","env","connect","error","console","log","AuthRoutes","VideoRoutes","PORT","listen"],"sourceRoot":"D:\\School\\IT Project\\IT-PROJECT\\backend3\\src\\","sources":["server.js"],"sourcesContent":["import express from 'express';\r\nimport{ connect } from 'mongoose';\r\nimport{ config } from 'dotenv';\r\nimport AuthRoutes from './Routes/Auth.routes'\r\nimport cors from 'cors'\r\nimport VideoRoutes from './Routes/Video.routes'\r\n\r\nconfig();\r\n\r\nconst server = express();\r\n//==============MiddleWares===========================================\r\nserver.use(cors())\r\n//==========mongo DB connection========================================\r\nconst mongoURI = process.env.mongoURI;\r\nconnect(mongoURI, (error)=>{\r\n    if(error){\r\n        return console.log(error);\r\n    }\r\n    console.log('connection to mongo DB successful!!!')\r\n})\r\n\r\n//==============================server endpoints=============================\r\nserver.use(AuthRoutes)\r\nserver.use(VideoRoutes)\r\n\r\nconst PORT = process.env.PORT ?? 3000;\r\n\r\n\r\nserver.listen(PORT, ()=>{\r\n    console.log(`Server started on PORT ${PORT}`)\r\n})"],"mappings":";;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;AAEA,IAAAA,cAAA;AAEA,IAAMC,MAAM,GAAG,IAAAC,mBAAA,GAAf,C,CACA;;AACAD,MAAM,CAACE,GAAP,CAAW,IAAAC,gBAAA,GAAX,E,CACA;;AACA,IAAMC,QAAQ,GAAGC,OAAO,CAACC,GAAR,CAAYF,QAA7B;AACA,IAAAG,iBAAA,EAAQH,QAAR,EAAkB,UAACI,KAAD,EAAS;EACvB,IAAGA,KAAH,EAAS;IACL,OAAOC,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAP;EACH;;EACDC,OAAO,CAACC,GAAR,CAAY,sCAAZ;AACH,CALD,E,CAOA;;AACAV,MAAM,CAACE,GAAP,CAAWS,gBAAX;AACAX,MAAM,CAACE,GAAP,CAAWU,iBAAX;AAEA,IAAMC,IAAI,wBAAGR,OAAO,CAACC,GAAR,CAAYO,IAAf,iEAAuB,IAAjC;AAGAb,MAAM,CAACc,MAAP,CAAcD,IAAd,EAAoB,YAAI;EACpBJ,OAAO,CAACC,GAAR,kCAAsCG,IAAtC;AACH,CAFD"}},"mtime":1662523367956},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"filename\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Routes\\\\Auth.routes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _express = require(\"express\");\n\nvar _Auth = require(\"../Controller/Auth.controller\");\n\nvar router = (0, _express.Router)();\nvar Controller = new _Auth.AuthController(); //router.post('/app/signup')\n\nrouter.post('/api/signup', function (request, response) {\n  Controller.signup(request, response);\n});\nrouter.post('/api/signin', function (request, response) {\n  Controller.signin(request, response);\n}); // reset password\n\nrouter.post('/api/password-reset', function (request, response) {\n  Controller.forgotPassword(request, response);\n}); // delet a user from mongo DB\n\nrouter.post('/api/delete', function (request, response) {\n  Controller[\"delete\"](request, response);\n}); //find all user and return \n\nrouter.get('/api/findall', function (request, response) {\n  Controller.findAllUser(request, response);\n}); // update user information\n\nrouter.put('/api/update/:email', function (request, response) {\n  Controller.update(request, response);\n}); // search for a user\n\nrouter.get('/api/user-search/', function (request, response) {\n  Controller.searchUser(request, response);\n}); // Update user info including  email, password, username, age and gender\n\nrouter.post('/api/update', function (request, response) {\n  Controller.update(request, response);\n});\nvar _default = router; //module.exports = router;\n\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJSb3V0ZXIiLCJDb250cm9sbGVyIiwiQXV0aENvbnRyb2xsZXIiLCJwb3N0IiwicmVxdWVzdCIsInJlc3BvbnNlIiwic2lnbnVwIiwic2lnbmluIiwiZm9yZ290UGFzc3dvcmQiLCJnZXQiLCJmaW5kQWxsVXNlciIsInB1dCIsInVwZGF0ZSIsInNlYXJjaFVzZXIiXSwic291cmNlUm9vdCI6IkQ6XFxTY2hvb2xcXElUIFByb2plY3RcXElULVBST0pFQ1RcXGJhY2tlbmQzXFxzcmNcXFJvdXRlc1xcIiwic291cmNlcyI6WyJBdXRoLnJvdXRlcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSb3V0ZXIgfSBmcm9tICdleHByZXNzJztcclxuaW1wb3J0IHsgQXV0aENvbnRyb2xsZXIgfSBmcm9tICcuLi9Db250cm9sbGVyL0F1dGguY29udHJvbGxlcic7XHJcblxyXG5cclxuY29uc3Qgcm91dGVyID0gUm91dGVyKCk7XHJcbmNvbnN0IENvbnRyb2xsZXIgPSBuZXcgQXV0aENvbnRyb2xsZXIoKTtcclxuXHJcbi8vcm91dGVyLnBvc3QoJy9hcHAvc2lnbnVwJylcclxucm91dGVyLnBvc3QoJy9hcGkvc2lnbnVwJywgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XHJcbiAgICBDb250cm9sbGVyLnNpZ251cChyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcbnJvdXRlci5wb3N0KCcvYXBpL3NpZ25pbicsIChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xyXG4gICAgQ29udHJvbGxlci5zaWduaW4ocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG4vLyByZXNldCBwYXNzd29yZFxyXG5yb3V0ZXIucG9zdCgnL2FwaS9wYXNzd29yZC1yZXNldCcsIChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xyXG4gICAgQ29udHJvbGxlci5mb3Jnb3RQYXNzd29yZChyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcblxyXG4vLyBkZWxldCBhIHVzZXIgZnJvbSBtb25nbyBEQlxyXG5yb3V0ZXIucG9zdCgnL2FwaS9kZWxldGUnLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgIENvbnRyb2xsZXIuZGVsZXRlKHJlcXVlc3QsIHJlc3BvbnNlKVxyXG59KVxyXG5cclxuLy9maW5kIGFsbCB1c2VyIGFuZCByZXR1cm4gXHJcbnJvdXRlci5nZXQoJy9hcGkvZmluZGFsbCcsIChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xyXG4gICAgQ29udHJvbGxlci5maW5kQWxsVXNlcihyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcbi8vIHVwZGF0ZSB1c2VyIGluZm9ybWF0aW9uXHJcbnJvdXRlci5wdXQoJy9hcGkvdXBkYXRlLzplbWFpbCcsIChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xyXG4gICAgQ29udHJvbGxlci51cGRhdGUocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG5cclxuLy8gc2VhcmNoIGZvciBhIHVzZXJcclxucm91dGVyLmdldCgnL2FwaS91c2VyLXNlYXJjaC8nLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgIENvbnRyb2xsZXIuc2VhcmNoVXNlcihyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcbi8vIFVwZGF0ZSB1c2VyIGluZm8gaW5jbHVkaW5nICBlbWFpbCwgcGFzc3dvcmQsIHVzZXJuYW1lLCBhZ2UgYW5kIGdlbmRlclxyXG5yb3V0ZXIucG9zdCgnL2FwaS91cGRhdGUnLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgIENvbnRyb2xsZXIudXBkYXRlKHJlcXVlc3QsIHJlc3BvbnNlKVxyXG59KVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XHJcbi8vbW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBR0EsSUFBTUEsTUFBTSxHQUFHLElBQUFDLGVBQUEsR0FBZjtBQUNBLElBQU1DLFVBQVUsR0FBRyxJQUFJQyxvQkFBSixFQUFuQixDLENBRUE7O0FBQ0FILE1BQU0sQ0FBQ0ksSUFBUCxDQUFZLGFBQVosRUFBMkIsVUFBQ0MsT0FBRCxFQUFVQyxRQUFWLEVBQXVCO0VBQzlDSixVQUFVLENBQUNLLE1BQVgsQ0FBa0JGLE9BQWxCLEVBQTJCQyxRQUEzQjtBQUNILENBRkQ7QUFJQU4sTUFBTSxDQUFDSSxJQUFQLENBQVksYUFBWixFQUEyQixVQUFDQyxPQUFELEVBQVVDLFFBQVYsRUFBdUI7RUFDOUNKLFVBQVUsQ0FBQ00sTUFBWCxDQUFrQkgsT0FBbEIsRUFBMkJDLFFBQTNCO0FBQ0gsQ0FGRCxFLENBSUE7O0FBQ0FOLE1BQU0sQ0FBQ0ksSUFBUCxDQUFZLHFCQUFaLEVBQW1DLFVBQUNDLE9BQUQsRUFBVUMsUUFBVixFQUF1QjtFQUN0REosVUFBVSxDQUFDTyxjQUFYLENBQTBCSixPQUExQixFQUFtQ0MsUUFBbkM7QUFDSCxDQUZELEUsQ0FLQTs7QUFDQU4sTUFBTSxDQUFDSSxJQUFQLENBQVksYUFBWixFQUEyQixVQUFDQyxPQUFELEVBQVVDLFFBQVYsRUFBdUI7RUFDOUNKLFVBQVUsVUFBVixDQUFrQkcsT0FBbEIsRUFBMkJDLFFBQTNCO0FBQ0gsQ0FGRCxFLENBSUE7O0FBQ0FOLE1BQU0sQ0FBQ1UsR0FBUCxDQUFXLGNBQVgsRUFBMkIsVUFBQ0wsT0FBRCxFQUFVQyxRQUFWLEVBQXVCO0VBQzlDSixVQUFVLENBQUNTLFdBQVgsQ0FBdUJOLE9BQXZCLEVBQWdDQyxRQUFoQztBQUNILENBRkQsRSxDQUlBOztBQUNBTixNQUFNLENBQUNZLEdBQVAsQ0FBVyxvQkFBWCxFQUFpQyxVQUFDUCxPQUFELEVBQVVDLFFBQVYsRUFBdUI7RUFDcERKLFVBQVUsQ0FBQ1csTUFBWCxDQUFrQlIsT0FBbEIsRUFBMkJDLFFBQTNCO0FBQ0gsQ0FGRCxFLENBS0E7O0FBQ0FOLE1BQU0sQ0FBQ1UsR0FBUCxDQUFXLG1CQUFYLEVBQWdDLFVBQUNMLE9BQUQsRUFBVUMsUUFBVixFQUF1QjtFQUNuREosVUFBVSxDQUFDWSxVQUFYLENBQXNCVCxPQUF0QixFQUErQkMsUUFBL0I7QUFDSCxDQUZELEUsQ0FJQTs7QUFDQU4sTUFBTSxDQUFDSSxJQUFQLENBQVksYUFBWixFQUEyQixVQUFDQyxPQUFELEVBQVVDLFFBQVYsRUFBdUI7RUFDOUNKLFVBQVUsQ0FBQ1csTUFBWCxDQUFrQlIsT0FBbEIsRUFBMkJDLFFBQTNCO0FBQ0gsQ0FGRDtlQVNlTixNLEVBQ2YifQ==","map":{"version":3,"names":["router","Router","Controller","AuthController","post","request","response","signup","signin","forgotPassword","get","findAllUser","put","update","searchUser"],"sourceRoot":"D:\\School\\IT Project\\IT-PROJECT\\backend3\\src\\Routes\\","sources":["Auth.routes.js"],"sourcesContent":["import { Router } from 'express';\r\nimport { AuthController } from '../Controller/Auth.controller';\r\n\r\n\r\nconst router = Router();\r\nconst Controller = new AuthController();\r\n\r\n//router.post('/app/signup')\r\nrouter.post('/api/signup', (request, response) => {\r\n    Controller.signup(request, response)\r\n})\r\n\r\nrouter.post('/api/signin', (request, response) => {\r\n    Controller.signin(request, response)\r\n})\r\n\r\n// reset password\r\nrouter.post('/api/password-reset', (request, response) => {\r\n    Controller.forgotPassword(request, response)\r\n})\r\n\r\n\r\n// delet a user from mongo DB\r\nrouter.post('/api/delete', (request, response) => {\r\n    Controller.delete(request, response)\r\n})\r\n\r\n//find all user and return \r\nrouter.get('/api/findall', (request, response) => {\r\n    Controller.findAllUser(request, response)\r\n})\r\n\r\n// update user information\r\nrouter.put('/api/update/:email', (request, response) => {\r\n    Controller.update(request, response)\r\n})\r\n\r\n\r\n// search for a user\r\nrouter.get('/api/user-search/', (request, response) => {\r\n    Controller.searchUser(request, response)\r\n})\r\n\r\n// Update user info including  email, password, username, age and gender\r\nrouter.post('/api/update', (request, response) => {\r\n    Controller.update(request, response)\r\n})\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default router;\r\n//module.exports = router;"],"mappings":";;;;;;;AAAA;;AACA;;AAGA,IAAMA,MAAM,GAAG,IAAAC,eAAA,GAAf;AACA,IAAMC,UAAU,GAAG,IAAIC,oBAAJ,EAAnB,C,CAEA;;AACAH,MAAM,CAACI,IAAP,CAAY,aAAZ,EAA2B,UAACC,OAAD,EAAUC,QAAV,EAAuB;EAC9CJ,UAAU,CAACK,MAAX,CAAkBF,OAAlB,EAA2BC,QAA3B;AACH,CAFD;AAIAN,MAAM,CAACI,IAAP,CAAY,aAAZ,EAA2B,UAACC,OAAD,EAAUC,QAAV,EAAuB;EAC9CJ,UAAU,CAACM,MAAX,CAAkBH,OAAlB,EAA2BC,QAA3B;AACH,CAFD,E,CAIA;;AACAN,MAAM,CAACI,IAAP,CAAY,qBAAZ,EAAmC,UAACC,OAAD,EAAUC,QAAV,EAAuB;EACtDJ,UAAU,CAACO,cAAX,CAA0BJ,OAA1B,EAAmCC,QAAnC;AACH,CAFD,E,CAKA;;AACAN,MAAM,CAACI,IAAP,CAAY,aAAZ,EAA2B,UAACC,OAAD,EAAUC,QAAV,EAAuB;EAC9CJ,UAAU,UAAV,CAAkBG,OAAlB,EAA2BC,QAA3B;AACH,CAFD,E,CAIA;;AACAN,MAAM,CAACU,GAAP,CAAW,cAAX,EAA2B,UAACL,OAAD,EAAUC,QAAV,EAAuB;EAC9CJ,UAAU,CAACS,WAAX,CAAuBN,OAAvB,EAAgCC,QAAhC;AACH,CAFD,E,CAIA;;AACAN,MAAM,CAACY,GAAP,CAAW,oBAAX,EAAiC,UAACP,OAAD,EAAUC,QAAV,EAAuB;EACpDJ,UAAU,CAACW,MAAX,CAAkBR,OAAlB,EAA2BC,QAA3B;AACH,CAFD,E,CAKA;;AACAN,MAAM,CAACU,GAAP,CAAW,mBAAX,EAAgC,UAACL,OAAD,EAAUC,QAAV,EAAuB;EACnDJ,UAAU,CAACY,UAAX,CAAsBT,OAAtB,EAA+BC,QAA/B;AACH,CAFD,E,CAIA;;AACAN,MAAM,CAACI,IAAP,CAAY,aAAZ,EAA2B,UAACC,OAAD,EAAUC,QAAV,EAAuB;EAC9CJ,UAAU,CAACW,MAAX,CAAkBR,OAAlB,EAA2BC,QAA3B;AACH,CAFD;eASeN,M,EACf"}},"mtime":1665981022554},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Controller\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"filename\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Controller\\\\Auth.controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AuthController = void 0;\n\nvar _formidable = require(\"formidable\");\n\nvar _bcrypt = require(\"bcrypt\");\n\nvar _dotenv = require(\"dotenv\");\n\nvar _jsonwebtoken = require(\"jsonwebtoken\");\n\nvar _User = require(\"../Models/User.model\");\n\nvar _Video = require(\"../Models/Video.model\");\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n(0, _dotenv.config)();\n\nvar AuthController = /*#__PURE__*/function () {\n  function AuthController() {\n    _classCallCheck(this, AuthController);\n  }\n\n  _createClass(AuthController, [{\n    key: \"signup\",\n    value: //signup method\n    function signup(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(error, fields, files) {\n          var username, email, password, age, gender, salt, hashedPassword, newAccount, savedAccount;\n          return _regeneratorRuntime().wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  if (!error) {\n                    _context.next = 2;\n                    break;\n                  }\n\n                  return _context.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to create account, maybe try again later'\n                  }));\n\n                case 2:\n                  username = fields.username, email = fields.email, password = fields.password, age = fields.age, gender = fields.gender;\n\n                  if (!(password.length > 20 || password.length < 6)) {\n                    _context.next = 5;\n                    break;\n                  }\n\n                  return _context.abrupt(\"return\", response.status(503).json({\n                    msg: 'Password length need to be 6-20 range'\n                  }));\n\n                case 5:\n                  if (!(age > 150 || age < 0)) {\n                    _context.next = 7;\n                    break;\n                  }\n\n                  return _context.abrupt(\"return\", response.status(502).json({\n                    msg: 'Invalid age'\n                  }));\n\n                case 7:\n                  _context.next = 9;\n                  return (0, _bcrypt.genSalt)(15);\n\n                case 9:\n                  salt = _context.sent;\n                  _context.next = 12;\n                  return (0, _bcrypt.hash)(password, salt);\n\n                case 12:\n                  hashedPassword = _context.sent;\n                  newAccount = new _User.userModel({\n                    username: username,\n                    email: email,\n                    password: hashedPassword,\n                    age: age,\n                    gender: gender\n                  }); // create an account successful or failed\n\n                  _context.prev = 14;\n                  _context.next = 17;\n                  return newAccount.save();\n\n                case 17:\n                  savedAccount = _context.sent;\n                  return _context.abrupt(\"return\", response.status(201).json({\n                    msg: 'Account created successfully'\n                  }));\n\n                case 21:\n                  _context.prev = 21;\n                  _context.t0 = _context[\"catch\"](14);\n                  console.log(_context.t0);\n                  return _context.abrupt(\"return\", response.status(501).json({\n                    msg: 'This account has been registered. Change email or username'\n                  }));\n\n                case 25:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, null, [[14, 21]]);\n        }));\n\n        return function (_x, _x2, _x3) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n    } // sign in\n\n  }, {\n    key: \"signin\",\n    value: function signin(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(error, fields, files) {\n          var account, password, isAccountEmail, _user, _isPasswordValid, _token_payload, _token, _username, user, isPasswordValid, token_payload, token, username;\n\n          return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  if (!error) {\n                    _context2.next = 2;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to signin'\n                  }));\n\n                case 2:\n                  account = fields.account, password = fields.password; // email log in \n\n                  isAccountEmail = account.includes('@');\n\n                  if (!isAccountEmail) {\n                    _context2.next = 19;\n                    break;\n                  }\n\n                  _context2.next = 7;\n                  return _User.userModel.findOne({\n                    email: account\n                  });\n\n                case 7:\n                  _user = _context2.sent;\n\n                  if (_user) {\n                    _context2.next = 10;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\", response.status(404).json({\n                    msg: 'Email of this account does not exist'\n                  }));\n\n                case 10:\n                  _context2.next = 12;\n                  return (0, _bcrypt.compare)(password, _user.password);\n\n                case 12:\n                  _isPasswordValid = _context2.sent;\n\n                  if (_isPasswordValid) {\n                    _context2.next = 15;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\", response.status(400).json({\n                    msg: 'Invalid password'\n                  }));\n\n                case 15:\n                  _token_payload = {\n                    _id: _user._id,\n                    email: _user.email,\n                    username: _user.username\n                  };\n                  _token = (0, _jsonwebtoken.sign)(_token_payload, process.env.cookie_secret, {\n                    expiresIn: '365d'\n                  });\n                  _username = _token_payload.username;\n                  return _context2.abrupt(\"return\", response.status(200).json({\n                    token: _token,\n                    username: _username\n                  }));\n\n                case 19:\n                  _context2.next = 21;\n                  return _User.userModel.findOne({\n                    username: account\n                  });\n\n                case 21:\n                  user = _context2.sent;\n\n                  if (user) {\n                    _context2.next = 24;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\", response.status(404).json({\n                    msg: 'username of this account does not exist'\n                  }));\n\n                case 24:\n                  _context2.next = 26;\n                  return (0, _bcrypt.compare)(password, user.password);\n\n                case 26:\n                  isPasswordValid = _context2.sent;\n\n                  if (isPasswordValid) {\n                    _context2.next = 29;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\", response.status(400).json({\n                    msg: 'Invalid password'\n                  }));\n\n                case 29:\n                  token_payload = {\n                    _id: user._id,\n                    email: user.email,\n                    username: user.username\n                  };\n                  token = (0, _jsonwebtoken.sign)(token_payload, process.env.cookie_secret, {\n                    expiresIn: '365d'\n                  });\n                  username = token_payload.username;\n                  return _context2.abrupt(\"return\", response.status(200).json({\n                    token: token,\n                    username: username\n                  }));\n\n                case 33:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2);\n        }));\n\n        return function (_x4, _x5, _x6) {\n          return _ref2.apply(this, arguments);\n        };\n      }());\n    } // forgot password and reset\n\n  }, {\n    key: \"forgotPassword\",\n    value: function forgotPassword(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(error, fields, files) {\n          var email, password, salt, hashedPassword, user, updatedAccount;\n          return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n            while (1) {\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  if (!error) {\n                    _context3.next = 2;\n                    break;\n                  }\n\n                  return _context3.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to rset password'\n                  }));\n\n                case 2:\n                  email = fields.email, password = fields.password;\n\n                  if (!(!email || !password)) {\n                    _context3.next = 5;\n                    break;\n                  }\n\n                  return _context3.abrupt(\"return\", response.status(400).json({\n                    msg: 'email and password are required to reset password '\n                  }));\n\n                case 5:\n                  _context3.next = 7;\n                  return (0, _bcrypt.genSalt)(15);\n\n                case 7:\n                  salt = _context3.sent;\n                  _context3.next = 10;\n                  return (0, _bcrypt.hash)(password, salt);\n\n                case 10:\n                  hashedPassword = _context3.sent;\n                  _context3.prev = 11;\n                  _context3.next = 14;\n                  return _User.userModel.findOne({\n                    email: email\n                  });\n\n                case 14:\n                  user = _context3.sent;\n\n                  if (user) {\n                    _context3.next = 17;\n                    break;\n                  }\n\n                  return _context3.abrupt(\"return\", response.status(404).json({\n                    msg: 'Account with this email does not exist'\n                  }));\n\n                case 17:\n                  _context3.next = 19;\n                  return _User.userModel.findOneAndUpdate({\n                    email: email\n                  }, {\n                    $set: {\n                      password: hashedPassword\n                    }\n                  }, {\n                    \"new\": true\n                  });\n\n                case 19:\n                  updatedAccount = _context3.sent;\n                  return _context3.abrupt(\"return\", response.status(200).json({\n                    msg: 'Password rest successful'\n                  }));\n\n                case 23:\n                  _context3.prev = 23;\n                  _context3.t0 = _context3[\"catch\"](11);\n                  return _context3.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to reset password'\n                  }));\n\n                case 26:\n                case \"end\":\n                  return _context3.stop();\n              }\n            }\n          }, _callee3, null, [[11, 23]]);\n        }));\n\n        return function (_x7, _x8, _x9) {\n          return _ref3.apply(this, arguments);\n        };\n      }());\n    } // updat user info such as username, password, age and gender via email.\n\n  }, {\n    key: \"update\",\n    value: function () {\n      var _update = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(request, response) {\n        var form;\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                form = new _formidable.IncomingForm();\n                form.parse(request, /*#__PURE__*/function () {\n                  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(error, fields, files) {\n                    var email, username, age, gender, old_username, newUsername, newAge, newGender, user, updatedAccount, updatedVideo_username;\n                    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n                      while (1) {\n                        switch (_context4.prev = _context4.next) {\n                          case 0:\n                            if (!error) {\n                              _context4.next = 2;\n                              break;\n                            }\n\n                            return _context4.abrupt(\"return\", response.status(500).json({\n                              msg: 'Failed to update. Try again later'\n                            }));\n\n                          case 2:\n                            email = fields.email, username = fields.username, age = fields.age, gender = fields.gender, old_username = fields.old_username;\n                            newUsername = username;\n                            newAge = age;\n                            newGender = gender;\n                            _context4.prev = 6;\n                            _context4.next = 9;\n                            return _User.userModel.findOne({\n                              email: email\n                            });\n\n                          case 9:\n                            user = _context4.sent;\n\n                            if (user) {\n                              _context4.next = 12;\n                              break;\n                            }\n\n                            return _context4.abrupt(\"return\", response.status(404).json({\n                              msg: 'Account with this email does not exist'\n                            }));\n\n                          case 12:\n                            _context4.next = 14;\n                            return _User.userModel.findOneAndUpdate({\n                              email: email\n                            }, {\n                              $set: {\n                                username: newUsername,\n                                age: newAge,\n                                gender: newGender\n                              }\n                            }, {\n                              \"new\": true\n                            });\n\n                          case 14:\n                            updatedAccount = _context4.sent;\n                            _context4.next = 17;\n                            return _Video.videoModel.updateMany({\n                              username: old_username\n                            }, {\n                              $set: {\n                                username: newUsername\n                              }\n                            }, {\n                              \"new\": true\n                            });\n\n                          case 17:\n                            updatedVideo_username = _context4.sent;\n                            return _context4.abrupt(\"return\", response.status(200).json({\n                              msg: 'Edit successful'\n                            }));\n\n                          case 21:\n                            _context4.prev = 21;\n                            _context4.t0 = _context4[\"catch\"](6);\n                            return _context4.abrupt(\"return\", response.status(500).json({\n                              msg: 'Failed to update. Change email or username and try again'\n                            }));\n\n                          case 24:\n                          case \"end\":\n                            return _context4.stop();\n                        }\n                      }\n                    }, _callee4, null, [[6, 21]]);\n                  }));\n\n                  return function (_x12, _x13, _x14) {\n                    return _ref4.apply(this, arguments);\n                  };\n                }());\n\n              case 2:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5);\n      }));\n\n      function update(_x10, _x11) {\n        return _update.apply(this, arguments);\n      }\n\n      return update;\n    }() //delete user account\n\n  }, {\n    key: \"delete\",\n    value: function _delete(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(error, fields, files) {\n          var email, user;\n          return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n            while (1) {\n              switch (_context6.prev = _context6.next) {\n                case 0:\n                  if (!error) {\n                    _context6.next = 2;\n                    break;\n                  }\n\n                  return _context6.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to delete account, maybe try again later'\n                  }));\n\n                case 2:\n                  email = fields.email;\n                  _context6.prev = 3;\n                  _context6.next = 6;\n                  return _User.userModel.findOneAndDelete({\n                    email: email\n                  });\n\n                case 6:\n                  user = _context6.sent;\n                  return _context6.abrupt(\"return\", response.status(200).json({\n                    msg: 'delete successful'\n                  }));\n\n                case 10:\n                  _context6.prev = 10;\n                  _context6.t0 = _context6[\"catch\"](3);\n                  return _context6.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to delete'\n                  }));\n\n                case 13:\n                case \"end\":\n                  return _context6.stop();\n              }\n            }\n          }, _callee6, null, [[3, 10]]);\n        }));\n\n        return function (_x15, _x16, _x17) {\n          return _ref5.apply(this, arguments);\n        };\n      }());\n    } // find all user\n\n  }, {\n    key: \"findAllUser\",\n    value: function findAllUser(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(error, fields, files) {\n          var user;\n          return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n            while (1) {\n              switch (_context7.prev = _context7.next) {\n                case 0:\n                  if (!error) {\n                    _context7.next = 2;\n                    break;\n                  }\n\n                  return _context7.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to delete account, maybe try again later'\n                  }));\n\n                case 2:\n                  _context7.prev = 2;\n                  _context7.next = 5;\n                  return _User.userModel.find();\n\n                case 5:\n                  user = _context7.sent;\n                  return _context7.abrupt(\"return\", response.send(user));\n\n                case 9:\n                  _context7.prev = 9;\n                  _context7.t0 = _context7[\"catch\"](2);\n                  return _context7.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed find all users'\n                  }));\n\n                case 12:\n                case \"end\":\n                  return _context7.stop();\n              }\n            }\n          }, _callee7, null, [[2, 9]]);\n        }));\n\n        return function (_x18, _x19, _x20) {\n          return _ref6.apply(this, arguments);\n        };\n      }());\n    } // search for a user by request \n\n  }, {\n    key: \"searchUser\",\n    value: function () {\n      var _searchUser = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8(request, response) {\n        var name, isadmin, _user2, user;\n\n        return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                name = request.query.username;\n                isadmin = request.query.isadmin;\n\n                if (!(isadmin === 'false')) {\n                  _context8.next = 15;\n                  break;\n                }\n\n                _context8.prev = 3;\n                _context8.next = 6;\n                return _User.userModel.find({\n                  username: name\n                });\n\n              case 6:\n                _user2 = _context8.sent;\n                return _context8.abrupt(\"return\", response.send(_user2));\n\n              case 10:\n                _context8.prev = 10;\n                _context8.t0 = _context8[\"catch\"](3);\n                return _context8.abrupt(\"return\", response.status(500).json({\n                  msg: 'No matching user'\n                }));\n\n              case 13:\n                _context8.next = 32;\n                break;\n\n              case 15:\n                _context8.prev = 15;\n                _context8.next = 18;\n                return _User.userModel.find({\n                  username: {\n                    $regex: name\n                  }\n                });\n\n              case 18:\n                user = _context8.sent;\n\n                if (!(user.length > 0)) {\n                  _context8.next = 23;\n                  break;\n                }\n\n                return _context8.abrupt(\"return\", response.send(user));\n\n              case 23:\n                _context8.next = 25;\n                return _User.userModel.find({\n                  email: {\n                    $regex: name\n                  }\n                });\n\n              case 25:\n                user = _context8.sent;\n                return _context8.abrupt(\"return\", response.send(user));\n\n              case 27:\n                _context8.next = 32;\n                break;\n\n              case 29:\n                _context8.prev = 29;\n                _context8.t1 = _context8[\"catch\"](15);\n                return _context8.abrupt(\"return\", response.status(500).json({\n                  msg: 'No matching user'\n                }));\n\n              case 32:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, null, [[3, 10], [15, 29]]);\n      }));\n\n      function searchUser(_x21, _x22) {\n        return _searchUser.apply(this, arguments);\n      }\n\n      return searchUser;\n    }()\n  }]);\n\n  return AuthController;\n}();\n\nexports.AuthController = AuthController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25maWciLCJBdXRoQ29udHJvbGxlciIsInJlcXVlc3QiLCJyZXNwb25zZSIsImZvcm0iLCJJbmNvbWluZ0Zvcm0iLCJwYXJzZSIsImVycm9yIiwiZmllbGRzIiwiZmlsZXMiLCJzdGF0dXMiLCJqc29uIiwibXNnIiwidXNlcm5hbWUiLCJlbWFpbCIsInBhc3N3b3JkIiwiYWdlIiwiZ2VuZGVyIiwibGVuZ3RoIiwiZ2VuU2FsdCIsInNhbHQiLCJoYXNoIiwiaGFzaGVkUGFzc3dvcmQiLCJuZXdBY2NvdW50IiwidXNlck1vZGVsIiwic2F2ZSIsInNhdmVkQWNjb3VudCIsImNvbnNvbGUiLCJsb2ciLCJhY2NvdW50IiwiaXNBY2NvdW50RW1haWwiLCJpbmNsdWRlcyIsImZpbmRPbmUiLCJ1c2VyIiwiY29tcGFyZSIsImlzUGFzc3dvcmRWYWxpZCIsInRva2VuX3BheWxvYWQiLCJfaWQiLCJ0b2tlbiIsInNpZ24iLCJwcm9jZXNzIiwiZW52IiwiY29va2llX3NlY3JldCIsImV4cGlyZXNJbiIsImZpbmRPbmVBbmRVcGRhdGUiLCIkc2V0IiwidXBkYXRlZEFjY291bnQiLCJvbGRfdXNlcm5hbWUiLCJuZXdVc2VybmFtZSIsIm5ld0FnZSIsIm5ld0dlbmRlciIsInZpZGVvTW9kZWwiLCJ1cGRhdGVNYW55IiwidXBkYXRlZFZpZGVvX3VzZXJuYW1lIiwiZmluZE9uZUFuZERlbGV0ZSIsImZpbmQiLCJzZW5kIiwibmFtZSIsInF1ZXJ5IiwiaXNhZG1pbiIsIiRyZWdleCJdLCJzb3VyY2VSb290IjoiRDpcXFNjaG9vbFxcSVQgUHJvamVjdFxcSVQtUFJPSkVDVFxcYmFja2VuZDNcXHNyY1xcQ29udHJvbGxlclxcIiwic291cmNlcyI6WyJBdXRoLmNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5jb21pbmdGb3JtIH0gZnJvbSAnZm9ybWlkYWJsZSc7XHJcbmltcG9ydCB7IGdlblNhbHQsIGhhc2gsIGNvbXBhcmUgfSBmcm9tICdiY3J5cHQnO1xyXG5pbXBvcnQgeyBjb25maWcgfSBmcm9tICdkb3RlbnYnO1xyXG5pbXBvcnQgeyB2ZXJpZnksIHNpZ24gfSBmcm9tICdqc29ud2VidG9rZW4nO1xyXG5pbXBvcnQgeyB1c2VyTW9kZWwgfSBmcm9tICcuLi9Nb2RlbHMvVXNlci5tb2RlbCdcclxuaW1wb3J0IHsgdmlkZW9Nb2RlbCB9IGZyb20gJy4uL01vZGVscy9WaWRlby5tb2RlbCdcclxuY29uZmlnKClcclxuXHJcbmV4cG9ydCBjbGFzcyBBdXRoQ29udHJvbGxlciB7XHJcbiAgICAvL3NpZ251cCBtZXRob2RcclxuICAgIHNpZ251cChyZXF1ZXN0LCByZXNwb25zZSkge1xyXG4gICAgICAgIGNvbnN0IGZvcm0gPSBuZXcgSW5jb21pbmdGb3JtKCk7XHJcblxyXG4gICAgICAgIGZvcm0ucGFyc2UocmVxdWVzdCwgYXN5bmMgKGVycm9yLCBmaWVsZHMsIGZpbGVzKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oeyBtc2c6ICdGYWlsZWQgdG8gY3JlYXRlIGFjY291bnQsIG1heWJlIHRyeSBhZ2FpbiBsYXRlcicgfSlcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc3QgeyB1c2VybmFtZSwgZW1haWwsIHBhc3N3b3JkLCBhZ2UsIGdlbmRlciB9ID0gZmllbGRzO1xyXG4gICAgICAgICAgICBpZiAocGFzc3dvcmQubGVuZ3RoID4gMjAgfHwgcGFzc3dvcmQubGVuZ3RoIDwgNikgeyAgLy8gcGFzc3dvcmQgbWluaW11bSBsZW5ndGggPSA2LCBtYXhpbXVtIGxlbmd0aCA9IDIwXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMykuanNvbih7IG1zZzogJ1Bhc3N3b3JkIGxlbmd0aCBuZWVkIHRvIGJlIDYtMjAgcmFuZ2UnIH0pXHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChhZ2UgPiAxNTAgfHwgYWdlIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDIpLmpzb24oeyBtc2c6ICdJbnZhbGlkIGFnZScgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBzYWx0ID0gYXdhaXQgZ2VuU2FsdCgxNSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGhhc2hlZFBhc3N3b3JkID0gYXdhaXQgaGFzaChwYXNzd29yZCwgc2FsdCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld0FjY291bnQgPSBuZXcgdXNlck1vZGVsKHtcclxuICAgICAgICAgICAgICAgIHVzZXJuYW1lLFxyXG4gICAgICAgICAgICAgICAgZW1haWwsXHJcbiAgICAgICAgICAgICAgICBwYXNzd29yZDogaGFzaGVkUGFzc3dvcmQsXHJcbiAgICAgICAgICAgICAgICBhZ2UsXHJcbiAgICAgICAgICAgICAgICBnZW5kZXJcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLy8gY3JlYXRlIGFuIGFjY291bnQgc3VjY2Vzc2Z1bCBvciBmYWlsZWRcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNhdmVkQWNjb3VudCA9IGF3YWl0IG5ld0FjY291bnQuc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cygyMDEpLmpzb24oeyBtc2c6ICdBY2NvdW50IGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5JyB9KVxyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMSkuanNvbih7IG1zZzogJ1RoaXMgYWNjb3VudCBoYXMgYmVlbiByZWdpc3RlcmVkLiBDaGFuZ2UgZW1haWwgb3IgdXNlcm5hbWUnIH0pXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICAvLyBzaWduIGluXHJcbiAgICBzaWduaW4ocmVxdWVzdCwgcmVzcG9uc2UpIHtcclxuICAgICAgICBjb25zdCBmb3JtID0gbmV3IEluY29taW5nRm9ybSgpO1xyXG5cclxuICAgICAgICBmb3JtLnBhcnNlKHJlcXVlc3QsIGFzeW5jIChlcnJvciwgZmllbGRzLCBmaWxlcykgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAnRmFpbGVkIHRvIHNpZ25pbicgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB7IGFjY291bnQsIHBhc3N3b3JkIH0gPSBmaWVsZHM7XHJcbiAgICAgICAgICAgIC8vIGVtYWlsIGxvZyBpbiBcclxuICAgICAgICAgICAgY29uc3QgaXNBY2NvdW50RW1haWwgPSBhY2NvdW50LmluY2x1ZGVzKCdAJyk7XHJcbiAgICAgICAgICAgIGlmIChpc0FjY291bnRFbWFpbCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IHVzZXJNb2RlbC5maW5kT25lKHsgZW1haWw6IGFjY291bnQgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCF1c2VyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg0MDQpLmpzb24oeyBtc2c6ICdFbWFpbCBvZiB0aGlzIGFjY291bnQgZG9lcyBub3QgZXhpc3QnIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpc1Bhc3N3b3JkVmFsaWQgPSBhd2FpdCBjb21wYXJlKHBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKTsgIC8vIGhhc2hlZCBwYXNzd29yZFxyXG4gICAgICAgICAgICAgICAgaWYgKCFpc1Bhc3N3b3JkVmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwMCkuanNvbih7IG1zZzogJ0ludmFsaWQgcGFzc3dvcmQnIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0b2tlbl9wYXlsb2FkID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIF9pZDogdXNlci5faWQsXHJcbiAgICAgICAgICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXHJcbiAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWVcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IHRva2VuID0gc2lnbih0b2tlbl9wYXlsb2FkLCBwcm9jZXNzLmVudi5jb29raWVfc2VjcmV0LCB7IGV4cGlyZXNJbjogJzM2NWQnIH0pXHJcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VybmFtZSA9IHRva2VuX3BheWxvYWQudXNlcm5hbWU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7IHRva2VuLCB1c2VybmFtZSB9KVxyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgdXNlck1vZGVsLmZpbmRPbmUoeyB1c2VybmFtZTogYWNjb3VudCB9KTtcclxuXHJcbiAgICAgICAgICAgIGlmICghdXNlcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg0MDQpLmpzb24oeyBtc2c6ICd1c2VybmFtZSBvZiB0aGlzIGFjY291bnQgZG9lcyBub3QgZXhpc3QnIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgaXNQYXNzd29yZFZhbGlkID0gYXdhaXQgY29tcGFyZShwYXNzd29yZCwgdXNlci5wYXNzd29yZCk7ICAvLyBoYXNoZWQgcGFzc3dvcmRcclxuICAgICAgICAgICAgaWYgKCFpc1Bhc3N3b3JkVmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNDAwKS5qc29uKHsgbXNnOiAnSW52YWxpZCBwYXNzd29yZCcgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB0b2tlbl9wYXlsb2FkID0ge1xyXG4gICAgICAgICAgICAgICAgX2lkOiB1c2VyLl9pZCxcclxuICAgICAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxyXG4gICAgICAgICAgICAgICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB0b2tlbiA9IHNpZ24odG9rZW5fcGF5bG9hZCwgcHJvY2Vzcy5lbnYuY29va2llX3NlY3JldCwgeyBleHBpcmVzSW46ICczNjVkJyB9KVxyXG4gICAgICAgICAgICBjb25zdCB1c2VybmFtZSA9IHRva2VuX3BheWxvYWQudXNlcm5hbWU7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHsgdG9rZW4sIHVzZXJuYW1lIH0pXHJcblxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLy8gZm9yZ290IHBhc3N3b3JkIGFuZCByZXNldFxyXG4gICAgZm9yZ290UGFzc3dvcmQocmVxdWVzdCwgcmVzcG9uc2UpIHtcclxuICAgICAgICBjb25zdCBmb3JtID0gbmV3IEluY29taW5nRm9ybSgpO1xyXG5cclxuICAgICAgICBmb3JtLnBhcnNlKHJlcXVlc3QsIGFzeW5jIChlcnJvciwgZmllbGRzLCBmaWxlcykgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAnRmFpbGVkIHRvIHJzZXQgcGFzc3dvcmQnIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQgfSA9IGZpZWxkcztcclxuXHJcbiAgICAgICAgICAgIGlmICghZW1haWwgfHwgIXBhc3N3b3JkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwMCkuanNvbih7IG1zZzogJ2VtYWlsIGFuZCBwYXNzd29yZCBhcmUgcmVxdWlyZWQgdG8gcmVzZXQgcGFzc3dvcmQgJyB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHNhbHQgPSBhd2FpdCBnZW5TYWx0KDE1KTtcclxuICAgICAgICAgICAgY29uc3QgaGFzaGVkUGFzc3dvcmQgPSBhd2FpdCBoYXNoKHBhc3N3b3JkLCBzYWx0KVxyXG5cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB1c2VyTW9kZWwuZmluZE9uZSh7IGVtYWlsOiBlbWFpbCB9KTtcclxuICAgICAgICAgICAgICAgIGlmICghdXNlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNDA0KS5qc29uKHsgbXNnOiAnQWNjb3VudCB3aXRoIHRoaXMgZW1haWwgZG9lcyBub3QgZXhpc3QnIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvKiBjb25zdCB1cGRhdGVkQWNjb3VudCA9IGF3YWl0IHVzZXJNb2RlbC5maW5kT25lQW5kVXBkYXRlKHtlbWFpbDplbWFpbH0sIHskc2V0OntwYXNzd29yZDogaGFzaGVkUGFzc3dvcmR9fSwge25ldzp0cnVlfSlcclxuICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7bXNnOidQYXNzd29yZCByZXN0IHN1Y2Nlc3NmdWwnfSkgKi9cclxuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRBY2NvdW50ID0gYXdhaXQgdXNlck1vZGVsLmZpbmRPbmVBbmRVcGRhdGUoeyBlbWFpbDogZW1haWwgfSwgeyAkc2V0OiB7IHBhc3N3b3JkOiBoYXNoZWRQYXNzd29yZCB9IH0sIHsgbmV3OiB0cnVlIH0pXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7IG1zZzogJ1Bhc3N3b3JkIHJlc3Qgc3VjY2Vzc2Z1bCcgfSlcclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAnRmFpbGVkIHRvIHJlc2V0IHBhc3N3b3JkJyB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICAvLyB1cGRhdCB1c2VyIGluZm8gc3VjaCBhcyB1c2VybmFtZSwgcGFzc3dvcmQsIGFnZSBhbmQgZ2VuZGVyIHZpYSBlbWFpbC5cclxuICAgIGFzeW5jIHVwZGF0ZShyZXF1ZXN0LCByZXNwb25zZSkge1xyXG4gICAgICAgIGNvbnN0IGZvcm0gPSBuZXcgSW5jb21pbmdGb3JtKCk7XHJcbiAgICAgICAgZm9ybS5wYXJzZShyZXF1ZXN0LCBhc3luYyAoZXJyb3IsIGZpZWxkcywgZmlsZXMpID0+IHtcclxuICAgICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7IG1zZzogJ0ZhaWxlZCB0byB1cGRhdGUuIFRyeSBhZ2FpbiBsYXRlcicgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB7IGVtYWlsLCB1c2VybmFtZSwgYWdlLCBnZW5kZXIsIG9sZF91c2VybmFtZSB9ID0gZmllbGRzO1xyXG4gICAgICAgICAgICBjb25zdCBuZXdVc2VybmFtZSA9IHVzZXJuYW1lXHJcbiAgICAgICAgICAgIGNvbnN0IG5ld0FnZSA9IGFnZVxyXG4gICAgICAgICAgICBjb25zdCBuZXdHZW5kZXIgPSBnZW5kZXJcclxuXHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgdXNlck1vZGVsLmZpbmRPbmUoeyBlbWFpbDogZW1haWwgfSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXVzZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwNCkuanNvbih7IG1zZzogJ0FjY291bnQgd2l0aCB0aGlzIGVtYWlsIGRvZXMgbm90IGV4aXN0JyB9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbGV0IHVwZGF0ZWRBY2NvdW50ID0gYXdhaXQgdXNlck1vZGVsLmZpbmRPbmVBbmRVcGRhdGUoeyBlbWFpbDogZW1haWwgfSwgeyAkc2V0OiB7IHVzZXJuYW1lOiBuZXdVc2VybmFtZSwgYWdlOiBuZXdBZ2UsIGdlbmRlcjogbmV3R2VuZGVyIH0gfSwgeyBuZXc6IHRydWUgfSlcclxuICAgICAgICAgICAgICAgIGxldCB1cGRhdGVkVmlkZW9fdXNlcm5hbWUgPSBhd2FpdCB2aWRlb01vZGVsLnVwZGF0ZU1hbnkoeyB1c2VybmFtZTogb2xkX3VzZXJuYW1lIH0sIHsgJHNldDogeyB1c2VybmFtZTogbmV3VXNlcm5hbWUgfSB9LCB7IG5ldzogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cygyMDApLmpzb24oeyBtc2c6ICdFZGl0IHN1Y2Nlc3NmdWwnIH0pXHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7IG1zZzogJ0ZhaWxlZCB0byB1cGRhdGUuIENoYW5nZSBlbWFpbCBvciB1c2VybmFtZSBhbmQgdHJ5IGFnYWluJyB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICAvL2RlbGV0ZSB1c2VyIGFjY291bnRcclxuICAgIGRlbGV0ZShyZXF1ZXN0LCByZXNwb25zZSkge1xyXG4gICAgICAgIGNvbnN0IGZvcm0gPSBuZXcgSW5jb21pbmdGb3JtKCk7XHJcbiAgICAgICAgZm9ybS5wYXJzZShyZXF1ZXN0LCBhc3luYyAoZXJyb3IsIGZpZWxkcywgZmlsZXMpID0+IHtcclxuICAgICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7IG1zZzogJ0ZhaWxlZCB0byBkZWxldGUgYWNjb3VudCwgbWF5YmUgdHJ5IGFnYWluIGxhdGVyJyB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHsgZW1haWwgfSA9IGZpZWxkcztcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB1c2VyTW9kZWwuZmluZE9uZUFuZERlbGV0ZSh7IGVtYWlsOiBlbWFpbCB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHsgbXNnOiAnZGVsZXRlIHN1Y2Nlc3NmdWwnIH0pXHJcblxyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oeyBtc2c6ICdGYWlsZWQgdG8gZGVsZXRlJyB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICAvLyBmaW5kIGFsbCB1c2VyXHJcbiAgICBmaW5kQWxsVXNlcihyZXF1ZXN0LCByZXNwb25zZSkge1xyXG4gICAgICAgIGNvbnN0IGZvcm0gPSBuZXcgSW5jb21pbmdGb3JtKCk7XHJcblxyXG4gICAgICAgIGZvcm0ucGFyc2UocmVxdWVzdCwgYXN5bmMgKGVycm9yLCBmaWVsZHMsIGZpbGVzKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oeyBtc2c6ICdGYWlsZWQgdG8gZGVsZXRlIGFjY291bnQsIG1heWJlIHRyeSBhZ2FpbiBsYXRlcicgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IHVzZXJNb2RlbC5maW5kKClcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zZW5kKHVzZXIpXHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7IG1zZzogJ0ZhaWxlZCBmaW5kIGFsbCB1c2VycycgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vIHNlYXJjaCBmb3IgYSB1c2VyIGJ5IHJlcXVlc3QgXHJcbiAgICBhc3luYyBzZWFyY2hVc2VyKHJlcXVlc3QsIHJlc3BvbnNlKSB7XHJcbiAgICAgICAgY29uc3QgbmFtZSA9IHJlcXVlc3QucXVlcnkudXNlcm5hbWU7XHJcbiAgICAgICAgY29uc3QgaXNhZG1pbiA9IHJlcXVlc3QucXVlcnkuaXNhZG1pblxyXG4gICAgICAgIGlmIChpc2FkbWluID09PSAnZmFsc2UnKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdXNlciA9IGF3YWl0IHVzZXJNb2RlbC5maW5kKHsgdXNlcm5hbWU6IG5hbWUgfSlcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zZW5kKHVzZXIpXHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7IG1zZzogJ05vIG1hdGNoaW5nIHVzZXInIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHVzZXIgPSBhd2FpdCB1c2VyTW9kZWwuZmluZCh7IHVzZXJuYW1lOiB7ICRyZWdleDogbmFtZSB9IH0pXHJcbiAgICAgICAgICAgICAgICBpZiAodXNlci5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnNlbmQodXNlcilcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVzZXIgPSBhd2FpdCB1c2VyTW9kZWwuZmluZCh7IGVtYWlsOiB7ICRyZWdleDogbmFtZSB9IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnNlbmQodXNlcilcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAnTm8gbWF0Y2hpbmcgdXNlcicgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7K0NBSkEsb0o7Ozs7Ozs7Ozs7OztBQUtBLElBQUFBLGNBQUE7O0lBRWFDLGM7Ozs7Ozs7V0FDVDtJQUNBLGdCQUFPQyxPQUFQLEVBQWdCQyxRQUFoQixFQUEwQjtNQUN0QixJQUFNQyxJQUFJLEdBQUcsSUFBSUMsd0JBQUosRUFBYjtNQUVBRCxJQUFJLENBQUNFLEtBQUwsQ0FBV0osT0FBWDtRQUFBLHNFQUFvQixpQkFBT0ssS0FBUCxFQUFjQyxNQUFkLEVBQXNCQyxLQUF0QjtVQUFBO1VBQUE7WUFBQTtjQUFBO2dCQUFBO2tCQUFBLEtBQ1pGLEtBRFk7b0JBQUE7b0JBQUE7a0JBQUE7O2tCQUFBLGlDQUVMSixRQUFRLENBQUNPLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCO29CQUFFQyxHQUFHLEVBQUU7a0JBQVAsQ0FBMUIsQ0FGSzs7Z0JBQUE7a0JBS1JDLFFBTFEsR0FLbUNMLE1BTG5DLENBS1JLLFFBTFEsRUFLRUMsS0FMRixHQUttQ04sTUFMbkMsQ0FLRU0sS0FMRixFQUtTQyxRQUxULEdBS21DUCxNQUxuQyxDQUtTTyxRQUxULEVBS21CQyxHQUxuQixHQUttQ1IsTUFMbkMsQ0FLbUJRLEdBTG5CLEVBS3dCQyxNQUx4QixHQUttQ1QsTUFMbkMsQ0FLd0JTLE1BTHhCOztrQkFBQSxNQU1aRixRQUFRLENBQUNHLE1BQVQsR0FBa0IsRUFBbEIsSUFBd0JILFFBQVEsQ0FBQ0csTUFBVCxHQUFrQixDQU45QjtvQkFBQTtvQkFBQTtrQkFBQTs7a0JBQUEsaUNBT0xmLFFBQVEsQ0FBQ08sTUFBVCxDQUFnQixHQUFoQixFQUFxQkMsSUFBckIsQ0FBMEI7b0JBQUVDLEdBQUcsRUFBRTtrQkFBUCxDQUExQixDQVBLOztnQkFBQTtrQkFBQSxNQVVaSSxHQUFHLEdBQUcsR0FBTixJQUFhQSxHQUFHLEdBQUcsQ0FWUDtvQkFBQTtvQkFBQTtrQkFBQTs7a0JBQUEsaUNBV0xiLFFBQVEsQ0FBQ08sTUFBVCxDQUFnQixHQUFoQixFQUFxQkMsSUFBckIsQ0FBMEI7b0JBQUVDLEdBQUcsRUFBRTtrQkFBUCxDQUExQixDQVhLOztnQkFBQTtrQkFBQTtrQkFBQSxPQWFHLElBQUFPLGVBQUEsRUFBUSxFQUFSLENBYkg7O2dCQUFBO2tCQWFWQyxJQWJVO2tCQUFBO2tCQUFBLE9BY2EsSUFBQUMsWUFBQSxFQUFLTixRQUFMLEVBQWVLLElBQWYsQ0FkYjs7Z0JBQUE7a0JBY1ZFLGNBZFU7a0JBZVZDLFVBZlUsR0FlRyxJQUFJQyxlQUFKLENBQWM7b0JBQzdCWCxRQUFRLEVBQVJBLFFBRDZCO29CQUU3QkMsS0FBSyxFQUFMQSxLQUY2QjtvQkFHN0JDLFFBQVEsRUFBRU8sY0FIbUI7b0JBSTdCTixHQUFHLEVBQUhBLEdBSjZCO29CQUs3QkMsTUFBTSxFQUFOQTtrQkFMNkIsQ0FBZCxDQWZILEVBc0JoQjs7a0JBdEJnQjtrQkFBQTtrQkFBQSxPQXdCZU0sVUFBVSxDQUFDRSxJQUFYLEVBeEJmOztnQkFBQTtrQkF3Qk5DLFlBeEJNO2tCQUFBLGlDQXlCTHZCLFFBQVEsQ0FBQ08sTUFBVCxDQUFnQixHQUFoQixFQUFxQkMsSUFBckIsQ0FBMEI7b0JBQUVDLEdBQUcsRUFBRTtrQkFBUCxDQUExQixDQXpCSzs7Z0JBQUE7a0JBQUE7a0JBQUE7a0JBMkJaZSxPQUFPLENBQUNDLEdBQVI7a0JBM0JZLGlDQTRCTHpCLFFBQVEsQ0FBQ08sTUFBVCxDQUFnQixHQUFoQixFQUFxQkMsSUFBckIsQ0FBMEI7b0JBQUVDLEdBQUcsRUFBRTtrQkFBUCxDQUExQixDQTVCSzs7Z0JBQUE7Z0JBQUE7a0JBQUE7Y0FBQTtZQUFBO1VBQUE7UUFBQSxDQUFwQjs7UUFBQTtVQUFBO1FBQUE7TUFBQTtJQWdDSCxDLENBRUQ7Ozs7V0FDQSxnQkFBT1YsT0FBUCxFQUFnQkMsUUFBaEIsRUFBMEI7TUFDdEIsSUFBTUMsSUFBSSxHQUFHLElBQUlDLHdCQUFKLEVBQWI7TUFFQUQsSUFBSSxDQUFDRSxLQUFMLENBQVdKLE9BQVg7UUFBQSx1RUFBb0Isa0JBQU9LLEtBQVAsRUFBY0MsTUFBZCxFQUFzQkMsS0FBdEI7VUFBQTs7VUFBQTtZQUFBO2NBQUE7Z0JBQUE7a0JBQUEsS0FDWkYsS0FEWTtvQkFBQTtvQkFBQTtrQkFBQTs7a0JBQUEsa0NBRUxKLFFBQVEsQ0FBQ08sTUFBVCxDQUFnQixHQUFoQixFQUFxQkMsSUFBckIsQ0FBMEI7b0JBQUVDLEdBQUcsRUFBRTtrQkFBUCxDQUExQixDQUZLOztnQkFBQTtrQkFJUmlCLE9BSlEsR0FJY3JCLE1BSmQsQ0FJUnFCLE9BSlEsRUFJQ2QsUUFKRCxHQUljUCxNQUpkLENBSUNPLFFBSkQsRUFLaEI7O2tCQUNNZSxjQU5VLEdBTU9ELE9BQU8sQ0FBQ0UsUUFBUixDQUFpQixHQUFqQixDQU5QOztrQkFBQSxLQU9aRCxjQVBZO29CQUFBO29CQUFBO2tCQUFBOztrQkFBQTtrQkFBQSxPQVFPTixlQUFBLENBQVVRLE9BQVYsQ0FBa0I7b0JBQUVsQixLQUFLLEVBQUVlO2tCQUFULENBQWxCLENBUlA7O2dCQUFBO2tCQVFOSSxLQVJNOztrQkFBQSxJQVVQQSxLQVZPO29CQUFBO29CQUFBO2tCQUFBOztrQkFBQSxrQ0FXRDlCLFFBQVEsQ0FBQ08sTUFBVCxDQUFnQixHQUFoQixFQUFxQkMsSUFBckIsQ0FBMEI7b0JBQUVDLEdBQUcsRUFBRTtrQkFBUCxDQUExQixDQVhDOztnQkFBQTtrQkFBQTtrQkFBQSxPQWFrQixJQUFBc0IsZUFBQSxFQUFRbkIsUUFBUixFQUFrQmtCLEtBQUksQ0FBQ2xCLFFBQXZCLENBYmxCOztnQkFBQTtrQkFhTm9CLGdCQWJNOztrQkFBQSxJQWNQQSxnQkFkTztvQkFBQTtvQkFBQTtrQkFBQTs7a0JBQUEsa0NBZURoQyxRQUFRLENBQUNPLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCO29CQUFFQyxHQUFHLEVBQUU7a0JBQVAsQ0FBMUIsQ0FmQzs7Z0JBQUE7a0JBaUJOd0IsY0FqQk0sR0FpQlU7b0JBQ2xCQyxHQUFHLEVBQUVKLEtBQUksQ0FBQ0ksR0FEUTtvQkFFbEJ2QixLQUFLLEVBQUVtQixLQUFJLENBQUNuQixLQUZNO29CQUdsQkQsUUFBUSxFQUFFb0IsS0FBSSxDQUFDcEI7a0JBSEcsQ0FqQlY7a0JBc0JOeUIsTUF0Qk0sR0FzQkUsSUFBQUMsa0JBQUEsRUFBS0gsY0FBTCxFQUFvQkksT0FBTyxDQUFDQyxHQUFSLENBQVlDLGFBQWhDLEVBQStDO29CQUFFQyxTQUFTLEVBQUU7a0JBQWIsQ0FBL0MsQ0F0QkY7a0JBdUJOOUIsU0F2Qk0sR0F1Qkt1QixjQUFhLENBQUN2QixRQXZCbkI7a0JBQUEsa0NBd0JMVixRQUFRLENBQUNPLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCO29CQUFFMkIsS0FBSyxFQUFMQSxNQUFGO29CQUFTekIsUUFBUSxFQUFSQTtrQkFBVCxDQUExQixDQXhCSzs7Z0JBQUE7a0JBQUE7a0JBQUEsT0EyQkdXLGVBQUEsQ0FBVVEsT0FBVixDQUFrQjtvQkFBRW5CLFFBQVEsRUFBRWdCO2tCQUFaLENBQWxCLENBM0JIOztnQkFBQTtrQkEyQlZJLElBM0JVOztrQkFBQSxJQTZCWEEsSUE3Qlc7b0JBQUE7b0JBQUE7a0JBQUE7O2tCQUFBLGtDQThCTDlCLFFBQVEsQ0FBQ08sTUFBVCxDQUFnQixHQUFoQixFQUFxQkMsSUFBckIsQ0FBMEI7b0JBQUVDLEdBQUcsRUFBRTtrQkFBUCxDQUExQixDQTlCSzs7Z0JBQUE7a0JBQUE7a0JBQUEsT0FnQ2MsSUFBQXNCLGVBQUEsRUFBUW5CLFFBQVIsRUFBa0JrQixJQUFJLENBQUNsQixRQUF2QixDQWhDZDs7Z0JBQUE7a0JBZ0NWb0IsZUFoQ1U7O2tCQUFBLElBaUNYQSxlQWpDVztvQkFBQTtvQkFBQTtrQkFBQTs7a0JBQUEsa0NBa0NMaEMsUUFBUSxDQUFDTyxNQUFULENBQWdCLEdBQWhCLEVBQXFCQyxJQUFyQixDQUEwQjtvQkFBRUMsR0FBRyxFQUFFO2tCQUFQLENBQTFCLENBbENLOztnQkFBQTtrQkFvQ1Z3QixhQXBDVSxHQW9DTTtvQkFDbEJDLEdBQUcsRUFBRUosSUFBSSxDQUFDSSxHQURRO29CQUVsQnZCLEtBQUssRUFBRW1CLElBQUksQ0FBQ25CLEtBRk07b0JBR2xCRCxRQUFRLEVBQUVvQixJQUFJLENBQUNwQjtrQkFIRyxDQXBDTjtrQkF5Q1Z5QixLQXpDVSxHQXlDRixJQUFBQyxrQkFBQSxFQUFLSCxhQUFMLEVBQW9CSSxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsYUFBaEMsRUFBK0M7b0JBQUVDLFNBQVMsRUFBRTtrQkFBYixDQUEvQyxDQXpDRTtrQkEwQ1Y5QixRQTFDVSxHQTBDQ3VCLGFBQWEsQ0FBQ3ZCLFFBMUNmO2tCQUFBLGtDQTJDVFYsUUFBUSxDQUFDTyxNQUFULENBQWdCLEdBQWhCLEVBQXFCQyxJQUFyQixDQUEwQjtvQkFBRTJCLEtBQUssRUFBTEEsS0FBRjtvQkFBU3pCLFFBQVEsRUFBUkE7a0JBQVQsQ0FBMUIsQ0EzQ1M7O2dCQUFBO2dCQUFBO2tCQUFBO2NBQUE7WUFBQTtVQUFBO1FBQUEsQ0FBcEI7O1FBQUE7VUFBQTtRQUFBO01BQUE7SUE4Q0gsQyxDQUVEOzs7O1dBQ0Esd0JBQWVYLE9BQWYsRUFBd0JDLFFBQXhCLEVBQWtDO01BQzlCLElBQU1DLElBQUksR0FBRyxJQUFJQyx3QkFBSixFQUFiO01BRUFELElBQUksQ0FBQ0UsS0FBTCxDQUFXSixPQUFYO1FBQUEsdUVBQW9CLGtCQUFPSyxLQUFQLEVBQWNDLE1BQWQsRUFBc0JDLEtBQXRCO1VBQUE7VUFBQTtZQUFBO2NBQUE7Z0JBQUE7a0JBQUEsS0FDWkYsS0FEWTtvQkFBQTtvQkFBQTtrQkFBQTs7a0JBQUEsa0NBRUxKLFFBQVEsQ0FBQ08sTUFBVCxDQUFnQixHQUFoQixFQUFxQkMsSUFBckIsQ0FBMEI7b0JBQUVDLEdBQUcsRUFBRTtrQkFBUCxDQUExQixDQUZLOztnQkFBQTtrQkFJUkUsS0FKUSxHQUlZTixNQUpaLENBSVJNLEtBSlEsRUFJREMsUUFKQyxHQUlZUCxNQUpaLENBSURPLFFBSkM7O2tCQUFBLE1BTVosQ0FBQ0QsS0FBRCxJQUFVLENBQUNDLFFBTkM7b0JBQUE7b0JBQUE7a0JBQUE7O2tCQUFBLGtDQU9MWixRQUFRLENBQUNPLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCO29CQUFFQyxHQUFHLEVBQUU7a0JBQVAsQ0FBMUIsQ0FQSzs7Z0JBQUE7a0JBQUE7a0JBQUEsT0FTRyxJQUFBTyxlQUFBLEVBQVEsRUFBUixDQVRIOztnQkFBQTtrQkFTVkMsSUFUVTtrQkFBQTtrQkFBQSxPQVVhLElBQUFDLFlBQUEsRUFBS04sUUFBTCxFQUFlSyxJQUFmLENBVmI7O2dCQUFBO2tCQVVWRSxjQVZVO2tCQUFBO2tCQUFBO2tCQUFBLE9BYU9FLGVBQUEsQ0FBVVEsT0FBVixDQUFrQjtvQkFBRWxCLEtBQUssRUFBRUE7a0JBQVQsQ0FBbEIsQ0FiUDs7Z0JBQUE7a0JBYU5tQixJQWJNOztrQkFBQSxJQWNQQSxJQWRPO29CQUFBO29CQUFBO2tCQUFBOztrQkFBQSxrQ0FlRDlCLFFBQVEsQ0FBQ08sTUFBVCxDQUFnQixHQUFoQixFQUFxQkMsSUFBckIsQ0FBMEI7b0JBQUVDLEdBQUcsRUFBRTtrQkFBUCxDQUExQixDQWZDOztnQkFBQTtrQkFBQTtrQkFBQSxPQW1CaUJZLGVBQUEsQ0FBVW9CLGdCQUFWLENBQTJCO29CQUFFOUIsS0FBSyxFQUFFQTtrQkFBVCxDQUEzQixFQUE2QztvQkFBRStCLElBQUksRUFBRTtzQkFBRTlCLFFBQVEsRUFBRU87b0JBQVo7a0JBQVIsQ0FBN0MsRUFBcUY7b0JBQUUsT0FBSztrQkFBUCxDQUFyRixDQW5CakI7O2dCQUFBO2tCQW1CTndCLGNBbkJNO2tCQUFBLGtDQW9CTDNDLFFBQVEsQ0FBQ08sTUFBVCxDQUFnQixHQUFoQixFQUFxQkMsSUFBckIsQ0FBMEI7b0JBQUVDLEdBQUcsRUFBRTtrQkFBUCxDQUExQixDQXBCSzs7Z0JBQUE7a0JBQUE7a0JBQUE7a0JBQUEsa0NBc0JMVCxRQUFRLENBQUNPLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCO29CQUFFQyxHQUFHLEVBQUU7a0JBQVAsQ0FBMUIsQ0F0Qks7O2dCQUFBO2dCQUFBO2tCQUFBO2NBQUE7WUFBQTtVQUFBO1FBQUEsQ0FBcEI7O1FBQUE7VUFBQTtRQUFBO01BQUE7SUF5QkgsQyxDQUVEOzs7OzsrRUFDQSxrQkFBYVYsT0FBYixFQUFzQkMsUUFBdEI7UUFBQTtRQUFBO1VBQUE7WUFBQTtjQUFBO2dCQUNVQyxJQURWLEdBQ2lCLElBQUlDLHdCQUFKLEVBRGpCO2dCQUVJRCxJQUFJLENBQUNFLEtBQUwsQ0FBV0osT0FBWDtrQkFBQSx1RUFBb0Isa0JBQU9LLEtBQVAsRUFBY0MsTUFBZCxFQUFzQkMsS0FBdEI7b0JBQUE7b0JBQUE7c0JBQUE7d0JBQUE7MEJBQUE7NEJBQUEsS0FDWkYsS0FEWTs4QkFBQTs4QkFBQTs0QkFBQTs7NEJBQUEsa0NBRUxKLFFBQVEsQ0FBQ08sTUFBVCxDQUFnQixHQUFoQixFQUFxQkMsSUFBckIsQ0FBMEI7OEJBQUVDLEdBQUcsRUFBRTs0QkFBUCxDQUExQixDQUZLOzswQkFBQTs0QkFJUkUsS0FKUSxHQUl1Q04sTUFKdkMsQ0FJUk0sS0FKUSxFQUlERCxRQUpDLEdBSXVDTCxNQUp2QyxDQUlESyxRQUpDLEVBSVNHLEdBSlQsR0FJdUNSLE1BSnZDLENBSVNRLEdBSlQsRUFJY0MsTUFKZCxHQUl1Q1QsTUFKdkMsQ0FJY1MsTUFKZCxFQUlzQjhCLFlBSnRCLEdBSXVDdkMsTUFKdkMsQ0FJc0J1QyxZQUp0Qjs0QkFLVkMsV0FMVSxHQUtJbkMsUUFMSjs0QkFNVm9DLE1BTlUsR0FNRGpDLEdBTkM7NEJBT1ZrQyxTQVBVLEdBT0VqQyxNQVBGOzRCQUFBOzRCQUFBOzRCQUFBLE9BVU9PLGVBQUEsQ0FBVVEsT0FBVixDQUFrQjs4QkFBRWxCLEtBQUssRUFBRUE7NEJBQVQsQ0FBbEIsQ0FWUDs7MEJBQUE7NEJBVU5tQixJQVZNOzs0QkFBQSxJQVdQQSxJQVhPOzhCQUFBOzhCQUFBOzRCQUFBOzs0QkFBQSxrQ0FZRDlCLFFBQVEsQ0FBQ08sTUFBVCxDQUFnQixHQUFoQixFQUFxQkMsSUFBckIsQ0FBMEI7OEJBQUVDLEdBQUcsRUFBRTs0QkFBUCxDQUExQixDQVpDOzswQkFBQTs0QkFBQTs0QkFBQSxPQWNlWSxlQUFBLENBQVVvQixnQkFBVixDQUEyQjs4QkFBRTlCLEtBQUssRUFBRUE7NEJBQVQsQ0FBM0IsRUFBNkM7OEJBQUUrQixJQUFJLEVBQUU7Z0NBQUVoQyxRQUFRLEVBQUVtQyxXQUFaO2dDQUF5QmhDLEdBQUcsRUFBRWlDLE1BQTlCO2dDQUFzQ2hDLE1BQU0sRUFBRWlDOzhCQUE5Qzs0QkFBUixDQUE3QyxFQUFrSDs4QkFBRSxPQUFLOzRCQUFQLENBQWxILENBZGY7OzBCQUFBOzRCQWNSSixjQWRROzRCQUFBOzRCQUFBLE9BZXNCSyxpQkFBQSxDQUFXQyxVQUFYLENBQXNCOzhCQUFFdkMsUUFBUSxFQUFFa0M7NEJBQVosQ0FBdEIsRUFBa0Q7OEJBQUVGLElBQUksRUFBRTtnQ0FBRWhDLFFBQVEsRUFBRW1DOzhCQUFaOzRCQUFSLENBQWxELEVBQXVGOzhCQUFFLE9BQUs7NEJBQVAsQ0FBdkYsQ0FmdEI7OzBCQUFBOzRCQWVSSyxxQkFmUTs0QkFBQSxrQ0FnQkxsRCxRQUFRLENBQUNPLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCOzhCQUFFQyxHQUFHLEVBQUU7NEJBQVAsQ0FBMUIsQ0FoQks7OzBCQUFBOzRCQUFBOzRCQUFBOzRCQUFBLGtDQWtCTFQsUUFBUSxDQUFDTyxNQUFULENBQWdCLEdBQWhCLEVBQXFCQyxJQUFyQixDQUEwQjs4QkFBRUMsR0FBRyxFQUFFOzRCQUFQLENBQTFCLENBbEJLOzswQkFBQTswQkFBQTs0QkFBQTt3QkFBQTtzQkFBQTtvQkFBQTtrQkFBQSxDQUFwQjs7a0JBQUE7b0JBQUE7a0JBQUE7Z0JBQUE7O2NBRko7Y0FBQTtnQkFBQTtZQUFBO1VBQUE7UUFBQTtNQUFBLEM7Ozs7Ozs7UUF5QkE7Ozs7V0FDQSxpQkFBT1YsT0FBUCxFQUFnQkMsUUFBaEIsRUFBMEI7TUFDdEIsSUFBTUMsSUFBSSxHQUFHLElBQUlDLHdCQUFKLEVBQWI7TUFDQUQsSUFBSSxDQUFDRSxLQUFMLENBQVdKLE9BQVg7UUFBQSx1RUFBb0Isa0JBQU9LLEtBQVAsRUFBY0MsTUFBZCxFQUFzQkMsS0FBdEI7VUFBQTtVQUFBO1lBQUE7Y0FBQTtnQkFBQTtrQkFBQSxLQUNaRixLQURZO29CQUFBO29CQUFBO2tCQUFBOztrQkFBQSxrQ0FFTEosUUFBUSxDQUFDTyxNQUFULENBQWdCLEdBQWhCLEVBQXFCQyxJQUFyQixDQUEwQjtvQkFBRUMsR0FBRyxFQUFFO2tCQUFQLENBQTFCLENBRks7O2dCQUFBO2tCQUlSRSxLQUpRLEdBSUVOLE1BSkYsQ0FJUk0sS0FKUTtrQkFBQTtrQkFBQTtrQkFBQSxPQU1PVSxlQUFBLENBQVU4QixnQkFBVixDQUEyQjtvQkFBRXhDLEtBQUssRUFBRUE7a0JBQVQsQ0FBM0IsQ0FOUDs7Z0JBQUE7a0JBTU5tQixJQU5NO2tCQUFBLGtDQU9MOUIsUUFBUSxDQUFDTyxNQUFULENBQWdCLEdBQWhCLEVBQXFCQyxJQUFyQixDQUEwQjtvQkFBRUMsR0FBRyxFQUFFO2tCQUFQLENBQTFCLENBUEs7O2dCQUFBO2tCQUFBO2tCQUFBO2tCQUFBLGtDQVVMVCxRQUFRLENBQUNPLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCO29CQUFFQyxHQUFHLEVBQUU7a0JBQVAsQ0FBMUIsQ0FWSzs7Z0JBQUE7Z0JBQUE7a0JBQUE7Y0FBQTtZQUFBO1VBQUE7UUFBQSxDQUFwQjs7UUFBQTtVQUFBO1FBQUE7TUFBQTtJQWFILEMsQ0FFRDs7OztXQUNBLHFCQUFZVixPQUFaLEVBQXFCQyxRQUFyQixFQUErQjtNQUMzQixJQUFNQyxJQUFJLEdBQUcsSUFBSUMsd0JBQUosRUFBYjtNQUVBRCxJQUFJLENBQUNFLEtBQUwsQ0FBV0osT0FBWDtRQUFBLHVFQUFvQixrQkFBT0ssS0FBUCxFQUFjQyxNQUFkLEVBQXNCQyxLQUF0QjtVQUFBO1VBQUE7WUFBQTtjQUFBO2dCQUFBO2tCQUFBLEtBQ1pGLEtBRFk7b0JBQUE7b0JBQUE7a0JBQUE7O2tCQUFBLGtDQUVMSixRQUFRLENBQUNPLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCO29CQUFFQyxHQUFHLEVBQUU7a0JBQVAsQ0FBMUIsQ0FGSzs7Z0JBQUE7a0JBQUE7a0JBQUE7a0JBQUEsT0FLT1ksZUFBQSxDQUFVK0IsSUFBVixFQUxQOztnQkFBQTtrQkFLTnRCLElBTE07a0JBQUEsa0NBTUw5QixRQUFRLENBQUNxRCxJQUFULENBQWN2QixJQUFkLENBTks7O2dCQUFBO2tCQUFBO2tCQUFBO2tCQUFBLGtDQVFMOUIsUUFBUSxDQUFDTyxNQUFULENBQWdCLEdBQWhCLEVBQXFCQyxJQUFyQixDQUEwQjtvQkFBRUMsR0FBRyxFQUFFO2tCQUFQLENBQTFCLENBUks7O2dCQUFBO2dCQUFBO2tCQUFBO2NBQUE7WUFBQTtVQUFBO1FBQUEsQ0FBcEI7O1FBQUE7VUFBQTtRQUFBO01BQUE7SUFXSCxDLENBR0Q7Ozs7O21GQUNBLGtCQUFpQlYsT0FBakIsRUFBMEJDLFFBQTFCO1FBQUE7O1FBQUE7VUFBQTtZQUFBO2NBQUE7Z0JBQ1VzRCxJQURWLEdBQ2lCdkQsT0FBTyxDQUFDd0QsS0FBUixDQUFjN0MsUUFEL0I7Z0JBRVU4QyxPQUZWLEdBRW9CekQsT0FBTyxDQUFDd0QsS0FBUixDQUFjQyxPQUZsQzs7Z0JBQUEsTUFHUUEsT0FBTyxLQUFLLE9BSHBCO2tCQUFBO2tCQUFBO2dCQUFBOztnQkFBQTtnQkFBQTtnQkFBQSxPQUs2Qm5DLGVBQUEsQ0FBVStCLElBQVYsQ0FBZTtrQkFBRTFDLFFBQVEsRUFBRTRDO2dCQUFaLENBQWYsQ0FMN0I7O2NBQUE7Z0JBS2dCeEIsTUFMaEI7Z0JBQUEsa0NBTW1COUIsUUFBUSxDQUFDcUQsSUFBVCxDQUFjdkIsTUFBZCxDQU5uQjs7Y0FBQTtnQkFBQTtnQkFBQTtnQkFBQSxrQ0FRbUI5QixRQUFRLENBQUNPLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCO2tCQUFFQyxHQUFHLEVBQUU7Z0JBQVAsQ0FBMUIsQ0FSbkI7O2NBQUE7Z0JBQUE7Z0JBQUE7O2NBQUE7Z0JBQUE7Z0JBQUE7Z0JBQUEsT0FZNkJZLGVBQUEsQ0FBVStCLElBQVYsQ0FBZTtrQkFBRTFDLFFBQVEsRUFBRTtvQkFBRStDLE1BQU0sRUFBRUg7a0JBQVY7Z0JBQVosQ0FBZixDQVo3Qjs7Y0FBQTtnQkFZZ0J4QixJQVpoQjs7Z0JBQUEsTUFhZ0JBLElBQUksQ0FBQ2YsTUFBTCxHQUFjLENBYjlCO2tCQUFBO2tCQUFBO2dCQUFBOztnQkFBQSxrQ0FjdUJmLFFBQVEsQ0FBQ3FELElBQVQsQ0FBY3ZCLElBQWQsQ0FkdkI7O2NBQUE7Z0JBQUE7Z0JBQUEsT0FnQmlDVCxlQUFBLENBQVUrQixJQUFWLENBQWU7a0JBQUV6QyxLQUFLLEVBQUU7b0JBQUU4QyxNQUFNLEVBQUVIO2tCQUFWO2dCQUFULENBQWYsQ0FoQmpDOztjQUFBO2dCQWdCb0J4QixJQWhCcEI7Z0JBQUEsa0NBaUJ1QjlCLFFBQVEsQ0FBQ3FELElBQVQsQ0FBY3ZCLElBQWQsQ0FqQnZCOztjQUFBO2dCQUFBO2dCQUFBOztjQUFBO2dCQUFBO2dCQUFBO2dCQUFBLGtDQW9CbUI5QixRQUFRLENBQUNPLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCO2tCQUFFQyxHQUFHLEVBQUU7Z0JBQVAsQ0FBMUIsQ0FwQm5COztjQUFBO2NBQUE7Z0JBQUE7WUFBQTtVQUFBO1FBQUE7TUFBQSxDIn0=","map":{"version":3,"names":["config","AuthController","request","response","form","IncomingForm","parse","error","fields","files","status","json","msg","username","email","password","age","gender","length","genSalt","salt","hash","hashedPassword","newAccount","userModel","save","savedAccount","console","log","account","isAccountEmail","includes","findOne","user","compare","isPasswordValid","token_payload","_id","token","sign","process","env","cookie_secret","expiresIn","findOneAndUpdate","$set","updatedAccount","old_username","newUsername","newAge","newGender","videoModel","updateMany","updatedVideo_username","findOneAndDelete","find","send","name","query","isadmin","$regex"],"sourceRoot":"D:\\School\\IT Project\\IT-PROJECT\\backend3\\src\\Controller\\","sources":["Auth.controller.js"],"sourcesContent":["import { IncomingForm } from 'formidable';\r\nimport { genSalt, hash, compare } from 'bcrypt';\r\nimport { config } from 'dotenv';\r\nimport { verify, sign } from 'jsonwebtoken';\r\nimport { userModel } from '../Models/User.model'\r\nimport { videoModel } from '../Models/Video.model'\r\nconfig()\r\n\r\nexport class AuthController {\r\n    //signup method\r\n    signup(request, response) {\r\n        const form = new IncomingForm();\r\n\r\n        form.parse(request, async (error, fields, files) => {\r\n            if (error) {\r\n                return response.status(500).json({ msg: 'Failed to create account, maybe try again later' })\r\n            }\r\n\r\n            const { username, email, password, age, gender } = fields;\r\n            if (password.length > 20 || password.length < 6) {  // password minimum length = 6, maximum length = 20\r\n                return response.status(503).json({ msg: 'Password length need to be 6-20 range' })\r\n\r\n            }\r\n            if (age > 150 || age < 0) {\r\n                return response.status(502).json({ msg: 'Invalid age' })\r\n            }\r\n            const salt = await genSalt(15);\r\n            const hashedPassword = await hash(password, salt);\r\n            const newAccount = new userModel({\r\n                username,\r\n                email,\r\n                password: hashedPassword,\r\n                age,\r\n                gender\r\n            })\r\n            // create an account successful or failed\r\n            try {\r\n                const savedAccount = await newAccount.save();\r\n                return response.status(201).json({ msg: 'Account created successfully' })\r\n            } catch (error) {\r\n                console.log(error)\r\n                return response.status(501).json({ msg: 'This account has been registered. Change email or username' })\r\n            }\r\n\r\n        })\r\n    }\r\n\r\n    // sign in\r\n    signin(request, response) {\r\n        const form = new IncomingForm();\r\n\r\n        form.parse(request, async (error, fields, files) => {\r\n            if (error) {\r\n                return response.status(500).json({ msg: 'Failed to signin' })\r\n            }\r\n            const { account, password } = fields;\r\n            // email log in \r\n            const isAccountEmail = account.includes('@');\r\n            if (isAccountEmail) {\r\n                const user = await userModel.findOne({ email: account });\r\n\r\n                if (!user) {\r\n                    return response.status(404).json({ msg: 'Email of this account does not exist' })\r\n                }\r\n                const isPasswordValid = await compare(password, user.password);  // hashed password\r\n                if (!isPasswordValid) {\r\n                    return response.status(400).json({ msg: 'Invalid password' })\r\n                }\r\n                const token_payload = {\r\n                    _id: user._id,\r\n                    email: user.email,\r\n                    username: user.username\r\n                }\r\n                const token = sign(token_payload, process.env.cookie_secret, { expiresIn: '365d' })\r\n                const username = token_payload.username;\r\n                return response.status(200).json({ token, username })\r\n\r\n            }\r\n            const user = await userModel.findOne({ username: account });\r\n\r\n            if (!user) {\r\n                return response.status(404).json({ msg: 'username of this account does not exist' })\r\n            }\r\n            const isPasswordValid = await compare(password, user.password);  // hashed password\r\n            if (!isPasswordValid) {\r\n                return response.status(400).json({ msg: 'Invalid password' })\r\n            }\r\n            const token_payload = {\r\n                _id: user._id,\r\n                email: user.email,\r\n                username: user.username\r\n            }\r\n            const token = sign(token_payload, process.env.cookie_secret, { expiresIn: '365d' })\r\n            const username = token_payload.username;\r\n            return response.status(200).json({ token, username })\r\n\r\n        })\r\n    }\r\n\r\n    // forgot password and reset\r\n    forgotPassword(request, response) {\r\n        const form = new IncomingForm();\r\n\r\n        form.parse(request, async (error, fields, files) => {\r\n            if (error) {\r\n                return response.status(500).json({ msg: 'Failed to rset password' })\r\n            }\r\n            const { email, password } = fields;\r\n\r\n            if (!email || !password) {\r\n                return response.status(400).json({ msg: 'email and password are required to reset password ' })\r\n            }\r\n            const salt = await genSalt(15);\r\n            const hashedPassword = await hash(password, salt)\r\n\r\n            try {\r\n                const user = await userModel.findOne({ email: email });\r\n                if (!user) {\r\n                    return response.status(404).json({ msg: 'Account with this email does not exist' })\r\n                }\r\n                /* const updatedAccount = await userModel.findOneAndUpdate({email:email}, {$set:{password: hashedPassword}}, {new:true})\r\n                 return response.status(200).json({msg:'Password rest successful'}) */\r\n                const updatedAccount = await userModel.findOneAndUpdate({ email: email }, { $set: { password: hashedPassword } }, { new: true })\r\n                return response.status(200).json({ msg: 'Password rest successful' })\r\n            } catch (error) {\r\n                return response.status(500).json({ msg: 'Failed to reset password' })\r\n            }\r\n        })\r\n    }\r\n\r\n    // updat user info such as username, password, age and gender via email.\r\n    async update(request, response) {\r\n        const form = new IncomingForm();\r\n        form.parse(request, async (error, fields, files) => {\r\n            if (error) {\r\n                return response.status(500).json({ msg: 'Failed to update. Try again later' })\r\n            }\r\n            const { email, username, age, gender, old_username } = fields;\r\n            const newUsername = username\r\n            const newAge = age\r\n            const newGender = gender\r\n\r\n            try {\r\n                const user = await userModel.findOne({ email: email });\r\n                if (!user) {\r\n                    return response.status(404).json({ msg: 'Account with this email does not exist' })\r\n                }\r\n                let updatedAccount = await userModel.findOneAndUpdate({ email: email }, { $set: { username: newUsername, age: newAge, gender: newGender } }, { new: true })\r\n                let updatedVideo_username = await videoModel.updateMany({ username: old_username }, { $set: { username: newUsername } }, { new: true })\r\n                return response.status(200).json({ msg: 'Edit successful' })\r\n            } catch (error) {\r\n                return response.status(500).json({ msg: 'Failed to update. Change email or username and try again' })\r\n            }\r\n        })\r\n    }\r\n\r\n    //delete user account\r\n    delete(request, response) {\r\n        const form = new IncomingForm();\r\n        form.parse(request, async (error, fields, files) => {\r\n            if (error) {\r\n                return response.status(500).json({ msg: 'Failed to delete account, maybe try again later' })\r\n            }\r\n            const { email } = fields;\r\n            try {\r\n                const user = await userModel.findOneAndDelete({ email: email });\r\n                return response.status(200).json({ msg: 'delete successful' })\r\n\r\n            } catch (error) {\r\n                return response.status(500).json({ msg: 'Failed to delete' })\r\n            }\r\n        })\r\n    }\r\n\r\n    // find all user\r\n    findAllUser(request, response) {\r\n        const form = new IncomingForm();\r\n\r\n        form.parse(request, async (error, fields, files) => {\r\n            if (error) {\r\n                return response.status(500).json({ msg: 'Failed to delete account, maybe try again later' })\r\n            }\r\n            try {\r\n                const user = await userModel.find()\r\n                return response.send(user)\r\n            } catch (error) {\r\n                return response.status(500).json({ msg: 'Failed find all users' })\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    // search for a user by request \r\n    async searchUser(request, response) {\r\n        const name = request.query.username;\r\n        const isadmin = request.query.isadmin\r\n        if (isadmin === 'false') {\r\n            try {\r\n                let user = await userModel.find({ username: name })\r\n                return response.send(user)\r\n            } catch (error) {\r\n                return response.status(500).json({ msg: 'No matching user' })\r\n            }\r\n        } else {\r\n            try {\r\n                var user = await userModel.find({ username: { $regex: name } })\r\n                if (user.length > 0) {\r\n                    return response.send(user)\r\n                } else {\r\n                    var user = await userModel.find({ email: { $regex: name } })\r\n                    return response.send(user)\r\n                }\r\n            } catch (error) {\r\n                return response.status(500).json({ msg: 'No matching user' })\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n}"],"mappings":"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"}},"mtime":1666503498653},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"filename\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Models\\\\User.model.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.userModel = void 0;\n\nvar _mongoose = require(\"mongoose\");\n\nvar uservalidator = function uservalidator(s) {\n  return /^[a-zA-Z0-9]{1,20}$/.test(s);\n};\n\nvar emailvalidator = function emailvalidator(s) {\n  return /^[a-z0-9@.-_]{6,40}$/.test(s);\n};\n\nvar agevalidator = function agevalidator(s) {\n  return /^[0-9]{1,3}$/.test(s);\n};\n\nvar userSchema = new _mongoose.Schema({\n  username: {\n    // username should be unique and no longer than 20 characters\n    type: String,\n    reuqired: [true, 'Username is required'],\n    unique: [true, 'Usename exist'],\n    validate: [uservalidator, 'Please enter less than 20 numbers and alphabets only']\n  },\n  email: {\n    // email should be be unique\n    type: String,\n    required: [true, 'Email is required to create an account'],\n    unique: [true, 'Account with this email already exist'],\n    validate: [emailvalidator, 'Please enter numbers, alphabets, and @ . - _ only']\n  },\n  password: {\n    type: String,\n    requried: [true, 'Password is required to create account']\n  },\n  age: {\n    // age should be within 0 - 120 range\n    type: Number,\n    requried: [true, 'Age is required to create an account'],\n    validate: [agevalidator, 'Please enter a number between 0-120']\n  },\n  gender: {\n    type: String,\n    \"enum\": [\"Male\", \"Female\", \"Prefer not to say\"],\n    required: true\n  },\n  videos: [{\n    type: _mongoose.Schema.Types.ObjectId,\n    ref: 'videos'\n  }]\n});\nvar userModel = (0, _mongoose.model)('user', userSchema);\nexports.userModel = userModel;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VydmFsaWRhdG9yIiwicyIsInRlc3QiLCJlbWFpbHZhbGlkYXRvciIsImFnZXZhbGlkYXRvciIsInVzZXJTY2hlbWEiLCJTY2hlbWEiLCJ1c2VybmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXVxaXJlZCIsInVuaXF1ZSIsInZhbGlkYXRlIiwiZW1haWwiLCJyZXF1aXJlZCIsInBhc3N3b3JkIiwicmVxdXJpZWQiLCJhZ2UiLCJOdW1iZXIiLCJnZW5kZXIiLCJ2aWRlb3MiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwidXNlck1vZGVsIiwibW9kZWwiXSwic291cmNlUm9vdCI6IkQ6XFxTY2hvb2xcXElUIFByb2plY3RcXElULVBST0pFQ1RcXGJhY2tlbmQzXFxzcmNcXE1vZGVsc1xcIiwic291cmNlcyI6WyJVc2VyLm1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydHsgU2NoZW1hLCBtb2RlbH0gZnJvbSAnbW9uZ29vc2UnO1xyXG5jb25zdCB1c2VydmFsaWRhdG9yID0gKHMpID0+XHJcbiAgICAvXlthLXpBLVowLTldezEsMjB9JC8udGVzdChzKVxyXG5cclxuY29uc3QgZW1haWx2YWxpZGF0b3IgPSAocykgPT5cclxuICAgIC9eW2EtejAtOUAuLV9dezYsNDB9JC8udGVzdChzKVxyXG5cclxuY29uc3QgYWdldmFsaWRhdG9yID0gKHMpID0+XHJcbiAgICAvXlswLTldezEsM30kLy50ZXN0KHMpXHJcblxyXG5jb25zdCB1c2VyU2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgICB1c2VybmFtZTp7IC8vIHVzZXJuYW1lIHNob3VsZCBiZSB1bmlxdWUgYW5kIG5vIGxvbmdlciB0aGFuIDIwIGNoYXJhY3RlcnNcclxuICAgICAgICB0eXBlOlN0cmluZyxcclxuICAgICAgICByZXVxaXJlZDogW3RydWUsICdVc2VybmFtZSBpcyByZXF1aXJlZCddLFxyXG4gICAgICAgIHVuaXF1ZTpbdHJ1ZSwgJ1VzZW5hbWUgZXhpc3QnXSxcclxuICAgICAgICB2YWxpZGF0ZTogW3VzZXJ2YWxpZGF0b3IsICdQbGVhc2UgZW50ZXIgbGVzcyB0aGFuIDIwIG51bWJlcnMgYW5kIGFscGhhYmV0cyBvbmx5J11cclxuICAgIH0sXHJcbiAgICBlbWFpbDp7IC8vIGVtYWlsIHNob3VsZCBiZSBiZSB1bmlxdWVcclxuICAgICAgICB0eXBlOlN0cmluZyxcclxuICAgICAgICByZXF1aXJlZDogW3RydWUsICdFbWFpbCBpcyByZXF1aXJlZCB0byBjcmVhdGUgYW4gYWNjb3VudCddLFxyXG4gICAgICAgIHVuaXF1ZTpbdHJ1ZSwgJ0FjY291bnQgd2l0aCB0aGlzIGVtYWlsIGFscmVhZHkgZXhpc3QnXSxcclxuICAgICAgICB2YWxpZGF0ZTogW2VtYWlsdmFsaWRhdG9yLCAnUGxlYXNlIGVudGVyIG51bWJlcnMsIGFscGhhYmV0cywgYW5kIEAgLiAtIF8gb25seSddXHJcbiAgICB9LFxyXG4gICAgcGFzc3dvcmQ6e1xyXG4gICAgICAgIHR5cGU6U3RyaW5nLFxyXG4gICAgICAgIHJlcXVyaWVkOlt0cnVlLCAnUGFzc3dvcmQgaXMgcmVxdWlyZWQgdG8gY3JlYXRlIGFjY291bnQnXSxcclxuXHJcbiAgICB9LFxyXG4gICAgYWdlOnsgLy8gYWdlIHNob3VsZCBiZSB3aXRoaW4gMCAtIDEyMCByYW5nZVxyXG4gICAgICAgIHR5cGU6TnVtYmVyLFxyXG4gICAgICAgIHJlcXVyaWVkOlt0cnVlLCAnQWdlIGlzIHJlcXVpcmVkIHRvIGNyZWF0ZSBhbiBhY2NvdW50J10sXHJcbiAgICAgICAgdmFsaWRhdGU6IFthZ2V2YWxpZGF0b3IsICdQbGVhc2UgZW50ZXIgYSBudW1iZXIgYmV0d2VlbiAwLTEyMCddXHJcblxyXG4gICAgfSxcclxuICAgIGdlbmRlcjp7XHJcbiAgICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICAgIGVudW06IFtcIk1hbGVcIiwgXCJGZW1hbGVcIiwgXCJQcmVmZXIgbm90IHRvIHNheVwiXSxcclxuICAgICAgICByZXF1aXJlZDogdHJ1ZVxyXG4gICAgfSxcclxuICAgIHZpZGVvczpbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0eXBlOlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcclxuICAgICAgICAgICAgcmVmOid2aWRlb3MnXHJcbiAgICAgICAgfVxyXG4gICAgXSxcclxuXHJcblxyXG5cclxuICAgICBcclxufSlcclxuZXhwb3J0IGNvbnN0IHVzZXJNb2RlbCA9IG1vZGVsKCd1c2VyJywgdXNlclNjaGVtYSlcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0EsSUFBTUEsYUFBYSxHQUFHLFNBQWhCQSxhQUFnQixDQUFDQyxDQUFEO0VBQUEsT0FDbEIsc0JBQXNCQyxJQUF0QixDQUEyQkQsQ0FBM0IsQ0FEa0I7QUFBQSxDQUF0Qjs7QUFHQSxJQUFNRSxjQUFjLEdBQUcsU0FBakJBLGNBQWlCLENBQUNGLENBQUQ7RUFBQSxPQUNuQix1QkFBdUJDLElBQXZCLENBQTRCRCxDQUE1QixDQURtQjtBQUFBLENBQXZCOztBQUdBLElBQU1HLFlBQVksR0FBRyxTQUFmQSxZQUFlLENBQUNILENBQUQ7RUFBQSxPQUNqQixlQUFlQyxJQUFmLENBQW9CRCxDQUFwQixDQURpQjtBQUFBLENBQXJCOztBQUdBLElBQU1JLFVBQVUsR0FBRyxJQUFJQyxnQkFBSixDQUFXO0VBQzFCQyxRQUFRLEVBQUM7SUFBRTtJQUNQQyxJQUFJLEVBQUNDLE1BREE7SUFFTEMsUUFBUSxFQUFFLENBQUMsSUFBRCxFQUFPLHNCQUFQLENBRkw7SUFHTEMsTUFBTSxFQUFDLENBQUMsSUFBRCxFQUFPLGVBQVAsQ0FIRjtJQUlMQyxRQUFRLEVBQUUsQ0FBQ1osYUFBRCxFQUFnQixzREFBaEI7RUFKTCxDQURpQjtFQU8xQmEsS0FBSyxFQUFDO0lBQUU7SUFDSkwsSUFBSSxFQUFDQyxNQURIO0lBRUZLLFFBQVEsRUFBRSxDQUFDLElBQUQsRUFBTyx3Q0FBUCxDQUZSO0lBR0ZILE1BQU0sRUFBQyxDQUFDLElBQUQsRUFBTyx1Q0FBUCxDQUhMO0lBSUZDLFFBQVEsRUFBRSxDQUFDVCxjQUFELEVBQWlCLG1EQUFqQjtFQUpSLENBUG9CO0VBYTFCWSxRQUFRLEVBQUM7SUFDTFAsSUFBSSxFQUFDQyxNQURBO0lBRUxPLFFBQVEsRUFBQyxDQUFDLElBQUQsRUFBTyx3Q0FBUDtFQUZKLENBYmlCO0VBa0IxQkMsR0FBRyxFQUFDO0lBQUU7SUFDRlQsSUFBSSxFQUFDVSxNQURMO0lBRUFGLFFBQVEsRUFBQyxDQUFDLElBQUQsRUFBTyxzQ0FBUCxDQUZUO0lBR0FKLFFBQVEsRUFBRSxDQUFDUixZQUFELEVBQWUscUNBQWY7RUFIVixDQWxCc0I7RUF3QjFCZSxNQUFNLEVBQUM7SUFDSFgsSUFBSSxFQUFFQyxNQURIO0lBRUgsUUFBTSxDQUFDLE1BQUQsRUFBUyxRQUFULEVBQW1CLG1CQUFuQixDQUZIO0lBR0hLLFFBQVEsRUFBRTtFQUhQLENBeEJtQjtFQTZCMUJNLE1BQU0sRUFBQyxDQUNIO0lBQ0laLElBQUksRUFBQ0YsZ0JBQUEsQ0FBT2UsS0FBUCxDQUFhQyxRQUR0QjtJQUVJQyxHQUFHLEVBQUM7RUFGUixDQURHO0FBN0JtQixDQUFYLENBQW5CO0FBd0NPLElBQU1DLFNBQVMsR0FBRyxJQUFBQyxlQUFBLEVBQU0sTUFBTixFQUFjcEIsVUFBZCxDQUFsQiJ9","map":{"version":3,"names":["uservalidator","s","test","emailvalidator","agevalidator","userSchema","Schema","username","type","String","reuqired","unique","validate","email","required","password","requried","age","Number","gender","videos","Types","ObjectId","ref","userModel","model"],"sourceRoot":"D:\\School\\IT Project\\IT-PROJECT\\backend3\\src\\Models\\","sources":["User.model.js"],"sourcesContent":["import{ Schema, model} from 'mongoose';\r\nconst uservalidator = (s) =>\r\n    /^[a-zA-Z0-9]{1,20}$/.test(s)\r\n\r\nconst emailvalidator = (s) =>\r\n    /^[a-z0-9@.-_]{6,40}$/.test(s)\r\n\r\nconst agevalidator = (s) =>\r\n    /^[0-9]{1,3}$/.test(s)\r\n\r\nconst userSchema = new Schema({\r\n    username:{ // username should be unique and no longer than 20 characters\r\n        type:String,\r\n        reuqired: [true, 'Username is required'],\r\n        unique:[true, 'Usename exist'],\r\n        validate: [uservalidator, 'Please enter less than 20 numbers and alphabets only']\r\n    },\r\n    email:{ // email should be be unique\r\n        type:String,\r\n        required: [true, 'Email is required to create an account'],\r\n        unique:[true, 'Account with this email already exist'],\r\n        validate: [emailvalidator, 'Please enter numbers, alphabets, and @ . - _ only']\r\n    },\r\n    password:{\r\n        type:String,\r\n        requried:[true, 'Password is required to create account'],\r\n\r\n    },\r\n    age:{ // age should be within 0 - 120 range\r\n        type:Number,\r\n        requried:[true, 'Age is required to create an account'],\r\n        validate: [agevalidator, 'Please enter a number between 0-120']\r\n\r\n    },\r\n    gender:{\r\n        type: String,\r\n        enum: [\"Male\", \"Female\", \"Prefer not to say\"],\r\n        required: true\r\n    },\r\n    videos:[\r\n        {\r\n            type:Schema.Types.ObjectId,\r\n            ref:'videos'\r\n        }\r\n    ],\r\n\r\n\r\n\r\n     \r\n})\r\nexport const userModel = model('user', userSchema)\r\n"],"mappings":";;;;;;;AAAA;;AACA,IAAMA,aAAa,GAAG,SAAhBA,aAAgB,CAACC,CAAD;EAAA,OAClB,sBAAsBC,IAAtB,CAA2BD,CAA3B,CADkB;AAAA,CAAtB;;AAGA,IAAME,cAAc,GAAG,SAAjBA,cAAiB,CAACF,CAAD;EAAA,OACnB,uBAAuBC,IAAvB,CAA4BD,CAA5B,CADmB;AAAA,CAAvB;;AAGA,IAAMG,YAAY,GAAG,SAAfA,YAAe,CAACH,CAAD;EAAA,OACjB,eAAeC,IAAf,CAAoBD,CAApB,CADiB;AAAA,CAArB;;AAGA,IAAMI,UAAU,GAAG,IAAIC,gBAAJ,CAAW;EAC1BC,QAAQ,EAAC;IAAE;IACPC,IAAI,EAACC,MADA;IAELC,QAAQ,EAAE,CAAC,IAAD,EAAO,sBAAP,CAFL;IAGLC,MAAM,EAAC,CAAC,IAAD,EAAO,eAAP,CAHF;IAILC,QAAQ,EAAE,CAACZ,aAAD,EAAgB,sDAAhB;EAJL,CADiB;EAO1Ba,KAAK,EAAC;IAAE;IACJL,IAAI,EAACC,MADH;IAEFK,QAAQ,EAAE,CAAC,IAAD,EAAO,wCAAP,CAFR;IAGFH,MAAM,EAAC,CAAC,IAAD,EAAO,uCAAP,CAHL;IAIFC,QAAQ,EAAE,CAACT,cAAD,EAAiB,mDAAjB;EAJR,CAPoB;EAa1BY,QAAQ,EAAC;IACLP,IAAI,EAACC,MADA;IAELO,QAAQ,EAAC,CAAC,IAAD,EAAO,wCAAP;EAFJ,CAbiB;EAkB1BC,GAAG,EAAC;IAAE;IACFT,IAAI,EAACU,MADL;IAEAF,QAAQ,EAAC,CAAC,IAAD,EAAO,sCAAP,CAFT;IAGAJ,QAAQ,EAAE,CAACR,YAAD,EAAe,qCAAf;EAHV,CAlBsB;EAwB1Be,MAAM,EAAC;IACHX,IAAI,EAAEC,MADH;IAEH,QAAM,CAAC,MAAD,EAAS,QAAT,EAAmB,mBAAnB,CAFH;IAGHK,QAAQ,EAAE;EAHP,CAxBmB;EA6B1BM,MAAM,EAAC,CACH;IACIZ,IAAI,EAACF,gBAAA,CAAOe,KAAP,CAAaC,QADtB;IAEIC,GAAG,EAAC;EAFR,CADG;AA7BmB,CAAX,CAAnB;AAwCO,IAAMC,SAAS,GAAG,IAAAC,eAAA,EAAM,MAAN,EAAcpB,UAAd,CAAlB"}},"mtime":1664931413585},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"filename\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Routes\\\\Video.routes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _express = require(\"express\");\n\nvar _Authenticate = require(\"../Middlewares/Authenticate.middleware\");\n\nvar _Video = require(\"../Middlewares/Video.middleware\");\n\nvar _bodyParser = require(\"body-parser\");\n\nvar _Video2 = require(\"../Controller/Video.controller\");\n\nvar router = (0, _express.Router)();\nvar Controller = new _Video2.VideoController(); //after upload work, next step is save to mongo db\n\nrouter.post('/api/video', (0, _bodyParser.json)(), _Authenticate.Authenticate, _Video.videoUpload.single('video'), function (request, response) {\n  Controller.upload(request, response);\n}); // video stream\n\nrouter.get('/api/video/:filename', function (request, response) {\n  Controller.stream(request, response);\n}); // like a video\n\nrouter.get('/api/video-like/', function (request, response) {\n  Controller.like(request, response);\n}); // dislike a video\n\nrouter.get('/api/video-dislike/', function (request, response) {\n  Controller.dislike(request, response);\n}); // search for a video\n\nrouter.get('/api/video-search/', function (request, response) {\n  Controller.searchVideo(request, response);\n}); // delete a video\n\nrouter[\"delete\"]('/api/video/', function (request, response) {\n  Controller[\"delete\"](request, response);\n}); // search for video under certain user\n\nrouter.get('/api/user-video-search/', function (request, response) {\n  Controller.searchUVideo(request, response);\n}); // search for video under certain category\n\nrouter.get('/api/cat-search/', function (request, response) {\n  Controller.searchCat(request, response);\n}); //find all videos and return \n\nrouter.get('/api/findallV', function (request, response) {\n  Controller.findAllVideo(request, response);\n});\nrouter[\"delete\"]('/api/user-video-delete/', function (request, response) {\n  Controller.delete_user_all_videos(request, response);\n});\nvar _default = router;\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJSb3V0ZXIiLCJDb250cm9sbGVyIiwiVmlkZW9Db250cm9sbGVyIiwicG9zdCIsImpzb24iLCJBdXRoZW50aWNhdGUiLCJ2aWRlb1VwbG9hZCIsInNpbmdsZSIsInJlcXVlc3QiLCJyZXNwb25zZSIsInVwbG9hZCIsImdldCIsInN0cmVhbSIsImxpa2UiLCJkaXNsaWtlIiwic2VhcmNoVmlkZW8iLCJzZWFyY2hVVmlkZW8iLCJzZWFyY2hDYXQiLCJmaW5kQWxsVmlkZW8iLCJkZWxldGVfdXNlcl9hbGxfdmlkZW9zIl0sInNvdXJjZVJvb3QiOiJEOlxcU2Nob29sXFxJVCBQcm9qZWN0XFxJVC1QUk9KRUNUXFxiYWNrZW5kM1xcc3JjXFxSb3V0ZXNcXCIsInNvdXJjZXMiOlsiVmlkZW8ucm91dGVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHJlc3BvbnNlLCBSb3V0ZXIgfSBmcm9tICdleHByZXNzJztcclxuaW1wb3J0IHsgQXV0aGVudGljYXRlIH0gZnJvbSAnLi4vTWlkZGxld2FyZXMvQXV0aGVudGljYXRlLm1pZGRsZXdhcmUnO1xyXG5pbXBvcnQgeyB2aWRlb1VwbG9hZCB9IGZyb20gJy4uL01pZGRsZXdhcmVzL1ZpZGVvLm1pZGRsZXdhcmUnO1xyXG5pbXBvcnQgeyBqc29uIH0gZnJvbSAnYm9keS1wYXJzZXInXHJcbmltcG9ydCB7IFZpZGVvQ29udHJvbGxlciB9IGZyb20gJy4uL0NvbnRyb2xsZXIvVmlkZW8uY29udHJvbGxlcidcclxuXHJcbmNvbnN0IHJvdXRlciA9IFJvdXRlcigpO1xyXG5jb25zdCBDb250cm9sbGVyID0gbmV3IFZpZGVvQ29udHJvbGxlcigpO1xyXG4vL2FmdGVyIHVwbG9hZCB3b3JrLCBuZXh0IHN0ZXAgaXMgc2F2ZSB0byBtb25nbyBkYlxyXG5yb3V0ZXIucG9zdCgnL2FwaS92aWRlbycsIGpzb24oKSwgQXV0aGVudGljYXRlLCB2aWRlb1VwbG9hZC5zaW5nbGUoJ3ZpZGVvJyksIChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xyXG4gICAgQ29udHJvbGxlci51cGxvYWQocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG4vLyB2aWRlbyBzdHJlYW1cclxucm91dGVyLmdldCgnL2FwaS92aWRlby86ZmlsZW5hbWUnLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgIENvbnRyb2xsZXIuc3RyZWFtKHJlcXVlc3QsIHJlc3BvbnNlKVxyXG59KVxyXG5cclxuLy8gbGlrZSBhIHZpZGVvXHJcbnJvdXRlci5nZXQoJy9hcGkvdmlkZW8tbGlrZS8nLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgIENvbnRyb2xsZXIubGlrZShyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcblxyXG4vLyBkaXNsaWtlIGEgdmlkZW9cclxucm91dGVyLmdldCgnL2FwaS92aWRlby1kaXNsaWtlLycsIChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xyXG4gICAgQ29udHJvbGxlci5kaXNsaWtlKHJlcXVlc3QsIHJlc3BvbnNlKVxyXG59KVxyXG5cclxuLy8gc2VhcmNoIGZvciBhIHZpZGVvXHJcbnJvdXRlci5nZXQoJy9hcGkvdmlkZW8tc2VhcmNoLycsIChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xyXG4gICAgQ29udHJvbGxlci5zZWFyY2hWaWRlbyhyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcbi8vIGRlbGV0ZSBhIHZpZGVvXHJcbnJvdXRlci5kZWxldGUoJy9hcGkvdmlkZW8vJywgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XHJcbiAgICBDb250cm9sbGVyLmRlbGV0ZShyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcbi8vIHNlYXJjaCBmb3IgdmlkZW8gdW5kZXIgY2VydGFpbiB1c2VyXHJcbnJvdXRlci5nZXQoJy9hcGkvdXNlci12aWRlby1zZWFyY2gvJywgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XHJcbiAgICBDb250cm9sbGVyLnNlYXJjaFVWaWRlbyhyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcbi8vIHNlYXJjaCBmb3IgdmlkZW8gdW5kZXIgY2VydGFpbiBjYXRlZ29yeVxyXG5yb3V0ZXIuZ2V0KCcvYXBpL2NhdC1zZWFyY2gvJywgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XHJcbiAgICBDb250cm9sbGVyLnNlYXJjaENhdChyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcbi8vZmluZCBhbGwgdmlkZW9zIGFuZCByZXR1cm4gXHJcbnJvdXRlci5nZXQoJy9hcGkvZmluZGFsbFYnLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgIENvbnRyb2xsZXIuZmluZEFsbFZpZGVvKHJlcXVlc3QsIHJlc3BvbnNlKVxyXG59KVxyXG5cclxucm91dGVyLmRlbGV0ZSgnL2FwaS91c2VyLXZpZGVvLWRlbGV0ZS8nLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgIENvbnRyb2xsZXIuZGVsZXRlX3VzZXJfYWxsX3ZpZGVvcyhyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFQSxJQUFNQSxNQUFNLEdBQUcsSUFBQUMsZUFBQSxHQUFmO0FBQ0EsSUFBTUMsVUFBVSxHQUFHLElBQUlDLHVCQUFKLEVBQW5CLEMsQ0FDQTs7QUFDQUgsTUFBTSxDQUFDSSxJQUFQLENBQVksWUFBWixFQUEwQixJQUFBQyxnQkFBQSxHQUExQixFQUFrQ0MsMEJBQWxDLEVBQWdEQyxrQkFBQSxDQUFZQyxNQUFaLENBQW1CLE9BQW5CLENBQWhELEVBQTZFLFVBQUNDLE9BQUQsRUFBVUMsUUFBVixFQUF1QjtFQUNoR1IsVUFBVSxDQUFDUyxNQUFYLENBQWtCRixPQUFsQixFQUEyQkMsUUFBM0I7QUFDSCxDQUZELEUsQ0FJQTs7QUFDQVYsTUFBTSxDQUFDWSxHQUFQLENBQVcsc0JBQVgsRUFBbUMsVUFBQ0gsT0FBRCxFQUFVQyxRQUFWLEVBQXVCO0VBQ3REUixVQUFVLENBQUNXLE1BQVgsQ0FBa0JKLE9BQWxCLEVBQTJCQyxRQUEzQjtBQUNILENBRkQsRSxDQUlBOztBQUNBVixNQUFNLENBQUNZLEdBQVAsQ0FBVyxrQkFBWCxFQUErQixVQUFDSCxPQUFELEVBQVVDLFFBQVYsRUFBdUI7RUFDbERSLFVBQVUsQ0FBQ1ksSUFBWCxDQUFnQkwsT0FBaEIsRUFBeUJDLFFBQXpCO0FBQ0gsQ0FGRCxFLENBS0E7O0FBQ0FWLE1BQU0sQ0FBQ1ksR0FBUCxDQUFXLHFCQUFYLEVBQWtDLFVBQUNILE9BQUQsRUFBVUMsUUFBVixFQUF1QjtFQUNyRFIsVUFBVSxDQUFDYSxPQUFYLENBQW1CTixPQUFuQixFQUE0QkMsUUFBNUI7QUFDSCxDQUZELEUsQ0FJQTs7QUFDQVYsTUFBTSxDQUFDWSxHQUFQLENBQVcsb0JBQVgsRUFBaUMsVUFBQ0gsT0FBRCxFQUFVQyxRQUFWLEVBQXVCO0VBQ3BEUixVQUFVLENBQUNjLFdBQVgsQ0FBdUJQLE9BQXZCLEVBQWdDQyxRQUFoQztBQUNILENBRkQsRSxDQUlBOztBQUNBVixNQUFNLFVBQU4sQ0FBYyxhQUFkLEVBQTZCLFVBQUNTLE9BQUQsRUFBVUMsUUFBVixFQUF1QjtFQUNoRFIsVUFBVSxVQUFWLENBQWtCTyxPQUFsQixFQUEyQkMsUUFBM0I7QUFDSCxDQUZELEUsQ0FJQTs7QUFDQVYsTUFBTSxDQUFDWSxHQUFQLENBQVcseUJBQVgsRUFBc0MsVUFBQ0gsT0FBRCxFQUFVQyxRQUFWLEVBQXVCO0VBQ3pEUixVQUFVLENBQUNlLFlBQVgsQ0FBd0JSLE9BQXhCLEVBQWlDQyxRQUFqQztBQUNILENBRkQsRSxDQUlBOztBQUNBVixNQUFNLENBQUNZLEdBQVAsQ0FBVyxrQkFBWCxFQUErQixVQUFDSCxPQUFELEVBQVVDLFFBQVYsRUFBdUI7RUFDbERSLFVBQVUsQ0FBQ2dCLFNBQVgsQ0FBcUJULE9BQXJCLEVBQThCQyxRQUE5QjtBQUNILENBRkQsRSxDQUlBOztBQUNBVixNQUFNLENBQUNZLEdBQVAsQ0FBVyxlQUFYLEVBQTRCLFVBQUNILE9BQUQsRUFBVUMsUUFBVixFQUF1QjtFQUMvQ1IsVUFBVSxDQUFDaUIsWUFBWCxDQUF3QlYsT0FBeEIsRUFBaUNDLFFBQWpDO0FBQ0gsQ0FGRDtBQUlBVixNQUFNLFVBQU4sQ0FBYyx5QkFBZCxFQUF5QyxVQUFDUyxPQUFELEVBQVVDLFFBQVYsRUFBdUI7RUFDNURSLFVBQVUsQ0FBQ2tCLHNCQUFYLENBQWtDWCxPQUFsQyxFQUEyQ0MsUUFBM0M7QUFDSCxDQUZEO2VBSWVWLE0ifQ==","map":{"version":3,"names":["router","Router","Controller","VideoController","post","json","Authenticate","videoUpload","single","request","response","upload","get","stream","like","dislike","searchVideo","searchUVideo","searchCat","findAllVideo","delete_user_all_videos"],"sourceRoot":"D:\\School\\IT Project\\IT-PROJECT\\backend3\\src\\Routes\\","sources":["Video.routes.js"],"sourcesContent":["import { response, Router } from 'express';\r\nimport { Authenticate } from '../Middlewares/Authenticate.middleware';\r\nimport { videoUpload } from '../Middlewares/Video.middleware';\r\nimport { json } from 'body-parser'\r\nimport { VideoController } from '../Controller/Video.controller'\r\n\r\nconst router = Router();\r\nconst Controller = new VideoController();\r\n//after upload work, next step is save to mongo db\r\nrouter.post('/api/video', json(), Authenticate, videoUpload.single('video'), (request, response) => {\r\n    Controller.upload(request, response)\r\n})\r\n\r\n// video stream\r\nrouter.get('/api/video/:filename', (request, response) => {\r\n    Controller.stream(request, response)\r\n})\r\n\r\n// like a video\r\nrouter.get('/api/video-like/', (request, response) => {\r\n    Controller.like(request, response)\r\n})\r\n\r\n\r\n// dislike a video\r\nrouter.get('/api/video-dislike/', (request, response) => {\r\n    Controller.dislike(request, response)\r\n})\r\n\r\n// search for a video\r\nrouter.get('/api/video-search/', (request, response) => {\r\n    Controller.searchVideo(request, response)\r\n})\r\n\r\n// delete a video\r\nrouter.delete('/api/video/', (request, response) => {\r\n    Controller.delete(request, response)\r\n})\r\n\r\n// search for video under certain user\r\nrouter.get('/api/user-video-search/', (request, response) => {\r\n    Controller.searchUVideo(request, response)\r\n})\r\n\r\n// search for video under certain category\r\nrouter.get('/api/cat-search/', (request, response) => {\r\n    Controller.searchCat(request, response)\r\n})\r\n\r\n//find all videos and return \r\nrouter.get('/api/findallV', (request, response) => {\r\n    Controller.findAllVideo(request, response)\r\n})\r\n\r\nrouter.delete('/api/user-video-delete/', (request, response) => {\r\n    Controller.delete_user_all_videos(request, response)\r\n})\r\n\r\nexport default router;"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AAEA,IAAMA,MAAM,GAAG,IAAAC,eAAA,GAAf;AACA,IAAMC,UAAU,GAAG,IAAIC,uBAAJ,EAAnB,C,CACA;;AACAH,MAAM,CAACI,IAAP,CAAY,YAAZ,EAA0B,IAAAC,gBAAA,GAA1B,EAAkCC,0BAAlC,EAAgDC,kBAAA,CAAYC,MAAZ,CAAmB,OAAnB,CAAhD,EAA6E,UAACC,OAAD,EAAUC,QAAV,EAAuB;EAChGR,UAAU,CAACS,MAAX,CAAkBF,OAAlB,EAA2BC,QAA3B;AACH,CAFD,E,CAIA;;AACAV,MAAM,CAACY,GAAP,CAAW,sBAAX,EAAmC,UAACH,OAAD,EAAUC,QAAV,EAAuB;EACtDR,UAAU,CAACW,MAAX,CAAkBJ,OAAlB,EAA2BC,QAA3B;AACH,CAFD,E,CAIA;;AACAV,MAAM,CAACY,GAAP,CAAW,kBAAX,EAA+B,UAACH,OAAD,EAAUC,QAAV,EAAuB;EAClDR,UAAU,CAACY,IAAX,CAAgBL,OAAhB,EAAyBC,QAAzB;AACH,CAFD,E,CAKA;;AACAV,MAAM,CAACY,GAAP,CAAW,qBAAX,EAAkC,UAACH,OAAD,EAAUC,QAAV,EAAuB;EACrDR,UAAU,CAACa,OAAX,CAAmBN,OAAnB,EAA4BC,QAA5B;AACH,CAFD,E,CAIA;;AACAV,MAAM,CAACY,GAAP,CAAW,oBAAX,EAAiC,UAACH,OAAD,EAAUC,QAAV,EAAuB;EACpDR,UAAU,CAACc,WAAX,CAAuBP,OAAvB,EAAgCC,QAAhC;AACH,CAFD,E,CAIA;;AACAV,MAAM,UAAN,CAAc,aAAd,EAA6B,UAACS,OAAD,EAAUC,QAAV,EAAuB;EAChDR,UAAU,UAAV,CAAkBO,OAAlB,EAA2BC,QAA3B;AACH,CAFD,E,CAIA;;AACAV,MAAM,CAACY,GAAP,CAAW,yBAAX,EAAsC,UAACH,OAAD,EAAUC,QAAV,EAAuB;EACzDR,UAAU,CAACe,YAAX,CAAwBR,OAAxB,EAAiCC,QAAjC;AACH,CAFD,E,CAIA;;AACAV,MAAM,CAACY,GAAP,CAAW,kBAAX,EAA+B,UAACH,OAAD,EAAUC,QAAV,EAAuB;EAClDR,UAAU,CAACgB,SAAX,CAAqBT,OAArB,EAA8BC,QAA9B;AACH,CAFD,E,CAIA;;AACAV,MAAM,CAACY,GAAP,CAAW,eAAX,EAA4B,UAACH,OAAD,EAAUC,QAAV,EAAuB;EAC/CR,UAAU,CAACiB,YAAX,CAAwBV,OAAxB,EAAiCC,QAAjC;AACH,CAFD;AAIAV,MAAM,UAAN,CAAc,yBAAd,EAAyC,UAACS,OAAD,EAAUC,QAAV,EAAuB;EAC5DR,UAAU,CAACkB,sBAAX,CAAkCX,OAAlC,EAA2CC,QAA3C;AACH,CAFD;eAIeV,M"}},"mtime":1665981022554},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Middlewares\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"filename\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Middlewares\\\\Authenticate.middleware.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Authenticate = void 0;\n\nvar _jsonwebtoken = require(\"jsonwebtoken\");\n\nvar _dotenv = require(\"dotenv\");\n\n(0, _dotenv.config)();\n\nvar Authenticate = function Authenticate(request, response, next) {\n  var token = request.headers['x-auth-token'];\n  (0, _jsonwebtoken.verify)(token, process.env.cookie_secret, function (error, decoded) {\n    if (error) {\n      return response.status(403).json({\n        msg: 'Signup or Login to upload video'\n      });\n    }\n\n    request.token = decoded;\n    next();\n  });\n};\n\nexports.Authenticate = Authenticate;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25maWciLCJBdXRoZW50aWNhdGUiLCJyZXF1ZXN0IiwicmVzcG9uc2UiLCJuZXh0IiwidG9rZW4iLCJoZWFkZXJzIiwidmVyaWZ5IiwicHJvY2VzcyIsImVudiIsImNvb2tpZV9zZWNyZXQiLCJlcnJvciIsImRlY29kZWQiLCJzdGF0dXMiLCJqc29uIiwibXNnIl0sInNvdXJjZVJvb3QiOiJEOlxcU2Nob29sXFxJVCBQcm9qZWN0XFxJVC1QUk9KRUNUXFxiYWNrZW5kM1xcc3JjXFxNaWRkbGV3YXJlc1xcIiwic291cmNlcyI6WyJBdXRoZW50aWNhdGUubWlkZGxld2FyZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge3ZlcmlmeX0gZnJvbSAnanNvbndlYnRva2VuJztcclxuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnZG90ZW52JztcclxuY29uZmlnKCk7XHJcblxyXG5leHBvcnQgY29uc3QgQXV0aGVudGljYXRlID0gKHJlcXVlc3QsIHJlc3BvbnNlLCBuZXh0KT0+e1xyXG4gICAgY29uc3QgdG9rZW4gPSByZXF1ZXN0LmhlYWRlcnNbJ3gtYXV0aC10b2tlbiddO1xyXG5cclxuICAgIHZlcmlmeSh0b2tlbiwgcHJvY2Vzcy5lbnYuY29va2llX3NlY3JldCwgKGVycm9yLCBkZWNvZGVkKT0+e1xyXG4gICAgICAgIGlmIChlcnJvcil7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNDAzKS5qc29uKHttc2c6J1NpZ251cCBvciBMb2dpbiB0byB1cGxvYWQgdmlkZW8nfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgcmVxdWVzdC50b2tlbiA9IGRlY29kZWQ7XHJcbiAgICAgICAgbmV4dCgpXHJcbiAgICB9KVxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0EsSUFBQUEsY0FBQTs7QUFFTyxJQUFNQyxZQUFZLEdBQUcsU0FBZkEsWUFBZSxDQUFDQyxPQUFELEVBQVVDLFFBQVYsRUFBb0JDLElBQXBCLEVBQTJCO0VBQ25ELElBQU1DLEtBQUssR0FBR0gsT0FBTyxDQUFDSSxPQUFSLENBQWdCLGNBQWhCLENBQWQ7RUFFQSxJQUFBQyxvQkFBQSxFQUFPRixLQUFQLEVBQWNHLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxhQUExQixFQUF5QyxVQUFDQyxLQUFELEVBQVFDLE9BQVIsRUFBa0I7SUFDdkQsSUFBSUQsS0FBSixFQUFVO01BQ04sT0FBT1IsUUFBUSxDQUFDVSxNQUFULENBQWdCLEdBQWhCLEVBQXFCQyxJQUFyQixDQUEwQjtRQUFDQyxHQUFHLEVBQUM7TUFBTCxDQUExQixDQUFQO0lBQ0g7O0lBQ0RiLE9BQU8sQ0FBQ0csS0FBUixHQUFnQk8sT0FBaEI7SUFDQVIsSUFBSTtFQUNQLENBTkQ7QUFPSCxDQVZNIn0=","map":{"version":3,"names":["config","Authenticate","request","response","next","token","headers","verify","process","env","cookie_secret","error","decoded","status","json","msg"],"sourceRoot":"D:\\School\\IT Project\\IT-PROJECT\\backend3\\src\\Middlewares\\","sources":["Authenticate.middleware.js"],"sourcesContent":["import {verify} from 'jsonwebtoken';\r\nimport { config } from 'dotenv';\r\nconfig();\r\n\r\nexport const Authenticate = (request, response, next)=>{\r\n    const token = request.headers['x-auth-token'];\r\n\r\n    verify(token, process.env.cookie_secret, (error, decoded)=>{\r\n        if (error){\r\n            return response.status(403).json({msg:'Signup or Login to upload video'})\r\n        }\r\n        request.token = decoded;\r\n        next()\r\n    })\r\n}"],"mappings":";;;;;;;AAAA;;AACA;;AACA,IAAAA,cAAA;;AAEO,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,OAAD,EAAUC,QAAV,EAAoBC,IAApB,EAA2B;EACnD,IAAMC,KAAK,GAAGH,OAAO,CAACI,OAAR,CAAgB,cAAhB,CAAd;EAEA,IAAAC,oBAAA,EAAOF,KAAP,EAAcG,OAAO,CAACC,GAAR,CAAYC,aAA1B,EAAyC,UAACC,KAAD,EAAQC,OAAR,EAAkB;IACvD,IAAID,KAAJ,EAAU;MACN,OAAOR,QAAQ,CAACU,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B;QAACC,GAAG,EAAC;MAAL,CAA1B,CAAP;IACH;;IACDb,OAAO,CAACG,KAAR,GAAgBO,OAAhB;IACAR,IAAI;EACP,CAND;AAOH,CAVM"}},"mtime":1662523367956},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Middlewares\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"filename\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Middlewares\\\\Video.middleware.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.videoUpload = void 0;\n\nvar _file = _interopRequireDefault(require(\"@babel/core/lib/transformation/file/file\"));\n\nvar _express = require(\"express\");\n\nvar _multer = _interopRequireDefault(require(\"multer\"));\n\nvar _uuid = require(\"uuid\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n// video storage\nvar videoStorage = _multer[\"default\"].diskStorage({\n  destination: \"videos\",\n  filename: function filename(request, file, cb) {\n    var id = (0, _uuid.v4)();\n    var token = request.token;\n    var filename = \"\".concat(token._id.toString(), \"-\").concat(id);\n    request.filename = filename;\n    cb(null, filename);\n  }\n}); //video upload\n\n\nvar videoUpload = (0, _multer[\"default\"])({\n  storage: videoStorage,\n  limits: {\n    fieldSize: 90000000 * 5 //10 MB   \n\n  },\n  fileFilter: function fileFilter(request, file, cb) {\n    if (!file.originalname.match(/\\.(mp4|MPEG-4|mkv)$/)) {\n      return cb(new Error('Video fomat nor supported'));\n    }\n\n    cb(undefined, true);\n  }\n});\nexports.videoUpload = videoUpload;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ2aWRlb1N0b3JhZ2UiLCJtdWx0ZXIiLCJkaXNrU3RvcmFnZSIsImRlc3RpbmF0aW9uIiwiZmlsZW5hbWUiLCJyZXF1ZXN0IiwiZmlsZSIsImNiIiwiaWQiLCJ1dWlkdjQiLCJ0b2tlbiIsIl9pZCIsInRvU3RyaW5nIiwidmlkZW9VcGxvYWQiLCJzdG9yYWdlIiwibGltaXRzIiwiZmllbGRTaXplIiwiZmlsZUZpbHRlciIsIm9yaWdpbmFsbmFtZSIsIm1hdGNoIiwiRXJyb3IiLCJ1bmRlZmluZWQiXSwic291cmNlUm9vdCI6IkQ6XFxTY2hvb2xcXElUIFByb2plY3RcXElULVBST0pFQ1RcXGJhY2tlbmQzXFxzcmNcXE1pZGRsZXdhcmVzXFwiLCJzb3VyY2VzIjpbIlZpZGVvLm1pZGRsZXdhcmUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGZpbGUgZnJvbSBcIkBiYWJlbC9jb3JlL2xpYi90cmFuc2Zvcm1hdGlvbi9maWxlL2ZpbGVcIjtcclxuaW1wb3J0IHsgcmVxdWVzdCB9IGZyb20gXCJleHByZXNzXCI7XHJcbmltcG9ydCBtdWx0ZXIgZnJvbSBcIm11bHRlclwiO1xyXG5pbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tICd1dWlkJztcclxuXHJcbi8vIHZpZGVvIHN0b3JhZ2VcclxuY29uc3QgdmlkZW9TdG9yYWdlID0gbXVsdGVyLmRpc2tTdG9yYWdlKHtcclxuICAgIGRlc3RpbmF0aW9uOiBcInZpZGVvc1wiLFxyXG4gICAgZmlsZW5hbWU6IChyZXF1ZXN0LCBmaWxlLCBjYikgPT4ge1xyXG4gICAgICAgIGNvbnN0IGlkID0gdXVpZHY0KCk7XHJcbiAgICAgICAgY29uc3QgdG9rZW4gPSByZXF1ZXN0LnRva2VuO1xyXG4gICAgICAgIGNvbnN0IGZpbGVuYW1lID0gYCR7dG9rZW4uX2lkLnRvU3RyaW5nKCl9LSR7aWR9YDtcclxuICAgICAgICByZXF1ZXN0LmZpbGVuYW1lID0gZmlsZW5hbWU7XHJcbiAgICAgICAgY2IobnVsbCwgZmlsZW5hbWUpXHJcbiAgICB9XHJcblxyXG59KVxyXG5cclxuLy92aWRlbyB1cGxvYWRcclxuZXhwb3J0IGNvbnN0IHZpZGVvVXBsb2FkID0gbXVsdGVyKHtcclxuICAgIHN0b3JhZ2U6IHZpZGVvU3RvcmFnZSxcclxuICAgIGxpbWl0czoge1xyXG4gICAgICAgIGZpZWxkU2l6ZTogOTAwMDAwMDAgKiA1IC8vMTAgTUIgICBcclxuICAgIH0sXHJcbiAgICBmaWxlRmlsdGVyOiAocmVxdWVzdCwgZmlsZSwgY2IpID0+IHtcclxuICAgICAgICBpZiAoIWZpbGUub3JpZ2luYWxuYW1lLm1hdGNoKC9cXC4obXA0fE1QRUctNHxta3YpJC8pKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjYihuZXcgRXJyb3IoJ1ZpZGVvIGZvbWF0IG5vciBzdXBwb3J0ZWQnKSlcclxuICAgICAgICB9XHJcbiAgICAgICAgY2IodW5kZWZpbmVkLCB0cnVlKVxyXG4gICAgfVxyXG59KSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUE7QUFDQSxJQUFNQSxZQUFZLEdBQUdDLGtCQUFBLENBQU9DLFdBQVAsQ0FBbUI7RUFDcENDLFdBQVcsRUFBRSxRQUR1QjtFQUVwQ0MsUUFBUSxFQUFFLGtCQUFDQyxPQUFELEVBQVVDLElBQVYsRUFBZ0JDLEVBQWhCLEVBQXVCO0lBQzdCLElBQU1DLEVBQUUsR0FBRyxJQUFBQyxRQUFBLEdBQVg7SUFDQSxJQUFNQyxLQUFLLEdBQUdMLE9BQU8sQ0FBQ0ssS0FBdEI7SUFDQSxJQUFNTixRQUFRLGFBQU1NLEtBQUssQ0FBQ0MsR0FBTixDQUFVQyxRQUFWLEVBQU4sY0FBOEJKLEVBQTlCLENBQWQ7SUFDQUgsT0FBTyxDQUFDRCxRQUFSLEdBQW1CQSxRQUFuQjtJQUNBRyxFQUFFLENBQUMsSUFBRCxFQUFPSCxRQUFQLENBQUY7RUFDSDtBQVJtQyxDQUFuQixDQUFyQixDLENBWUE7OztBQUNPLElBQU1TLFdBQVcsR0FBRyxJQUFBWixrQkFBQSxFQUFPO0VBQzlCYSxPQUFPLEVBQUVkLFlBRHFCO0VBRTlCZSxNQUFNLEVBQUU7SUFDSkMsU0FBUyxFQUFFLFdBQVcsQ0FEbEIsQ0FDb0I7O0VBRHBCLENBRnNCO0VBSzlCQyxVQUFVLEVBQUUsb0JBQUNaLE9BQUQsRUFBVUMsSUFBVixFQUFnQkMsRUFBaEIsRUFBdUI7SUFDL0IsSUFBSSxDQUFDRCxJQUFJLENBQUNZLFlBQUwsQ0FBa0JDLEtBQWxCLENBQXdCLHFCQUF4QixDQUFMLEVBQXFEO01BQ2pELE9BQU9aLEVBQUUsQ0FBQyxJQUFJYSxLQUFKLENBQVUsMkJBQVYsQ0FBRCxDQUFUO0lBQ0g7O0lBQ0RiLEVBQUUsQ0FBQ2MsU0FBRCxFQUFZLElBQVosQ0FBRjtFQUNIO0FBVjZCLENBQVAsQ0FBcEIifQ==","map":{"version":3,"names":["videoStorage","multer","diskStorage","destination","filename","request","file","cb","id","uuidv4","token","_id","toString","videoUpload","storage","limits","fieldSize","fileFilter","originalname","match","Error","undefined"],"sourceRoot":"D:\\School\\IT Project\\IT-PROJECT\\backend3\\src\\Middlewares\\","sources":["Video.middleware.js"],"sourcesContent":["import file from \"@babel/core/lib/transformation/file/file\";\r\nimport { request } from \"express\";\r\nimport multer from \"multer\";\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\n// video storage\r\nconst videoStorage = multer.diskStorage({\r\n    destination: \"videos\",\r\n    filename: (request, file, cb) => {\r\n        const id = uuidv4();\r\n        const token = request.token;\r\n        const filename = `${token._id.toString()}-${id}`;\r\n        request.filename = filename;\r\n        cb(null, filename)\r\n    }\r\n\r\n})\r\n\r\n//video upload\r\nexport const videoUpload = multer({\r\n    storage: videoStorage,\r\n    limits: {\r\n        fieldSize: 90000000 * 5 //10 MB   \r\n    },\r\n    fileFilter: (request, file, cb) => {\r\n        if (!file.originalname.match(/\\.(mp4|MPEG-4|mkv)$/)) {\r\n            return cb(new Error('Video fomat nor supported'))\r\n        }\r\n        cb(undefined, true)\r\n    }\r\n})"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;AAEA;AACA,IAAMA,YAAY,GAAGC,kBAAA,CAAOC,WAAP,CAAmB;EACpCC,WAAW,EAAE,QADuB;EAEpCC,QAAQ,EAAE,kBAACC,OAAD,EAAUC,IAAV,EAAgBC,EAAhB,EAAuB;IAC7B,IAAMC,EAAE,GAAG,IAAAC,QAAA,GAAX;IACA,IAAMC,KAAK,GAAGL,OAAO,CAACK,KAAtB;IACA,IAAMN,QAAQ,aAAMM,KAAK,CAACC,GAAN,CAAUC,QAAV,EAAN,cAA8BJ,EAA9B,CAAd;IACAH,OAAO,CAACD,QAAR,GAAmBA,QAAnB;IACAG,EAAE,CAAC,IAAD,EAAOH,QAAP,CAAF;EACH;AARmC,CAAnB,CAArB,C,CAYA;;;AACO,IAAMS,WAAW,GAAG,IAAAZ,kBAAA,EAAO;EAC9Ba,OAAO,EAAEd,YADqB;EAE9Be,MAAM,EAAE;IACJC,SAAS,EAAE,WAAW,CADlB,CACoB;;EADpB,CAFsB;EAK9BC,UAAU,EAAE,oBAACZ,OAAD,EAAUC,IAAV,EAAgBC,EAAhB,EAAuB;IAC/B,IAAI,CAACD,IAAI,CAACY,YAAL,CAAkBC,KAAlB,CAAwB,qBAAxB,CAAL,EAAqD;MACjD,OAAOZ,EAAE,CAAC,IAAIa,KAAJ,CAAU,2BAAV,CAAD,CAAT;IACH;;IACDb,EAAE,CAACc,SAAD,EAAY,IAAZ,CAAF;EACH;AAV6B,CAAP,CAApB"}},"mtime":1665981022551},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Controller\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"filename\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Controller\\\\Video.controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.VideoController = void 0;\n\nvar _Video = require(\"../Models/Video.model\");\n\nvar _fs = _interopRequireDefault(require(\"fs\"));\n\nvar _dns = require(\"dns\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nvar VideoController = /*#__PURE__*/function () {\n  function VideoController() {\n    _classCallCheck(this, VideoController);\n  }\n\n  _createClass(VideoController, [{\n    key: \"upload\",\n    value: function () {\n      var _upload = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(request, response) {\n        var newVideo, saveVideo;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                newVideo = new _Video.videoModel({\n                  owner: request.token._id,\n                  username: request.body.username,\n                  category: request.body.category,\n                  name: request.body.name,\n                  videopath: request.filename,\n                  description: request.body.description\n                });\n                _context.prev = 1;\n                _context.next = 4;\n                return newVideo.save();\n\n              case 4:\n                saveVideo = _context.sent;\n                return _context.abrupt(\"return\", response.status(201).json({\n                  msg: 'Video uploaded successfully'\n                }));\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context[\"catch\"](1);\n                return _context.abrupt(\"return\", response.status(500).json({\n                  msg: 'Video upload failed'\n                }));\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[1, 8]]);\n      }));\n\n      function upload(_x, _x2) {\n        return _upload.apply(this, arguments);\n      }\n\n      return upload;\n    }()\n  }, {\n    key: \"like\",\n    value: function like(request, response) {\n      var video_id = request.query.id;\n      var operation = request.query.operation;\n\n      if (operation === 'false') {\n        _Video.videoModel.findOneAndUpdate({\n          _id: video_id\n        }, {\n          $inc: {\n            likes: -1\n          }\n        }, {\n          \"new\": true\n        }, function (error, doc) {\n          if (error) {\n            return response.status(500).json({\n              msg: 'Network Error: Failed to cancel like video'\n            });\n          }\n\n          return response.status(200).json({\n            msg: 'Video like cancelled'\n          });\n        });\n      } else {\n        _Video.videoModel.findOneAndUpdate({\n          _id: video_id\n        }, {\n          $inc: {\n            likes: 1\n          }\n        }, {\n          \"new\": true\n        }, function (error, doc) {\n          if (error) {\n            return response.status(500).json({\n              msg: 'Network Error: Failed to like video'\n            });\n          }\n\n          return response.status(200).json({\n            msg: 'Video liked'\n          });\n        });\n      }\n    }\n  }, {\n    key: \"dislike\",\n    value: function dislike(request, response) {\n      var video_id = request.query.id;\n      var operation = request.query.operation;\n\n      if (operation === 'false') {\n        _Video.videoModel.findOneAndUpdate({\n          _id: video_id\n        }, {\n          $inc: {\n            dislikes: -1\n          }\n        }, {\n          \"new\": true\n        }, function (error, doc) {\n          if (error) {\n            return response.status(500).json({\n              msg: 'Network Error: Failed to cancel dislike video'\n            });\n          }\n\n          return response.status(200).json({\n            msg: 'Video dislike cancelled'\n          });\n        });\n      } else {\n        _Video.videoModel.findOneAndUpdate({\n          _id: video_id\n        }, {\n          $inc: {\n            dislikes: 1\n          }\n        }, {\n          \"new\": true\n        }, function (error, doc) {\n          if (error) {\n            return response.status(500).json({\n              msg: 'Network Error: Failed to dislike video'\n            });\n          }\n\n          return response.status(200).json({\n            msg: 'Video disliked'\n          });\n        });\n      }\n    }\n  }, {\n    key: \"searchVideo\",\n    value: function () {\n      var _searchVideo = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(request, response) {\n        var name, video;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                name = request.query.key.toLowerCase();\n                _context2.prev = 1;\n                _context2.next = 4;\n                return _Video.videoModel.find({\n                  name: {\n                    $regex: name\n                  }\n                });\n\n              case 4:\n                video = _context2.sent;\n                return _context2.abrupt(\"return\", response.send(video));\n\n              case 8:\n                _context2.prev = 8;\n                _context2.t0 = _context2[\"catch\"](1);\n                return _context2.abrupt(\"return\", response.status(700).json({\n                  msg: 'No matching video'\n                }));\n\n              case 11:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[1, 8]]);\n      }));\n\n      function searchVideo(_x3, _x4) {\n        return _searchVideo.apply(this, arguments);\n      }\n\n      return searchVideo;\n    }() // search all videos and display\n\n  }, {\n    key: \"findAllVideo\",\n    value: function () {\n      var _findAllVideo = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(request, response) {\n        var video;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                _context3.next = 3;\n                return _Video.videoModel.find();\n\n              case 3:\n                video = _context3.sent;\n                return _context3.abrupt(\"return\", response.send(video));\n\n              case 7:\n                _context3.prev = 7;\n                _context3.t0 = _context3[\"catch\"](0);\n                return _context3.abrupt(\"return\", response.status(700).json({\n                  msg: 'No videos'\n                }));\n\n              case 10:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, null, [[0, 7]]);\n      }));\n\n      function findAllVideo(_x5, _x6) {\n        return _findAllVideo.apply(this, arguments);\n      }\n\n      return findAllVideo;\n    }() // search video by username\n\n  }, {\n    key: \"searchUVideo\",\n    value: function () {\n      var _searchUVideo = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(request, response) {\n        var name, video;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                name = request.query.key;\n                _context4.prev = 1;\n                _context4.next = 4;\n                return _Video.videoModel.find({\n                  username: name\n                });\n\n              case 4:\n                video = _context4.sent;\n                return _context4.abrupt(\"return\", response.send(video));\n\n              case 8:\n                _context4.prev = 8;\n                _context4.t0 = _context4[\"catch\"](1);\n                return _context4.abrupt(\"return\", response.status(700).json({\n                  msg: 'No matching video'\n                }));\n\n              case 11:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, null, [[1, 8]]);\n      }));\n\n      function searchUVideo(_x7, _x8) {\n        return _searchUVideo.apply(this, arguments);\n      }\n\n      return searchUVideo;\n    }() // search video by category\n\n  }, {\n    key: \"searchCat\",\n    value: function () {\n      var _searchCat = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(request, response) {\n        var cat, video;\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                cat = request.query.key;\n                _context5.prev = 1;\n                _context5.next = 4;\n                return _Video.videoModel.find({\n                  category: {\n                    $regex: cat\n                  }\n                });\n\n              case 4:\n                video = _context5.sent;\n                return _context5.abrupt(\"return\", response.send(video));\n\n              case 8:\n                _context5.prev = 8;\n                _context5.t0 = _context5[\"catch\"](1);\n                return _context5.abrupt(\"return\", response.status(700).json({\n                  msg: 'No matching video'\n                }));\n\n              case 11:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, null, [[1, 8]]);\n      }));\n\n      function searchCat(_x9, _x10) {\n        return _searchCat.apply(this, arguments);\n      }\n\n      return searchCat;\n    }() // stream video \n\n  }, {\n    key: \"stream\",\n    value: function stream(request, response) {\n      var range = request.headers.range;\n\n      if (!range) {\n        return response.status(400).json({\n          msg: 'Range header is required to start'\n        });\n      }\n\n      var videopath = \"videos/\".concat(request.params.filename);\n\n      var videosize = _fs[\"default\"].statSync(videopath).size; // get video size\n\n\n      var start = Number(range.replace(/\\D/g, \"\")); //get start point \n\n      var chunk_size = Math.pow(10, 6); // 1 mb , chunck size\n\n      var end = Math.min(start + chunk_size, videosize - 1); //end position\n\n      var contenLength = end - start + 1; // how many  size sending\n\n      var hearders = {\n        'Content-Length': contenLength,\n        'Accept-Range': 'bytes',\n        'Content-Type': 'video/mp40',\n        'Content-Range': \"bytes \".concat(start, \" -\").concat(end, \"/\").concat(videosize) //decise how far video gone\n\n      };\n      response.writeHead(206, hearders);\n\n      var videostream = _fs[\"default\"].createReadStream(videopath, {\n        start: start,\n        end: end\n      }); // create video stream\n\n\n      videostream.pipe(response);\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete(request, response) {\n      var video_id = request.query.video_id;\n      var video_path = request.query.video_path;\n      var videopath = \"videos/\".concat(video_path);\n\n      if (_fs[\"default\"].existsSync(videopath)) {\n        _fs[\"default\"].unlink(videopath, function (error) {\n          if (error) {\n            return response.status(500).json({\n              msg: 'Network Error: Failed to delete video'\n            });\n          }\n\n          _Video.videoModel.findOneAndDelete({\n            _id: video_id\n          }, function (error) {\n            if (error) {\n              return response.status(500).json({\n                msg: 'Network Error: Failed to delete video'\n              });\n            }\n\n            return response.status(200).json({\n              msg: ' video delete'\n            });\n          });\n        });\n      }\n    }\n  }, {\n    key: \"delete_user_all_videos\",\n    value: function () {\n      var _delete_user_all_videos = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(request, response) {\n        var delete_username, user_video_list, i, videopath;\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                delete_username = request.query.username;\n                user_video_list = request.query.video_list;\n\n                if (!(user_video_list !== undefined)) {\n                  _context6.next = 6;\n                  break;\n                }\n\n                for (i = 0; i < user_video_list.length; i++) {\n                  videopath = \"videos/\".concat(user_video_list[i]);\n\n                  if (_fs[\"default\"].existsSync(videopath)) {\n                    _fs[\"default\"].unlink(videopath, function (error) {\n                      if (error) {\n                        return response.status(500).json({\n                          msg: 'Network Error: Failed to delete video'\n                        });\n                      }\n                    });\n                  }\n                }\n\n                _context6.next = 6;\n                return _Video.videoModel.deleteMany({\n                  username: delete_username\n                });\n\n              case 6:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6);\n      }));\n\n      function delete_user_all_videos(_x11, _x12) {\n        return _delete_user_all_videos.apply(this, arguments);\n      }\n\n      return delete_user_all_videos;\n    }()\n  }]);\n\n  return VideoController;\n}();\n\nexports.VideoController = VideoController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJWaWRlb0NvbnRyb2xsZXIiLCJyZXF1ZXN0IiwicmVzcG9uc2UiLCJuZXdWaWRlbyIsInZpZGVvTW9kZWwiLCJvd25lciIsInRva2VuIiwiX2lkIiwidXNlcm5hbWUiLCJib2R5IiwiY2F0ZWdvcnkiLCJuYW1lIiwidmlkZW9wYXRoIiwiZmlsZW5hbWUiLCJkZXNjcmlwdGlvbiIsInNhdmUiLCJzYXZlVmlkZW8iLCJzdGF0dXMiLCJqc29uIiwibXNnIiwidmlkZW9faWQiLCJxdWVyeSIsImlkIiwib3BlcmF0aW9uIiwiZmluZE9uZUFuZFVwZGF0ZSIsIiRpbmMiLCJsaWtlcyIsImVycm9yIiwiZG9jIiwiZGlzbGlrZXMiLCJrZXkiLCJ0b0xvd2VyQ2FzZSIsImZpbmQiLCIkcmVnZXgiLCJ2aWRlbyIsInNlbmQiLCJjYXQiLCJyYW5nZSIsImhlYWRlcnMiLCJwYXJhbXMiLCJ2aWRlb3NpemUiLCJmcyIsInN0YXRTeW5jIiwic2l6ZSIsInN0YXJ0IiwiTnVtYmVyIiwicmVwbGFjZSIsImNodW5rX3NpemUiLCJlbmQiLCJNYXRoIiwibWluIiwiY29udGVuTGVuZ3RoIiwiaGVhcmRlcnMiLCJ3cml0ZUhlYWQiLCJ2aWRlb3N0cmVhbSIsImNyZWF0ZVJlYWRTdHJlYW0iLCJwaXBlIiwidmlkZW9fcGF0aCIsImV4aXN0c1N5bmMiLCJ1bmxpbmsiLCJmaW5kT25lQW5kRGVsZXRlIiwiZGVsZXRlX3VzZXJuYW1lIiwidXNlcl92aWRlb19saXN0IiwidmlkZW9fbGlzdCIsInVuZGVmaW5lZCIsImkiLCJsZW5ndGgiLCJkZWxldGVNYW55Il0sInNvdXJjZVJvb3QiOiJEOlxcU2Nob29sXFxJVCBQcm9qZWN0XFxJVC1QUk9KRUNUXFxiYWNrZW5kM1xcc3JjXFxDb250cm9sbGVyXFwiLCJzb3VyY2VzIjpbIlZpZGVvLmNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdmlkZW9Nb2RlbCB9IGZyb20gJy4uL01vZGVscy9WaWRlby5tb2RlbCdcclxuaW1wb3J0IGZzIGZyb20gJ2ZzJ1xyXG5pbXBvcnQgeyBOT05BTUUgfSBmcm9tICdkbnMnXHJcblxyXG5leHBvcnQgY2xhc3MgVmlkZW9Db250cm9sbGVyIHtcclxuICAgIGFzeW5jIHVwbG9hZChyZXF1ZXN0LCByZXNwb25zZSkge1xyXG5cclxuICAgICAgICBjb25zdCBuZXdWaWRlbyA9IG5ldyB2aWRlb01vZGVsKHtcclxuICAgICAgICAgICAgb3duZXI6IHJlcXVlc3QudG9rZW4uX2lkLFxyXG4gICAgICAgICAgICB1c2VybmFtZTogcmVxdWVzdC5ib2R5LnVzZXJuYW1lLFxyXG4gICAgICAgICAgICBjYXRlZ29yeTogcmVxdWVzdC5ib2R5LmNhdGVnb3J5LFxyXG4gICAgICAgICAgICBuYW1lOiByZXF1ZXN0LmJvZHkubmFtZSxcclxuICAgICAgICAgICAgdmlkZW9wYXRoOiByZXF1ZXN0LmZpbGVuYW1lLFxyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogcmVxdWVzdC5ib2R5LmRlc2NyaXB0aW9uXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3Qgc2F2ZVZpZGVvID0gYXdhaXQgbmV3VmlkZW8uc2F2ZSgpXHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoMjAxKS5qc29uKHsgbXNnOiAnVmlkZW8gdXBsb2FkZWQgc3VjY2Vzc2Z1bGx5JyB9KVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAnVmlkZW8gdXBsb2FkIGZhaWxlZCcgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGxpa2UocmVxdWVzdCwgcmVzcG9uc2UpIHtcclxuICAgICAgICBjb25zdCB2aWRlb19pZCA9IHJlcXVlc3QucXVlcnkuaWQ7XHJcbiAgICAgICAgY29uc3Qgb3BlcmF0aW9uID0gcmVxdWVzdC5xdWVyeS5vcGVyYXRpb25cclxuICAgICAgICBpZiAob3BlcmF0aW9uID09PSAnZmFsc2UnKSB7XHJcbiAgICAgICAgICAgIHZpZGVvTW9kZWwuZmluZE9uZUFuZFVwZGF0ZSh7IF9pZDogdmlkZW9faWQgfSwgeyAkaW5jOiB7IGxpa2VzOiAtMSB9IH0sXHJcbiAgICAgICAgICAgICAgICB7IG5ldzogdHJ1ZSB9LCAoZXJyb3IsIGRvYykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7IG1zZzogJ05ldHdvcmsgRXJyb3I6IEZhaWxlZCB0byBjYW5jZWwgbGlrZSB2aWRlbycgfSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cygyMDApLmpzb24oeyBtc2c6ICdWaWRlbyBsaWtlIGNhbmNlbGxlZCcgfSlcclxuICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHZpZGVvTW9kZWwuZmluZE9uZUFuZFVwZGF0ZSh7IF9pZDogdmlkZW9faWQgfSwgeyAkaW5jOiB7IGxpa2VzOiAxIH0gfSxcclxuICAgICAgICAgICAgICAgIHsgbmV3OiB0cnVlIH0sIChlcnJvciwgZG9jKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAnTmV0d29yayBFcnJvcjogRmFpbGVkIHRvIGxpa2UgdmlkZW8nIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHsgbXNnOiAnVmlkZW8gbGlrZWQnIH0pXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkaXNsaWtlKHJlcXVlc3QsIHJlc3BvbnNlKSB7XHJcbiAgICAgICAgY29uc3QgdmlkZW9faWQgPSByZXF1ZXN0LnF1ZXJ5LmlkO1xyXG4gICAgICAgIGNvbnN0IG9wZXJhdGlvbiA9IHJlcXVlc3QucXVlcnkub3BlcmF0aW9uXHJcbiAgICAgICAgaWYgKG9wZXJhdGlvbiA9PT0gJ2ZhbHNlJykge1xyXG4gICAgICAgICAgICB2aWRlb01vZGVsLmZpbmRPbmVBbmRVcGRhdGUoeyBfaWQ6IHZpZGVvX2lkIH0sIHsgJGluYzogeyBkaXNsaWtlczogLTEgfSB9LFxyXG4gICAgICAgICAgICAgICAgeyBuZXc6IHRydWUgfSwgKGVycm9yLCBkb2MpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oeyBtc2c6ICdOZXR3b3JrIEVycm9yOiBGYWlsZWQgdG8gY2FuY2VsIGRpc2xpa2UgdmlkZW8nIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHsgbXNnOiAnVmlkZW8gZGlzbGlrZSBjYW5jZWxsZWQnIH0pXHJcbiAgICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB2aWRlb01vZGVsLmZpbmRPbmVBbmRVcGRhdGUoeyBfaWQ6IHZpZGVvX2lkIH0sIHsgJGluYzogeyBkaXNsaWtlczogMSB9IH0sXHJcbiAgICAgICAgICAgICAgICB7IG5ldzogdHJ1ZSB9LCAoZXJyb3IsIGRvYykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7IG1zZzogJ05ldHdvcmsgRXJyb3I6IEZhaWxlZCB0byBkaXNsaWtlIHZpZGVvJyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7IG1zZzogJ1ZpZGVvIGRpc2xpa2VkJyB9KVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgc2VhcmNoVmlkZW8ocmVxdWVzdCwgcmVzcG9uc2UpIHtcclxuICAgICAgICBjb25zdCBuYW1lID0gcmVxdWVzdC5xdWVyeS5rZXkudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgdmlkZW8gPSBhd2FpdCB2aWRlb01vZGVsLmZpbmQoeyBuYW1lOiB7ICRyZWdleDogbmFtZSB9IH0pXHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zZW5kKHZpZGVvKVxyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDcwMCkuanNvbih7IG1zZzogJ05vIG1hdGNoaW5nIHZpZGVvJyB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBzZWFyY2ggYWxsIHZpZGVvcyBhbmQgZGlzcGxheVxyXG4gICAgYXN5bmMgZmluZEFsbFZpZGVvKHJlcXVlc3QsIHJlc3BvbnNlKSB7XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCB2aWRlbyA9IGF3YWl0IHZpZGVvTW9kZWwuZmluZCgpXHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zZW5kKHZpZGVvKVxyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDcwMCkuanNvbih7IG1zZzogJ05vIHZpZGVvcycgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBzZWFyY2ggdmlkZW8gYnkgdXNlcm5hbWVcclxuICAgIGFzeW5jIHNlYXJjaFVWaWRlbyhyZXF1ZXN0LCByZXNwb25zZSkge1xyXG4gICAgICAgIGNvbnN0IG5hbWUgPSByZXF1ZXN0LnF1ZXJ5LmtleTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgdmlkZW8gPSBhd2FpdCB2aWRlb01vZGVsLmZpbmQoeyB1c2VybmFtZTogbmFtZSB9KVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc2VuZCh2aWRlbylcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg3MDApLmpzb24oeyBtc2c6ICdObyBtYXRjaGluZyB2aWRlbycgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gc2VhcmNoIHZpZGVvIGJ5IGNhdGVnb3J5XHJcbiAgICBhc3luYyBzZWFyY2hDYXQocmVxdWVzdCwgcmVzcG9uc2UpIHtcclxuICAgICAgICBjb25zdCBjYXQgPSByZXF1ZXN0LnF1ZXJ5LmtleTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgdmlkZW8gPSBhd2FpdCB2aWRlb01vZGVsLmZpbmQoeyBjYXRlZ29yeTogeyAkcmVnZXg6IGNhdCB9IH0pXHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zZW5kKHZpZGVvKVxyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDcwMCkuanNvbih7IG1zZzogJ05vIG1hdGNoaW5nIHZpZGVvJyB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBzdHJlYW0gdmlkZW8gXHJcbiAgICBzdHJlYW0ocmVxdWVzdCwgcmVzcG9uc2UpIHtcclxuICAgICAgICBjb25zdCByYW5nZSA9IHJlcXVlc3QuaGVhZGVycy5yYW5nZVxyXG4gICAgICAgIGlmICghcmFuZ2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg0MDApLmpzb24oeyBtc2c6ICdSYW5nZSBoZWFkZXIgaXMgcmVxdWlyZWQgdG8gc3RhcnQnIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHZpZGVvcGF0aCA9IGB2aWRlb3MvJHtyZXF1ZXN0LnBhcmFtcy5maWxlbmFtZX1gO1xyXG4gICAgICAgIGNvbnN0IHZpZGVvc2l6ZSA9IGZzLnN0YXRTeW5jKHZpZGVvcGF0aCkuc2l6ZTsgIC8vIGdldCB2aWRlbyBzaXplXHJcblxyXG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gTnVtYmVyKHJhbmdlLnJlcGxhY2UoL1xcRC9nLCBcIlwiKSk7ICAvL2dldCBzdGFydCBwb2ludCBcclxuICAgICAgICBjb25zdCBjaHVua19zaXplID0gMTAgKiogNiAvLyAxIG1iICwgY2h1bmNrIHNpemVcclxuICAgICAgICBjb25zdCBlbmQgPSBNYXRoLm1pbihzdGFydCArIGNodW5rX3NpemUsIHZpZGVvc2l6ZSAtIDEpOyAgIC8vZW5kIHBvc2l0aW9uXHJcblxyXG4gICAgICAgIGNvbnN0IGNvbnRlbkxlbmd0aCA9IGVuZCAtIHN0YXJ0ICsgMSAgLy8gaG93IG1hbnkgIHNpemUgc2VuZGluZ1xyXG4gICAgICAgIGNvbnN0IGhlYXJkZXJzID0ge1xyXG4gICAgICAgICAgICAnQ29udGVudC1MZW5ndGgnOiBjb250ZW5MZW5ndGgsXHJcbiAgICAgICAgICAgICdBY2NlcHQtUmFuZ2UnOiAnYnl0ZXMnLFxyXG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ3ZpZGVvL21wNDAnLFxyXG4gICAgICAgICAgICAnQ29udGVudC1SYW5nZSc6IGBieXRlcyAke3N0YXJ0fSAtJHtlbmR9LyR7dmlkZW9zaXplfWAgICAvL2RlY2lzZSBob3cgZmFyIHZpZGVvIGdvbmVcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJlc3BvbnNlLndyaXRlSGVhZCgyMDYsIGhlYXJkZXJzKTtcclxuICAgICAgICBjb25zdCB2aWRlb3N0cmVhbSA9IGZzLmNyZWF0ZVJlYWRTdHJlYW0odmlkZW9wYXRoLCB7IHN0YXJ0LCBlbmQgfSk7IC8vIGNyZWF0ZSB2aWRlbyBzdHJlYW1cclxuICAgICAgICB2aWRlb3N0cmVhbS5waXBlKHJlc3BvbnNlKVxyXG4gICAgfVxyXG5cclxuICAgIGRlbGV0ZShyZXF1ZXN0LCByZXNwb25zZSkge1xyXG5cclxuICAgICAgICBjb25zdCB2aWRlb19pZCA9IHJlcXVlc3QucXVlcnkudmlkZW9faWQ7XHJcbiAgICAgICAgY29uc3QgdmlkZW9fcGF0aCA9IHJlcXVlc3QucXVlcnkudmlkZW9fcGF0aDtcclxuICAgICAgICBjb25zdCB2aWRlb3BhdGggPSBgdmlkZW9zLyR7dmlkZW9fcGF0aH1gO1xyXG4gICAgICAgIGlmIChmcy5leGlzdHNTeW5jKHZpZGVvcGF0aCkpIHtcclxuICAgICAgICAgICAgZnMudW5saW5rKHZpZGVvcGF0aCwgKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7IG1zZzogJ05ldHdvcmsgRXJyb3I6IEZhaWxlZCB0byBkZWxldGUgdmlkZW8nIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2aWRlb01vZGVsLmZpbmRPbmVBbmREZWxldGUoeyBfaWQ6IHZpZGVvX2lkIH0sIChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7IG1zZzogJ05ldHdvcmsgRXJyb3I6IEZhaWxlZCB0byBkZWxldGUgdmlkZW8nIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHsgbXNnOiAnIHZpZGVvIGRlbGV0ZScgfSlcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGRlbGV0ZV91c2VyX2FsbF92aWRlb3MocmVxdWVzdCwgcmVzcG9uc2UpIHtcclxuICAgICAgICBjb25zdCBkZWxldGVfdXNlcm5hbWUgPSByZXF1ZXN0LnF1ZXJ5LnVzZXJuYW1lO1xyXG4gICAgICAgIGNvbnN0IHVzZXJfdmlkZW9fbGlzdCA9IHJlcXVlc3QucXVlcnkudmlkZW9fbGlzdDtcclxuICAgICAgICBpZiAodXNlcl92aWRlb19saXN0ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB1c2VyX3ZpZGVvX2xpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciB2aWRlb3BhdGggPSBgdmlkZW9zLyR7dXNlcl92aWRlb19saXN0W2ldfWA7XHJcbiAgICAgICAgICAgICAgICBpZiAoZnMuZXhpc3RzU3luYyh2aWRlb3BhdGgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZnMudW5saW5rKHZpZGVvcGF0aCwgKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oeyBtc2c6ICdOZXR3b3JrIEVycm9yOiBGYWlsZWQgdG8gZGVsZXRlIHZpZGVvJyB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYXdhaXQgdmlkZW9Nb2RlbC5kZWxldGVNYW55KHsgdXNlcm5hbWU6IGRlbGV0ZV91c2Vy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","map":{"version":3,"names":["VideoController","request","response","newVideo","videoModel","owner","token","_id","username","body","category","name","videopath","filename","description","save","saveVideo","status","json","msg","video_id","query","id","operation","findOneAndUpdate","$inc","likes","error","doc","dislikes","key","toLowerCase","find","$regex","video","send","cat","range","headers","params","videosize","fs","statSync","size","start","Number","replace","chunk_size","end","Math","min","contenLength","hearders","writeHead","videostream","createReadStream","pipe","video_path","existsSync","unlink","findOneAndDelete","delete_username","user_video_list","video_list","undefined","i","length","deleteMany"],"sourceRoot":"D:\\School\\IT Project\\IT-PROJECT\\backend3\\src\\Controller\\","sources":["Video.controller.js"],"sourcesContent":["import { videoModel } from '../Models/Video.model'\r\nimport fs from 'fs'\r\nimport { NONAME } from 'dns'\r\n\r\nexport class VideoController {\r\n    async upload(request, response) {\r\n\r\n        const newVideo = new videoModel({\r\n            owner: request.token._id,\r\n            username: request.body.username,\r\n            category: request.body.category,\r\n            name: request.body.name,\r\n            videopath: request.filename,\r\n            description: request.body.description\r\n        })\r\n\r\n        try {\r\n            const saveVideo = await newVideo.save()\r\n            return response.status(201).json({ msg: 'Video uploaded successfully' })\r\n        } catch (error) {\r\n            return response.status(500).json({ msg: 'Video upload failed' })\r\n        }\r\n    }\r\n\r\n\r\n    like(request, response) {\r\n        const video_id = request.query.id;\r\n        const operation = request.query.operation\r\n        if (operation === 'false') {\r\n            videoModel.findOneAndUpdate({ _id: video_id }, { $inc: { likes: -1 } },\r\n                { new: true }, (error, doc) => {\r\n                    if (error) {\r\n                        return response.status(500).json({ msg: 'Network Error: Failed to cancel like video' })\r\n                    }\r\n                    return response.status(200).json({ msg: 'Video like cancelled' })\r\n                })\r\n\r\n        } else {\r\n            videoModel.findOneAndUpdate({ _id: video_id }, { $inc: { likes: 1 } },\r\n                { new: true }, (error, doc) => {\r\n                    if (error) {\r\n                        return response.status(500).json({ msg: 'Network Error: Failed to like video' })\r\n                    }\r\n                    return response.status(200).json({ msg: 'Video liked' })\r\n                })\r\n        }\r\n    }\r\n\r\n    dislike(request, response) {\r\n        const video_id = request.query.id;\r\n        const operation = request.query.operation\r\n        if (operation === 'false') {\r\n            videoModel.findOneAndUpdate({ _id: video_id }, { $inc: { dislikes: -1 } },\r\n                { new: true }, (error, doc) => {\r\n                    if (error) {\r\n                        return response.status(500).json({ msg: 'Network Error: Failed to cancel dislike video' })\r\n                    }\r\n                    return response.status(200).json({ msg: 'Video dislike cancelled' })\r\n                })\r\n\r\n        } else {\r\n            videoModel.findOneAndUpdate({ _id: video_id }, { $inc: { dislikes: 1 } },\r\n                { new: true }, (error, doc) => {\r\n                    if (error) {\r\n                        return response.status(500).json({ msg: 'Network Error: Failed to dislike video' })\r\n                    }\r\n                    return response.status(200).json({ msg: 'Video disliked' })\r\n                })\r\n        }\r\n    }\r\n\r\n    async searchVideo(request, response) {\r\n        const name = request.query.key.toLowerCase();\r\n        try {\r\n            let video = await videoModel.find({ name: { $regex: name } })\r\n            return response.send(video)\r\n\r\n        } catch (error) {\r\n            return response.status(700).json({ msg: 'No matching video' })\r\n        }\r\n    }\r\n\r\n    // search all videos and display\r\n    async findAllVideo(request, response) {\r\n\r\n        try {\r\n            let video = await videoModel.find()\r\n            return response.send(video)\r\n\r\n        } catch (error) {\r\n            return response.status(700).json({ msg: 'No videos' })\r\n        }\r\n    }\r\n    // search video by username\r\n    async searchUVideo(request, response) {\r\n        const name = request.query.key;\r\n        try {\r\n            let video = await videoModel.find({ username: name })\r\n            return response.send(video)\r\n\r\n        } catch (error) {\r\n            return response.status(700).json({ msg: 'No matching video' })\r\n        }\r\n    }\r\n\r\n    // search video by category\r\n    async searchCat(request, response) {\r\n        const cat = request.query.key;\r\n        try {\r\n            let video = await videoModel.find({ category: { $regex: cat } })\r\n            return response.send(video)\r\n\r\n        } catch (error) {\r\n            return response.status(700).json({ msg: 'No matching video' })\r\n        }\r\n    }\r\n\r\n    // stream video \r\n    stream(request, response) {\r\n        const range = request.headers.range\r\n        if (!range) {\r\n            return response.status(400).json({ msg: 'Range header is required to start' })\r\n        }\r\n        const videopath = `videos/${request.params.filename}`;\r\n        const videosize = fs.statSync(videopath).size;  // get video size\r\n\r\n        const start = Number(range.replace(/\\D/g, \"\"));  //get start point \r\n        const chunk_size = 10 ** 6 // 1 mb , chunck size\r\n        const end = Math.min(start + chunk_size, videosize - 1);   //end position\r\n\r\n        const contenLength = end - start + 1  // how many  size sending\r\n        const hearders = {\r\n            'Content-Length': contenLength,\r\n            'Accept-Range': 'bytes',\r\n            'Content-Type': 'video/mp40',\r\n            'Content-Range': `bytes ${start} -${end}/${videosize}`   //decise how far video gone\r\n\r\n        }\r\n        response.writeHead(206, hearders);\r\n        const videostream = fs.createReadStream(videopath, { start, end }); // create video stream\r\n        videostream.pipe(response)\r\n    }\r\n\r\n    delete(request, response) {\r\n\r\n        const video_id = request.query.video_id;\r\n        const video_path = request.query.video_path;\r\n        const videopath = `videos/${video_path}`;\r\n        if (fs.existsSync(videopath)) {\r\n            fs.unlink(videopath, (error) => {\r\n                if (error) {\r\n                    return response.status(500).json({ msg: 'Network Error: Failed to delete video' })\r\n                }\r\n                videoModel.findOneAndDelete({ _id: video_id }, (error) => {\r\n                    if (error) {\r\n                        return response.status(500).json({ msg: 'Network Error: Failed to delete video' })\r\n                    }\r\n                    return response.status(200).json({ msg: ' video delete' })\r\n                })\r\n            })\r\n        }\r\n    }\r\n\r\n    async delete_user_all_videos(request, response) {\r\n        const delete_username = request.query.username;\r\n        const user_video_list = request.query.video_list;\r\n        if (user_video_list !== undefined) {\r\n            for (let i = 0; i < user_video_list.length; i++) {\r\n                var videopath = `videos/${user_video_list[i]}`;\r\n                if (fs.existsSync(videopath)) {\r\n                    fs.unlink(videopath, (error) => {\r\n                        if (error) {\r\n                            return response.status(500).json({ msg: 'Network Error: Failed to delete video' })\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n\r\n            await videoModel.deleteMany({ username: delete_username });\r\n        }\r\n    }\r\n}"],"mappings":"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"}},"mtime":1666503498662},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"filename\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Models\\\\Video.model.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.videoModel = void 0;\n\nvar _mongoose = require(\"mongoose\");\n\nvar videoSchema = new _mongoose.Schema({\n  owner: {\n    type: _mongoose.Schema.Types.ObjectId,\n    ref: 'user'\n  },\n  username: {\n    type: String\n  },\n  name: {\n    type: String,\n    required: [true, 'Upload video needs a video name']\n  },\n  videopath: {\n    type: String,\n    required: [true, 'Upload video needs a video path'],\n    unique: [true, 'Video path already exist']\n  },\n  category: {\n    type: String,\n    \"enum\": [\"Sports\", \"News\", \"Technology\", \"Music\", \"Games\", \"Fashion\", \"Pet\", \"Travel\", \"Others\"],\n    required: true\n  },\n  likes: {\n    type: Number,\n    \"default\": 0\n  },\n  dislikes: {\n    type: Number,\n    \"default\": 0\n  },\n  views: {\n    type: Array,\n    \"default\": []\n  },\n  comments: {\n    type: Array,\n    \"default\": []\n  },\n  description: {\n    type: String,\n    required: [true, 'Upload video needs a Description']\n  }\n});\nvar videoModel = (0, _mongoose.model)('video', videoSchema);\nexports.videoModel = videoModel;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ2aWRlb1NjaGVtYSIsIlNjaGVtYSIsIm93bmVyIiwidHlwZSIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJ1c2VybmFtZSIsIlN0cmluZyIsIm5hbWUiLCJyZXF1aXJlZCIsInZpZGVvcGF0aCIsInVuaXF1ZSIsImNhdGVnb3J5IiwibGlrZXMiLCJOdW1iZXIiLCJkaXNsaWtlcyIsInZpZXdzIiwiQXJyYXkiLCJjb21tZW50cyIsImRlc2NyaXB0aW9uIiwidmlkZW9Nb2RlbCIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiJEOlxcU2Nob29sXFxJVCBQcm9qZWN0XFxJVC1QUk9KRUNUXFxiYWNrZW5kM1xcc3JjXFxNb2RlbHNcXCIsInNvdXJjZXMiOlsiVmlkZW8ubW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU2NoZW1hLCBtb2RlbCB9IGZyb20gJ21vbmdvb3NlJ1xyXG5cclxuY29uc3QgdmlkZW9TY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICAgIG93bmVyOiB7XHJcbiAgICAgICAgdHlwZTogU2NoZW1hLlR5cGVzLk9iamVjdElkLFxyXG4gICAgICAgIHJlZjogJ3VzZXInXHJcbiAgICB9LFxyXG4gICAgdXNlcm5hbWU6IHtcclxuICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICB9LFxyXG4gICAgbmFtZToge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICByZXF1aXJlZDogW3RydWUsICdVcGxvYWQgdmlkZW8gbmVlZHMgYSB2aWRlbyBuYW1lJ11cclxuICAgIH0sXHJcbiAgICB2aWRlb3BhdGg6IHtcclxuICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgcmVxdWlyZWQ6IFt0cnVlLCAnVXBsb2FkIHZpZGVvIG5lZWRzIGEgdmlkZW8gcGF0aCddLFxyXG4gICAgICAgIHVuaXF1ZTogW3RydWUsICdWaWRlbyBwYXRoIGFscmVhZHkgZXhpc3QnXVxyXG4gICAgfSxcclxuICAgIGNhdGVnb3J5OiB7XHJcbiAgICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICAgIGVudW06IFtcIlNwb3J0c1wiLCBcIk5ld3NcIiwgXCJUZWNobm9sb2d5XCIsIFwiTXVzaWNcIiwgXCJHYW1lc1wiLCBcIkZhc2hpb25cIiwgXCJQZXRcIiwgXCJUcmF2ZWxcIiwgXCJPdGhlcnNcIl0sXHJcbiAgICAgICAgcmVxdWlyZWQ6IHRydWVcclxuICAgIH0sXHJcbiAgICBsaWtlczoge1xyXG4gICAgICAgIHR5cGU6IE51bWJlcixcclxuICAgICAgICBkZWZhdWx0OiAwXHJcbiAgICB9LFxyXG4gICAgZGlzbGlrZXM6IHtcclxuICAgICAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICAgICAgZGVmYXVsdDogMFxyXG4gICAgfSxcclxuICAgIHZpZXdzOiB7XHJcbiAgICAgICAgdHlwZTogQXJyYXksXHJcbiAgICAgICAgZGVmYXVsdDogW11cclxuICAgIH0sXHJcbiAgICBjb21tZW50czoge1xyXG4gICAgICAgIHR5cGU6IEFycmF5LFxyXG4gICAgICAgIGRlZmF1bHQ6IFtdXHJcbiAgICB9LFxyXG4gICAgZGVzY3JpcHRpb246IHtcclxuICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgcmVxdWlyZWQ6IFt0cnVlLCAnVXBsb2FkIHZpZGVvIG5lZWRzIGEgRGVzY3JpcHRpb24nXVxyXG4gICAgfSxcclxuXHJcbn0pXHJcbmV4cG9ydCBjb25zdCB2aWRlb01vZGVsID0gbW9kZWwoJ3ZpZGVvJywgdmlkZW9TY2hlbWEpIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBRUEsSUFBTUEsV0FBVyxHQUFHLElBQUlDLGdCQUFKLENBQVc7RUFDM0JDLEtBQUssRUFBRTtJQUNIQyxJQUFJLEVBQUVGLGdCQUFBLENBQU9HLEtBQVAsQ0FBYUMsUUFEaEI7SUFFSEMsR0FBRyxFQUFFO0VBRkYsQ0FEb0I7RUFLM0JDLFFBQVEsRUFBRTtJQUNOSixJQUFJLEVBQUVLO0VBREEsQ0FMaUI7RUFRM0JDLElBQUksRUFBRTtJQUNGTixJQUFJLEVBQUVLLE1BREo7SUFFRkUsUUFBUSxFQUFFLENBQUMsSUFBRCxFQUFPLGlDQUFQO0VBRlIsQ0FScUI7RUFZM0JDLFNBQVMsRUFBRTtJQUNQUixJQUFJLEVBQUVLLE1BREM7SUFFUEUsUUFBUSxFQUFFLENBQUMsSUFBRCxFQUFPLGlDQUFQLENBRkg7SUFHUEUsTUFBTSxFQUFFLENBQUMsSUFBRCxFQUFPLDBCQUFQO0VBSEQsQ0FaZ0I7RUFpQjNCQyxRQUFRLEVBQUU7SUFDTlYsSUFBSSxFQUFFSyxNQURBO0lBRU4sUUFBTSxDQUFDLFFBQUQsRUFBVyxNQUFYLEVBQW1CLFlBQW5CLEVBQWlDLE9BQWpDLEVBQTBDLE9BQTFDLEVBQW1ELFNBQW5ELEVBQThELEtBQTlELEVBQXFFLFFBQXJFLEVBQStFLFFBQS9FLENBRkE7SUFHTkUsUUFBUSxFQUFFO0VBSEosQ0FqQmlCO0VBc0IzQkksS0FBSyxFQUFFO0lBQ0hYLElBQUksRUFBRVksTUFESDtJQUVILFdBQVM7RUFGTixDQXRCb0I7RUEwQjNCQyxRQUFRLEVBQUU7SUFDTmIsSUFBSSxFQUFFWSxNQURBO0lBRU4sV0FBUztFQUZILENBMUJpQjtFQThCM0JFLEtBQUssRUFBRTtJQUNIZCxJQUFJLEVBQUVlLEtBREg7SUFFSCxXQUFTO0VBRk4sQ0E5Qm9CO0VBa0MzQkMsUUFBUSxFQUFFO0lBQ05oQixJQUFJLEVBQUVlLEtBREE7SUFFTixXQUFTO0VBRkgsQ0FsQ2lCO0VBc0MzQkUsV0FBVyxFQUFFO0lBQ1RqQixJQUFJLEVBQUVLLE1BREc7SUFFVEUsUUFBUSxFQUFFLENBQUMsSUFBRCxFQUFPLGtDQUFQO0VBRkQ7QUF0Q2MsQ0FBWCxDQUFwQjtBQTRDTyxJQUFNVyxVQUFVLEdBQUcsSUFBQUMsZUFBQSxFQUFNLE9BQU4sRUFBZXRCLFdBQWYsQ0FBbkIifQ==","map":{"version":3,"names":["videoSchema","Schema","owner","type","Types","ObjectId","ref","username","String","name","required","videopath","unique","category","likes","Number","dislikes","views","Array","comments","description","videoModel","model"],"sourceRoot":"D:\\School\\IT Project\\IT-PROJECT\\backend3\\src\\Models\\","sources":["Video.model.js"],"sourcesContent":["import { Schema, model } from 'mongoose'\r\n\r\nconst videoSchema = new Schema({\r\n    owner: {\r\n        type: Schema.Types.ObjectId,\r\n        ref: 'user'\r\n    },\r\n    username: {\r\n        type: String,\r\n    },\r\n    name: {\r\n        type: String,\r\n        required: [true, 'Upload video needs a video name']\r\n    },\r\n    videopath: {\r\n        type: String,\r\n        required: [true, 'Upload video needs a video path'],\r\n        unique: [true, 'Video path already exist']\r\n    },\r\n    category: {\r\n        type: String,\r\n        enum: [\"Sports\", \"News\", \"Technology\", \"Music\", \"Games\", \"Fashion\", \"Pet\", \"Travel\", \"Others\"],\r\n        required: true\r\n    },\r\n    likes: {\r\n        type: Number,\r\n        default: 0\r\n    },\r\n    dislikes: {\r\n        type: Number,\r\n        default: 0\r\n    },\r\n    views: {\r\n        type: Array,\r\n        default: []\r\n    },\r\n    comments: {\r\n        type: Array,\r\n        default: []\r\n    },\r\n    description: {\r\n        type: String,\r\n        required: [true, 'Upload video needs a Description']\r\n    },\r\n\r\n})\r\nexport const videoModel = model('video', videoSchema)"],"mappings":";;;;;;;AAAA;;AAEA,IAAMA,WAAW,GAAG,IAAIC,gBAAJ,CAAW;EAC3BC,KAAK,EAAE;IACHC,IAAI,EAAEF,gBAAA,CAAOG,KAAP,CAAaC,QADhB;IAEHC,GAAG,EAAE;EAFF,CADoB;EAK3BC,QAAQ,EAAE;IACNJ,IAAI,EAAEK;EADA,CALiB;EAQ3BC,IAAI,EAAE;IACFN,IAAI,EAAEK,MADJ;IAEFE,QAAQ,EAAE,CAAC,IAAD,EAAO,iCAAP;EAFR,CARqB;EAY3BC,SAAS,EAAE;IACPR,IAAI,EAAEK,MADC;IAEPE,QAAQ,EAAE,CAAC,IAAD,EAAO,iCAAP,CAFH;IAGPE,MAAM,EAAE,CAAC,IAAD,EAAO,0BAAP;EAHD,CAZgB;EAiB3BC,QAAQ,EAAE;IACNV,IAAI,EAAEK,MADA;IAEN,QAAM,CAAC,QAAD,EAAW,MAAX,EAAmB,YAAnB,EAAiC,OAAjC,EAA0C,OAA1C,EAAmD,SAAnD,EAA8D,KAA9D,EAAqE,QAArE,EAA+E,QAA/E,CAFA;IAGNE,QAAQ,EAAE;EAHJ,CAjBiB;EAsB3BI,KAAK,EAAE;IACHX,IAAI,EAAEY,MADH;IAEH,WAAS;EAFN,CAtBoB;EA0B3BC,QAAQ,EAAE;IACNb,IAAI,EAAEY,MADA;IAEN,WAAS;EAFH,CA1BiB;EA8B3BE,KAAK,EAAE;IACHd,IAAI,EAAEe,KADH;IAEH,WAAS;EAFN,CA9BoB;EAkC3BC,QAAQ,EAAE;IACNhB,IAAI,EAAEe,KADA;IAEN,WAAS;EAFH,CAlCiB;EAsC3BE,WAAW,EAAE;IACTjB,IAAI,EAAEK,MADG;IAETE,QAAQ,EAAE,CAAC,IAAD,EAAO,kCAAP;EAFD;AAtCc,CAAX,CAApB;AA4CO,IAAMW,UAAU,GAAG,IAAAC,eAAA,EAAM,OAAN,EAAetB,WAAf,CAAnB"}},"mtime":1666089900931},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"filename\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _mongoose = require(\"mongoose\");\n\nvar _dotenv = require(\"dotenv\");\n\nvar _Auth = _interopRequireDefault(require(\"./Routes/Auth.routes\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _Video = _interopRequireDefault(require(\"./Routes/Video.routes\"));\n\nvar _process$env$PORT;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n(0, _dotenv.config)();\nvar server = (0, _express[\"default\"])(); //==============MiddleWares===========================================\n\nserver.use((0, _cors[\"default\"])()); //==========mongo DB connection========================================\n\nvar mongoURI = process.env.mongoURI;\n(0, _mongoose.connect)(mongoURI, function (error) {\n  if (error) {\n    return console.log(error);\n  }\n\n  console.log('connection to mongo DB successful!!!');\n}); //==============================server endpoints=============================\n\nserver.use(_Auth[\"default\"]);\nserver.use(_Video[\"default\"]);\nvar PORT = (_process$env$PORT = process.env.PORT) !== null && _process$env$PORT !== void 0 ? _process$env$PORT : 3000;\nserver.listen(PORT, function () {\n  console.log(\"Server started on PORT \".concat(PORT));\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25maWciLCJzZXJ2ZXIiLCJleHByZXNzIiwidXNlIiwiY29ycyIsIm1vbmdvVVJJIiwicHJvY2VzcyIsImVudiIsImNvbm5lY3QiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJBdXRoUm91dGVzIiwiVmlkZW9Sb3V0ZXMiLCJQT1JUIiwibGlzdGVuIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXDExNzgxXFxEb2N1bWVudHNcXEdpdEh1YlxcSVQtUFJPSkVDVFxcYmFja2VuZDNcXHNyY1xcIiwic291cmNlcyI6WyJzZXJ2ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XHJcbmltcG9ydHsgY29ubmVjdCB9IGZyb20gJ21vbmdvb3NlJztcclxuaW1wb3J0eyBjb25maWcgfSBmcm9tICdkb3RlbnYnO1xyXG5pbXBvcnQgQXV0aFJvdXRlcyBmcm9tICcuL1JvdXRlcy9BdXRoLnJvdXRlcydcclxuaW1wb3J0IGNvcnMgZnJvbSAnY29ycydcclxuaW1wb3J0IFZpZGVvUm91dGVzIGZyb20gJy4vUm91dGVzL1ZpZGVvLnJvdXRlcydcclxuXHJcbmNvbmZpZygpO1xyXG5cclxuY29uc3Qgc2VydmVyID0gZXhwcmVzcygpO1xyXG4vLz09PT09PT09PT09PT09TWlkZGxlV2FyZXM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbnNlcnZlci51c2UoY29ycygpKVxyXG4vLz09PT09PT09PT1tb25nbyBEQiBjb25uZWN0aW9uPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5jb25zdCBtb25nb1VSSSA9IHByb2Nlc3MuZW52Lm1vbmdvVVJJO1xyXG5jb25uZWN0KG1vbmdvVVJJLCAoZXJyb3IpPT57XHJcbiAgICBpZihlcnJvcil7XHJcbiAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgIH1cclxuICAgIGNvbnNvbGUubG9nKCdjb25uZWN0aW9uIHRvIG1vbmdvIERCIHN1Y2Nlc3NmdWwhISEnKVxyXG59KVxyXG5cclxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1zZXJ2ZXIgZW5kcG9pbnRzPT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuc2VydmVyLnVzZShBdXRoUm91dGVzKVxyXG5zZXJ2ZXIudXNlKFZpZGVvUm91dGVzKVxyXG5cclxuY29uc3QgUE9SVCA9IHByb2Nlc3MuZW52LlBPUlQgPz8gMzAwMDtcclxuXHJcblxyXG5zZXJ2ZXIubGlzdGVuKFBPUlQsICgpPT57XHJcbiAgICBjb25zb2xlLmxvZyhgU2VydmVyIHN0YXJ0ZWQgb24gUE9SVCAke1BPUlR9YClcclxufSkiXSwibWFwcGluZ3MiOiI7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7OztBQUVBLElBQUFBLGNBQUE7QUFFQSxJQUFNQyxNQUFNLEdBQUcsSUFBQUMsbUJBQUEsR0FBZixDLENBQ0E7O0FBQ0FELE1BQU0sQ0FBQ0UsR0FBUCxDQUFXLElBQUFDLGdCQUFBLEdBQVgsRSxDQUNBOztBQUNBLElBQU1DLFFBQVEsR0FBR0MsT0FBTyxDQUFDQyxHQUFSLENBQVlGLFFBQTdCO0FBQ0EsSUFBQUcsaUJBQUEsRUFBUUgsUUFBUixFQUFrQixVQUFDSSxLQUFELEVBQVM7RUFDdkIsSUFBR0EsS0FBSCxFQUFTO0lBQ0wsT0FBT0MsT0FBTyxDQUFDQyxHQUFSLENBQVlGLEtBQVosQ0FBUDtFQUNIOztFQUNEQyxPQUFPLENBQUNDLEdBQVIsQ0FBWSxzQ0FBWjtBQUNILENBTEQsRSxDQU9BOztBQUNBVixNQUFNLENBQUNFLEdBQVAsQ0FBV1MsZ0JBQVg7QUFDQVgsTUFBTSxDQUFDRSxHQUFQLENBQVdVLGlCQUFYO0FBRUEsSUFBTUMsSUFBSSx3QkFBR1IsT0FBTyxDQUFDQyxHQUFSLENBQVlPLElBQWYsaUVBQXVCLElBQWpDO0FBR0FiLE1BQU0sQ0FBQ2MsTUFBUCxDQUFjRCxJQUFkLEVBQW9CLFlBQUk7RUFDcEJKLE9BQU8sQ0FBQ0MsR0FBUixrQ0FBc0NHLElBQXRDO0FBQ0gsQ0FGRCJ9","map":{"version":3,"names":["config","server","express","use","cors","mongoURI","process","env","connect","error","console","log","AuthRoutes","VideoRoutes","PORT","listen"],"sourceRoot":"C:\\Users\\11781\\Documents\\GitHub\\IT-PROJECT\\backend3\\src\\","sources":["server.js"],"sourcesContent":["import express from 'express';\r\nimport{ connect } from 'mongoose';\r\nimport{ config } from 'dotenv';\r\nimport AuthRoutes from './Routes/Auth.routes'\r\nimport cors from 'cors'\r\nimport VideoRoutes from './Routes/Video.routes'\r\n\r\nconfig();\r\n\r\nconst server = express();\r\n//==============MiddleWares===========================================\r\nserver.use(cors())\r\n//==========mongo DB connection========================================\r\nconst mongoURI = process.env.mongoURI;\r\nconnect(mongoURI, (error)=>{\r\n    if(error){\r\n        return console.log(error);\r\n    }\r\n    console.log('connection to mongo DB successful!!!')\r\n})\r\n\r\n//==============================server endpoints=============================\r\nserver.use(AuthRoutes)\r\nserver.use(VideoRoutes)\r\n\r\nconst PORT = process.env.PORT ?? 3000;\r\n\r\n\r\nserver.listen(PORT, ()=>{\r\n    console.log(`Server started on PORT ${PORT}`)\r\n})"],"mappings":";;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;AAEA,IAAAA,cAAA;AAEA,IAAMC,MAAM,GAAG,IAAAC,mBAAA,GAAf,C,CACA;;AACAD,MAAM,CAACE,GAAP,CAAW,IAAAC,gBAAA,GAAX,E,CACA;;AACA,IAAMC,QAAQ,GAAGC,OAAO,CAACC,GAAR,CAAYF,QAA7B;AACA,IAAAG,iBAAA,EAAQH,QAAR,EAAkB,UAACI,KAAD,EAAS;EACvB,IAAGA,KAAH,EAAS;IACL,OAAOC,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAP;EACH;;EACDC,OAAO,CAACC,GAAR,CAAY,sCAAZ;AACH,CALD,E,CAOA;;AACAV,MAAM,CAACE,GAAP,CAAWS,gBAAX;AACAX,MAAM,CAACE,GAAP,CAAWU,iBAAX;AAEA,IAAMC,IAAI,wBAAGR,OAAO,CAACC,GAAR,CAAYO,IAAf,iEAAuB,IAAjC;AAGAb,MAAM,CAACc,MAAP,CAAcD,IAAd,EAAoB,YAAI;EACpBJ,OAAO,CAACC,GAAR,kCAAsCG,IAAtC;AACH,CAFD"}},"mtime":1662448999288},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"filename\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Routes\\\\Auth.routes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _express = require(\"express\");\n\nvar _Auth = require(\"../Controller/Auth.controller\");\n\nvar router = (0, _express.Router)();\nvar Controller = new _Auth.AuthController(); //router.post('/app/signup')\n\nrouter.post('/api/signup', function (request, response) {\n  Controller.signup(request, response);\n});\nrouter.post('/api/signin', function (request, response) {\n  Controller.signin(request, response);\n}); // reset password\n\nrouter.post('/api/password-reset', function (request, response) {\n  Controller.forgotPassword(request, response);\n}); // delet a user from mongo DB\n\nrouter.post('/api/delete', function (request, response) {\n  Controller[\"delete\"](request, response);\n}); //find all user and return \n\nrouter.get('/api/findall', function (request, response) {\n  Controller.findAllUser(request, response);\n}); // update user information\n\nrouter.put('/api/update/:email', function (request, response) {\n  Controller.update(request, response);\n}); // search for a user\n\nrouter.get('/api/search/', function (request, response) {\n  Controller.searchUser(request, response);\n}); // Update user info including  email, password, username, age and gender\n\nrouter.post('/api/update', function (request, response) {\n  Controller.update(request, response);\n});\nvar _default = router; //module.exports = router;\n\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJSb3V0ZXIiLCJDb250cm9sbGVyIiwiQXV0aENvbnRyb2xsZXIiLCJwb3N0IiwicmVxdWVzdCIsInJlc3BvbnNlIiwic2lnbnVwIiwic2lnbmluIiwiZm9yZ290UGFzc3dvcmQiLCJnZXQiLCJmaW5kQWxsVXNlciIsInB1dCIsInVwZGF0ZSIsInNlYXJjaFVzZXIiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcMTE3ODFcXERvY3VtZW50c1xcR2l0SHViXFxJVC1QUk9KRUNUXFxiYWNrZW5kM1xcc3JjXFxSb3V0ZXNcXCIsInNvdXJjZXMiOlsiQXV0aC5yb3V0ZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtSb3V0ZXJ9IGZyb20gJ2V4cHJlc3MnO1xyXG5pbXBvcnQge0F1dGhDb250cm9sbGVyfSBmcm9tICcuLi9Db250cm9sbGVyL0F1dGguY29udHJvbGxlcic7XHJcbiBcclxuXHJcbmNvbnN0IHJvdXRlciA9IFJvdXRlcigpO1xyXG5jb25zdCBDb250cm9sbGVyID0gbmV3IEF1dGhDb250cm9sbGVyKCk7XHJcblxyXG4vL3JvdXRlci5wb3N0KCcvYXBwL3NpZ251cCcpXHJcbnJvdXRlci5wb3N0KCcvYXBpL3NpZ251cCcsKHJlcXVlc3QscmVzcG9uc2UpPT57XHJcbiAgICBDb250cm9sbGVyLnNpZ251cChyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcbnJvdXRlci5wb3N0KCcvYXBpL3NpZ25pbicsKHJlcXVlc3QscmVzcG9uc2UpPT57XHJcbiAgICBDb250cm9sbGVyLnNpZ25pbihyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcbi8vIHJlc2V0IHBhc3N3b3JkXHJcbnJvdXRlci5wb3N0KCcvYXBpL3Bhc3N3b3JkLXJlc2V0JywocmVxdWVzdCxyZXNwb25zZSk9PntcclxuICAgIENvbnRyb2xsZXIuZm9yZ290UGFzc3dvcmQocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG4gXHJcbi8vIGRlbGV0IGEgdXNlciBmcm9tIG1vbmdvIERCXHJcbnJvdXRlci5wb3N0KCcvYXBpL2RlbGV0ZScsKHJlcXVlc3QscmVzcG9uc2UpPT57XHJcbiAgICBDb250cm9sbGVyLmRlbGV0ZShyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcbi8vZmluZCBhbGwgdXNlciBhbmQgcmV0dXJuIFxyXG5yb3V0ZXIuZ2V0KCcvYXBpL2ZpbmRhbGwnLChyZXF1ZXN0LHJlc3BvbnNlKT0+e1xyXG4gICAgQ29udHJvbGxlci5maW5kQWxsVXNlciAocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG4vLyB1cGRhdGUgdXNlciBpbmZvcm1hdGlvblxyXG5yb3V0ZXIucHV0KCcvYXBpL3VwZGF0ZS86ZW1haWwnLChyZXF1ZXN0LHJlc3BvbnNlKT0+e1xyXG4gICAgQ29udHJvbGxlci51cGRhdGUgKHJlcXVlc3QsIHJlc3BvbnNlKVxyXG59KVxyXG5cclxuXHJcbi8vIHNlYXJjaCBmb3IgYSB1c2VyXHJcbnJvdXRlci5nZXQoJy9hcGkvc2VhcmNoLycsKHJlcXVlc3QscmVzcG9uc2UpPT57XHJcbiAgICBDb250cm9sbGVyLnNlYXJjaFVzZXIgKHJlcXVlc3QsIHJlc3BvbnNlKVxyXG59KVxyXG5cclxuLy8gVXBkYXRlIHVzZXIgaW5mbyBpbmNsdWRpbmcgIGVtYWlsLCBwYXNzd29yZCwgdXNlcm5hbWUsIGFnZSBhbmQgZ2VuZGVyXHJcbnJvdXRlci5wb3N0KCcvYXBpL3VwZGF0ZScsKHJlcXVlc3QscmVzcG9uc2UpPT57XHJcbiAgICBDb250cm9sbGVyLnVwZGF0ZShyZXF1ZXN0LHJlc3BvbnNlKSAgXHJcbn0pXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcclxuLy9tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFHQSxJQUFNQSxNQUFNLEdBQUcsSUFBQUMsZUFBQSxHQUFmO0FBQ0EsSUFBTUMsVUFBVSxHQUFHLElBQUlDLG9CQUFKLEVBQW5CLEMsQ0FFQTs7QUFDQUgsTUFBTSxDQUFDSSxJQUFQLENBQVksYUFBWixFQUEwQixVQUFDQyxPQUFELEVBQVNDLFFBQVQsRUFBb0I7RUFDMUNKLFVBQVUsQ0FBQ0ssTUFBWCxDQUFrQkYsT0FBbEIsRUFBMkJDLFFBQTNCO0FBQ0gsQ0FGRDtBQUlBTixNQUFNLENBQUNJLElBQVAsQ0FBWSxhQUFaLEVBQTBCLFVBQUNDLE9BQUQsRUFBU0MsUUFBVCxFQUFvQjtFQUMxQ0osVUFBVSxDQUFDTSxNQUFYLENBQWtCSCxPQUFsQixFQUEyQkMsUUFBM0I7QUFDSCxDQUZELEUsQ0FJQTs7QUFDQU4sTUFBTSxDQUFDSSxJQUFQLENBQVkscUJBQVosRUFBa0MsVUFBQ0MsT0FBRCxFQUFTQyxRQUFULEVBQW9CO0VBQ2xESixVQUFVLENBQUNPLGNBQVgsQ0FBMEJKLE9BQTFCLEVBQW1DQyxRQUFuQztBQUNILENBRkQsRSxDQUtBOztBQUNBTixNQUFNLENBQUNJLElBQVAsQ0FBWSxhQUFaLEVBQTBCLFVBQUNDLE9BQUQsRUFBU0MsUUFBVCxFQUFvQjtFQUMxQ0osVUFBVSxVQUFWLENBQWtCRyxPQUFsQixFQUEyQkMsUUFBM0I7QUFDSCxDQUZELEUsQ0FJQTs7QUFDQU4sTUFBTSxDQUFDVSxHQUFQLENBQVcsY0FBWCxFQUEwQixVQUFDTCxPQUFELEVBQVNDLFFBQVQsRUFBb0I7RUFDMUNKLFVBQVUsQ0FBQ1MsV0FBWCxDQUF3Qk4sT0FBeEIsRUFBaUNDLFFBQWpDO0FBQ0gsQ0FGRCxFLENBSUE7O0FBQ0FOLE1BQU0sQ0FBQ1ksR0FBUCxDQUFXLG9CQUFYLEVBQWdDLFVBQUNQLE9BQUQsRUFBU0MsUUFBVCxFQUFvQjtFQUNoREosVUFBVSxDQUFDVyxNQUFYLENBQW1CUixPQUFuQixFQUE0QkMsUUFBNUI7QUFDSCxDQUZELEUsQ0FLQTs7QUFDQU4sTUFBTSxDQUFDVSxHQUFQLENBQVcsY0FBWCxFQUEwQixVQUFDTCxPQUFELEVBQVNDLFFBQVQsRUFBb0I7RUFDMUNKLFVBQVUsQ0FBQ1ksVUFBWCxDQUF1QlQsT0FBdkIsRUFBZ0NDLFFBQWhDO0FBQ0gsQ0FGRCxFLENBSUE7O0FBQ0FOLE1BQU0sQ0FBQ0ksSUFBUCxDQUFZLGFBQVosRUFBMEIsVUFBQ0MsT0FBRCxFQUFTQyxRQUFULEVBQW9CO0VBQzFDSixVQUFVLENBQUNXLE1BQVgsQ0FBa0JSLE9BQWxCLEVBQTBCQyxRQUExQjtBQUNILENBRkQ7ZUFTZU4sTSxFQUNmIn0=","map":{"version":3,"names":["router","Router","Controller","AuthController","post","request","response","signup","signin","forgotPassword","get","findAllUser","put","update","searchUser"],"sourceRoot":"C:\\Users\\11781\\Documents\\GitHub\\IT-PROJECT\\backend3\\src\\Routes\\","sources":["Auth.routes.js"],"sourcesContent":["import {Router} from 'express';\r\nimport {AuthController} from '../Controller/Auth.controller';\r\n \r\n\r\nconst router = Router();\r\nconst Controller = new AuthController();\r\n\r\n//router.post('/app/signup')\r\nrouter.post('/api/signup',(request,response)=>{\r\n    Controller.signup(request, response)\r\n})\r\n\r\nrouter.post('/api/signin',(request,response)=>{\r\n    Controller.signin(request, response)\r\n})\r\n\r\n// reset password\r\nrouter.post('/api/password-reset',(request,response)=>{\r\n    Controller.forgotPassword(request, response)\r\n})\r\n\r\n \r\n// delet a user from mongo DB\r\nrouter.post('/api/delete',(request,response)=>{\r\n    Controller.delete(request, response)\r\n})\r\n\r\n//find all user and return \r\nrouter.get('/api/findall',(request,response)=>{\r\n    Controller.findAllUser (request, response)\r\n})\r\n\r\n// update user information\r\nrouter.put('/api/update/:email',(request,response)=>{\r\n    Controller.update (request, response)\r\n})\r\n\r\n\r\n// search for a user\r\nrouter.get('/api/search/',(request,response)=>{\r\n    Controller.searchUser (request, response)\r\n})\r\n\r\n// Update user info including  email, password, username, age and gender\r\nrouter.post('/api/update',(request,response)=>{\r\n    Controller.update(request,response)  \r\n})\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default router;\r\n//module.exports = router;"],"mappings":";;;;;;;AAAA;;AACA;;AAGA,IAAMA,MAAM,GAAG,IAAAC,eAAA,GAAf;AACA,IAAMC,UAAU,GAAG,IAAIC,oBAAJ,EAAnB,C,CAEA;;AACAH,MAAM,CAACI,IAAP,CAAY,aAAZ,EAA0B,UAACC,OAAD,EAASC,QAAT,EAAoB;EAC1CJ,UAAU,CAACK,MAAX,CAAkBF,OAAlB,EAA2BC,QAA3B;AACH,CAFD;AAIAN,MAAM,CAACI,IAAP,CAAY,aAAZ,EAA0B,UAACC,OAAD,EAASC,QAAT,EAAoB;EAC1CJ,UAAU,CAACM,MAAX,CAAkBH,OAAlB,EAA2BC,QAA3B;AACH,CAFD,E,CAIA;;AACAN,MAAM,CAACI,IAAP,CAAY,qBAAZ,EAAkC,UAACC,OAAD,EAASC,QAAT,EAAoB;EAClDJ,UAAU,CAACO,cAAX,CAA0BJ,OAA1B,EAAmCC,QAAnC;AACH,CAFD,E,CAKA;;AACAN,MAAM,CAACI,IAAP,CAAY,aAAZ,EAA0B,UAACC,OAAD,EAASC,QAAT,EAAoB;EAC1CJ,UAAU,UAAV,CAAkBG,OAAlB,EAA2BC,QAA3B;AACH,CAFD,E,CAIA;;AACAN,MAAM,CAACU,GAAP,CAAW,cAAX,EAA0B,UAACL,OAAD,EAASC,QAAT,EAAoB;EAC1CJ,UAAU,CAACS,WAAX,CAAwBN,OAAxB,EAAiCC,QAAjC;AACH,CAFD,E,CAIA;;AACAN,MAAM,CAACY,GAAP,CAAW,oBAAX,EAAgC,UAACP,OAAD,EAASC,QAAT,EAAoB;EAChDJ,UAAU,CAACW,MAAX,CAAmBR,OAAnB,EAA4BC,QAA5B;AACH,CAFD,E,CAKA;;AACAN,MAAM,CAACU,GAAP,CAAW,cAAX,EAA0B,UAACL,OAAD,EAASC,QAAT,EAAoB;EAC1CJ,UAAU,CAACY,UAAX,CAAuBT,OAAvB,EAAgCC,QAAhC;AACH,CAFD,E,CAIA;;AACAN,MAAM,CAACI,IAAP,CAAY,aAAZ,EAA0B,UAACC,OAAD,EAASC,QAAT,EAAoB;EAC1CJ,UAAU,CAACW,MAAX,CAAkBR,OAAlB,EAA0BC,QAA1B;AACH,CAFD;eASeN,M,EACf"}},"mtime":1665044761623},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Controller\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"filename\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Controller\\\\Auth.controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AuthController = void 0;\n\nvar _formidable = require(\"formidable\");\n\nvar _bcrypt = require(\"bcrypt\");\n\nvar _dotenv = require(\"dotenv\");\n\nvar _jsonwebtoken = require(\"jsonwebtoken\");\n\nvar _User = require(\"../Models/User.model\");\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n(0, _dotenv.config)();\n\nvar AuthController = /*#__PURE__*/function () {\n  function AuthController() {\n    _classCallCheck(this, AuthController);\n  }\n\n  _createClass(AuthController, [{\n    key: \"signup\",\n    value: //signup method\n    function signup(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(error, fields, files) {\n          var username, email, password, age, gender, salt, hashedPassword, newAccount, savedAccount;\n          return _regeneratorRuntime().wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  if (!error) {\n                    _context.next = 2;\n                    break;\n                  }\n\n                  return _context.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to create account, maybe try again later'\n                  }));\n\n                case 2:\n                  username = fields.username, email = fields.email, password = fields.password, age = fields.age, gender = fields.gender;\n\n                  if (!(password.length > 20 || password.length < 6)) {\n                    _context.next = 5;\n                    break;\n                  }\n\n                  return _context.abrupt(\"return\", response.status(503).json({\n                    msg: 'Password length need to be 6-20 range'\n                  }));\n\n                case 5:\n                  if (!(age > 150 || age < 0)) {\n                    _context.next = 7;\n                    break;\n                  }\n\n                  return _context.abrupt(\"return\", response.status(502).json({\n                    msg: 'Invalid age'\n                  }));\n\n                case 7:\n                  _context.next = 9;\n                  return (0, _bcrypt.genSalt)(15);\n\n                case 9:\n                  salt = _context.sent;\n                  _context.next = 12;\n                  return (0, _bcrypt.hash)(password, salt);\n\n                case 12:\n                  hashedPassword = _context.sent;\n                  newAccount = new _User.userModel({\n                    username: username,\n                    email: email,\n                    password: hashedPassword,\n                    age: age,\n                    gender: gender\n                  }); // create an account successful or failed\n\n                  _context.prev = 14;\n                  _context.next = 17;\n                  return newAccount.save();\n\n                case 17:\n                  savedAccount = _context.sent;\n                  return _context.abrupt(\"return\", response.status(201).json({\n                    msg: 'Account created successfully'\n                  }));\n\n                case 21:\n                  _context.prev = 21;\n                  _context.t0 = _context[\"catch\"](14);\n                  console.log(_context.t0);\n                  return _context.abrupt(\"return\", response.status(501).json({\n                    msg: 'format error'\n                  }));\n\n                case 25:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, null, [[14, 21]]);\n        }));\n\n        return function (_x, _x2, _x3) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n    } // sign in\n\n  }, {\n    key: \"signin\",\n    value: function signin(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(error, fields, files) {\n          var account, password, isAccountEmail, _user, _isPasswordValid, _token_payload, _token, _username, user, isPasswordValid, token_payload, token, username;\n\n          return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  if (!error) {\n                    _context2.next = 2;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to signin'\n                  }));\n\n                case 2:\n                  account = fields.account, password = fields.password; // email log in \n\n                  isAccountEmail = account.includes('@');\n\n                  if (!isAccountEmail) {\n                    _context2.next = 19;\n                    break;\n                  }\n\n                  _context2.next = 7;\n                  return _User.userModel.findOne({\n                    email: account\n                  });\n\n                case 7:\n                  _user = _context2.sent;\n\n                  if (_user) {\n                    _context2.next = 10;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\", response.status(404).json({\n                    msg: 'Email of this account does not exist'\n                  }));\n\n                case 10:\n                  _context2.next = 12;\n                  return (0, _bcrypt.compare)(password, _user.password);\n\n                case 12:\n                  _isPasswordValid = _context2.sent;\n\n                  if (_isPasswordValid) {\n                    _context2.next = 15;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\", response.status(400).json({\n                    msg: 'Invalid password'\n                  }));\n\n                case 15:\n                  _token_payload = {\n                    _id: _user._id,\n                    email: _user.email,\n                    username: _user.username\n                  };\n                  _token = (0, _jsonwebtoken.sign)(_token_payload, process.env.cookie_secret, {\n                    expiresIn: '365d'\n                  });\n                  _username = _token_payload.username;\n                  return _context2.abrupt(\"return\", response.status(200).json({\n                    token: _token,\n                    username: _username\n                  }));\n\n                case 19:\n                  _context2.next = 21;\n                  return _User.userModel.findOne({\n                    username: account\n                  });\n\n                case 21:\n                  user = _context2.sent;\n\n                  if (user) {\n                    _context2.next = 24;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\", response.status(404).json({\n                    msg: 'username of this account does not exist'\n                  }));\n\n                case 24:\n                  _context2.next = 26;\n                  return (0, _bcrypt.compare)(password, user.password);\n\n                case 26:\n                  isPasswordValid = _context2.sent;\n\n                  if (isPasswordValid) {\n                    _context2.next = 29;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\", response.status(400).json({\n                    msg: 'Invalid password'\n                  }));\n\n                case 29:\n                  token_payload = {\n                    _id: user._id,\n                    email: user.email,\n                    username: user.username\n                  };\n                  token = (0, _jsonwebtoken.sign)(token_payload, process.env.cookie_secret, {\n                    expiresIn: '365d'\n                  });\n                  username = token_payload.username;\n                  return _context2.abrupt(\"return\", response.status(200).json({\n                    token: token,\n                    username: username\n                  }));\n\n                case 33:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2);\n        }));\n\n        return function (_x4, _x5, _x6) {\n          return _ref2.apply(this, arguments);\n        };\n      }());\n    } // forgot password and reset\n\n  }, {\n    key: \"forgotPassword\",\n    value: function forgotPassword(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(error, fields, files) {\n          var email, password, salt, hashedPassword, user, updatedAccount;\n          return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n            while (1) {\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  if (!error) {\n                    _context3.next = 2;\n                    break;\n                  }\n\n                  return _context3.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to rset password'\n                  }));\n\n                case 2:\n                  email = fields.email, password = fields.password;\n\n                  if (!(!email || !password)) {\n                    _context3.next = 5;\n                    break;\n                  }\n\n                  return _context3.abrupt(\"return\", response.status(400).json({\n                    msg: 'email and password are required to reset password '\n                  }));\n\n                case 5:\n                  _context3.next = 7;\n                  return (0, _bcrypt.genSalt)(15);\n\n                case 7:\n                  salt = _context3.sent;\n                  _context3.next = 10;\n                  return (0, _bcrypt.hash)(password, salt);\n\n                case 10:\n                  hashedPassword = _context3.sent;\n                  _context3.prev = 11;\n                  _context3.next = 14;\n                  return _User.userModel.findOne({\n                    email: email\n                  });\n\n                case 14:\n                  user = _context3.sent;\n\n                  if (user) {\n                    _context3.next = 17;\n                    break;\n                  }\n\n                  return _context3.abrupt(\"return\", response.status(404).json({\n                    msg: 'Account with this email does not exist'\n                  }));\n\n                case 17:\n                  _context3.next = 19;\n                  return _User.userModel.findOneAndUpdate({\n                    email: email\n                  }, {\n                    $set: {\n                      password: hashedPassword\n                    }\n                  }, {\n                    \"new\": true\n                  });\n\n                case 19:\n                  updatedAccount = _context3.sent;\n                  return _context3.abrupt(\"return\", response.status(200).json({\n                    msg: 'Password rest successful'\n                  }));\n\n                case 23:\n                  _context3.prev = 23;\n                  _context3.t0 = _context3[\"catch\"](11);\n                  return _context3.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to reset password'\n                  }));\n\n                case 26:\n                case \"end\":\n                  return _context3.stop();\n              }\n            }\n          }, _callee3, null, [[11, 23]]);\n        }));\n\n        return function (_x7, _x8, _x9) {\n          return _ref3.apply(this, arguments);\n        };\n      }());\n    } // updat user info such as username, password, age and gender via email.\n\n  }, {\n    key: \"update\",\n    value: function update(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(error, fields, files) {\n          var email, password, username, age, gender, salt, hashedPassword, newUsername, newAge, newGender, user, updatedAccount;\n          return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n            while (1) {\n              switch (_context4.prev = _context4.next) {\n                case 0:\n                  if (!error) {\n                    _context4.next = 2;\n                    break;\n                  }\n\n                  return _context4.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to rset password'\n                  }));\n\n                case 2:\n                  email = fields.email, password = fields.password, username = fields.username, age = fields.age, gender = fields.gender;\n\n                  if (!(!email || !password || !username || !age || !gender)) {\n                    _context4.next = 5;\n                    break;\n                  }\n\n                  return _context4.abrupt(\"return\", response.status(400).json({\n                    msg: 'emailpasswordusername, age and gender are required to edit '\n                  }));\n\n                case 5:\n                  _context4.next = 7;\n                  return (0, _bcrypt.genSalt)(15);\n\n                case 7:\n                  salt = _context4.sent;\n                  _context4.next = 10;\n                  return (0, _bcrypt.hash)(password, salt);\n\n                case 10:\n                  hashedPassword = _context4.sent;\n                  newUsername = username;\n                  newAge = age;\n                  newGender = gender;\n                  _context4.prev = 14;\n                  _context4.next = 17;\n                  return _User.userModel.findOne({\n                    email: email\n                  });\n\n                case 17:\n                  user = _context4.sent;\n\n                  if (user) {\n                    _context4.next = 20;\n                    break;\n                  }\n\n                  return _context4.abrupt(\"return\", response.status(404).json({\n                    msg: 'Account with this email does not exist'\n                  }));\n\n                case 20:\n                  _context4.next = 22;\n                  return _User.userModel.findOneAndUpdate({\n                    email: email\n                  }, {\n                    $set: {\n                      password: hashedPassword,\n                      username: newUsername,\n                      age: newAge,\n                      gender: newGender\n                    }\n                  }, {\n                    \"new\": true\n                  });\n\n                case 22:\n                  updatedAccount = _context4.sent;\n                  return _context4.abrupt(\"return\", response.status(200).json({\n                    msg: 'Edit successful'\n                  }));\n\n                case 26:\n                  _context4.prev = 26;\n                  _context4.t0 = _context4[\"catch\"](14);\n                  return _context4.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to Edit'\n                  }));\n\n                case 29:\n                case \"end\":\n                  return _context4.stop();\n              }\n            }\n          }, _callee4, null, [[14, 26]]);\n        }));\n\n        return function (_x10, _x11, _x12) {\n          return _ref4.apply(this, arguments);\n        };\n      }());\n    }\n    /* // updat user info such as user name via email.\r\n     update(request, response){\r\n         const form = new IncomingForm();\r\n         form.parse(request, async (error, fields, files)=>{\r\n             if(error){\r\n                 return response.status(500).json({msg:'Failed to update'})\r\n             }\r\n             try{\r\n                 const updatedAccount = userModel.findOneAndUpdate({email:email}, { $set:{username:username}})\r\n                 return response.send(user)   \r\n                 //return response.status(200).json({msg:'update successful'})\r\n             }catch(error){\r\n                 return response.status(500).json({msg:'Failed to update, maybe try again later'})\r\n             }\r\n         })\r\n     } */\n    //delete user account\n\n  }, {\n    key: \"delete\",\n    value: function _delete(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(error, fields, files) {\n          var email, user;\n          return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n            while (1) {\n              switch (_context5.prev = _context5.next) {\n                case 0:\n                  if (!error) {\n                    _context5.next = 2;\n                    break;\n                  }\n\n                  return _context5.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to delete account, maybe try again later'\n                  }));\n\n                case 2:\n                  email = fields.email;\n                  _context5.prev = 3;\n                  _context5.next = 6;\n                  return _User.userModel.findOneAndDelete({\n                    email: email\n                  });\n\n                case 6:\n                  user = _context5.sent;\n                  return _context5.abrupt(\"return\", response.status(200).json({\n                    msg: 'delete successful'\n                  }));\n\n                case 10:\n                  _context5.prev = 10;\n                  _context5.t0 = _context5[\"catch\"](3);\n                  return _context5.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to delete'\n                  }));\n\n                case 13:\n                case \"end\":\n                  return _context5.stop();\n              }\n            }\n          }, _callee5, null, [[3, 10]]);\n        }));\n\n        return function (_x13, _x14, _x15) {\n          return _ref5.apply(this, arguments);\n        };\n      }());\n    } // find all user\n\n  }, {\n    key: \"findAllUser\",\n    value: function findAllUser(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(error, fields, files) {\n          var user;\n          return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n            while (1) {\n              switch (_context6.prev = _context6.next) {\n                case 0:\n                  if (!error) {\n                    _context6.next = 2;\n                    break;\n                  }\n\n                  return _context6.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to delete account, maybe try again later'\n                  }));\n\n                case 2:\n                  _context6.prev = 2;\n                  _context6.next = 5;\n                  return _User.userModel.find();\n\n                case 5:\n                  user = _context6.sent;\n                  return _context6.abrupt(\"return\", response.send(user));\n\n                case 9:\n                  _context6.prev = 9;\n                  _context6.t0 = _context6[\"catch\"](2);\n                  return _context6.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed find all users'\n                  }));\n\n                case 12:\n                case \"end\":\n                  return _context6.stop();\n              }\n            }\n          }, _callee6, null, [[2, 9]]);\n        }));\n\n        return function (_x16, _x17, _x18) {\n          return _ref6.apply(this, arguments);\n        };\n      }());\n    } // search for a user by request params\n\n  }, {\n    key: \"searchUser\",\n    value: function () {\n      var _searchUser = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(request, response) {\n        var name, user;\n        return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                // const name = request.params.username;\n                name = request.query.username;\n                _context7.prev = 1;\n                _context7.next = 4;\n                return _User.userModel.find({\n                  username: {\n                    $regex: name\n                  }\n                });\n\n              case 4:\n                user = _context7.sent;\n                return _context7.abrupt(\"return\", response.send(user));\n\n              case 8:\n                _context7.prev = 8;\n                _context7.t0 = _context7[\"catch\"](1);\n                return _context7.abrupt(\"return\", response.status(500).json({\n                  msg: 'No matching user'\n                }));\n\n              case 11:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, null, [[1, 8]]);\n      }));\n\n      function searchUser(_x19, _x20) {\n        return _searchUser.apply(this, arguments);\n      }\n\n      return searchUser;\n    }()\n  }]);\n\n  return AuthController;\n}();\n\nexports.AuthController = AuthController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25maWciLCJBdXRoQ29udHJvbGxlciIsInJlcXVlc3QiLCJyZXNwb25zZSIsImZvcm0iLCJJbmNvbWluZ0Zvcm0iLCJwYXJzZSIsImVycm9yIiwiZmllbGRzIiwiZmlsZXMiLCJzdGF0dXMiLCJqc29uIiwibXNnIiwidXNlcm5hbWUiLCJlbWFpbCIsInBhc3N3b3JkIiwiYWdlIiwiZ2VuZGVyIiwibGVuZ3RoIiwiZ2VuU2FsdCIsInNhbHQiLCJoYXNoIiwiaGFzaGVkUGFzc3dvcmQiLCJuZXdBY2NvdW50IiwidXNlck1vZGVsIiwic2F2ZSIsInNhdmVkQWNjb3VudCIsImNvbnNvbGUiLCJsb2ciLCJhY2NvdW50IiwiaXNBY2NvdW50RW1haWwiLCJpbmNsdWRlcyIsImZpbmRPbmUiLCJ1c2VyIiwiY29tcGFyZSIsImlzUGFzc3dvcmRWYWxpZCIsInRva2VuX3BheWxvYWQiLCJfaWQiLCJ0b2tlbiIsInNpZ24iLCJwcm9jZXNzIiwiZW52IiwiY29va2llX3NlY3JldCIsImV4cGlyZXNJbiIsImZpbmRPbmVBbmRVcGRhdGUiLCIkc2V0IiwidXBkYXRlZEFjY291bnQiLCJuZXdVc2VybmFtZSIsIm5ld0FnZSIsIm5ld0dlbmRlciIsImZpbmRPbmVBbmREZWxldGUiLCJmaW5kIiwic2VuZCIsIm5hbWUiLCJxdWVyeSIsIiRyZWdleCJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFwxMTc4MVxcRG9jdW1lbnRzXFxHaXRIdWJcXElULVBST0pFQ1RcXGJhY2tlbmQzXFxzcmNcXENvbnRyb2xsZXJcXCIsInNvdXJjZXMiOlsiQXV0aC5jb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluY29taW5nRm9ybSB9IGZyb20gJ2Zvcm1pZGFibGUnO1xyXG5pbXBvcnQgeyBnZW5TYWx0LCBoYXNoLCBjb21wYXJlIH0gZnJvbSAnYmNyeXB0JztcclxuaW1wb3J0IHtjb25maWd9IGZyb20gJ2RvdGVudic7XHJcbmltcG9ydCB7IHZlcmlmeSwgc2lnbn0gZnJvbSAnanNvbndlYnRva2VuJzsgXHJcbmltcG9ydCB7IHVzZXJNb2RlbH0gZnJvbSAnLi4vTW9kZWxzL1VzZXIubW9kZWwnXHJcbmNvbmZpZygpXHJcblxyXG5leHBvcnQgY2xhc3MgQXV0aENvbnRyb2xsZXJ7XHJcbiAgICAvL3NpZ251cCBtZXRob2RcclxuICAgIHNpZ251cChyZXF1ZXN0LHJlc3BvbnNlKXtcclxuICAgICAgICBjb25zdCBmb3JtID0gbmV3IEluY29taW5nRm9ybSgpO1xyXG5cclxuICAgICAgICBmb3JtLnBhcnNlKHJlcXVlc3QsIGFzeW5jIChlcnJvciwgZmllbGRzLCBmaWxlcykgPT57XHJcbiAgICAgICAgICAgIGlmIChlcnJvcil7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7bXNnOidGYWlsZWQgdG8gY3JlYXRlIGFjY291bnQsIG1heWJlIHRyeSBhZ2FpbiBsYXRlcid9KVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdHt1c2VybmFtZSwgZW1haWwsIHBhc3N3b3JkLCBhZ2UsIGdlbmRlcn0gPSBmaWVsZHM7IFxyXG4gICAgICAgICAgICBpZihwYXNzd29yZC5sZW5ndGggPiAyMCB8fCBwYXNzd29yZC5sZW5ndGggPCA2KXsgIC8vIHBhc3N3b3JkIG1pbmltdW0gbGVuZ3RoID0gNiwgbWF4aW11bSBsZW5ndGggPSAyMFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDMpLmpzb24oe21zZzonUGFzc3dvcmQgbGVuZ3RoIG5lZWQgdG8gYmUgNi0yMCByYW5nZSd9KVxyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZihhZ2UgPiAxNTAgfHwgYWdlIDwwKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAyKS5qc29uKHttc2c6J0ludmFsaWQgYWdlJ30pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3Qgc2FsdCA9IGF3YWl0IGdlblNhbHQoMTUpO1xyXG4gICAgICAgICAgICBjb25zdCBoYXNoZWRQYXNzd29yZCA9IGF3YWl0IGhhc2gocGFzc3dvcmQsIHNhbHQpO1xyXG4gICAgICAgICAgICBjb25zdCBuZXdBY2NvdW50ID0gbmV3IHVzZXJNb2RlbCh7XHJcbiAgICAgICAgICAgICAgICB1c2VybmFtZSxcclxuICAgICAgICAgICAgICAgIGVtYWlsLFxyXG4gICAgICAgICAgICAgICAgcGFzc3dvcmQ6aGFzaGVkUGFzc3dvcmQsXHJcbiAgICAgICAgICAgICAgICBhZ2UsXHJcbiAgICAgICAgICAgICAgICBnZW5kZXJcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLy8gY3JlYXRlIGFuIGFjY291bnQgc3VjY2Vzc2Z1bCBvciBmYWlsZWRcclxuICAgICAgICAgICAgdHJ5e1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2F2ZWRBY2NvdW50ID0gYXdhaXQgbmV3QWNjb3VudC5zYXZlKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMSkuanNvbih7bXNnOidBY2NvdW50IGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5J30pXHJcbiAgICAgICAgICAgIH1jYXRjaChlcnJvcil7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAxKS5qc29uKHttc2c6J2Zvcm1hdCBlcnJvcid9KVxyXG4gICAgICAgICAgICB9ICAgICAgXHJcblxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIHNpZ24gaW5cclxuICAgIHNpZ25pbihyZXF1ZXN0LCByZXNwb25zZSl7XHJcbiAgICAgICAgY29uc3QgZm9ybSA9IG5ldyBJbmNvbWluZ0Zvcm0oKTtcclxuXHJcbiAgICAgICAgZm9ybS5wYXJzZShyZXF1ZXN0LGFzeW5jIChlcnJvciwgZmllbGRzLCBmaWxlcyk9PntcclxuICAgICAgICAgICAgaWYoZXJyb3Ipe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oe21zZzonRmFpbGVkIHRvIHNpZ25pbid9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0e2FjY291bnQsIHBhc3N3b3JkfSA9IGZpZWxkcztcclxuICAgICAgICAgICAgLy8gZW1haWwgbG9nIGluIFxyXG4gICAgICAgICAgICBjb25zdCBpc0FjY291bnRFbWFpbCA9IGFjY291bnQuaW5jbHVkZXMoJ0AnKTtcclxuICAgICAgICAgICAgaWYoaXNBY2NvdW50RW1haWwpe1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IHVzZXJNb2RlbC5maW5kT25lKHtlbWFpbDphY2NvdW50fSk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGlmKCF1c2VyKXtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwNCkuanNvbih7bXNnOidFbWFpbCBvZiB0aGlzIGFjY291bnQgZG9lcyBub3QgZXhpc3QnfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IGlzUGFzc3dvcmRWYWxpZCA9IGF3YWl0IGNvbXBhcmUocGFzc3dvcmQsIHVzZXIucGFzc3dvcmQpOyAgLy8gaGFzaGVkIHBhc3N3b3JkXHJcbiAgICAgICAgICAgICAgICBpZighaXNQYXNzd29yZFZhbGlkKXtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwMCkuanNvbih7bXNnOidJbnZhbGlkIHBhc3N3b3JkJ30pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0b2tlbl9wYXlsb2FkID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIF9pZDp1c2VyLl9pZCxcclxuICAgICAgICAgICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcclxuICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3QgdG9rZW4gID0gc2lnbih0b2tlbl9wYXlsb2FkLCBwcm9jZXNzLmVudi5jb29raWVfc2VjcmV0LCB7IGV4cGlyZXNJbjonMzY1ZCcgfSlcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJuYW1lID0gdG9rZW5fcGF5bG9hZC51c2VybmFtZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHt0b2tlbiwgdXNlcm5hbWV9KVxyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgdXNlck1vZGVsLmZpbmRPbmUoe3VzZXJuYW1lOmFjY291bnR9KTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZighdXNlcil7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwNCkuanNvbih7bXNnOid1c2VybmFtZSBvZiB0aGlzIGFjY291bnQgZG9lcyBub3QgZXhpc3QnfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBpc1Bhc3N3b3JkVmFsaWQgPSBhd2FpdCBjb21wYXJlKHBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKTsgIC8vIGhhc2hlZCBwYXNzd29yZFxyXG4gICAgICAgICAgICBpZighaXNQYXNzd29yZFZhbGlkKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNDAwKS5qc29uKHttc2c6J0ludmFsaWQgcGFzc3dvcmQnfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB0b2tlbl9wYXlsb2FkID0ge1xyXG4gICAgICAgICAgICAgICAgX2lkOnVzZXIuX2lkLFxyXG4gICAgICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXHJcbiAgICAgICAgICAgICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHRva2VuICA9IHNpZ24odG9rZW5fcGF5bG9hZCwgcHJvY2Vzcy5lbnYuY29va2llX3NlY3JldCwgeyBleHBpcmVzSW46JzM2NWQnIH0pXHJcbiAgICAgICAgICAgIGNvbnN0IHVzZXJuYW1lID0gdG9rZW5fcGF5bG9hZC51c2VybmFtZTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cygyMDApLmpzb24oe3Rva2VuLCB1c2VybmFtZX0pXHJcblxyXG4gICAgICAgIH0pIFxyXG4gICAgfVxyXG5cclxuICAgIC8vIGZvcmdvdCBwYXNzd29yZCBhbmQgcmVzZXRcclxuICAgIGZvcmdvdFBhc3N3b3JkKHJlcXVlc3QsIHJlc3BvbnNlKXtcclxuICAgICAgICBjb25zdCBmb3JtID0gbmV3IEluY29taW5nRm9ybSgpO1xyXG5cclxuICAgICAgICBmb3JtLnBhcnNlKHJlcXVlc3QsIGFzeW5jIChlcnJvciwgZmllbGRzLCBmaWxlcyk9PntcclxuICAgICAgICAgICAgaWYoZXJyb3Ipe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oe21zZzonRmFpbGVkIHRvIHJzZXQgcGFzc3dvcmQnfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdHsgZW1haWwsIHBhc3N3b3JkIH0gPSBmaWVsZHM7XHJcblxyXG4gICAgICAgICAgICBpZighZW1haWwgfHwgIXBhc3N3b3JkKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNDAwKS5qc29uKHttc2c6J2VtYWlsIGFuZCBwYXNzd29yZCBhcmUgcmVxdWlyZWQgdG8gcmVzZXQgcGFzc3dvcmQgJ30pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3Qgc2FsdCA9IGF3YWl0IGdlblNhbHQoMTUpO1xyXG4gICAgICAgICAgICBjb25zdCBoYXNoZWRQYXNzd29yZCA9IGF3YWl0IGhhc2gocGFzc3dvcmQsIHNhbHQpXHJcblxyXG4gICAgICAgICAgICB0cnl7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgdXNlck1vZGVsLmZpbmRPbmUoe2VtYWlsOmVtYWlsfSk7XHJcbiAgICAgICAgICAgICAgICBpZighdXNlcil7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg0MDQpLmpzb24oe21zZzonQWNjb3VudCB3aXRoIHRoaXMgZW1haWwgZG9lcyBub3QgZXhpc3QnfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgLyogY29uc3QgdXBkYXRlZEFjY291bnQgPSBhd2FpdCB1c2VyTW9kZWwuZmluZE9uZUFuZFVwZGF0ZSh7ZW1haWw6ZW1haWx9LCB7JHNldDp7cGFzc3dvcmQ6IGhhc2hlZFBhc3N3b3JkfX0sIHtuZXc6dHJ1ZX0pXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7bXNnOidQYXNzd29yZCByZXN0IHN1Y2Nlc3NmdWwnfSkgKi9cclxuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRBY2NvdW50ID0gYXdhaXQgdXNlck1vZGVsLmZpbmRPbmVBbmRVcGRhdGUoe2VtYWlsOmVtYWlsfSwgeyRzZXQ6e3Bhc3N3b3JkOmhhc2hlZFBhc3N3b3JkIH19LCB7bmV3OnRydWV9KVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cygyMDApLmpzb24oe21zZzonUGFzc3dvcmQgcmVzdCBzdWNjZXNzZnVsJ30pXHJcbiAgICAgICAgICAgIH1jYXRjaChlcnJvcil7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7bXNnOidGYWlsZWQgdG8gcmVzZXQgcGFzc3dvcmQnfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLy8gdXBkYXQgdXNlciBpbmZvIHN1Y2ggYXMgdXNlcm5hbWUsIHBhc3N3b3JkLCBhZ2UgYW5kIGdlbmRlciB2aWEgZW1haWwuXHJcbiAgICB1cGRhdGUocmVxdWVzdCwgcmVzcG9uc2Upe1xyXG4gICAgICAgIGNvbnN0IGZvcm0gPSBuZXcgSW5jb21pbmdGb3JtKCk7XHJcblxyXG4gICAgICAgIGZvcm0ucGFyc2UocmVxdWVzdCwgYXN5bmMgKGVycm9yLCBmaWVsZHMsIGZpbGVzKT0+e1xyXG4gICAgICAgICAgICBpZihlcnJvcil7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7bXNnOidGYWlsZWQgdG8gcnNldCBwYXNzd29yZCd9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0eyBlbWFpbCwgcGFzc3dvcmQsIHVzZXJuYW1lLCBhZ2UsIGdlbmRlcn0gPSBmaWVsZHM7XHJcblxyXG4gICAgICAgICAgICBpZighZW1haWwgfHwgIXBhc3N3b3JkIHx8ICF1c2VybmFtZSB8fCFhZ2UgfHwgIWdlbmRlcil7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwMCkuanNvbih7bXNnOidlbWFpbO+8jHBhc3N3b3Jk77yMdXNlcm5hbWUsIGFnZSBhbmQgZ2VuZGVyIGFyZSByZXF1aXJlZCB0byBlZGl0ICd9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHNhbHQgPSBhd2FpdCBnZW5TYWx0KDE1KTtcclxuICAgICAgICAgICAgY29uc3QgaGFzaGVkUGFzc3dvcmQgPSBhd2FpdCBoYXNoKHBhc3N3b3JkLCBzYWx0KVxyXG4gICAgICAgICAgICBjb25zdCBuZXdVc2VybmFtZSA9IHVzZXJuYW1lXHJcbiAgICAgICAgICAgIGNvbnN0IG5ld0FnZSA9IGFnZVxyXG4gICAgICAgICAgICBjb25zdCBuZXdHZW5kZXI9ICBnZW5kZXJcclxuXHJcbiAgICAgICAgICAgIHRyeXtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB1c2VyTW9kZWwuZmluZE9uZSh7ZW1haWw6ZW1haWx9KTtcclxuICAgICAgICAgICAgICAgIGlmKCF1c2VyKXtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwNCkuanNvbih7bXNnOidBY2NvdW50IHdpdGggdGhpcyBlbWFpbCBkb2VzIG5vdCBleGlzdCd9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAvKiBjb25zdCB1cGRhdGVkQWNjb3VudCA9IGF3YWl0IHVzZXJNb2RlbC5maW5kT25lQW5kVXBkYXRlKHtlbWFpbDplbWFpbH0sIHskc2V0OntwYXNzd29yZDogaGFzaGVkUGFzc3dvcmR9fSwge25ldzp0cnVlfSlcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHttc2c6J1Bhc3N3b3JkIHJlc3Qgc3VjY2Vzc2Z1bCd9KSAqL1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZEFjY291bnQgPSBhd2FpdCB1c2VyTW9kZWwuZmluZE9uZUFuZFVwZGF0ZSh7ZW1haWw6ZW1haWx9LCB7JHNldDp7cGFzc3dvcmQ6aGFzaGVkUGFzc3dvcmQsIHVzZXJuYW1lOm5ld1VzZXJuYW1lLCBhZ2U6IG5ld0FnZSwgZ2VuZGVyOiBuZXdHZW5kZXJ9fSwge25ldzp0cnVlfSlcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHttc2c6J0VkaXQgc3VjY2Vzc2Z1bCd9KVxyXG4gICAgICAgICAgICB9Y2F0Y2goZXJyb3Ipe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oe21zZzonRmFpbGVkIHRvIEVkaXQnfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgIC8qIC8vIHVwZGF0IHVzZXIgaW5mbyBzdWNoIGFzIHVzZXIgbmFtZSB2aWEgZW1haWwuXHJcbiAgICB1cGRhdGUocmVxdWVzdCwgcmVzcG9uc2Upe1xyXG4gICAgICAgIGNvbnN0IGZvcm0gPSBuZXcgSW5jb21pbmdGb3JtKCk7XHJcbiAgICAgICAgZm9ybS5wYXJzZShyZXF1ZXN0LCBhc3luYyAoZXJyb3IsIGZpZWxkcywgZmlsZXMpPT57XHJcbiAgICAgICAgICAgIGlmKGVycm9yKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHttc2c6J0ZhaWxlZCB0byB1cGRhdGUnfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0cnl7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkQWNjb3VudCA9IHVzZXJNb2RlbC5maW5kT25lQW5kVXBkYXRlKHtlbWFpbDplbWFpbH0sIHsgJHNldDp7dXNlcm5hbWU6dXNlcm5hbWV9fSlcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zZW5kKHVzZXIpICAgXHJcbiAgICAgICAgICAgICAgICAvL3JldHVybiByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHttc2c6J3VwZGF0ZSBzdWNjZXNzZnVsJ30pXHJcbiAgICAgICAgICAgIH1jYXRjaChlcnJvcil7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7bXNnOidGYWlsZWQgdG8gdXBkYXRlLCBtYXliZSB0cnkgYWdhaW4gbGF0ZXInfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9ICovXHJcblxyXG5cclxuICAgIC8vZGVsZXRlIHVzZXIgYWNjb3VudFxyXG4gICAgZGVsZXRlKHJlcXVlc3QsIHJlc3BvbnNlKXtcclxuICAgICAgICBjb25zdCBmb3JtID0gbmV3IEluY29taW5nRm9ybSgpO1xyXG4gICAgICAgIGZvcm0ucGFyc2UocmVxdWVzdCwgYXN5bmMgKGVycm9yLCBmaWVsZHMsIGZpbGVzKSA9PntcclxuICAgICAgICAgICAgaWYgKGVycm9yKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHttc2c6J0ZhaWxlZCB0byBkZWxldGUgYWNjb3VudCwgbWF5YmUgdHJ5IGFnYWluIGxhdGVyJ30pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3R7IGVtYWlsfSA9IGZpZWxkcztcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB1c2VyTW9kZWwuZmluZE9uZUFuZERlbGV0ZSh7ZW1haWw6IGVtYWlsfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7bXNnOidkZWxldGUgc3VjY2Vzc2Z1bCd9KVxyXG5cclxuICAgICAgICAgICAgfWNhdGNoKGVycm9yKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHttc2c6J0ZhaWxlZCB0byBkZWxldGUnfSlcclxuICAgICAgICAgICAgfSAgIFxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLy8gZmluZCBhbGwgdXNlclxyXG4gICAgZmluZEFsbFVzZXIocmVxdWVzdCwgcmVzcG9uc2Upe1xyXG4gICAgICAgIGNvbnN0IGZvcm0gPSBuZXcgSW5jb21pbmdGb3JtKCk7ICAgICAgXHJcblxyXG4gICAgICAgIGZvcm0ucGFyc2UocmVxdWVzdCwgYXN5bmMgKGVycm9yLCBmaWVsZHMsIGZpbGVzKSA9PntcclxuICAgICAgICAgICAgaWYgKGVycm9yKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHttc2c6J0ZhaWxlZCB0byBkZWxldGUgYWNjb3VudCwgbWF5YmUgdHJ5IGFnYWluIGxhdGVyJ30pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB1c2VyTW9kZWwuZmluZCgpIFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnNlbmQodXNlcikgICAgICAgICAgXHJcbiAgICAgICAgICAgIH1jYXRjaChlcnJvcil7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7bXNnOidGYWlsZWQgZmluZCBhbGwgdXNlcnMnfSlcclxuICAgICAgICAgICAgfSAgIFxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vIHNlYXJjaCBmb3IgYSB1c2VyIGJ5IHJlcXVlc3QgcGFyYW1zXHJcbiAgICBhc3luYyBzZWFyY2hVc2VyIChyZXF1ZXN0LCByZXNwb25zZSl7XHJcblxyXG4gICAgICAgIC8vIGNvbnN0IG5hbWUgPSByZXF1ZXN0LnBhcmFtcy51c2VybmFtZTtcclxuICAgICAgICBjb25zdCBuYW1lID0gcmVxdWVzdC5xdWVyeS51c2VybmFtZTtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IHVzZXIgPSBhd2FpdCB1c2VyTW9kZWwuZmluZCh7dXNlcm5hbWU6ICB7JHJlZ2V4OiBuYW1lIH19KVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc2VuZCh1c2VyKSAgICAgXHJcbiAgICAgICAgfWNhdGNoKGVycm9yKXtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oe21zZzonTm8gbWF0Y2hpbmcgdXNlcid9KVxyXG4gICAgICAgIH0gICBcclxuXHJcbiAgXHJcbiAgICBcclxuICAgIH1cclxuXHJcbiAgICBcclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7OytDQUhBLG9KOzs7Ozs7Ozs7Ozs7QUFJQSxJ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","map":{"version":3,"names":["config","AuthController","request","response","form","IncomingForm","parse","error","fields","files","status","json","msg","username","email","password","age","gender","length","genSalt","salt","hash","hashedPassword","newAccount","userModel","save","savedAccount","console","log","account","isAccountEmail","includes","findOne","user","compare","isPasswordValid","token_payload","_id","token","sign","process","env","cookie_secret","expiresIn","findOneAndUpdate","$set","updatedAccount","newUsername","newAge","newGender","findOneAndDelete","find","send","name","query","$regex"],"sourceRoot":"C:\\Users\\11781\\Documents\\GitHub\\IT-PROJECT\\backend3\\src\\Controller\\","sources":["Auth.controller.js"],"sourcesContent":["import { IncomingForm } from 'formidable';\r\nimport { genSalt, hash, compare } from 'bcrypt';\r\nimport {config} from 'dotenv';\r\nimport { verify, sign} from 'jsonwebtoken'; \r\nimport { userModel} from '../Models/User.model'\r\nconfig()\r\n\r\nexport class AuthController{\r\n    //signup method\r\n    signup(request,response){\r\n        const form = new IncomingForm();\r\n\r\n        form.parse(request, async (error, fields, files) =>{\r\n            if (error){\r\n                return response.status(500).json({msg:'Failed to create account, maybe try again later'})\r\n            }\r\n\r\n            const{username, email, password, age, gender} = fields; \r\n            if(password.length > 20 || password.length < 6){  // password minimum length = 6, maximum length = 20\r\n                return response.status(503).json({msg:'Password length need to be 6-20 range'})\r\n\r\n            }\r\n            if(age > 150 || age <0){\r\n                return response.status(502).json({msg:'Invalid age'})\r\n            }\r\n            const salt = await genSalt(15);\r\n            const hashedPassword = await hash(password, salt);\r\n            const newAccount = new userModel({\r\n                username,\r\n                email,\r\n                password:hashedPassword,\r\n                age,\r\n                gender\r\n            })\r\n            // create an account successful or failed\r\n            try{\r\n                const savedAccount = await newAccount.save();\r\n                return response.status(201).json({msg:'Account created successfully'})\r\n            }catch(error){\r\n                console.log(error)\r\n                return response.status(501).json({msg:'format error'})\r\n            }      \r\n\r\n        })\r\n    }\r\n    \r\n    // sign in\r\n    signin(request, response){\r\n        const form = new IncomingForm();\r\n\r\n        form.parse(request,async (error, fields, files)=>{\r\n            if(error){\r\n                return response.status(500).json({msg:'Failed to signin'})\r\n            }\r\n            const{account, password} = fields;\r\n            // email log in \r\n            const isAccountEmail = account.includes('@');\r\n            if(isAccountEmail){\r\n                const user = await userModel.findOne({email:account});\r\n                \r\n                if(!user){\r\n                    return response.status(404).json({msg:'Email of this account does not exist'})\r\n                }\r\n                const isPasswordValid = await compare(password, user.password);  // hashed password\r\n                if(!isPasswordValid){\r\n                    return response.status(400).json({msg:'Invalid password'})\r\n                }\r\n                const token_payload = {\r\n                    _id:user._id,\r\n                    email: user.email,\r\n                    username: user.username\r\n                }\r\n                const token  = sign(token_payload, process.env.cookie_secret, { expiresIn:'365d' })\r\n                const username = token_payload.username;\r\n                return response.status(200).json({token, username})\r\n\r\n            }\r\n            const user = await userModel.findOne({username:account});\r\n                \r\n            if(!user){\r\n                return response.status(404).json({msg:'username of this account does not exist'})\r\n            }\r\n            const isPasswordValid = await compare(password, user.password);  // hashed password\r\n            if(!isPasswordValid){\r\n                return response.status(400).json({msg:'Invalid password'})\r\n            }\r\n            const token_payload = {\r\n                _id:user._id,\r\n                email: user.email,\r\n                username: user.username\r\n            }\r\n            const token  = sign(token_payload, process.env.cookie_secret, { expiresIn:'365d' })\r\n            const username = token_payload.username;\r\n            return response.status(200).json({token, username})\r\n\r\n        }) \r\n    }\r\n\r\n    // forgot password and reset\r\n    forgotPassword(request, response){\r\n        const form = new IncomingForm();\r\n\r\n        form.parse(request, async (error, fields, files)=>{\r\n            if(error){\r\n                return response.status(500).json({msg:'Failed to rset password'})\r\n            }\r\n            const{ email, password } = fields;\r\n\r\n            if(!email || !password){\r\n                return response.status(400).json({msg:'email and password are required to reset password '})\r\n            }\r\n            const salt = await genSalt(15);\r\n            const hashedPassword = await hash(password, salt)\r\n\r\n            try{\r\n                const user = await userModel.findOne({email:email});\r\n                if(!user){\r\n                    return response.status(404).json({msg:'Account with this email does not exist'})\r\n                }\r\n               /* const updatedAccount = await userModel.findOneAndUpdate({email:email}, {$set:{password: hashedPassword}}, {new:true})\r\n                return response.status(200).json({msg:'Password rest successful'}) */\r\n                const updatedAccount = await userModel.findOneAndUpdate({email:email}, {$set:{password:hashedPassword }}, {new:true})\r\n                return response.status(200).json({msg:'Password rest successful'})\r\n            }catch(error){\r\n                return response.status(500).json({msg:'Failed to reset password'})\r\n            }\r\n        })\r\n    }\r\n\r\n    // updat user info such as username, password, age and gender via email.\r\n    update(request, response){\r\n        const form = new IncomingForm();\r\n\r\n        form.parse(request, async (error, fields, files)=>{\r\n            if(error){\r\n                return response.status(500).json({msg:'Failed to rset password'})\r\n            }\r\n            const{ email, password, username, age, gender} = fields;\r\n\r\n            if(!email || !password || !username ||!age || !gender){\r\n                return response.status(400).json({msg:'emailpasswordusername, age and gender are required to edit '})\r\n            }\r\n            const salt = await genSalt(15);\r\n            const hashedPassword = await hash(password, salt)\r\n            const newUsername = username\r\n            const newAge = age\r\n            const newGender=  gender\r\n\r\n            try{\r\n                const user = await userModel.findOne({email:email});\r\n                if(!user){\r\n                    return response.status(404).json({msg:'Account with this email does not exist'})\r\n                }\r\n               /* const updatedAccount = await userModel.findOneAndUpdate({email:email}, {$set:{password: hashedPassword}}, {new:true})\r\n                return response.status(200).json({msg:'Password rest successful'}) */\r\n                const updatedAccount = await userModel.findOneAndUpdate({email:email}, {$set:{password:hashedPassword, username:newUsername, age: newAge, gender: newGender}}, {new:true})\r\n                return response.status(200).json({msg:'Edit successful'})\r\n            }catch(error){\r\n                return response.status(500).json({msg:'Failed to Edit'})\r\n            }\r\n        })\r\n    }\r\n   /* // updat user info such as user name via email.\r\n    update(request, response){\r\n        const form = new IncomingForm();\r\n        form.parse(request, async (error, fields, files)=>{\r\n            if(error){\r\n                return response.status(500).json({msg:'Failed to update'})\r\n            }\r\n            try{\r\n                const updatedAccount = userModel.findOneAndUpdate({email:email}, { $set:{username:username}})\r\n                return response.send(user)   \r\n                //return response.status(200).json({msg:'update successful'})\r\n            }catch(error){\r\n                return response.status(500).json({msg:'Failed to update, maybe try again later'})\r\n            }\r\n        })\r\n    } */\r\n\r\n\r\n    //delete user account\r\n    delete(request, response){\r\n        const form = new IncomingForm();\r\n        form.parse(request, async (error, fields, files) =>{\r\n            if (error){\r\n                return response.status(500).json({msg:'Failed to delete account, maybe try again later'})\r\n            }\r\n            const{ email} = fields;\r\n            try {\r\n                const user = await userModel.findOneAndDelete({email: email});\r\n                return response.status(200).json({msg:'delete successful'})\r\n\r\n            }catch(error){\r\n                return response.status(500).json({msg:'Failed to delete'})\r\n            }   \r\n        })\r\n    }\r\n\r\n    // find all user\r\n    findAllUser(request, response){\r\n        const form = new IncomingForm();      \r\n\r\n        form.parse(request, async (error, fields, files) =>{\r\n            if (error){\r\n                return response.status(500).json({msg:'Failed to delete account, maybe try again later'})\r\n            }\r\n            try {\r\n                const user = await userModel.find() \r\n                return response.send(user)          \r\n            }catch(error){\r\n                return response.status(500).json({msg:'Failed find all users'})\r\n            }   \r\n        })\r\n    }\r\n\r\n\r\n    // search for a user by request params\r\n    async searchUser (request, response){\r\n\r\n        // const name = request.params.username;\r\n        const name = request.query.username;\r\n\r\n        try {\r\n            let user = await userModel.find({username:  {$regex: name }})\r\n            return response.send(user)     \r\n        }catch(error){\r\n            return response.status(500).json({msg:'No matching user'})\r\n        }   \r\n\r\n  \r\n    \r\n    }\r\n\r\n    \r\n}"],"mappings":"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"}},"mtime":1665044544423},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"filename\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Models\\\\User.model.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.userModel = void 0;\n\nvar _mongoose = require(\"mongoose\");\n\nvar uservalidator = function uservalidator(s) {\n  return /^[a-zA-Z0-9]{1,20}$/.test(s);\n};\n\nvar emailvalidator = function emailvalidator(s) {\n  return /^[a-z0-9@.-_]{6,40}$/.test(s);\n};\n\nvar agevalidator = function agevalidator(s) {\n  return /^[0-9]{1,3}$/.test(s);\n};\n\nvar userSchema = new _mongoose.Schema({\n  username: {\n    // username should be unique and no longer than 20 characters\n    type: String,\n    reuqired: [true, 'Username is required'],\n    unique: [true, 'Usename exist'],\n    validate: [uservalidator, 'Please enter less than 20 numbers and alphabets only']\n  },\n  email: {\n    // email should be be unique\n    type: String,\n    required: [true, 'Email is required to create an account'],\n    unique: [true, 'Account with this email already exist'],\n    validate: [emailvalidator, 'Please enter numbers, alphabets, and @ . - _ only']\n  },\n  password: {\n    type: String,\n    requried: [true, 'Password is required to create account']\n  },\n  age: {\n    // age should be within 0 - 120 range\n    type: Number,\n    requried: [true, 'Age is required to create an account'],\n    validate: [agevalidator, 'Please enter a number between 0-120']\n  },\n  gender: {\n    type: String,\n    \"enum\": [\"Male\", \"Female\", \"Prefer not to say\"],\n    required: true\n  },\n  videos: [{\n    type: _mongoose.Schema.Types.ObjectId,\n    ref: 'videos'\n  }]\n});\nvar userModel = (0, _mongoose.model)('user', userSchema);\nexports.userModel = userModel;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VydmFsaWRhdG9yIiwicyIsInRlc3QiLCJlbWFpbHZhbGlkYXRvciIsImFnZXZhbGlkYXRvciIsInVzZXJTY2hlbWEiLCJTY2hlbWEiLCJ1c2VybmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXVxaXJlZCIsInVuaXF1ZSIsInZhbGlkYXRlIiwiZW1haWwiLCJyZXF1aXJlZCIsInBhc3N3b3JkIiwicmVxdXJpZWQiLCJhZ2UiLCJOdW1iZXIiLCJnZW5kZXIiLCJ2aWRlb3MiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwidXNlck1vZGVsIiwibW9kZWwiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcMTE3ODFcXERvY3VtZW50c1xcR2l0SHViXFxJVC1QUk9KRUNUXFxiYWNrZW5kM1xcc3JjXFxNb2RlbHNcXCIsInNvdXJjZXMiOlsiVXNlci5tb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnR7IFNjaGVtYSwgbW9kZWx9IGZyb20gJ21vbmdvb3NlJztcclxuY29uc3QgdXNlcnZhbGlkYXRvciA9IChzKSA9PlxyXG4gICAgL15bYS16QS1aMC05XXsxLDIwfSQvLnRlc3QocylcclxuXHJcbmNvbnN0IGVtYWlsdmFsaWRhdG9yID0gKHMpID0+XHJcbiAgICAvXlthLXowLTlALi1fXXs2LDQwfSQvLnRlc3QocylcclxuXHJcbmNvbnN0IGFnZXZhbGlkYXRvciA9IChzKSA9PlxyXG4gICAgL15bMC05XXsxLDN9JC8udGVzdChzKVxyXG5cclxuY29uc3QgdXNlclNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gICAgdXNlcm5hbWU6eyAvLyB1c2VybmFtZSBzaG91bGQgYmUgdW5pcXVlIGFuZCBubyBsb25nZXIgdGhhbiAyMCBjaGFyYWN0ZXJzXHJcbiAgICAgICAgdHlwZTpTdHJpbmcsXHJcbiAgICAgICAgcmV1cWlyZWQ6IFt0cnVlLCAnVXNlcm5hbWUgaXMgcmVxdWlyZWQnXSxcclxuICAgICAgICB1bmlxdWU6W3RydWUsICdVc2VuYW1lIGV4aXN0J10sXHJcbiAgICAgICAgdmFsaWRhdGU6IFt1c2VydmFsaWRhdG9yLCAnUGxlYXNlIGVudGVyIGxlc3MgdGhhbiAyMCBudW1iZXJzIGFuZCBhbHBoYWJldHMgb25seSddXHJcbiAgICB9LFxyXG4gICAgZW1haWw6eyAvLyBlbWFpbCBzaG91bGQgYmUgYmUgdW5pcXVlXHJcbiAgICAgICAgdHlwZTpTdHJpbmcsXHJcbiAgICAgICAgcmVxdWlyZWQ6IFt0cnVlLCAnRW1haWwgaXMgcmVxdWlyZWQgdG8gY3JlYXRlIGFuIGFjY291bnQnXSxcclxuICAgICAgICB1bmlxdWU6W3RydWUsICdBY2NvdW50IHdpdGggdGhpcyBlbWFpbCBhbHJlYWR5IGV4aXN0J10sXHJcbiAgICAgICAgdmFsaWRhdGU6IFtlbWFpbHZhbGlkYXRvciwgJ1BsZWFzZSBlbnRlciBudW1iZXJzLCBhbHBoYWJldHMsIGFuZCBAIC4gLSBfIG9ubHknXVxyXG4gICAgfSxcclxuICAgIHBhc3N3b3JkOntcclxuICAgICAgICB0eXBlOlN0cmluZyxcclxuICAgICAgICByZXF1cmllZDpbdHJ1ZSwgJ1Bhc3N3b3JkIGlzIHJlcXVpcmVkIHRvIGNyZWF0ZSBhY2NvdW50J10sXHJcblxyXG4gICAgfSxcclxuICAgIGFnZTp7IC8vIGFnZSBzaG91bGQgYmUgd2l0aGluIDAgLSAxMjAgcmFuZ2VcclxuICAgICAgICB0eXBlOk51bWJlcixcclxuICAgICAgICByZXF1cmllZDpbdHJ1ZSwgJ0FnZSBpcyByZXF1aXJlZCB0byBjcmVhdGUgYW4gYWNjb3VudCddLFxyXG4gICAgICAgIHZhbGlkYXRlOiBbYWdldmFsaWRhdG9yLCAnUGxlYXNlIGVudGVyIGEgbnVtYmVyIGJldHdlZW4gMC0xMjAnXVxyXG5cclxuICAgIH0sXHJcbiAgICBnZW5kZXI6e1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICBlbnVtOiBbXCJNYWxlXCIsIFwiRmVtYWxlXCIsIFwiUHJlZmVyIG5vdCB0byBzYXlcIl0sXHJcbiAgICAgICAgcmVxdWlyZWQ6IHRydWVcclxuICAgIH0sXHJcbiAgICB2aWRlb3M6W1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdHlwZTpTY2hlbWEuVHlwZXMuT2JqZWN0SWQsXHJcbiAgICAgICAgICAgIHJlZjondmlkZW9zJ1xyXG4gICAgICAgIH1cclxuICAgIF0sXHJcblxyXG5cclxuXHJcbiAgICAgXHJcbn0pXHJcbmV4cG9ydCBjb25zdCB1c2VyTW9kZWwgPSBtb2RlbCgndXNlcicsIHVzZXJTY2hlbWEpXHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBLElBQU1BLGFBQWEsR0FBRyxTQUFoQkEsYUFBZ0IsQ0FBQ0MsQ0FBRDtFQUFBLE9BQ2xCLHNCQUFzQkMsSUFBdEIsQ0FBMkJELENBQTNCLENBRGtCO0FBQUEsQ0FBdEI7O0FBR0EsSUFBTUUsY0FBYyxHQUFHLFNBQWpCQSxjQUFpQixDQUFDRixDQUFEO0VBQUEsT0FDbkIsdUJBQXVCQyxJQUF2QixDQUE0QkQsQ0FBNUIsQ0FEbUI7QUFBQSxDQUF2Qjs7QUFHQSxJQUFNRyxZQUFZLEdBQUcsU0FBZkEsWUFBZSxDQUFDSCxDQUFEO0VBQUEsT0FDakIsZUFBZUMsSUFBZixDQUFvQkQsQ0FBcEIsQ0FEaUI7QUFBQSxDQUFyQjs7QUFHQSxJQUFNSSxVQUFVLEdBQUcsSUFBSUMsZ0JBQUosQ0FBVztFQUMxQkMsUUFBUSxFQUFDO0lBQUU7SUFDUEMsSUFBSSxFQUFDQyxNQURBO0lBRUxDLFFBQVEsRUFBRSxDQUFDLElBQUQsRUFBTyxzQkFBUCxDQUZMO0lBR0xDLE1BQU0sRUFBQyxDQUFDLElBQUQsRUFBTyxlQUFQLENBSEY7SUFJTEMsUUFBUSxFQUFFLENBQUNaLGFBQUQsRUFBZ0Isc0RBQWhCO0VBSkwsQ0FEaUI7RUFPMUJhLEtBQUssRUFBQztJQUFFO0lBQ0pMLElBQUksRUFBQ0MsTUFESDtJQUVGSyxRQUFRLEVBQUUsQ0FBQyxJQUFELEVBQU8sd0NBQVAsQ0FGUjtJQUdGSCxNQUFNLEVBQUMsQ0FBQyxJQUFELEVBQU8sdUNBQVAsQ0FITDtJQUlGQyxRQUFRLEVBQUUsQ0FBQ1QsY0FBRCxFQUFpQixtREFBakI7RUFKUixDQVBvQjtFQWExQlksUUFBUSxFQUFDO0lBQ0xQLElBQUksRUFBQ0MsTUFEQTtJQUVMTyxRQUFRLEVBQUMsQ0FBQyxJQUFELEVBQU8sd0NBQVA7RUFGSixDQWJpQjtFQWtCMUJDLEdBQUcsRUFBQztJQUFFO0lBQ0ZULElBQUksRUFBQ1UsTUFETDtJQUVBRixRQUFRLEVBQUMsQ0FBQyxJQUFELEVBQU8sc0NBQVAsQ0FGVDtJQUdBSixRQUFRLEVBQUUsQ0FBQ1IsWUFBRCxFQUFlLHFDQUFmO0VBSFYsQ0FsQnNCO0VBd0IxQmUsTUFBTSxFQUFDO0lBQ0hYLElBQUksRUFBRUMsTUFESDtJQUVILFFBQU0sQ0FBQyxNQUFELEVBQVMsUUFBVCxFQUFtQixtQkFBbkIsQ0FGSDtJQUdISyxRQUFRLEVBQUU7RUFIUCxDQXhCbUI7RUE2QjFCTSxNQUFNLEVBQUMsQ0FDSDtJQUNJWixJQUFJLEVBQUNGLGdCQUFBLENBQU9lLEtBQVAsQ0FBYUMsUUFEdEI7SUFFSUMsR0FBRyxFQUFDO0VBRlIsQ0FERztBQTdCbUIsQ0FBWCxDQUFuQjtBQXdDTyxJQUFNQyxTQUFTLEdBQUcsSUFBQUMsZUFBQSxFQUFNLE1BQU4sRUFBY3BCLFVBQWQsQ0FBbEIifQ==","map":{"version":3,"names":["uservalidator","s","test","emailvalidator","agevalidator","userSchema","Schema","username","type","String","reuqired","unique","validate","email","required","password","requried","age","Number","gender","videos","Types","ObjectId","ref","userModel","model"],"sourceRoot":"C:\\Users\\11781\\Documents\\GitHub\\IT-PROJECT\\backend3\\src\\Models\\","sources":["User.model.js"],"sourcesContent":["import{ Schema, model} from 'mongoose';\r\nconst uservalidator = (s) =>\r\n    /^[a-zA-Z0-9]{1,20}$/.test(s)\r\n\r\nconst emailvalidator = (s) =>\r\n    /^[a-z0-9@.-_]{6,40}$/.test(s)\r\n\r\nconst agevalidator = (s) =>\r\n    /^[0-9]{1,3}$/.test(s)\r\n\r\nconst userSchema = new Schema({\r\n    username:{ // username should be unique and no longer than 20 characters\r\n        type:String,\r\n        reuqired: [true, 'Username is required'],\r\n        unique:[true, 'Usename exist'],\r\n        validate: [uservalidator, 'Please enter less than 20 numbers and alphabets only']\r\n    },\r\n    email:{ // email should be be unique\r\n        type:String,\r\n        required: [true, 'Email is required to create an account'],\r\n        unique:[true, 'Account with this email already exist'],\r\n        validate: [emailvalidator, 'Please enter numbers, alphabets, and @ . - _ only']\r\n    },\r\n    password:{\r\n        type:String,\r\n        requried:[true, 'Password is required to create account'],\r\n\r\n    },\r\n    age:{ // age should be within 0 - 120 range\r\n        type:Number,\r\n        requried:[true, 'Age is required to create an account'],\r\n        validate: [agevalidator, 'Please enter a number between 0-120']\r\n\r\n    },\r\n    gender:{\r\n        type: String,\r\n        enum: [\"Male\", \"Female\", \"Prefer not to say\"],\r\n        required: true\r\n    },\r\n    videos:[\r\n        {\r\n            type:Schema.Types.ObjectId,\r\n            ref:'videos'\r\n        }\r\n    ],\r\n\r\n\r\n\r\n     \r\n})\r\nexport const userModel = model('user', userSchema)\r\n"],"mappings":";;;;;;;AAAA;;AACA,IAAMA,aAAa,GAAG,SAAhBA,aAAgB,CAACC,CAAD;EAAA,OAClB,sBAAsBC,IAAtB,CAA2BD,CAA3B,CADkB;AAAA,CAAtB;;AAGA,IAAME,cAAc,GAAG,SAAjBA,cAAiB,CAACF,CAAD;EAAA,OACnB,uBAAuBC,IAAvB,CAA4BD,CAA5B,CADmB;AAAA,CAAvB;;AAGA,IAAMG,YAAY,GAAG,SAAfA,YAAe,CAACH,CAAD;EAAA,OACjB,eAAeC,IAAf,CAAoBD,CAApB,CADiB;AAAA,CAArB;;AAGA,IAAMI,UAAU,GAAG,IAAIC,gBAAJ,CAAW;EAC1BC,QAAQ,EAAC;IAAE;IACPC,IAAI,EAACC,MADA;IAELC,QAAQ,EAAE,CAAC,IAAD,EAAO,sBAAP,CAFL;IAGLC,MAAM,EAAC,CAAC,IAAD,EAAO,eAAP,CAHF;IAILC,QAAQ,EAAE,CAACZ,aAAD,EAAgB,sDAAhB;EAJL,CADiB;EAO1Ba,KAAK,EAAC;IAAE;IACJL,IAAI,EAACC,MADH;IAEFK,QAAQ,EAAE,CAAC,IAAD,EAAO,wCAAP,CAFR;IAGFH,MAAM,EAAC,CAAC,IAAD,EAAO,uCAAP,CAHL;IAIFC,QAAQ,EAAE,CAACT,cAAD,EAAiB,mDAAjB;EAJR,CAPoB;EAa1BY,QAAQ,EAAC;IACLP,IAAI,EAACC,MADA;IAELO,QAAQ,EAAC,CAAC,IAAD,EAAO,wCAAP;EAFJ,CAbiB;EAkB1BC,GAAG,EAAC;IAAE;IACFT,IAAI,EAACU,MADL;IAEAF,QAAQ,EAAC,CAAC,IAAD,EAAO,sCAAP,CAFT;IAGAJ,QAAQ,EAAE,CAACR,YAAD,EAAe,qCAAf;EAHV,CAlBsB;EAwB1Be,MAAM,EAAC;IACHX,IAAI,EAAEC,MADH;IAEH,QAAM,CAAC,MAAD,EAAS,QAAT,EAAmB,mBAAnB,CAFH;IAGHK,QAAQ,EAAE;EAHP,CAxBmB;EA6B1BM,MAAM,EAAC,CACH;IACIZ,IAAI,EAACF,gBAAA,CAAOe,KAAP,CAAaC,QADtB;IAEIC,GAAG,EAAC;EAFR,CADG;AA7BmB,CAAX,CAAnB;AAwCO,IAAMC,SAAS,GAAG,IAAAC,eAAA,EAAM,MAAN,EAAcpB,UAAd,CAAlB"}},"mtime":1664946132029},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"filename\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Routes\\\\Video.routes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _express = require(\"express\");\n\nvar _Authenticate = require(\"../Middlewares/Authenticate.middleware\");\n\nvar _Video = require(\"../Middlewares/Video.middleware\");\n\nvar _bodyParser = require(\"body-parser\");\n\nvar _Video2 = require(\"../Controller/Video.controller\");\n\nvar router = (0, _express.Router)();\nvar Controller = new _Video2.VideoController(); //after upload work, next step is save to mongo db\n\nrouter.post('/api/video', (0, _bodyParser.json)(), _Authenticate.Authenticate, _Video.videoUpload.single('video'), function (request, response) {\n  Controller.upload(request, response);\n}); // video stream\n\nrouter.get('/api/video/:filename', function (request, response) {\n  Controller.stream(request, response);\n}); // like a video\n\nrouter.get('/api/video-like/:id', function (request, response) {\n  Controller.like(request, response);\n}); // dislike a video\n\nrouter.get('/api/video-dislike/:id', function (request, response) {\n  Controller.dislike(request, response);\n}); // search for a video\n\nrouter.get('/api/video-search/', function (request, response) {\n  Controller.searchVideo(request, response);\n});\nrouter[\"delete\"]('/api/video/:video_id/:video_path', function (request, response) {\n  Controller[\"delete\"](request, response);\n});\nvar _default = router;\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJSb3V0ZXIiLCJDb250cm9sbGVyIiwiVmlkZW9Db250cm9sbGVyIiwicG9zdCIsImpzb24iLCJBdXRoZW50aWNhdGUiLCJ2aWRlb1VwbG9hZCIsInNpbmdsZSIsInJlcXVlc3QiLCJyZXNwb25zZSIsInVwbG9hZCIsImdldCIsInN0cmVhbSIsImxpa2UiLCJkaXNsaWtlIiwic2VhcmNoVmlkZW8iXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcMTE3ODFcXERvY3VtZW50c1xcR2l0SHViXFxJVC1QUk9KRUNUXFxiYWNrZW5kM1xcc3JjXFxSb3V0ZXNcXCIsInNvdXJjZXMiOlsiVmlkZW8ucm91dGVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7cmVzcG9uc2UsIFJvdXRlciB9IGZyb20gJ2V4cHJlc3MnO1xyXG5pbXBvcnQgeyBBdXRoZW50aWNhdGUgfSBmcm9tICcuLi9NaWRkbGV3YXJlcy9BdXRoZW50aWNhdGUubWlkZGxld2FyZSc7XHJcbmltcG9ydCB7dmlkZW9VcGxvYWR9IGZyb20gJy4uL01pZGRsZXdhcmVzL1ZpZGVvLm1pZGRsZXdhcmUnO1xyXG5pbXBvcnQge2pzb259IGZyb20gJ2JvZHktcGFyc2VyJ1xyXG5pbXBvcnR7IFZpZGVvQ29udHJvbGxlciB9IGZyb20gJy4uL0NvbnRyb2xsZXIvVmlkZW8uY29udHJvbGxlcidcclxuXHJcbmNvbnN0IHJvdXRlciA9IFJvdXRlcigpO1xyXG5jb25zdCBDb250cm9sbGVyID0gbmV3IFZpZGVvQ29udHJvbGxlcigpO1xyXG4vL2FmdGVyIHVwbG9hZCB3b3JrLCBuZXh0IHN0ZXAgaXMgc2F2ZSB0byBtb25nbyBkYlxyXG5yb3V0ZXIucG9zdCgnL2FwaS92aWRlbycsIGpzb24oKSwgQXV0aGVudGljYXRlLCB2aWRlb1VwbG9hZC5zaW5nbGUoJ3ZpZGVvJyksIChyZXF1ZXN0LCByZXNwb25zZSk9PntcclxuICAgIENvbnRyb2xsZXIudXBsb2FkKHJlcXVlc3QscmVzcG9uc2UpXHJcbn0pXHJcblxyXG4vLyB2aWRlbyBzdHJlYW1cclxucm91dGVyLmdldCgnL2FwaS92aWRlby86ZmlsZW5hbWUnLCAocmVxdWVzdCwgcmVzcG9uc2UpPT4ge1xyXG4gICAgQ29udHJvbGxlci5zdHJlYW0ocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG4vLyBsaWtlIGEgdmlkZW9cclxucm91dGVyLmdldCgnL2FwaS92aWRlby1saWtlLzppZCcsKHJlcXVlc3QsIHJlc3BvbnNlKT0+e1xyXG4gICAgQ29udHJvbGxlci5saWtlKHJlcXVlc3QsIHJlc3BvbnNlKVxyXG59KVxyXG5cclxuXHJcbi8vIGRpc2xpa2UgYSB2aWRlb1xyXG5yb3V0ZXIuZ2V0KCcvYXBpL3ZpZGVvLWRpc2xpa2UvOmlkJywocmVxdWVzdCwgcmVzcG9uc2UpPT57XHJcbiAgICBDb250cm9sbGVyLmRpc2xpa2UocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG4vLyBzZWFyY2ggZm9yIGEgdmlkZW9cclxucm91dGVyLmdldCgnL2FwaS92aWRlby1zZWFyY2gvJywocmVxdWVzdCxyZXNwb25zZSk9PntcclxuICAgIENvbnRyb2xsZXIuc2VhcmNoVmlkZW8gKHJlcXVlc3QsIHJlc3BvbnNlKVxyXG59KVxyXG5cclxucm91dGVyLmRlbGV0ZSgnL2FwaS92aWRlby86dmlkZW9faWQvOnZpZGVvX3BhdGgnLCAocmVxdWVzdCwgcmVzcG9uc2UpPT57XHJcbiAgICBDb250cm9sbGVyLmRlbGV0ZShyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFQSxJQUFNQSxNQUFNLEdBQUcsSUFBQUMsZUFBQSxHQUFmO0FBQ0EsSUFBTUMsVUFBVSxHQUFHLElBQUlDLHVCQUFKLEVBQW5CLEMsQ0FDQTs7QUFDQUgsTUFBTSxDQUFDSSxJQUFQLENBQVksWUFBWixFQUEwQixJQUFBQyxnQkFBQSxHQUExQixFQUFrQ0MsMEJBQWxDLEVBQWdEQyxrQkFBQSxDQUFZQyxNQUFaLENBQW1CLE9BQW5CLENBQWhELEVBQTZFLFVBQUNDLE9BQUQsRUFBVUMsUUFBVixFQUFxQjtFQUM5RlIsVUFBVSxDQUFDUyxNQUFYLENBQWtCRixPQUFsQixFQUEwQkMsUUFBMUI7QUFDSCxDQUZELEUsQ0FJQTs7QUFDQVYsTUFBTSxDQUFDWSxHQUFQLENBQVcsc0JBQVgsRUFBbUMsVUFBQ0gsT0FBRCxFQUFVQyxRQUFWLEVBQXNCO0VBQ3JEUixVQUFVLENBQUNXLE1BQVgsQ0FBa0JKLE9BQWxCLEVBQTJCQyxRQUEzQjtBQUNILENBRkQsRSxDQUlBOztBQUNBVixNQUFNLENBQUNZLEdBQVAsQ0FBVyxxQkFBWCxFQUFpQyxVQUFDSCxPQUFELEVBQVVDLFFBQVYsRUFBcUI7RUFDbERSLFVBQVUsQ0FBQ1ksSUFBWCxDQUFnQkwsT0FBaEIsRUFBeUJDLFFBQXpCO0FBQ0gsQ0FGRCxFLENBS0E7O0FBQ0FWLE1BQU0sQ0FBQ1ksR0FBUCxDQUFXLHdCQUFYLEVBQW9DLFVBQUNILE9BQUQsRUFBVUMsUUFBVixFQUFxQjtFQUNyRFIsVUFBVSxDQUFDYSxPQUFYLENBQW1CTixPQUFuQixFQUE0QkMsUUFBNUI7QUFDSCxDQUZELEUsQ0FJQTs7QUFDQVYsTUFBTSxDQUFDWSxHQUFQLENBQVcsb0JBQVgsRUFBZ0MsVUFBQ0gsT0FBRCxFQUFTQyxRQUFULEVBQW9CO0VBQ2hEUixVQUFVLENBQUNjLFdBQVgsQ0FBd0JQLE9BQXhCLEVBQWlDQyxRQUFqQztBQUNILENBRkQ7QUFJQVYsTUFBTSxVQUFOLENBQWMsa0NBQWQsRUFBa0QsVUFBQ1MsT0FBRCxFQUFVQyxRQUFWLEVBQXFCO0VBQ25FUixVQUFVLFVBQVYsQ0FBa0JPLE9BQWxCLEVBQTJCQyxRQUEzQjtBQUNILENBRkQ7ZUFJZVYsTSJ9","map":{"version":3,"names":["router","Router","Controller","VideoController","post","json","Authenticate","videoUpload","single","request","response","upload","get","stream","like","dislike","searchVideo"],"sourceRoot":"C:\\Users\\11781\\Documents\\GitHub\\IT-PROJECT\\backend3\\src\\Routes\\","sources":["Video.routes.js"],"sourcesContent":["import {response, Router } from 'express';\r\nimport { Authenticate } from '../Middlewares/Authenticate.middleware';\r\nimport {videoUpload} from '../Middlewares/Video.middleware';\r\nimport {json} from 'body-parser'\r\nimport{ VideoController } from '../Controller/Video.controller'\r\n\r\nconst router = Router();\r\nconst Controller = new VideoController();\r\n//after upload work, next step is save to mongo db\r\nrouter.post('/api/video', json(), Authenticate, videoUpload.single('video'), (request, response)=>{\r\n    Controller.upload(request,response)\r\n})\r\n\r\n// video stream\r\nrouter.get('/api/video/:filename', (request, response)=> {\r\n    Controller.stream(request, response)\r\n})\r\n\r\n// like a video\r\nrouter.get('/api/video-like/:id',(request, response)=>{\r\n    Controller.like(request, response)\r\n})\r\n\r\n\r\n// dislike a video\r\nrouter.get('/api/video-dislike/:id',(request, response)=>{\r\n    Controller.dislike(request, response)\r\n})\r\n\r\n// search for a video\r\nrouter.get('/api/video-search/',(request,response)=>{\r\n    Controller.searchVideo (request, response)\r\n})\r\n\r\nrouter.delete('/api/video/:video_id/:video_path', (request, response)=>{\r\n    Controller.delete(request, response)\r\n})\r\n\r\nexport default router;"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AAEA,IAAMA,MAAM,GAAG,IAAAC,eAAA,GAAf;AACA,IAAMC,UAAU,GAAG,IAAIC,uBAAJ,EAAnB,C,CACA;;AACAH,MAAM,CAACI,IAAP,CAAY,YAAZ,EAA0B,IAAAC,gBAAA,GAA1B,EAAkCC,0BAAlC,EAAgDC,kBAAA,CAAYC,MAAZ,CAAmB,OAAnB,CAAhD,EAA6E,UAACC,OAAD,EAAUC,QAAV,EAAqB;EAC9FR,UAAU,CAACS,MAAX,CAAkBF,OAAlB,EAA0BC,QAA1B;AACH,CAFD,E,CAIA;;AACAV,MAAM,CAACY,GAAP,CAAW,sBAAX,EAAmC,UAACH,OAAD,EAAUC,QAAV,EAAsB;EACrDR,UAAU,CAACW,MAAX,CAAkBJ,OAAlB,EAA2BC,QAA3B;AACH,CAFD,E,CAIA;;AACAV,MAAM,CAACY,GAAP,CAAW,qBAAX,EAAiC,UAACH,OAAD,EAAUC,QAAV,EAAqB;EAClDR,UAAU,CAACY,IAAX,CAAgBL,OAAhB,EAAyBC,QAAzB;AACH,CAFD,E,CAKA;;AACAV,MAAM,CAACY,GAAP,CAAW,wBAAX,EAAoC,UAACH,OAAD,EAAUC,QAAV,EAAqB;EACrDR,UAAU,CAACa,OAAX,CAAmBN,OAAnB,EAA4BC,QAA5B;AACH,CAFD,E,CAIA;;AACAV,MAAM,CAACY,GAAP,CAAW,oBAAX,EAAgC,UAACH,OAAD,EAASC,QAAT,EAAoB;EAChDR,UAAU,CAACc,WAAX,CAAwBP,OAAxB,EAAiCC,QAAjC;AACH,CAFD;AAIAV,MAAM,UAAN,CAAc,kCAAd,EAAkD,UAACS,OAAD,EAAUC,QAAV,EAAqB;EACnER,UAAU,UAAV,CAAkBO,OAAlB,EAA2BC,QAA3B;AACH,CAFD;eAIeV,M"}},"mtime":1664862780269},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Middlewares\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"filename\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Middlewares\\\\Authenticate.middleware.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Authenticate = void 0;\n\nvar _jsonwebtoken = require(\"jsonwebtoken\");\n\nvar _dotenv = require(\"dotenv\");\n\n(0, _dotenv.config)();\n\nvar Authenticate = function Authenticate(request, response, next) {\n  var token = request.headers['x-auth-token'];\n  (0, _jsonwebtoken.verify)(token, process.env.cookie_secret, function (error, decoded) {\n    if (error) {\n      return response.status(403).json({\n        msg: 'Signup or Login to upload video'\n      });\n    }\n\n    request.token = decoded;\n    next();\n  });\n};\n\nexports.Authenticate = Authenticate;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25maWciLCJBdXRoZW50aWNhdGUiLCJyZXF1ZXN0IiwicmVzcG9uc2UiLCJuZXh0IiwidG9rZW4iLCJoZWFkZXJzIiwidmVyaWZ5IiwicHJvY2VzcyIsImVudiIsImNvb2tpZV9zZWNyZXQiLCJlcnJvciIsImRlY29kZWQiLCJzdGF0dXMiLCJqc29uIiwibXNnIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXDExNzgxXFxEb2N1bWVudHNcXEdpdEh1YlxcSVQtUFJPSkVDVFxcYmFja2VuZDNcXHNyY1xcTWlkZGxld2FyZXNcXCIsInNvdXJjZXMiOlsiQXV0aGVudGljYXRlLm1pZGRsZXdhcmUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHt2ZXJpZnl9IGZyb20gJ2pzb253ZWJ0b2tlbic7XHJcbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gJ2RvdGVudic7XHJcbmNvbmZpZygpO1xyXG5cclxuZXhwb3J0IGNvbnN0IEF1dGhlbnRpY2F0ZSA9IChyZXF1ZXN0LCByZXNwb25zZSwgbmV4dCk9PntcclxuICAgIGNvbnN0IHRva2VuID0gcmVxdWVzdC5oZWFkZXJzWyd4LWF1dGgtdG9rZW4nXTtcclxuXHJcbiAgICB2ZXJpZnkodG9rZW4sIHByb2Nlc3MuZW52LmNvb2tpZV9zZWNyZXQsIChlcnJvciwgZGVjb2RlZCk9PntcclxuICAgICAgICBpZiAoZXJyb3Ipe1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwMykuanNvbih7bXNnOidTaWdudXAgb3IgTG9naW4gdG8gdXBsb2FkIHZpZGVvJ30pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJlcXVlc3QudG9rZW4gPSBkZWNvZGVkO1xyXG4gICAgICAgIG5leHQoKVxyXG4gICAgfSlcclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBLElBQUFBLGNBQUE7O0FBRU8sSUFBTUMsWUFBWSxHQUFHLFNBQWZBLFlBQWUsQ0FBQ0MsT0FBRCxFQUFVQyxRQUFWLEVBQW9CQyxJQUFwQixFQUEyQjtFQUNuRCxJQUFNQyxLQUFLLEdBQUdILE9BQU8sQ0FBQ0ksT0FBUixDQUFnQixjQUFoQixDQUFkO0VBRUEsSUFBQUMsb0JBQUEsRUFBT0YsS0FBUCxFQUFjRyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsYUFBMUIsRUFBeUMsVUFBQ0MsS0FBRCxFQUFRQyxPQUFSLEVBQWtCO0lBQ3ZELElBQUlELEtBQUosRUFBVTtNQUNOLE9BQU9SLFFBQVEsQ0FBQ1UsTUFBVCxDQUFnQixHQUFoQixFQUFxQkMsSUFBckIsQ0FBMEI7UUFBQ0MsR0FBRyxFQUFDO01BQUwsQ0FBMUIsQ0FBUDtJQUNIOztJQUNEYixPQUFPLENBQUNHLEtBQVIsR0FBZ0JPLE9BQWhCO0lBQ0FSLElBQUk7RUFDUCxDQU5EO0FBT0gsQ0FWTSJ9","map":{"version":3,"names":["config","Authenticate","request","response","next","token","headers","verify","process","env","cookie_secret","error","decoded","status","json","msg"],"sourceRoot":"C:\\Users\\11781\\Documents\\GitHub\\IT-PROJECT\\backend3\\src\\Middlewares\\","sources":["Authenticate.middleware.js"],"sourcesContent":["import {verify} from 'jsonwebtoken';\r\nimport { config } from 'dotenv';\r\nconfig();\r\n\r\nexport const Authenticate = (request, response, next)=>{\r\n    const token = request.headers['x-auth-token'];\r\n\r\n    verify(token, process.env.cookie_secret, (error, decoded)=>{\r\n        if (error){\r\n            return response.status(403).json({msg:'Signup or Login to upload video'})\r\n        }\r\n        request.token = decoded;\r\n        next()\r\n    })\r\n}"],"mappings":";;;;;;;AAAA;;AACA;;AACA,IAAAA,cAAA;;AAEO,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,OAAD,EAAUC,QAAV,EAAoBC,IAApB,EAA2B;EACnD,IAAMC,KAAK,GAAGH,OAAO,CAACI,OAAR,CAAgB,cAAhB,CAAd;EAEA,IAAAC,oBAAA,EAAOF,KAAP,EAAcG,OAAO,CAACC,GAAR,CAAYC,aAA1B,EAAyC,UAACC,KAAD,EAAQC,OAAR,EAAkB;IACvD,IAAID,KAAJ,EAAU;MACN,OAAOR,QAAQ,CAACU,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B;QAACC,GAAG,EAAC;MAAL,CAA1B,CAAP;IACH;;IACDb,OAAO,CAACG,KAAR,GAAgBO,OAAhB;IACAR,IAAI;EACP,CAND;AAOH,CAVM"}},"mtime":1662444717373},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Middlewares\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"filename\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Middlewares\\\\Video.middleware.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.videoUpload = void 0;\n\nvar _file = _interopRequireDefault(require(\"@babel/core/lib/transformation/file/file\"));\n\nvar _express = require(\"express\");\n\nvar _multer = _interopRequireDefault(require(\"multer\"));\n\nvar _uuid = require(\"uuid\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n// video storage\nvar videoStorage = _multer[\"default\"].diskStorage({\n  destination: \"videos\",\n  filename: function filename(request, file, cb) {\n    var id = (0, _uuid.v4)();\n    var token = request.token;\n    var filename = \"\".concat(token._id.toString(), \"-\").concat(id);\n    var username = request.username;\n    request.filename = filename;\n    cb(null, filename);\n  }\n}); //video upload\n\n\nvar videoUpload = (0, _multer[\"default\"])({\n  storage: videoStorage,\n  limits: {\n    fieldSize: 90000000 * 5 //10 MB   \n\n  },\n  fileFilter: function fileFilter(request, file, cb) {\n    if (!file.originalname.match(/\\.(mp4|MPEG-4|mkv)$/)) {\n      return cb(new Error('Video fomat nor supported'));\n    }\n\n    cb(undefined, true);\n  }\n});\nexports.videoUpload = videoUpload;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ2aWRlb1N0b3JhZ2UiLCJtdWx0ZXIiLCJkaXNrU3RvcmFnZSIsImRlc3RpbmF0aW9uIiwiZmlsZW5hbWUiLCJyZXF1ZXN0IiwiZmlsZSIsImNiIiwiaWQiLCJ1dWlkdjQiLCJ0b2tlbiIsIl9pZCIsInRvU3RyaW5nIiwidXNlcm5hbWUiLCJ2aWRlb1VwbG9hZCIsInN0b3JhZ2UiLCJsaW1pdHMiLCJmaWVsZFNpemUiLCJmaWxlRmlsdGVyIiwib3JpZ2luYWxuYW1lIiwibWF0Y2giLCJFcnJvciIsInVuZGVmaW5lZCJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFwxMTc4MVxcRG9jdW1lbnRzXFxHaXRIdWJcXElULVBST0pFQ1RcXGJhY2tlbmQzXFxzcmNcXE1pZGRsZXdhcmVzXFwiLCJzb3VyY2VzIjpbIlZpZGVvLm1pZGRsZXdhcmUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGZpbGUgZnJvbSBcIkBiYWJlbC9jb3JlL2xpYi90cmFuc2Zvcm1hdGlvbi9maWxlL2ZpbGVcIjtcclxuaW1wb3J0IHsgcmVxdWVzdCB9IGZyb20gXCJleHByZXNzXCI7XHJcbmltcG9ydCBtdWx0ZXIgZnJvbSBcIm11bHRlclwiO1xyXG5pbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tICd1dWlkJzsgXHJcblxyXG4vLyB2aWRlbyBzdG9yYWdlXHJcbmNvbnN0IHZpZGVvU3RvcmFnZSA9IG11bHRlci5kaXNrU3RvcmFnZSh7XHJcbiAgICBkZXN0aW5hdGlvbjpcInZpZGVvc1wiLFxyXG4gICAgZmlsZW5hbWU6IChyZXF1ZXN0LCBmaWxlLCBjYik9PntcclxuICAgICAgICBjb25zdCBpZCA9IHV1aWR2NCgpO1xyXG4gICAgICAgIGNvbnN0IHRva2VuID0gcmVxdWVzdC50b2tlbjtcclxuICAgICAgICBjb25zdCBmaWxlbmFtZSA9IGAke3Rva2VuLl9pZC50b1N0cmluZygpfS0ke2lkfWA7XHJcbiAgICAgICAgY29uc3QgdXNlcm5hbWUgPSByZXF1ZXN0LnVzZXJuYW1lO1xyXG4gICAgICAgIHJlcXVlc3QuZmlsZW5hbWUgPSBmaWxlbmFtZTtcclxuICAgICAgICBjYihudWxsLCBmaWxlbmFtZSlcclxuXHJcbiAgICB9XHJcblxyXG59KVxyXG5cclxuLy92aWRlbyB1cGxvYWRcclxuZXhwb3J0IGNvbnN0IHZpZGVvVXBsb2FkID0gbXVsdGVyKHtcclxuICAgIHN0b3JhZ2U6dmlkZW9TdG9yYWdlLFxyXG4gICAgbGltaXRzOntcclxuICAgICAgICBmaWVsZFNpemU6IDkwMDAwMDAwKjUgLy8xMCBNQiAgIFxyXG4gICAgfSxcclxuICAgIGZpbGVGaWx0ZXI6KHJlcXVlc3QsIGZpbGUsIGNiKT0+e1xyXG4gICAgICAgIGlmKCFmaWxlLm9yaWdpbmFsbmFtZS5tYXRjaCgvXFwuKG1wNHxNUEVHLTR8bWt2KSQvKSl7XHJcbiAgICAgICAgICAgIHJldHVybiBjYihuZXcgRXJyb3IoJ1ZpZGVvIGZvbWF0IG5vciBzdXBwb3J0ZWQnKSlcclxuICAgICAgICB9XHJcbiAgICAgICAgY2IodW5kZWZpbmVkLCB0cnVlKVxyXG4gICAgfVxyXG59KSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUE7QUFDQSxJQUFNQSxZQUFZLEdBQUdDLGtCQUFBLENBQU9DLFdBQVAsQ0FBbUI7RUFDcENDLFdBQVcsRUFBQyxRQUR3QjtFQUVwQ0MsUUFBUSxFQUFFLGtCQUFDQyxPQUFELEVBQVVDLElBQVYsRUFBZ0JDLEVBQWhCLEVBQXFCO0lBQzNCLElBQU1DLEVBQUUsR0FBRyxJQUFBQyxRQUFBLEdBQVg7SUFDQSxJQUFNQyxLQUFLLEdBQUdMLE9BQU8sQ0FBQ0ssS0FBdEI7SUFDQSxJQUFNTixRQUFRLGFBQU1NLEtBQUssQ0FBQ0MsR0FBTixDQUFVQyxRQUFWLEVBQU4sY0FBOEJKLEVBQTlCLENBQWQ7SUFDQSxJQUFNSyxRQUFRLEdBQUdSLE9BQU8sQ0FBQ1EsUUFBekI7SUFDQVIsT0FBTyxDQUFDRCxRQUFSLEdBQW1CQSxRQUFuQjtJQUNBRyxFQUFFLENBQUMsSUFBRCxFQUFPSCxRQUFQLENBQUY7RUFFSDtBQVZtQyxDQUFuQixDQUFyQixDLENBY0E7OztBQUNPLElBQU1VLFdBQVcsR0FBRyxJQUFBYixrQkFBQSxFQUFPO0VBQzlCYyxPQUFPLEVBQUNmLFlBRHNCO0VBRTlCZ0IsTUFBTSxFQUFDO0lBQ0hDLFNBQVMsRUFBRSxXQUFTLENBRGpCLENBQ21COztFQURuQixDQUZ1QjtFQUs5QkMsVUFBVSxFQUFDLG9CQUFDYixPQUFELEVBQVVDLElBQVYsRUFBZ0JDLEVBQWhCLEVBQXFCO0lBQzVCLElBQUcsQ0FBQ0QsSUFBSSxDQUFDYSxZQUFMLENBQWtCQyxLQUFsQixDQUF3QixxQkFBeEIsQ0FBSixFQUFtRDtNQUMvQyxPQUFPYixFQUFFLENBQUMsSUFBSWMsS0FBSixDQUFVLDJCQUFWLENBQUQsQ0FBVDtJQUNIOztJQUNEZCxFQUFFLENBQUNlLFNBQUQsRUFBWSxJQUFaLENBQUY7RUFDSDtBQVY2QixDQUFQLENBQXBCIn0=","map":{"version":3,"names":["videoStorage","multer","diskStorage","destination","filename","request","file","cb","id","uuidv4","token","_id","toString","username","videoUpload","storage","limits","fieldSize","fileFilter","originalname","match","Error","undefined"],"sourceRoot":"C:\\Users\\11781\\Documents\\GitHub\\IT-PROJECT\\backend3\\src\\Middlewares\\","sources":["Video.middleware.js"],"sourcesContent":["import file from \"@babel/core/lib/transformation/file/file\";\r\nimport { request } from \"express\";\r\nimport multer from \"multer\";\r\nimport { v4 as uuidv4 } from 'uuid'; \r\n\r\n// video storage\r\nconst videoStorage = multer.diskStorage({\r\n    destination:\"videos\",\r\n    filename: (request, file, cb)=>{\r\n        const id = uuidv4();\r\n        const token = request.token;\r\n        const filename = `${token._id.toString()}-${id}`;\r\n        const username = request.username;\r\n        request.filename = filename;\r\n        cb(null, filename)\r\n\r\n    }\r\n\r\n})\r\n\r\n//video upload\r\nexport const videoUpload = multer({\r\n    storage:videoStorage,\r\n    limits:{\r\n        fieldSize: 90000000*5 //10 MB   \r\n    },\r\n    fileFilter:(request, file, cb)=>{\r\n        if(!file.originalname.match(/\\.(mp4|MPEG-4|mkv)$/)){\r\n            return cb(new Error('Video fomat nor supported'))\r\n        }\r\n        cb(undefined, true)\r\n    }\r\n})"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;AAEA;AACA,IAAMA,YAAY,GAAGC,kBAAA,CAAOC,WAAP,CAAmB;EACpCC,WAAW,EAAC,QADwB;EAEpCC,QAAQ,EAAE,kBAACC,OAAD,EAAUC,IAAV,EAAgBC,EAAhB,EAAqB;IAC3B,IAAMC,EAAE,GAAG,IAAAC,QAAA,GAAX;IACA,IAAMC,KAAK,GAAGL,OAAO,CAACK,KAAtB;IACA,IAAMN,QAAQ,aAAMM,KAAK,CAACC,GAAN,CAAUC,QAAV,EAAN,cAA8BJ,EAA9B,CAAd;IACA,IAAMK,QAAQ,GAAGR,OAAO,CAACQ,QAAzB;IACAR,OAAO,CAACD,QAAR,GAAmBA,QAAnB;IACAG,EAAE,CAAC,IAAD,EAAOH,QAAP,CAAF;EAEH;AAVmC,CAAnB,CAArB,C,CAcA;;;AACO,IAAMU,WAAW,GAAG,IAAAb,kBAAA,EAAO;EAC9Bc,OAAO,EAACf,YADsB;EAE9BgB,MAAM,EAAC;IACHC,SAAS,EAAE,WAAS,CADjB,CACmB;;EADnB,CAFuB;EAK9BC,UAAU,EAAC,oBAACb,OAAD,EAAUC,IAAV,EAAgBC,EAAhB,EAAqB;IAC5B,IAAG,CAACD,IAAI,CAACa,YAAL,CAAkBC,KAAlB,CAAwB,qBAAxB,CAAJ,EAAmD;MAC/C,OAAOb,EAAE,CAAC,IAAIc,KAAJ,CAAU,2BAAV,CAAD,CAAT;IACH;;IACDd,EAAE,CAACe,SAAD,EAAY,IAAZ,CAAF;EACH;AAV6B,CAAP,CAApB"}},"mtime":1664946132027},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Controller\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"filename\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Controller\\\\Video.controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.VideoController = void 0;\n\nvar _Video = require(\"../Models/Video.model\");\n\nvar _fs = _interopRequireDefault(require(\"fs\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nvar VideoController = /*#__PURE__*/function () {\n  function VideoController() {\n    _classCallCheck(this, VideoController);\n  }\n\n  _createClass(VideoController, [{\n    key: \"upload\",\n    value: function () {\n      var _upload = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(request, response) {\n        var newVideo, saveVideo;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                newVideo = new _Video.videoModel({\n                  owner: request.token._id,\n                  username: request.username,\n                  name: request.body.name,\n                  videopath: request.filename\n                });\n                _context.prev = 1;\n                _context.next = 4;\n                return newVideo.save();\n\n              case 4:\n                saveVideo = _context.sent;\n                return _context.abrupt(\"return\", response.status(201).json({\n                  msg: 'Video uploaded successfully'\n                }));\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context[\"catch\"](1);\n                return _context.abrupt(\"return\", response.status(500).json({\n                  msg: 'Video upload failed'\n                }));\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[1, 8]]);\n      }));\n\n      function upload(_x, _x2) {\n        return _upload.apply(this, arguments);\n      }\n\n      return upload;\n    }()\n  }, {\n    key: \"like\",\n    value: function like(request, response) {\n      var video_id = request.params.id;\n\n      _Video.videoModel.findOneAndUpdate({\n        _id: video_id\n      }, {\n        $inc: {\n          likes: 1\n        }\n      }, {\n        \"new\": true\n      }, function (error, doc) {\n        if (error) {\n          return response.status(500).json({\n            msg: 'Network Error: Failed to like video'\n          });\n        }\n\n        return response.status(200).json({\n          msg: 'Video liked'\n        });\n      });\n    }\n  }, {\n    key: \"dislike\",\n    value: function dislike(request, response) {\n      var video_id = request.params.id;\n\n      _Video.videoModel.findOneAndUpdate({\n        _id: video_id\n      }, {\n        $inc: {\n          dislikes: 1\n        }\n      }, {\n        \"new\": true\n      }, function (error, doc) {\n        if (error) {\n          return response.status(500).json({\n            msg: 'Network Error: Failed to like video'\n          });\n        }\n\n        return response.status(200).json({\n          msg: 'Video disliked'\n        });\n      });\n    }\n  }, {\n    key: \"searchVideo\",\n    value: function () {\n      var _searchVideo = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(request, response) {\n        var name, video;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                name = request.query.key;\n                _context2.prev = 1;\n                _context2.next = 4;\n                return _Video.videoModel.find({\n                  name: {\n                    $regex: name.toLowerCase()\n                  }\n                });\n\n              case 4:\n                video = _context2.sent;\n                return _context2.abrupt(\"return\", response.send(video));\n\n              case 8:\n                _context2.prev = 8;\n                _context2.t0 = _context2[\"catch\"](1);\n                return _context2.abrupt(\"return\", response.status(700).json({\n                  msg: 'No matching video'\n                }));\n\n              case 11:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[1, 8]]);\n      }));\n\n      function searchVideo(_x3, _x4) {\n        return _searchVideo.apply(this, arguments);\n      }\n\n      return searchVideo;\n    }() // // search video by owner id\n    // async searchVideo (request, response){\n    //     const name = request.query.key;\n    //         try {\n    //             let video = await videoModel.find({name:  {$regex: name.toLowerCase() }  })\n    //             return response.send(video)     \n    //         }catch(error){\n    //             return response.status(700).json({msg:'No matching video'})\n    //         }   \n    // }\n    // stream video \n\n  }, {\n    key: \"stream\",\n    value: function stream(request, response) {\n      var range = request.hearders.range;\n\n      if (!range) {\n        return response.status(400).json({\n          msg: 'Range header is required to start'\n        });\n      }\n\n      var videopath = \"videos/\".concat(request.params.filename);\n\n      var videosize = _fs[\"default\"].statSync(videopath).size; // get video size\n\n\n      var start = Number(range.replace(/\\D/g, \"\")); //get start point \n\n      var chunk_size = Math.pow(10, 6); // 1 mb , chunck size\n\n      var end = Math.min(start + chunk_size, videosize - 1); //end position\n\n      var contenLength = end - start + 1; // how many  size sending\n\n      var hearders = {\n        'Content-Length': contenLength,\n        'Accept-Range': 'bytes',\n        'Content-Type': 'video/mp40',\n        'Content-Range': \"bytes \".concat(start, \" -\").concat(end, \"/\").concat(videosize) //decise how far video gone\n\n      };\n      response.writeHead(206, hearders);\n\n      var videostream = _fs[\"default\"].createReadStream(videopath, {\n        start: start,\n        end: end\n      }); // create video stream\n\n\n      videostream.pipe(response);\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete(request, response) {\n      var video_id = request.params.video_id;\n      var video_path = request.params.video_path;\n      var videopath = \"videos/\".concat(video_path);\n\n      if (_fs[\"default\"].existsSync(videopath)) {\n        _fs[\"default\"].unlink(videopath, function (error) {\n          if (error) {\n            return response.status(500).json({\n              msg: 'Network Error: Failed to delete video'\n            });\n          }\n\n          _Video.videoModel.findOneAndDelete({\n            _id: video_id\n          }, function (error) {\n            if (error) {\n              return response.status(500).json({\n                msg: 'Network Error: Failed to delete video'\n              });\n            }\n\n            return response.status(200).json({\n              msg: ' video delete'\n            });\n          });\n        });\n      }\n    }\n    /*delete(request, response){\r\n        \r\n        const video_id = request.params.video_id;\r\n        const video_path = request.params.video_path;\r\n          const videopath = `videos/${video_path}`;   \r\n        if(fs.existsSync(videopath)){\r\n            fs.unlink(videopath, (error)=>{\r\n                if(error){\r\n                    return response.status(500).json({msg:'Network Error: Failed to delete video'})\r\n                }\r\n                videoModel.findOneAndDelete({_id:video_id}, (error)=>{\r\n                    if (error){\r\n                        return response.status(500).json({msg:'Network Error: Failed to delete video'})\r\n                    }\r\n                    return response.status(200).json({msg:' video delete'})\r\n                })                \r\n            })\r\n        }\r\n    } */\n\n  }]);\n\n  return VideoController;\n}();\n\nexports.VideoController = VideoController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJWaWRlb0NvbnRyb2xsZXIiLCJyZXF1ZXN0IiwicmVzcG9uc2UiLCJuZXdWaWRlbyIsInZpZGVvTW9kZWwiLCJvd25lciIsInRva2VuIiwiX2lkIiwidXNlcm5hbWUiLCJuYW1lIiwiYm9keSIsInZpZGVvcGF0aCIsImZpbGVuYW1lIiwic2F2ZSIsInNhdmVWaWRlbyIsInN0YXR1cyIsImpzb24iLCJtc2ciLCJ2aWRlb19pZCIsInBhcmFtcyIsImlkIiwiZmluZE9uZUFuZFVwZGF0ZSIsIiRpbmMiLCJsaWtlcyIsImVycm9yIiwiZG9jIiwiZGlzbGlrZXMiLCJxdWVyeSIsImtleSIsImZpbmQiLCIkcmVnZXgiLCJ0b0xvd2VyQ2FzZSIsInZpZGVvIiwic2VuZCIsInJhbmdlIiwiaGVhcmRlcnMiLCJ2aWRlb3NpemUiLCJmcyIsInN0YXRTeW5jIiwic2l6ZSIsInN0YXJ0IiwiTnVtYmVyIiwicmVwbGFjZSIsImNodW5rX3NpemUiLCJlbmQiLCJNYXRoIiwibWluIiwiY29udGVuTGVuZ3RoIiwid3JpdGVIZWFkIiwidmlkZW9zdHJlYW0iLCJjcmVhdGVSZWFkU3RyZWFtIiwicGlwZSIsInZpZGVvX3BhdGgiLCJleGlzdHNTeW5jIiwidW5saW5rIiwiZmluZE9uZUFuZERlbGV0ZSJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFwxMTc4MVxcRG9jdW1lbnRzXFxHaXRIdWJcXElULVBST0pFQ1RcXGJhY2tlbmQzXFxzcmNcXENvbnRyb2xsZXJcXCIsInNvdXJjZXMiOlsiVmlkZW8uY29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB2aWRlb01vZGVsIH0gZnJvbSAnLi4vTW9kZWxzL1ZpZGVvLm1vZGVsJ1xyXG5pbXBvcnQgZnMgZnJvbSAnZnMnXHJcblxyXG5leHBvcnQgY2xhc3MgVmlkZW9Db250cm9sbGVye1xyXG4gICAgYXN5bmMgdXBsb2FkKHJlcXVlc3QsIHJlc3BvbnNlKXtcclxuXHJcbiAgICAgICAgY29uc3QgbmV3VmlkZW8gPSBuZXcgdmlkZW9Nb2RlbCh7XHJcbiAgICAgICAgICAgIG93bmVyOnJlcXVlc3QudG9rZW4uX2lkLFxyXG4gICAgICAgICAgICB1c2VybmFtZTpyZXF1ZXN0LnVzZXJuYW1lLFxyXG4gICAgICAgICAgICBuYW1lOnJlcXVlc3QuYm9keS5uYW1lLFxyXG4gICAgICAgICAgICB2aWRlb3BhdGg6cmVxdWVzdC5maWxlbmFtZVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNhdmVWaWRlbyA9IGF3YWl0IG5ld1ZpZGVvLnNhdmUoKVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMSkuanNvbih7bXNnOidWaWRlbyB1cGxvYWRlZCBzdWNjZXNzZnVsbHknfSlcclxuICAgICAgICB9Y2F0Y2ggKGVycm9yKXtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oe21zZzonVmlkZW8gdXBsb2FkIGZhaWxlZCd9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG5cclxuICAgIGxpa2UgKHJlcXVlc3QsIHJlc3BvbnNlKXtcclxuICAgICAgICBjb25zdCB2aWRlb19pZCA9IHJlcXVlc3QucGFyYW1zLmlkO1xyXG4gICAgICAgIHZpZGVvTW9kZWwuZmluZE9uZUFuZFVwZGF0ZSh7X2lkOnZpZGVvX2lkfSwgeyRpbmM6e2xpa2VzOjF9fSxcclxuICAgICAgICAgICAge25ldzp0cnVlfSwgKGVycm9yLGRvYyk9PntcclxuICAgICAgICAgICAgICAgIGlmIChlcnJvcil7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oe21zZzonTmV0d29yayBFcnJvcjogRmFpbGVkIHRvIGxpa2UgdmlkZW8nfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHttc2c6J1ZpZGVvIGxpa2VkJ30pXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgZGlzbGlrZSAocmVxdWVzdCwgcmVzcG9uc2Upe1xyXG4gICAgICAgIGNvbnN0IHZpZGVvX2lkID0gcmVxdWVzdC5wYXJhbXMuaWQ7XHJcbiAgICAgICAgdmlkZW9Nb2RlbC5maW5kT25lQW5kVXBkYXRlKHtfaWQ6dmlkZW9faWR9LCB7JGluYzp7ZGlzbGlrZXM6MX19LFxyXG4gICAgICAgICAgICB7bmV3OnRydWV9LCAoZXJyb3IsZG9jKT0+e1xyXG4gICAgICAgICAgICAgICAgaWYgKGVycm9yKXtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7bXNnOidOZXR3b3JrIEVycm9yOiBGYWlsZWQgdG8gbGlrZSB2aWRlbyd9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cygyMDApLmpzb24oe21zZzonVmlkZW8gZGlzbGlrZWQnfSlcclxuICAgICAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBzZWFyY2hWaWRlbyAocmVxdWVzdCwgcmVzcG9uc2Upe1xyXG4gICAgICAgIGNvbnN0IG5hbWUgPSByZXF1ZXN0LnF1ZXJ5LmtleTtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGxldCB2aWRlbyA9IGF3YWl0IHZpZGVvTW9kZWwuZmluZCh7bmFtZTogIHskcmVnZXg6IG5hbWUudG9Mb3dlckNhc2UoKSB9ICB9KVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnNlbmQodmlkZW8pICAgICBcclxuXHJcbiAgICAgICAgICAgIH1jYXRjaChlcnJvcil7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDcwMCkuanNvbih7bXNnOidObyBtYXRjaGluZyB2aWRlbyd9KVxyXG4gICAgICAgICAgICB9ICAgXHJcbiAgICB9XHJcblxyXG4gICAgLy8gLy8gc2VhcmNoIHZpZGVvIGJ5IG93bmVyIGlkXHJcbiAgICAvLyBhc3luYyBzZWFyY2hWaWRlbyAocmVxdWVzdCwgcmVzcG9uc2Upe1xyXG4gICAgLy8gICAgIGNvbnN0IG5hbWUgPSByZXF1ZXN0LnF1ZXJ5LmtleTtcclxuICAgIC8vICAgICAgICAgdHJ5IHtcclxuICAgIC8vICAgICAgICAgICAgIGxldCB2aWRlbyA9IGF3YWl0IHZpZGVvTW9kZWwuZmluZCh7bmFtZTogIHskcmVnZXg6IG5hbWUudG9Mb3dlckNhc2UoKSB9ICB9KVxyXG4gICAgLy8gICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnNlbmQodmlkZW8pICAgICBcclxuXHJcbiAgICAvLyAgICAgICAgIH1jYXRjaChlcnJvcil7XHJcbiAgICAvLyAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDcwMCkuanNvbih7bXNnOidObyBtYXRjaGluZyB2aWRlbyd9KVxyXG4gICAgLy8gICAgICAgICB9ICAgXHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gc3RyZWFtIHZpZGVvIFxyXG4gICAgc3RyZWFtKHJlcXVlc3QsIHJlc3BvbnNlKXtcclxuICAgICAgICBjb25zdCByYW5nZSA9IHJlcXVlc3QuaGVhcmRlcnMucmFuZ2VcclxuICAgICAgICBpZighcmFuZ2Upe1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwMCkuanNvbih7bXNnOidSYW5nZSBoZWFkZXIgaXMgcmVxdWlyZWQgdG8gc3RhcnQnfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgdmlkZW9wYXRoID0gYHZpZGVvcy8ke3JlcXVlc3QucGFyYW1zLmZpbGVuYW1lfWA7XHJcbiAgICAgICAgY29uc3QgdmlkZW9zaXplID0gZnMuc3RhdFN5bmModmlkZW9wYXRoKS5zaXplOyAgLy8gZ2V0IHZpZGVvIHNpemVcclxuXHJcbiAgICAgICAgY29uc3Qgc3RhcnQgPSBOdW1iZXIocmFuZ2UucmVwbGFjZSgvXFxEL2csIFwiXCIpKTsgIC8vZ2V0IHN0YXJ0IHBvaW50IFxyXG4gICAgICAgIGNvbnN0IGNodW5rX3NpemUgPSAxMCoqNiAvLyAxIG1iICwgY2h1bmNrIHNpemVcclxuICAgICAgICBjb25zdCBlbmQgPSBNYXRoLm1pbihzdGFydCArIGNodW5rX3NpemUsIHZpZGVvc2l6ZSAtIDEpOyAgIC8vZW5kIHBvc2l0aW9uXHJcblxyXG4gICAgICAgIGNvbnN0IGNvbnRlbkxlbmd0aCA9IGVuZCAtIHN0YXJ0ICsgMSAgLy8gaG93IG1hbnkgIHNpemUgc2VuZGluZ1xyXG4gICAgICAgIGNvbnN0IGhlYXJkZXJzID0ge1xyXG4gICAgICAgICAgICAnQ29udGVudC1MZW5ndGgnIDogY29udGVuTGVuZ3RoLFxyXG4gICAgICAgICAgICAnQWNjZXB0LVJhbmdlJzogJ2J5dGVzJyxcclxuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICd2aWRlby9tcDQwJyxcclxuICAgICAgICAgICAgJ0NvbnRlbnQtUmFuZ2UnOiBgYnl0ZXMgJHtzdGFydH0gLSR7ZW5kfS8ke3ZpZGVvc2l6ZX1gICAgLy9kZWNpc2UgaG93IGZhciB2aWRlbyBnb25lXHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICByZXNwb25zZS53cml0ZUhlYWQoMjA2LCBoZWFyZGVycyk7ICAgXHJcbiAgICAgICAgY29uc3QgdmlkZW9zdHJlYW0gPSBmcy5jcmVhdGVSZWFkU3RyZWFtKHZpZGVvcGF0aCwge3N0YXJ0LCBlbmR9KTsgLy8gY3JlYXRlIHZpZGVvIHN0cmVhbVxyXG4gICAgICAgIHZpZGVvc3RyZWFtLnBpcGUocmVzcG9uc2UpICAgXHJcbiAgICB9XHJcbiAgICAgXHJcbiAgICBkZWxldGUocmVxdWVzdCwgcmVzcG9uc2Upe1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IHZpZGVvX2lkID0gcmVxdWVzdC5wYXJhbXMudmlkZW9faWQ7XHJcbiAgICAgICAgY29uc3QgdmlkZW9fcGF0aCA9IHJlcXVlc3QucGFyYW1zLnZpZGVvX3BhdGg7XHJcblxyXG4gICAgICAgIGNvbnN0IHZpZGVvcGF0aCA9IGB2aWRlb3MvJHt2aWRlb19wYXRofWA7ICAgXHJcbiAgICAgICAgaWYoZnMuZXhpc3RzU3luYyh2aWRlb3BhdGgpKXtcclxuICAgICAgICAgICAgZnMudW5saW5rKHZpZGVvcGF0aCwgKGVycm9yKT0+e1xyXG4gICAgICAgICAgICAgICAgaWYoZXJyb3Ipe1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHttc2c6J05ldHdvcmsgRXJyb3I6IEZhaWxlZCB0byBkZWxldGUgdmlkZW8nfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZpZGVvTW9kZWwuZmluZE9uZUFuZERlbGV0ZSh7X2lkOnZpZGVvX2lkfSwgKGVycm9yKT0+e1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHttc2c6J05ldHdvcmsgRXJyb3I6IEZhaWxlZCB0byBkZWxldGUgdmlkZW8nfSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cygyMDApLmpzb24oe21zZzonIHZpZGVvIGRlbGV0ZSd9KVxyXG4gICAgICAgICAgICAgICAgfSkgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qZGVsZXRlKHJlcXVlc3QsIHJlc3BvbnNlKXtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCB2aWRlb19pZCA9IHJlcXVlc3QucGFyYW1zLnZpZGVvX2lkO1xyXG4gICAgICAgIGNvbnN0IHZpZGVvX3BhdGggPSByZXF1ZXN0LnBhcmFtcy52aWRlb19wYXRoO1xyXG5cclxuICAgICAgICBjb25zdCB2aWRlb3BhdGggPSBgdmlkZW9zLyR7dmlkZW9fcGF0aH1gOyAgIFxyXG4gICAgICAgIGlmKGZzLmV4aXN0c1N5bmModmlkZW9wYXRoKSl7XHJcbiAgICAgICAgICAgIGZzLnVubGluayh2aWRlb3BhdGgsIChlcnJvcik9PntcclxuICAgICAgICAgICAgICAgIGlmKGVycm9yKXtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7bXNnOidOZXR3b3JrIEVycm9yOiBGYWlsZWQgdG8gZGVsZXRlIHZpZGVvJ30pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2aWRlb01vZGVsLmZpbmRPbmVBbmREZWxldGUoe19pZDp2aWRlb19pZH0sIChlcnJvcik9PntcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3Ipe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7bXNnOidOZXR3b3JrIEVycm9yOiBGYWlsZWQgdG8gZGVsZXRlIHZpZGVvJ30pXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHttc2c6JyB2aWRlbyBkZWxldGUnfSlcclxuICAgICAgICAgICAgICAgIH0pICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH0gKi9cclxuXHJcbiAgICAgXHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOztBQUNBOzs7OytDQUFBLG9KOzs7Ozs7Ozs7Ozs7SUFFYUEsZTs7Ozs7Ozs7K0VBQ1QsaUJBQWFDLE9BQWIsRUFBc0JDLFFBQXRCO1FBQUE7UUFBQTtVQUFBO1lBQUE7Y0FBQTtnQkFFVUMsUUFGVixHQUVxQixJQUFJQyxpQkFBSixDQUFlO2tCQUM1QkMsS0FBSyxFQUFDSixPQUFPLENBQUNLLEtBQVIsQ0FBY0MsR0FEUTtr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","map":{"version":3,"names":["VideoController","request","response","newVideo","videoModel","owner","token","_id","username","name","body","videopath","filename","save","saveVideo","status","json","msg","video_id","params","id","findOneAndUpdate","$inc","likes","error","doc","dislikes","query","key","find","$regex","toLowerCase","video","send","range","hearders","videosize","fs","statSync","size","start","Number","replace","chunk_size","end","Math","min","contenLength","writeHead","videostream","createReadStream","pipe","video_path","existsSync","unlink","findOneAndDelete"],"sourceRoot":"C:\\Users\\11781\\Documents\\GitHub\\IT-PROJECT\\backend3\\src\\Controller\\","sources":["Video.controller.js"],"sourcesContent":["import { videoModel } from '../Models/Video.model'\r\nimport fs from 'fs'\r\n\r\nexport class VideoController{\r\n    async upload(request, response){\r\n\r\n        const newVideo = new videoModel({\r\n            owner:request.token._id,\r\n            username:request.username,\r\n            name:request.body.name,\r\n            videopath:request.filename\r\n        })\r\n\r\n        try {\r\n            const saveVideo = await newVideo.save()\r\n            return response.status(201).json({msg:'Video uploaded successfully'})\r\n        }catch (error){\r\n            return response.status(500).json({msg:'Video upload failed'})\r\n        }\r\n    }\r\n    \r\n\r\n    like (request, response){\r\n        const video_id = request.params.id;\r\n        videoModel.findOneAndUpdate({_id:video_id}, {$inc:{likes:1}},\r\n            {new:true}, (error,doc)=>{\r\n                if (error){\r\n                    return response.status(500).json({msg:'Network Error: Failed to like video'})\r\n                }\r\n                return response.status(200).json({msg:'Video liked'})\r\n            })\r\n    }\r\n\r\n    dislike (request, response){\r\n        const video_id = request.params.id;\r\n        videoModel.findOneAndUpdate({_id:video_id}, {$inc:{dislikes:1}},\r\n            {new:true}, (error,doc)=>{\r\n                if (error){\r\n                    return response.status(500).json({msg:'Network Error: Failed to like video'})\r\n                }\r\n                return response.status(200).json({msg:'Video disliked'})\r\n            })\r\n    }\r\n\r\n    async searchVideo (request, response){\r\n        const name = request.query.key;\r\n            try {\r\n                let video = await videoModel.find({name:  {$regex: name.toLowerCase() }  })\r\n                return response.send(video)     \r\n\r\n            }catch(error){\r\n                return response.status(700).json({msg:'No matching video'})\r\n            }   \r\n    }\r\n\r\n    // // search video by owner id\r\n    // async searchVideo (request, response){\r\n    //     const name = request.query.key;\r\n    //         try {\r\n    //             let video = await videoModel.find({name:  {$regex: name.toLowerCase() }  })\r\n    //             return response.send(video)     \r\n\r\n    //         }catch(error){\r\n    //             return response.status(700).json({msg:'No matching video'})\r\n    //         }   \r\n    // }\r\n\r\n    // stream video \r\n    stream(request, response){\r\n        const range = request.hearders.range\r\n        if(!range){\r\n            return response.status(400).json({msg:'Range header is required to start'})\r\n        }\r\n        const videopath = `videos/${request.params.filename}`;\r\n        const videosize = fs.statSync(videopath).size;  // get video size\r\n\r\n        const start = Number(range.replace(/\\D/g, \"\"));  //get start point \r\n        const chunk_size = 10**6 // 1 mb , chunck size\r\n        const end = Math.min(start + chunk_size, videosize - 1);   //end position\r\n\r\n        const contenLength = end - start + 1  // how many  size sending\r\n        const hearders = {\r\n            'Content-Length' : contenLength,\r\n            'Accept-Range': 'bytes',\r\n            'Content-Type': 'video/mp40',\r\n            'Content-Range': `bytes ${start} -${end}/${videosize}`   //decise how far video gone\r\n\r\n        }\r\n        response.writeHead(206, hearders);   \r\n        const videostream = fs.createReadStream(videopath, {start, end}); // create video stream\r\n        videostream.pipe(response)   \r\n    }\r\n     \r\n    delete(request, response){\r\n        \r\n        const video_id = request.params.video_id;\r\n        const video_path = request.params.video_path;\r\n\r\n        const videopath = `videos/${video_path}`;   \r\n        if(fs.existsSync(videopath)){\r\n            fs.unlink(videopath, (error)=>{\r\n                if(error){\r\n                    return response.status(500).json({msg:'Network Error: Failed to delete video'})\r\n                }\r\n                videoModel.findOneAndDelete({_id:video_id}, (error)=>{\r\n                    if (error){\r\n                        return response.status(500).json({msg:'Network Error: Failed to delete video'})\r\n                    }\r\n                    return response.status(200).json({msg:' video delete'})\r\n                })                \r\n            })\r\n        }\r\n    }\r\n\r\n    /*delete(request, response){\r\n        \r\n        const video_id = request.params.video_id;\r\n        const video_path = request.params.video_path;\r\n\r\n        const videopath = `videos/${video_path}`;   \r\n        if(fs.existsSync(videopath)){\r\n            fs.unlink(videopath, (error)=>{\r\n                if(error){\r\n                    return response.status(500).json({msg:'Network Error: Failed to delete video'})\r\n                }\r\n                videoModel.findOneAndDelete({_id:video_id}, (error)=>{\r\n                    if (error){\r\n                        return response.status(500).json({msg:'Network Error: Failed to delete video'})\r\n                    }\r\n                    return response.status(200).json({msg:' video delete'})\r\n                })                \r\n            })\r\n        }\r\n    } */\r\n\r\n     \r\n}"],"mappings":"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"}},"mtime":1664946132017},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"filename\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Models\\\\Video.model.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.videoModel = void 0;\n\nvar _mongoose = require(\"mongoose\");\n\nvar videoSchema = new _mongoose.Schema({\n  owner: {\n    type: _mongoose.Schema.Types.ObjectId,\n    ref: 'user'\n  },\n  username: {\n    type: String\n  },\n  name: {\n    type: String,\n    required: [true, 'Upload video needs a video name']\n  },\n  videopath: {\n    type: String,\n    required: [true, 'Upload video needs a video path'],\n    unique: [true, 'Video path already exist']\n  },\n  likes: {\n    type: Number,\n    \"default\": 0\n  },\n  dislikes: {\n    type: Number,\n    \"default\": 0\n  },\n  views: {\n    type: Array,\n    \"default\": []\n  },\n  comments: {\n    type: Array,\n    \"default\": []\n  }\n});\nvar videoModel = (0, _mongoose.model)('video', videoSchema);\nexports.videoModel = videoModel;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ2aWRlb1NjaGVtYSIsIlNjaGVtYSIsIm93bmVyIiwidHlwZSIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJ1c2VybmFtZSIsIlN0cmluZyIsIm5hbWUiLCJyZXF1aXJlZCIsInZpZGVvcGF0aCIsInVuaXF1ZSIsImxpa2VzIiwiTnVtYmVyIiwiZGlzbGlrZXMiLCJ2aWV3cyIsIkFycmF5IiwiY29tbWVudHMiLCJ2aWRlb01vZGVsIiwibW9kZWwiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcMTE3ODFcXERvY3VtZW50c1xcR2l0SHViXFxJVC1QUk9KRUNUXFxiYWNrZW5kM1xcc3JjXFxNb2RlbHNcXCIsInNvdXJjZXMiOlsiVmlkZW8ubW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU2NoZW1hLCBtb2RlbH0gZnJvbSAnbW9uZ29vc2UnXHJcblxyXG5jb25zdCB2aWRlb1NjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gICAgb3duZXI6e1xyXG4gICAgICAgIHR5cGU6U2NoZW1hLlR5cGVzLk9iamVjdElkLFxyXG4gICAgICAgIHJlZjondXNlcidcclxuICAgIH0sXHJcbiAgICB1c2VybmFtZTp7XHJcbiAgICAgICAgdHlwZTpTdHJpbmcsXHJcbiAgICB9LFxyXG4gICAgbmFtZTp7XHJcbiAgICAgICAgdHlwZTpTdHJpbmcsXHJcbiAgICAgICAgcmVxdWlyZWQ6W3RydWUsICdVcGxvYWQgdmlkZW8gbmVlZHMgYSB2aWRlbyBuYW1lJ11cclxuICAgIH0sXHJcbiAgICB2aWRlb3BhdGg6e1xyXG4gICAgICAgIHR5cGU6U3RyaW5nLFxyXG4gICAgICAgIHJlcXVpcmVkOlt0cnVlLCAnVXBsb2FkIHZpZGVvIG5lZWRzIGEgdmlkZW8gcGF0aCddLFxyXG4gICAgICAgIHVuaXF1ZTpbdHJ1ZSwgJ1ZpZGVvIHBhdGggYWxyZWFkeSBleGlzdCddXHJcbiAgICB9LFxyXG4gICAgbGlrZXM6e1xyXG4gICAgICAgIHR5cGU6TnVtYmVyLFxyXG4gICAgICAgIGRlZmF1bHQ6MFxyXG4gICAgfSxcclxuICAgIGRpc2xpa2VzOntcclxuICAgICAgICB0eXBlOk51bWJlcixcclxuICAgICAgICBkZWZhdWx0OjBcclxuICAgIH0sXHJcbiAgICB2aWV3czp7XHJcbiAgICAgICAgdHlwZTpBcnJheSxcclxuICAgICAgICBkZWZhdWx0OltdXHJcbiAgICB9LFxyXG4gICAgY29tbWVudHM6e1xyXG4gICAgICAgIHR5cGU6IEFycmF5LFxyXG4gICAgICAgIGRlZmF1bHQ6W11cclxuICAgIH1cclxuXHJcbn0pXHJcbmV4cG9ydCBjb25zdCB2aWRlb01vZGVsID0gbW9kZWwoJ3ZpZGVvJyx2aWRlb1NjaGVtYSkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFFQSxJQUFNQSxXQUFXLEdBQUcsSUFBSUMsZ0JBQUosQ0FBVztFQUMzQkMsS0FBSyxFQUFDO0lBQ0ZDLElBQUksRUFBQ0YsZ0JBQUEsQ0FBT0csS0FBUCxDQUFhQyxRQURoQjtJQUVGQyxHQUFHLEVBQUM7RUFGRixDQURxQjtFQUszQkMsUUFBUSxFQUFDO0lBQ0xKLElBQUksRUFBQ0s7RUFEQSxDQUxrQjtFQVEzQkMsSUFBSSxFQUFDO0lBQ0ROLElBQUksRUFBQ0ssTUFESjtJQUVERSxRQUFRLEVBQUMsQ0FBQyxJQUFELEVBQU8saUNBQVA7RUFGUixDQVJzQjtFQVkzQkMsU0FBUyxFQUFDO0lBQ05SLElBQUksRUFBQ0ssTUFEQztJQUVORSxRQUFRLEVBQUMsQ0FBQyxJQUFELEVBQU8saUNBQVAsQ0FGSDtJQUdORSxNQUFNLEVBQUMsQ0FBQyxJQUFELEVBQU8sMEJBQVA7RUFIRCxDQVppQjtFQWlCM0JDLEtBQUssRUFBQztJQUNGVixJQUFJLEVBQUNXLE1BREg7SUFFRixXQUFRO0VBRk4sQ0FqQnFCO0VBcUIzQkMsUUFBUSxFQUFDO0lBQ0xaLElBQUksRUFBQ1csTUFEQTtJQUVMLFdBQVE7RUFGSCxDQXJCa0I7RUF5QjNCRSxLQUFLLEVBQUM7SUFDRmIsSUFBSSxFQUFDYyxLQURIO0lBRUYsV0FBUTtFQUZOLENBekJxQjtFQTZCM0JDLFFBQVEsRUFBQztJQUNMZixJQUFJLEVBQUVjLEtBREQ7SUFFTCxXQUFRO0VBRkg7QUE3QmtCLENBQVgsQ0FBcEI7QUFtQ08sSUFBTUUsVUFBVSxHQUFHLElBQUFDLGVBQUEsRUFBTSxPQUFOLEVBQWNwQixXQUFkLENBQW5CIn0=","map":{"version":3,"names":["videoSchema","Schema","owner","type","Types","ObjectId","ref","username","String","name","required","videopath","unique","likes","Number","dislikes","views","Array","comments","videoModel","model"],"sourceRoot":"C:\\Users\\11781\\Documents\\GitHub\\IT-PROJECT\\backend3\\src\\Models\\","sources":["Video.model.js"],"sourcesContent":["import { Schema, model} from 'mongoose'\r\n\r\nconst videoSchema = new Schema({\r\n    owner:{\r\n        type:Schema.Types.ObjectId,\r\n        ref:'user'\r\n    },\r\n    username:{\r\n        type:String,\r\n    },\r\n    name:{\r\n        type:String,\r\n        required:[true, 'Upload video needs a video name']\r\n    },\r\n    videopath:{\r\n        type:String,\r\n        required:[true, 'Upload video needs a video path'],\r\n        unique:[true, 'Video path already exist']\r\n    },\r\n    likes:{\r\n        type:Number,\r\n        default:0\r\n    },\r\n    dislikes:{\r\n        type:Number,\r\n        default:0\r\n    },\r\n    views:{\r\n        type:Array,\r\n        default:[]\r\n    },\r\n    comments:{\r\n        type: Array,\r\n        default:[]\r\n    }\r\n\r\n})\r\nexport const videoModel = model('video',videoSchema)"],"mappings":";;;;;;;AAAA;;AAEA,IAAMA,WAAW,GAAG,IAAIC,gBAAJ,CAAW;EAC3BC,KAAK,EAAC;IACFC,IAAI,EAACF,gBAAA,CAAOG,KAAP,CAAaC,QADhB;IAEFC,GAAG,EAAC;EAFF,CADqB;EAK3BC,QAAQ,EAAC;IACLJ,IAAI,EAACK;EADA,CALkB;EAQ3BC,IAAI,EAAC;IACDN,IAAI,EAACK,MADJ;IAEDE,QAAQ,EAAC,CAAC,IAAD,EAAO,iCAAP;EAFR,CARsB;EAY3BC,SAAS,EAAC;IACNR,IAAI,EAACK,MADC;IAENE,QAAQ,EAAC,CAAC,IAAD,EAAO,iCAAP,CAFH;IAGNE,MAAM,EAAC,CAAC,IAAD,EAAO,0BAAP;EAHD,CAZiB;EAiB3BC,KAAK,EAAC;IACFV,IAAI,EAACW,MADH;IAEF,WAAQ;EAFN,CAjBqB;EAqB3BC,QAAQ,EAAC;IACLZ,IAAI,EAACW,MADA;IAEL,WAAQ;EAFH,CArBkB;EAyB3BE,KAAK,EAAC;IACFb,IAAI,EAACc,KADH;IAEF,WAAQ;EAFN,CAzBqB;EA6B3BC,QAAQ,EAAC;IACLf,IAAI,EAAEc,KADD;IAEL,WAAQ;EAFH;AA7BkB,CAAX,CAApB;AAmCO,IAAME,UAAU,GAAG,IAAAC,eAAA,EAAM,OAAN,EAAcpB,WAAd,CAAnB"}},"mtime":1664946132039},"{\"assumptions\":{},\"sourceRoot\":\"E:\\\\IT-PROJECT\\\\backend3\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"E:\\\\IT-PROJECT\\\\backend3\",\"filename\":\"E:\\\\IT-PROJECT\\\\backend3\\\\src\\\\server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"E:\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _mongoose = require(\"mongoose\");\n\nvar _dotenv = require(\"dotenv\");\n\nvar _Auth = _interopRequireDefault(require(\"./Routes/Auth.routes\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _Video = _interopRequireDefault(require(\"./Routes/Video.routes\"));\n\nvar _process$env$PORT;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n(0, _dotenv.config)();\nvar server = (0, _express[\"default\"])(); //==============MiddleWares===========================================\n\nserver.use((0, _cors[\"default\"])()); //==========mongo DB connection========================================\n\nvar mongoURI = process.env.mongoURI;\n(0, _mongoose.connect)(mongoURI, function (error) {\n  if (error) {\n    return console.log(error);\n  }\n\n  console.log('connection to mongo DB successful!!!');\n}); //==============================server endpoints=============================\n\nserver.use(_Auth[\"default\"]);\nserver.use(_Video[\"default\"]);\nvar PORT = (_process$env$PORT = process.env.PORT) !== null && _process$env$PORT !== void 0 ? _process$env$PORT : 3000;\nserver.listen(PORT, function () {\n  console.log(\"Server started on PORT \".concat(PORT));\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25maWciLCJzZXJ2ZXIiLCJleHByZXNzIiwidXNlIiwiY29ycyIsIm1vbmdvVVJJIiwicHJvY2VzcyIsImVudiIsImNvbm5lY3QiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJBdXRoUm91dGVzIiwiVmlkZW9Sb3V0ZXMiLCJQT1JUIiwibGlzdGVuIl0sInNvdXJjZVJvb3QiOiJFOlxcSVQtUFJPSkVDVFxcYmFja2VuZDNcXHNyY1xcIiwic291cmNlcyI6WyJzZXJ2ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XHJcbmltcG9ydHsgY29ubmVjdCB9IGZyb20gJ21vbmdvb3NlJztcclxuaW1wb3J0eyBjb25maWcgfSBmcm9tICdkb3RlbnYnO1xyXG5pbXBvcnQgQXV0aFJvdXRlcyBmcm9tICcuL1JvdXRlcy9BdXRoLnJvdXRlcydcclxuaW1wb3J0IGNvcnMgZnJvbSAnY29ycydcclxuaW1wb3J0IFZpZGVvUm91dGVzIGZyb20gJy4vUm91dGVzL1ZpZGVvLnJvdXRlcydcclxuXHJcbmNvbmZpZygpO1xyXG5cclxuY29uc3Qgc2VydmVyID0gZXhwcmVzcygpO1xyXG4vLz09PT09PT09PT09PT09TWlkZGxlV2FyZXM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbnNlcnZlci51c2UoY29ycygpKVxyXG4vLz09PT09PT09PT1tb25nbyBEQiBjb25uZWN0aW9uPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5jb25zdCBtb25nb1VSSSA9IHByb2Nlc3MuZW52Lm1vbmdvVVJJO1xyXG5jb25uZWN0KG1vbmdvVVJJLCAoZXJyb3IpPT57XHJcbiAgICBpZihlcnJvcil7XHJcbiAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgIH1cclxuICAgIGNvbnNvbGUubG9nKCdjb25uZWN0aW9uIHRvIG1vbmdvIERCIHN1Y2Nlc3NmdWwhISEnKVxyXG59KVxyXG5cclxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1zZXJ2ZXIgZW5kcG9pbnRzPT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuc2VydmVyLnVzZShBdXRoUm91dGVzKVxyXG5zZXJ2ZXIudXNlKFZpZGVvUm91dGVzKVxyXG5cclxuY29uc3QgUE9SVCA9IHByb2Nlc3MuZW52LlBPUlQgPz8gMzAwMDtcclxuXHJcblxyXG5zZXJ2ZXIubGlzdGVuKFBPUlQsICgpPT57XHJcbiAgICBjb25zb2xlLmxvZyhgU2VydmVyIHN0YXJ0ZWQgb24gUE9SVCAke1BPUlR9YClcclxufSkiXSwibWFwcGluZ3MiOiI7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7OztBQUVBLElBQUFBLGNBQUE7QUFFQSxJQUFNQyxNQUFNLEdBQUcsSUFBQUMsbUJBQUEsR0FBZixDLENBQ0E7O0FBQ0FELE1BQU0sQ0FBQ0UsR0FBUCxDQUFXLElBQUFDLGdCQUFBLEdBQVgsRSxDQUNBOztBQUNBLElBQU1DLFFBQVEsR0FBR0MsT0FBTyxDQUFDQyxHQUFSLENBQVlGLFFBQTdCO0FBQ0EsSUFBQUcsaUJBQUEsRUFBUUgsUUFBUixFQUFrQixVQUFDSSxLQUFELEVBQVM7RUFDdkIsSUFBR0EsS0FBSCxFQUFTO0lBQ0wsT0FBT0MsT0FBTyxDQUFDQyxHQUFSLENBQVlGLEtBQVosQ0FBUDtFQUNIOztFQUNEQyxPQUFPLENBQUNDLEdBQVIsQ0FBWSxzQ0FBWjtBQUNILENBTEQsRSxDQU9BOztBQUNBVixNQUFNLENBQUNFLEdBQVAsQ0FBV1MsZ0JBQVg7QUFDQVgsTUFBTSxDQUFDRSxHQUFQLENBQVdVLGlCQUFYO0FBRUEsSUFBTUMsSUFBSSx3QkFBR1IsT0FBTyxDQUFDQyxHQUFSLENBQVlPLElBQWYsaUVBQXVCLElBQWpDO0FBR0FiLE1BQU0sQ0FBQ2MsTUFBUCxDQUFjRCxJQUFkLEVBQW9CLFlBQUk7RUFDcEJKLE9BQU8sQ0FBQ0MsR0FBUixrQ0FBc0NHLElBQXRDO0FBQ0gsQ0FGRCJ9","map":{"version":3,"names":["config","server","express","use","cors","mongoURI","process","env","connect","error","console","log","AuthRoutes","VideoRoutes","PORT","listen"],"sourceRoot":"E:\\IT-PROJECT\\backend3\\src\\","sources":["server.js"],"sourcesContent":["import express from 'express';\r\nimport{ connect } from 'mongoose';\r\nimport{ config } from 'dotenv';\r\nimport AuthRoutes from './Routes/Auth.routes'\r\nimport cors from 'cors'\r\nimport VideoRoutes from './Routes/Video.routes'\r\n\r\nconfig();\r\n\r\nconst server = express();\r\n//==============MiddleWares===========================================\r\nserver.use(cors())\r\n//==========mongo DB connection========================================\r\nconst mongoURI = process.env.mongoURI;\r\nconnect(mongoURI, (error)=>{\r\n    if(error){\r\n        return console.log(error);\r\n    }\r\n    console.log('connection to mongo DB successful!!!')\r\n})\r\n\r\n//==============================server endpoints=============================\r\nserver.use(AuthRoutes)\r\nserver.use(VideoRoutes)\r\n\r\nconst PORT = process.env.PORT ?? 3000;\r\n\r\n\r\nserver.listen(PORT, ()=>{\r\n    console.log(`Server started on PORT ${PORT}`)\r\n})"],"mappings":";;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;AAEA,IAAAA,cAAA;AAEA,IAAMC,MAAM,GAAG,IAAAC,mBAAA,GAAf,C,CACA;;AACAD,MAAM,CAACE,GAAP,CAAW,IAAAC,gBAAA,GAAX,E,CACA;;AACA,IAAMC,QAAQ,GAAGC,OAAO,CAACC,GAAR,CAAYF,QAA7B;AACA,IAAAG,iBAAA,EAAQH,QAAR,EAAkB,UAACI,KAAD,EAAS;EACvB,IAAGA,KAAH,EAAS;IACL,OAAOC,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAP;EACH;;EACDC,OAAO,CAACC,GAAR,CAAY,sCAAZ;AACH,CALD,E,CAOA;;AACAV,MAAM,CAACE,GAAP,CAAWS,gBAAX;AACAX,MAAM,CAACE,GAAP,CAAWU,iBAAX;AAEA,IAAMC,IAAI,wBAAGR,OAAO,CAACC,GAAR,CAAYO,IAAf,iEAAuB,IAAjC;AAGAb,MAAM,CAACc,MAAP,CAAcD,IAAd,EAAoB,YAAI;EACpBJ,OAAO,CAACC,GAAR,kCAAsCG,IAAtC;AACH,CAFD"}},"mtime":1665405301910},"{\"assumptions\":{},\"sourceRoot\":\"E:\\\\IT-PROJECT\\\\backend3\\\\src\\\\Routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"E:\\\\IT-PROJECT\\\\backend3\",\"filename\":\"E:\\\\IT-PROJECT\\\\backend3\\\\src\\\\Routes\\\\Auth.routes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"E:\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _express = require(\"express\");\n\nvar _Auth = require(\"../Controller/Auth.controller\");\n\nvar router = (0, _express.Router)();\nvar Controller = new _Auth.AuthController(); //router.post('/app/signup')\n\nrouter.post('/api/signup', function (request, response) {\n  Controller.signup(request, response);\n});\nrouter.post('/api/signin', function (request, response) {\n  Controller.signin(request, response);\n}); // reset password\n\nrouter.post('/api/password-reset', function (request, response) {\n  Controller.forgotPassword(request, response);\n}); // delet a user from mongo DB\n\nrouter.post('/api/delete', function (request, response) {\n  Controller[\"delete\"](request, response);\n}); //find all user and return \n\nrouter.get('/api/findall', function (request, response) {\n  Controller.findAllUser(request, response);\n}); // update user information\n\nrouter.put('/api/update/:email', function (request, response) {\n  Controller.update(request, response);\n}); // search for a user\n\nrouter.get('/api/user-search/', function (request, response) {\n  Controller.searchUser(request, response);\n}); // Update user info including  email, password, username, age and gender\n\nrouter.post('/api/update', function (request, response) {\n  Controller.update(request, response);\n});\nvar _default = router; //module.exports = router;\n\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJSb3V0ZXIiLCJDb250cm9sbGVyIiwiQXV0aENvbnRyb2xsZXIiLCJwb3N0IiwicmVxdWVzdCIsInJlc3BvbnNlIiwic2lnbnVwIiwic2lnbmluIiwiZm9yZ290UGFzc3dvcmQiLCJnZXQiLCJmaW5kQWxsVXNlciIsInB1dCIsInVwZGF0ZSIsInNlYXJjaFVzZXIiXSwic291cmNlUm9vdCI6IkU6XFxJVC1QUk9KRUNUXFxiYWNrZW5kM1xcc3JjXFxSb3V0ZXNcXCIsInNvdXJjZXMiOlsiQXV0aC5yb3V0ZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUm91dGVyIH0gZnJvbSAnZXhwcmVzcyc7XHJcbmltcG9ydCB7IEF1dGhDb250cm9sbGVyIH0gZnJvbSAnLi4vQ29udHJvbGxlci9BdXRoLmNvbnRyb2xsZXInO1xyXG5cclxuXHJcbmNvbnN0IHJvdXRlciA9IFJvdXRlcigpO1xyXG5jb25zdCBDb250cm9sbGVyID0gbmV3IEF1dGhDb250cm9sbGVyKCk7XHJcblxyXG4vL3JvdXRlci5wb3N0KCcvYXBwL3NpZ251cCcpXHJcbnJvdXRlci5wb3N0KCcvYXBpL3NpZ251cCcsIChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xyXG4gICAgQ29udHJvbGxlci5zaWdudXAocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG5yb3V0ZXIucG9zdCgnL2FwaS9zaWduaW4nLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgIENvbnRyb2xsZXIuc2lnbmluKHJlcXVlc3QsIHJlc3BvbnNlKVxyXG59KVxyXG5cclxuLy8gcmVzZXQgcGFzc3dvcmRcclxucm91dGVyLnBvc3QoJy9hcGkvcGFzc3dvcmQtcmVzZXQnLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgIENvbnRyb2xsZXIuZm9yZ290UGFzc3dvcmQocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG5cclxuLy8gZGVsZXQgYSB1c2VyIGZyb20gbW9uZ28gREJcclxucm91dGVyLnBvc3QoJy9hcGkvZGVsZXRlJywgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XHJcbiAgICBDb250cm9sbGVyLmRlbGV0ZShyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcbi8vZmluZCBhbGwgdXNlciBhbmQgcmV0dXJuIFxyXG5yb3V0ZXIuZ2V0KCcvYXBpL2ZpbmRhbGwnLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgIENvbnRyb2xsZXIuZmluZEFsbFVzZXIocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG4vLyB1cGRhdGUgdXNlciBpbmZvcm1hdGlvblxyXG5yb3V0ZXIucHV0KCcvYXBpL3VwZGF0ZS86ZW1haWwnLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgIENvbnRyb2xsZXIudXBkYXRlKHJlcXVlc3QsIHJlc3BvbnNlKVxyXG59KVxyXG5cclxuXHJcbi8vIHNlYXJjaCBmb3IgYSB1c2VyXHJcbnJvdXRlci5nZXQoJy9hcGkvdXNlci1zZWFyY2gvJywgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XHJcbiAgICBDb250cm9sbGVyLnNlYXJjaFVzZXIocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG4vLyBVcGRhdGUgdXNlciBpbmZvIGluY2x1ZGluZyAgZW1haWwsIHBhc3N3b3JkLCB1c2VybmFtZSwgYWdlIGFuZCBnZW5kZXJcclxucm91dGVyLnBvc3QoJy9hcGkvdXBkYXRlJywgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XHJcbiAgICBDb250cm9sbGVyLnVwZGF0ZShyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xyXG4vL21vZHVsZS5leHBvcnRzID0gcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUdBLElBQU1BLE1BQU0sR0FBRyxJQUFBQyxlQUFBLEdBQWY7QUFDQSxJQUFNQyxVQUFVLEdBQUcsSUFBSUMsb0JBQUosRUFBbkIsQyxDQUVBOztBQUNBSCxNQUFNLENBQUNJLElBQVAsQ0FBWSxhQUFaLEVBQTJCLFVBQUNDLE9BQUQsRUFBVUMsUUFBVixFQUF1QjtFQUM5Q0osVUFBVSxDQUFDSyxNQUFYLENBQWtCRixPQUFsQixFQUEyQkMsUUFBM0I7QUFDSCxDQUZEO0FBSUFOLE1BQU0sQ0FBQ0ksSUFBUCxDQUFZLGFBQVosRUFBMkIsVUFBQ0MsT0FBRCxFQUFVQyxRQUFWLEVBQXVCO0VBQzlDSixVQUFVLENBQUNNLE1BQVgsQ0FBa0JILE9BQWxCLEVBQTJCQyxRQUEzQjtBQUNILENBRkQsRSxDQUlBOztBQUNBTixNQUFNLENBQUNJLElBQVAsQ0FBWSxxQkFBWixFQUFtQyxVQUFDQyxPQUFELEVBQVVDLFFBQVYsRUFBdUI7RUFDdERKLFVBQVUsQ0FBQ08sY0FBWCxDQUEwQkosT0FBMUIsRUFBbUNDLFFBQW5DO0FBQ0gsQ0FGRCxFLENBS0E7O0FBQ0FOLE1BQU0sQ0FBQ0ksSUFBUCxDQUFZLGFBQVosRUFBMkIsVUFBQ0MsT0FBRCxFQUFVQyxRQUFWLEVBQXVCO0VBQzlDSixVQUFVLFVBQVYsQ0FBa0JHLE9BQWxCLEVBQTJCQyxRQUEzQjtBQUNILENBRkQsRSxDQUlBOztBQUNBTixNQUFNLENBQUNVLEdBQVAsQ0FBVyxjQUFYLEVBQTJCLFVBQUNMLE9BQUQsRUFBVUMsUUFBVixFQUF1QjtFQUM5Q0osVUFBVSxDQUFDUyxXQUFYLENBQXVCTixPQUF2QixFQUFnQ0MsUUFBaEM7QUFDSCxDQUZELEUsQ0FJQTs7QUFDQU4sTUFBTSxDQUFDWSxHQUFQLENBQVcsb0JBQVgsRUFBaUMsVUFBQ1AsT0FBRCxFQUFVQyxRQUFWLEVBQXVCO0VBQ3BESixVQUFVLENBQUNXLE1BQVgsQ0FBa0JSLE9BQWxCLEVBQTJCQyxRQUEzQjtBQUNILENBRkQsRSxDQUtBOztBQUNBTixNQUFNLENBQUNVLEdBQVAsQ0FBVyxtQkFBWCxFQUFnQyxVQUFDTCxPQUFELEVBQVVDLFFBQVYsRUFBdUI7RUFDbkRKLFVBQVUsQ0FBQ1ksVUFBWCxDQUFzQlQsT0FBdEIsRUFBK0JDLFFBQS9CO0FBQ0gsQ0FGRCxFLENBSUE7O0FBQ0FOLE1BQU0sQ0FBQ0ksSUFBUCxDQUFZLGFBQVosRUFBMkIsVUFBQ0MsT0FBRCxFQUFVQyxRQUFWLEVBQXVCO0VBQzlDSixVQUFVLENBQUNXLE1BQVgsQ0FBa0JSLE9BQWxCLEVBQTJCQyxRQUEzQjtBQUNILENBRkQ7ZUFTZU4sTSxFQUNmIn0=","map":{"version":3,"names":["router","Router","Controller","AuthController","post","request","response","signup","signin","forgotPassword","get","findAllUser","put","update","searchUser"],"sourceRoot":"E:\\IT-PROJECT\\backend3\\src\\Routes\\","sources":["Auth.routes.js"],"sourcesContent":["import { Router } from 'express';\r\nimport { AuthController } from '../Controller/Auth.controller';\r\n\r\n\r\nconst router = Router();\r\nconst Controller = new AuthController();\r\n\r\n//router.post('/app/signup')\r\nrouter.post('/api/signup', (request, response) => {\r\n    Controller.signup(request, response)\r\n})\r\n\r\nrouter.post('/api/signin', (request, response) => {\r\n    Controller.signin(request, response)\r\n})\r\n\r\n// reset password\r\nrouter.post('/api/password-reset', (request, response) => {\r\n    Controller.forgotPassword(request, response)\r\n})\r\n\r\n\r\n// delet a user from mongo DB\r\nrouter.post('/api/delete', (request, response) => {\r\n    Controller.delete(request, response)\r\n})\r\n\r\n//find all user and return \r\nrouter.get('/api/findall', (request, response) => {\r\n    Controller.findAllUser(request, response)\r\n})\r\n\r\n// update user information\r\nrouter.put('/api/update/:email', (request, response) => {\r\n    Controller.update(request, response)\r\n})\r\n\r\n\r\n// search for a user\r\nrouter.get('/api/user-search/', (request, response) => {\r\n    Controller.searchUser(request, response)\r\n})\r\n\r\n// Update user info including  email, password, username, age and gender\r\nrouter.post('/api/update', (request, response) => {\r\n    Controller.update(request, response)\r\n})\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default router;\r\n//module.exports = router;"],"mappings":";;;;;;;AAAA;;AACA;;AAGA,IAAMA,MAAM,GAAG,IAAAC,eAAA,GAAf;AACA,IAAMC,UAAU,GAAG,IAAIC,oBAAJ,EAAnB,C,CAEA;;AACAH,MAAM,CAACI,IAAP,CAAY,aAAZ,EAA2B,UAACC,OAAD,EAAUC,QAAV,EAAuB;EAC9CJ,UAAU,CAACK,MAAX,CAAkBF,OAAlB,EAA2BC,QAA3B;AACH,CAFD;AAIAN,MAAM,CAACI,IAAP,CAAY,aAAZ,EAA2B,UAACC,OAAD,EAAUC,QAAV,EAAuB;EAC9CJ,UAAU,CAACM,MAAX,CAAkBH,OAAlB,EAA2BC,QAA3B;AACH,CAFD,E,CAIA;;AACAN,MAAM,CAACI,IAAP,CAAY,qBAAZ,EAAmC,UAACC,OAAD,EAAUC,QAAV,EAAuB;EACtDJ,UAAU,CAACO,cAAX,CAA0BJ,OAA1B,EAAmCC,QAAnC;AACH,CAFD,E,CAKA;;AACAN,MAAM,CAACI,IAAP,CAAY,aAAZ,EAA2B,UAACC,OAAD,EAAUC,QAAV,EAAuB;EAC9CJ,UAAU,UAAV,CAAkBG,OAAlB,EAA2BC,QAA3B;AACH,CAFD,E,CAIA;;AACAN,MAAM,CAACU,GAAP,CAAW,cAAX,EAA2B,UAACL,OAAD,EAAUC,QAAV,EAAuB;EAC9CJ,UAAU,CAACS,WAAX,CAAuBN,OAAvB,EAAgCC,QAAhC;AACH,CAFD,E,CAIA;;AACAN,MAAM,CAACY,GAAP,CAAW,oBAAX,EAAiC,UAACP,OAAD,EAAUC,QAAV,EAAuB;EACpDJ,UAAU,CAACW,MAAX,CAAkBR,OAAlB,EAA2BC,QAA3B;AACH,CAFD,E,CAKA;;AACAN,MAAM,CAACU,GAAP,CAAW,mBAAX,EAAgC,UAACL,OAAD,EAAUC,QAAV,EAAuB;EACnDJ,UAAU,CAACY,UAAX,CAAsBT,OAAtB,EAA+BC,QAA/B;AACH,CAFD,E,CAIA;;AACAN,MAAM,CAACI,IAAP,CAAY,aAAZ,EAA2B,UAACC,OAAD,EAAUC,QAAV,EAAuB;EAC9CJ,UAAU,CAACW,MAAX,CAAkBR,OAAlB,EAA2BC,QAA3B;AACH,CAFD;eASeN,M,EACf"}},"mtime":1665921866346},"{\"assumptions\":{},\"sourceRoot\":\"E:\\\\IT-PROJECT\\\\backend3\\\\src\\\\Controller\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"E:\\\\IT-PROJECT\\\\backend3\",\"filename\":\"E:\\\\IT-PROJECT\\\\backend3\\\\src\\\\Controller\\\\Auth.controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"E:\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AuthController = void 0;\n\nvar _formidable = require(\"formidable\");\n\nvar _bcrypt = require(\"bcrypt\");\n\nvar _dotenv = require(\"dotenv\");\n\nvar _jsonwebtoken = require(\"jsonwebtoken\");\n\nvar _User = require(\"../Models/User.model\");\n\nvar _Video = require(\"../Models/Video.model\");\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n(0, _dotenv.config)();\n\nvar AuthController = /*#__PURE__*/function () {\n  function AuthController() {\n    _classCallCheck(this, AuthController);\n  }\n\n  _createClass(AuthController, [{\n    key: \"signup\",\n    value: //signup method\n    function signup(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(error, fields, files) {\n          var username, email, password, age, gender, salt, hashedPassword, newAccount, savedAccount;\n          return _regeneratorRuntime().wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  if (!error) {\n                    _context.next = 2;\n                    break;\n                  }\n\n                  return _context.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to create account, maybe try again later'\n                  }));\n\n                case 2:\n                  username = fields.username, email = fields.email, password = fields.password, age = fields.age, gender = fields.gender;\n\n                  if (!(password.length > 20 || password.length < 6)) {\n                    _context.next = 5;\n                    break;\n                  }\n\n                  return _context.abrupt(\"return\", response.status(503).json({\n                    msg: 'Password length need to be 6-20 range'\n                  }));\n\n                case 5:\n                  if (!(age > 150 || age < 0)) {\n                    _context.next = 7;\n                    break;\n                  }\n\n                  return _context.abrupt(\"return\", response.status(502).json({\n                    msg: 'Invalid age'\n                  }));\n\n                case 7:\n                  _context.next = 9;\n                  return (0, _bcrypt.genSalt)(15);\n\n                case 9:\n                  salt = _context.sent;\n                  _context.next = 12;\n                  return (0, _bcrypt.hash)(password, salt);\n\n                case 12:\n                  hashedPassword = _context.sent;\n                  newAccount = new _User.userModel({\n                    username: username,\n                    email: email,\n                    password: hashedPassword,\n                    age: age,\n                    gender: gender\n                  }); // create an account successful or failed\n\n                  _context.prev = 14;\n                  _context.next = 17;\n                  return newAccount.save();\n\n                case 17:\n                  savedAccount = _context.sent;\n                  return _context.abrupt(\"return\", response.status(201).json({\n                    msg: 'Account created successfully'\n                  }));\n\n                case 21:\n                  _context.prev = 21;\n                  _context.t0 = _context[\"catch\"](14);\n                  console.log(_context.t0);\n                  return _context.abrupt(\"return\", response.status(501).json({\n                    msg: 'This account has been registered. Change email or username'\n                  }));\n\n                case 25:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, null, [[14, 21]]);\n        }));\n\n        return function (_x, _x2, _x3) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n    } // sign in\n\n  }, {\n    key: \"signin\",\n    value: function signin(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(error, fields, files) {\n          var account, password, isAccountEmail, _user, _isPasswordValid, _token_payload, _token, _username, user, isPasswordValid, token_payload, token, username;\n\n          return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  if (!error) {\n                    _context2.next = 2;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to signin'\n                  }));\n\n                case 2:\n                  account = fields.account, password = fields.password; // email log in \n\n                  isAccountEmail = account.includes('@');\n\n                  if (!isAccountEmail) {\n                    _context2.next = 19;\n                    break;\n                  }\n\n                  _context2.next = 7;\n                  return _User.userModel.findOne({\n                    email: account\n                  });\n\n                case 7:\n                  _user = _context2.sent;\n\n                  if (_user) {\n                    _context2.next = 10;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\", response.status(404).json({\n                    msg: 'Email of this account does not exist'\n                  }));\n\n                case 10:\n                  _context2.next = 12;\n                  return (0, _bcrypt.compare)(password, _user.password);\n\n                case 12:\n                  _isPasswordValid = _context2.sent;\n\n                  if (_isPasswordValid) {\n                    _context2.next = 15;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\", response.status(400).json({\n                    msg: 'Invalid password'\n                  }));\n\n                case 15:\n                  _token_payload = {\n                    _id: _user._id,\n                    email: _user.email,\n                    username: _user.username\n                  };\n                  _token = (0, _jsonwebtoken.sign)(_token_payload, process.env.cookie_secret, {\n                    expiresIn: '365d'\n                  });\n                  _username = _token_payload.username;\n                  return _context2.abrupt(\"return\", response.status(200).json({\n                    token: _token,\n                    username: _username\n                  }));\n\n                case 19:\n                  _context2.next = 21;\n                  return _User.userModel.findOne({\n                    username: account\n                  });\n\n                case 21:\n                  user = _context2.sent;\n\n                  if (user) {\n                    _context2.next = 24;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\", response.status(404).json({\n                    msg: 'username of this account does not exist'\n                  }));\n\n                case 24:\n                  _context2.next = 26;\n                  return (0, _bcrypt.compare)(password, user.password);\n\n                case 26:\n                  isPasswordValid = _context2.sent;\n\n                  if (isPasswordValid) {\n                    _context2.next = 29;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\", response.status(400).json({\n                    msg: 'Invalid password'\n                  }));\n\n                case 29:\n                  token_payload = {\n                    _id: user._id,\n                    email: user.email,\n                    username: user.username\n                  };\n                  token = (0, _jsonwebtoken.sign)(token_payload, process.env.cookie_secret, {\n                    expiresIn: '365d'\n                  });\n                  username = token_payload.username;\n                  return _context2.abrupt(\"return\", response.status(200).json({\n                    token: token,\n                    username: username\n                  }));\n\n                case 33:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2);\n        }));\n\n        return function (_x4, _x5, _x6) {\n          return _ref2.apply(this, arguments);\n        };\n      }());\n    } // forgot password and reset\n\n  }, {\n    key: \"forgotPassword\",\n    value: function forgotPassword(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(error, fields, files) {\n          var email, password, salt, hashedPassword, user, updatedAccount;\n          return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n            while (1) {\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  if (!error) {\n                    _context3.next = 2;\n                    break;\n                  }\n\n                  return _context3.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to rset password'\n                  }));\n\n                case 2:\n                  email = fields.email, password = fields.password;\n\n                  if (!(!email || !password)) {\n                    _context3.next = 5;\n                    break;\n                  }\n\n                  return _context3.abrupt(\"return\", response.status(400).json({\n                    msg: 'email and password are required to reset password '\n                  }));\n\n                case 5:\n                  _context3.next = 7;\n                  return (0, _bcrypt.genSalt)(15);\n\n                case 7:\n                  salt = _context3.sent;\n                  _context3.next = 10;\n                  return (0, _bcrypt.hash)(password, salt);\n\n                case 10:\n                  hashedPassword = _context3.sent;\n                  _context3.prev = 11;\n                  _context3.next = 14;\n                  return _User.userModel.findOne({\n                    email: email\n                  });\n\n                case 14:\n                  user = _context3.sent;\n\n                  if (user) {\n                    _context3.next = 17;\n                    break;\n                  }\n\n                  return _context3.abrupt(\"return\", response.status(404).json({\n                    msg: 'Account with this email does not exist'\n                  }));\n\n                case 17:\n                  _context3.next = 19;\n                  return _User.userModel.findOneAndUpdate({\n                    email: email\n                  }, {\n                    $set: {\n                      password: hashedPassword\n                    }\n                  }, {\n                    \"new\": true\n                  });\n\n                case 19:\n                  updatedAccount = _context3.sent;\n                  return _context3.abrupt(\"return\", response.status(200).json({\n                    msg: 'Password rest successful'\n                  }));\n\n                case 23:\n                  _context3.prev = 23;\n                  _context3.t0 = _context3[\"catch\"](11);\n                  return _context3.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to reset password'\n                  }));\n\n                case 26:\n                case \"end\":\n                  return _context3.stop();\n              }\n            }\n          }, _callee3, null, [[11, 23]]);\n        }));\n\n        return function (_x7, _x8, _x9) {\n          return _ref3.apply(this, arguments);\n        };\n      }());\n    } // updat user info such as username, password, age and gender via email.\n\n  }, {\n    key: \"update\",\n    value: function update(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(error, fields, files) {\n          var email, username, age, gender, newUsername, newAge, newGender, user, updatedAccount, updatedVideo_username;\n          return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n            while (1) {\n              switch (_context4.prev = _context4.next) {\n                case 0:\n                  if (!error) {\n                    _context4.next = 2;\n                    break;\n                  }\n\n                  return _context4.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to update. Try again later'\n                  }));\n\n                case 2:\n                  email = fields.email, username = fields.username, age = fields.age, gender = fields.gender;\n                  newUsername = username;\n                  newAge = age;\n                  newGender = gender;\n                  _context4.prev = 6;\n                  _context4.next = 9;\n                  return _User.userModel.findOne({\n                    email: email\n                  });\n\n                case 9:\n                  user = _context4.sent;\n\n                  if (user) {\n                    _context4.next = 12;\n                    break;\n                  }\n\n                  return _context4.abrupt(\"return\", response.status(404).json({\n                    msg: 'Account with this email does not exist'\n                  }));\n\n                case 12:\n                  _context4.next = 14;\n                  return _User.userModel.findOneAndUpdate({\n                    email: email\n                  }, {\n                    $set: {\n                      username: newUsername,\n                      age: newAge,\n                      gender: newGender\n                    }\n                  }, {\n                    \"new\": true\n                  });\n\n                case 14:\n                  updatedAccount = _context4.sent;\n                  _context4.next = 17;\n                  return _Video.videoModel.updateMany({\n                    email: email\n                  }, {\n                    $set: {\n                      username: newUsername\n                    }\n                  }, {\n                    \"new\": true\n                  });\n\n                case 17:\n                  updatedVideo_username = _context4.sent;\n                  return _context4.abrupt(\"return\", response.status(200).json({\n                    msg: 'Edit successful'\n                  }));\n\n                case 21:\n                  _context4.prev = 21;\n                  _context4.t0 = _context4[\"catch\"](6);\n                  return _context4.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to update. Change email or username and try again'\n                  }));\n\n                case 24:\n                case \"end\":\n                  return _context4.stop();\n              }\n            }\n          }, _callee4, null, [[6, 21]]);\n        }));\n\n        return function (_x10, _x11, _x12) {\n          return _ref4.apply(this, arguments);\n        };\n      }());\n    } //delete user account\n\n  }, {\n    key: \"delete\",\n    value: function _delete(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(error, fields, files) {\n          var email, user;\n          return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n            while (1) {\n              switch (_context5.prev = _context5.next) {\n                case 0:\n                  if (!error) {\n                    _context5.next = 2;\n                    break;\n                  }\n\n                  return _context5.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to delete account, maybe try again later'\n                  }));\n\n                case 2:\n                  email = fields.email;\n                  _context5.prev = 3;\n                  _context5.next = 6;\n                  return _User.userModel.findOneAndDelete({\n                    email: email\n                  });\n\n                case 6:\n                  user = _context5.sent;\n                  return _context5.abrupt(\"return\", response.status(200).json({\n                    msg: 'delete successful'\n                  }));\n\n                case 10:\n                  _context5.prev = 10;\n                  _context5.t0 = _context5[\"catch\"](3);\n                  return _context5.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to delete'\n                  }));\n\n                case 13:\n                case \"end\":\n                  return _context5.stop();\n              }\n            }\n          }, _callee5, null, [[3, 10]]);\n        }));\n\n        return function (_x13, _x14, _x15) {\n          return _ref5.apply(this, arguments);\n        };\n      }());\n    } // find all user\n\n  }, {\n    key: \"findAllUser\",\n    value: function findAllUser(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(error, fields, files) {\n          var user;\n          return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n            while (1) {\n              switch (_context6.prev = _context6.next) {\n                case 0:\n                  if (!error) {\n                    _context6.next = 2;\n                    break;\n                  }\n\n                  return _context6.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to delete account, maybe try again later'\n                  }));\n\n                case 2:\n                  _context6.prev = 2;\n                  _context6.next = 5;\n                  return _User.userModel.find();\n\n                case 5:\n                  user = _context6.sent;\n                  return _context6.abrupt(\"return\", response.send(user));\n\n                case 9:\n                  _context6.prev = 9;\n                  _context6.t0 = _context6[\"catch\"](2);\n                  return _context6.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed find all users'\n                  }));\n\n                case 12:\n                case \"end\":\n                  return _context6.stop();\n              }\n            }\n          }, _callee6, null, [[2, 9]]);\n        }));\n\n        return function (_x16, _x17, _x18) {\n          return _ref6.apply(this, arguments);\n        };\n      }());\n    } // search for a user by request \n\n  }, {\n    key: \"searchUser\",\n    value: function () {\n      var _searchUser = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(request, response) {\n        var name, user;\n        return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                name = request.query.username;\n                _context7.prev = 1;\n                _context7.next = 4;\n                return _User.userModel.find({\n                  username: {\n                    $regex: name\n                  }\n                });\n\n              case 4:\n                user = _context7.sent;\n                return _context7.abrupt(\"return\", response.send(user));\n\n              case 8:\n                _context7.prev = 8;\n                _context7.t0 = _context7[\"catch\"](1);\n                return _context7.abrupt(\"return\", response.status(500).json({\n                  msg: 'No matching user'\n                }));\n\n              case 11:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, null, [[1, 8]]);\n      }));\n\n      function searchUser(_x19, _x20) {\n        return _searchUser.apply(this, arguments);\n      }\n\n      return searchUser;\n    }()\n  }]);\n\n  return AuthController;\n}();\n\nexports.AuthController = AuthController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25maWciLCJBdXRoQ29udHJvbGxlciIsInJlcXVlc3QiLCJyZXNwb25zZSIsImZvcm0iLCJJbmNvbWluZ0Zvcm0iLCJwYXJzZSIsImVycm9yIiwiZmllbGRzIiwiZmlsZXMiLCJzdGF0dXMiLCJqc29uIiwibXNnIiwidXNlcm5hbWUiLCJlbWFpbCIsInBhc3N3b3JkIiwiYWdlIiwiZ2VuZGVyIiwibGVuZ3RoIiwiZ2VuU2FsdCIsInNhbHQiLCJoYXNoIiwiaGFzaGVkUGFzc3dvcmQiLCJuZXdBY2NvdW50IiwidXNlck1vZGVsIiwic2F2ZSIsInNhdmVkQWNjb3VudCIsImNvbnNvbGUiLCJsb2ciLCJhY2NvdW50IiwiaXNBY2NvdW50RW1haWwiLCJpbmNsdWRlcyIsImZpbmRPbmUiLCJ1c2VyIiwiY29tcGFyZSIsImlzUGFzc3dvcmRWYWxpZCIsInRva2VuX3BheWxvYWQiLCJfaWQiLCJ0b2tlbiIsInNpZ24iLCJwcm9jZXNzIiwiZW52IiwiY29va2llX3NlY3JldCIsImV4cGlyZXNJbiIsImZpbmRPbmVBbmRVcGRhdGUiLCIkc2V0IiwidXBkYXRlZEFjY291bnQiLCJuZXdVc2VybmFtZSIsIm5ld0FnZSIsIm5ld0dlbmRlciIsInZpZGVvTW9kZWwiLCJ1cGRhdGVNYW55IiwidXBkYXRlZFZpZGVvX3VzZXJuYW1lIiwiZmluZE9uZUFuZERlbGV0ZSIsImZpbmQiLCJzZW5kIiwibmFtZSIsInF1ZXJ5IiwiJHJlZ2V4Il0sInNvdXJjZVJvb3QiOiJFOlxcSVQtUFJPSkVDVFxcYmFja2VuZDNcXHNyY1xcQ29udHJvbGxlclxcIiwic291cmNlcyI6WyJBdXRoLmNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5jb21pbmdGb3JtIH0gZnJvbSAnZm9ybWlkYWJsZSc7XHJcbmltcG9ydCB7IGdlblNhbHQsIGhhc2gsIGNvbXBhcmUgfSBmcm9tICdiY3J5cHQnO1xyXG5pbXBvcnQgeyBjb25maWcgfSBmcm9tICdkb3RlbnYnO1xyXG5pbXBvcnQgeyB2ZXJpZnksIHNpZ24gfSBmcm9tICdqc29ud2VidG9rZW4nO1xyXG5pbXBvcnQgeyB1c2VyTW9kZWwgfSBmcm9tICcuLi9Nb2RlbHMvVXNlci5tb2RlbCdcclxuaW1wb3J0IHsgdmlkZW9Nb2RlbCB9IGZyb20gJy4uL01vZGVscy9WaWRlby5tb2RlbCdcclxuY29uZmlnKClcclxuXHJcbmV4cG9ydCBjbGFzcyBBdXRoQ29udHJvbGxlciB7XHJcbiAgICAvL3NpZ251cCBtZXRob2RcclxuICAgIHNpZ251cChyZXF1ZXN0LCByZXNwb25zZSkge1xyXG4gICAgICAgIGNvbnN0IGZvcm0gPSBuZXcgSW5jb21pbmdGb3JtKCk7XHJcblxyXG4gICAgICAgIGZvcm0ucGFyc2UocmVxdWVzdCwgYXN5bmMgKGVycm9yLCBmaWVsZHMsIGZpbGVzKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oeyBtc2c6ICdGYWlsZWQgdG8gY3JlYXRlIGFjY291bnQsIG1heWJlIHRyeSBhZ2FpbiBsYXRlcicgfSlcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc3QgeyB1c2VybmFtZSwgZW1haWwsIHBhc3N3b3JkLCBhZ2UsIGdlbmRlciB9ID0gZmllbGRzO1xyXG4gICAgICAgICAgICBpZiAocGFzc3dvcmQubGVuZ3RoID4gMjAgfHwgcGFzc3dvcmQubGVuZ3RoIDwgNikgeyAgLy8gcGFzc3dvcmQgbWluaW11bSBsZW5ndGggPSA2LCBtYXhpbXVtIGxlbmd0aCA9IDIwXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMykuanNvbih7IG1zZzogJ1Bhc3N3b3JkIGxlbmd0aCBuZWVkIHRvIGJlIDYtMjAgcmFuZ2UnIH0pXHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChhZ2UgPiAxNTAgfHwgYWdlIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDIpLmpzb24oeyBtc2c6ICdJbnZhbGlkIGFnZScgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBzYWx0ID0gYXdhaXQgZ2VuU2FsdCgxNSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGhhc2hlZFBhc3N3b3JkID0gYXdhaXQgaGFzaChwYXNzd29yZCwgc2FsdCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld0FjY291bnQgPSBuZXcgdXNlck1vZGVsKHtcclxuICAgICAgICAgICAgICAgIHVzZXJuYW1lLFxyXG4gICAgICAgICAgICAgICAgZW1haWwsXHJcbiAgICAgICAgICAgICAgICBwYXNzd29yZDogaGFzaGVkUGFzc3dvcmQsXHJcbiAgICAgICAgICAgICAgICBhZ2UsXHJcbiAgICAgICAgICAgICAgICBnZW5kZXJcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLy8gY3JlYXRlIGFuIGFjY291bnQgc3VjY2Vzc2Z1bCBvciBmYWlsZWRcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNhdmVkQWNjb3VudCA9IGF3YWl0IG5ld0FjY291bnQuc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cygyMDEpLmpzb24oeyBtc2c6ICdBY2NvdW50IGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5JyB9KVxyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMSkuanNvbih7IG1zZzogJ1RoaXMgYWNjb3VudCBoYXMgYmVlbiByZWdpc3RlcmVkLiBDaGFuZ2UgZW1haWwgb3IgdXNlcm5hbWUnIH0pXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICAvLyBzaWduIGluXHJcbiAgICBzaWduaW4ocmVxdWVzdCwgcmVzcG9uc2UpIHtcclxuICAgICAgICBjb25zdCBmb3JtID0gbmV3IEluY29taW5nRm9ybSgpO1xyXG5cclxuICAgICAgICBmb3JtLnBhcnNlKHJlcXVlc3QsIGFzeW5jIChlcnJvciwgZmllbGRzLCBmaWxlcykgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAnRmFpbGVkIHRvIHNpZ25pbicgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB7IGFjY291bnQsIHBhc3N3b3JkIH0gPSBmaWVsZHM7XHJcbiAgICAgICAgICAgIC8vIGVtYWlsIGxvZyBpbiBcclxuICAgICAgICAgICAgY29uc3QgaXNBY2NvdW50RW1haWwgPSBhY2NvdW50LmluY2x1ZGVzKCdAJyk7XHJcbiAgICAgICAgICAgIGlmIChpc0FjY291bnRFbWFpbCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IHVzZXJNb2RlbC5maW5kT25lKHsgZW1haWw6IGFjY291bnQgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCF1c2VyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg0MDQpLmpzb24oeyBtc2c6ICdFbWFpbCBvZiB0aGlzIGFjY291bnQgZG9lcyBub3QgZXhpc3QnIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpc1Bhc3N3b3JkVmFsaWQgPSBhd2FpdCBjb21wYXJlKHBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKTsgIC8vIGhhc2hlZCBwYXNzd29yZFxyXG4gICAgICAgICAgICAgICAgaWYgKCFpc1Bhc3N3b3JkVmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwMCkuanNvbih7IG1zZzogJ0ludmFsaWQgcGFzc3dvcmQnIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0b2tlbl9wYXlsb2FkID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIF9pZDogdXNlci5faWQsXHJcbiAgICAgICAgICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXHJcbiAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWVcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IHRva2VuID0gc2lnbih0b2tlbl9wYXlsb2FkLCBwcm9jZXNzLmVudi5jb29raWVfc2VjcmV0LCB7IGV4cGlyZXNJbjogJzM2NWQnIH0pXHJcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VybmFtZSA9IHRva2VuX3BheWxvYWQudXNlcm5hbWU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7IHRva2VuLCB1c2VybmFtZSB9KVxyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgdXNlck1vZGVsLmZpbmRPbmUoeyB1c2VybmFtZTogYWNjb3VudCB9KTtcclxuXHJcbiAgICAgICAgICAgIGlmICghdXNlcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg0MDQpLmpzb24oeyBtc2c6ICd1c2VybmFtZSBvZiB0aGlzIGFjY291bnQgZG9lcyBub3QgZXhpc3QnIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgaXNQYXNzd29yZFZhbGlkID0gYXdhaXQgY29tcGFyZShwYXNzd29yZCwgdXNlci5wYXNzd29yZCk7ICAvLyBoYXNoZWQgcGFzc3dvcmRcclxuICAgICAgICAgICAgaWYgKCFpc1Bhc3N3b3JkVmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNDAwKS5qc29uKHsgbXNnOiAnSW52YWxpZCBwYXNzd29yZCcgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB0b2tlbl9wYXlsb2FkID0ge1xyXG4gICAgICAgICAgICAgICAgX2lkOiB1c2VyLl9pZCxcclxuICAgICAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxyXG4gICAgICAgICAgICAgICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB0b2tlbiA9IHNpZ24odG9rZW5fcGF5bG9hZCwgcHJvY2Vzcy5lbnYuY29va2llX3NlY3JldCwgeyBleHBpcmVzSW46ICczNjVkJyB9KVxyXG4gICAgICAgICAgICBjb25zdCB1c2VybmFtZSA9IHRva2VuX3BheWxvYWQudXNlcm5hbWU7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHsgdG9rZW4sIHVzZXJuYW1lIH0pXHJcblxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLy8gZm9yZ290IHBhc3N3b3JkIGFuZCByZXNldFxyXG4gICAgZm9yZ290UGFzc3dvcmQocmVxdWVzdCwgcmVzcG9uc2UpIHtcclxuICAgICAgICBjb25zdCBmb3JtID0gbmV3IEluY29taW5nRm9ybSgpO1xyXG5cclxuICAgICAgICBmb3JtLnBhcnNlKHJlcXVlc3QsIGFzeW5jIChlcnJvciwgZmllbGRzLCBmaWxlcykgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAnRmFpbGVkIHRvIHJzZXQgcGFzc3dvcmQnIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQgfSA9IGZpZWxkcztcclxuXHJcbiAgICAgICAgICAgIGlmICghZW1haWwgfHwgIXBhc3N3b3JkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwMCkuanNvbih7IG1zZzogJ2VtYWlsIGFuZCBwYXNzd29yZCBhcmUgcmVxdWlyZWQgdG8gcmVzZXQgcGFzc3dvcmQgJyB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHNhbHQgPSBhd2FpdCBnZW5TYWx0KDE1KTtcclxuICAgICAgICAgICAgY29uc3QgaGFzaGVkUGFzc3dvcmQgPSBhd2FpdCBoYXNoKHBhc3N3b3JkLCBzYWx0KVxyXG5cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB1c2VyTW9kZWwuZmluZE9uZSh7IGVtYWlsOiBlbWFpbCB9KTtcclxuICAgICAgICAgICAgICAgIGlmICghdXNlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNDA0KS5qc29uKHsgbXNnOiAnQWNjb3VudCB3aXRoIHRoaXMgZW1haWwgZG9lcyBub3QgZXhpc3QnIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvKiBjb25zdCB1cGRhdGVkQWNjb3VudCA9IGF3YWl0IHVzZXJNb2RlbC5maW5kT25lQW5kVXBkYXRlKHtlbWFpbDplbWFpbH0sIHskc2V0OntwYXNzd29yZDogaGFzaGVkUGFzc3dvcmR9fSwge25ldzp0cnVlfSlcclxuICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7bXNnOidQYXNzd29yZCByZXN0IHN1Y2Nlc3NmdWwnfSkgKi9cclxuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRBY2NvdW50ID0gYXdhaXQgdXNlck1vZGVsLmZpbmRPbmVBbmRVcGRhdGUoeyBlbWFpbDogZW1haWwgfSwgeyAkc2V0OiB7IHBhc3N3b3JkOiBoYXNoZWRQYXNzd29yZCB9IH0sIHsgbmV3OiB0cnVlIH0pXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7IG1zZzogJ1Bhc3N3b3JkIHJlc3Qgc3VjY2Vzc2Z1bCcgfSlcclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAnRmFpbGVkIHRvIHJlc2V0IHBhc3N3b3JkJyB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICAvLyB1cGRhdCB1c2VyIGluZm8gc3VjaCBhcyB1c2VybmFtZSwgcGFzc3dvcmQsIGFnZSBhbmQgZ2VuZGVyIHZpYSBlbWFpbC5cclxuICAgIHVwZGF0ZShyZXF1ZXN0LCByZXNwb25zZSkge1xyXG4gICAgICAgIGNvbnN0IGZvcm0gPSBuZXcgSW5jb21pbmdGb3JtKCk7XHJcblxyXG4gICAgICAgIGZvcm0ucGFyc2UocmVxdWVzdCwgYXN5bmMgKGVycm9yLCBmaWVsZHMsIGZpbGVzKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oeyBtc2c6ICdGYWlsZWQgdG8gdXBkYXRlLiBUcnkgYWdhaW4gbGF0ZXInIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgeyBlbWFpbCwgdXNlcm5hbWUsIGFnZSwgZ2VuZGVyIH0gPSBmaWVsZHM7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1VzZXJuYW1lID0gdXNlcm5hbWVcclxuICAgICAgICAgICAgY29uc3QgbmV3QWdlID0gYWdlXHJcbiAgICAgICAgICAgIGNvbnN0IG5ld0dlbmRlciA9IGdlbmRlclxyXG5cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB1c2VyTW9kZWwuZmluZE9uZSh7IGVtYWlsOiBlbWFpbCB9KTtcclxuICAgICAgICAgICAgICAgIGlmICghdXNlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNDA0KS5qc29uKHsgbXNnOiAnQWNjb3VudCB3aXRoIHRoaXMgZW1haWwgZG9lcyBub3QgZXhpc3QnIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvKiBjb25zdCB1cGRhdGVkQWNjb3VudCA9IGF3YWl0IHVzZXJNb2RlbC5maW5kT25lQW5kVXBkYXRlKHtlbWFpbDplbWFpbH0sIHskc2V0OntwYXNzd29yZDogaGFzaGVkUGFzc3dvcmR9fSwge25ldzp0cnVlfSlcclxuICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7bXNnOidQYXNzd29yZCByZXN0IHN1Y2Nlc3NmdWwnfSkgKi9cclxuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRBY2NvdW50ID0gYXdhaXQgdXNlck1vZGVsLmZpbmRPbmVBbmRVcGRhdGUoeyBlbWFpbDogZW1haWwgfSwgeyAkc2V0OiB7IHVzZXJuYW1lOiBuZXdVc2VybmFtZSwgYWdlOiBuZXdBZ2UsIGdlbmRlcjogbmV3R2VuZGVyIH0gfSwgeyBuZXc6IHRydWUgfSlcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRWaWRlb191c2VybmFtZSA9IGF3YWl0IHZpZGVvTW9kZWwudXBkYXRlTWFueSh7IGVtYWlsOiBlbWFpbCB9LCB7ICRzZXQ6IHsgdXNlcm5hbWU6IG5ld1VzZXJuYW1lIH0gfSwgeyBuZXc6IHRydWUgfSlcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHsgbXNnOiAnRWRpdCBzdWNjZXNzZnVsJyB9KVxyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oeyBtc2c6ICdGYWlsZWQgdG8gdXBkYXRlLiBDaGFuZ2UgZW1haWwgb3IgdXNlcm5hbWUgYW5kIHRyeSBhZ2FpbicgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLy9kZWxldGUgdXNlciBhY2NvdW50XHJcbiAgICBkZWxldGUocmVxdWVzdCwgcmVzcG9uc2UpIHtcclxuICAgICAgICBjb25zdCBmb3JtID0gbmV3IEluY29taW5nRm9ybSgpO1xyXG4gICAgICAgIGZvcm0ucGFyc2UocmVxdWVzdCwgYXN5bmMgKGVycm9yLCBmaWVsZHMsIGZpbGVzKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oeyBtc2c6ICdGYWlsZWQgdG8gZGVsZXRlIGFjY291bnQsIG1heWJlIHRyeSBhZ2FpbiBsYXRlcicgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB7IGVtYWlsIH0gPSBmaWVsZHM7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgdXNlck1vZGVsLmZpbmRPbmVBbmREZWxldGUoeyBlbWFpbDogZW1haWwgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7IG1zZzogJ2RlbGV0ZSBzdWNjZXNzZnVsJyB9KVxyXG5cclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAnRmFpbGVkIHRvIGRlbGV0ZScgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLy8gZmluZCBhbGwgdXNlclxyXG4gICAgZmluZEFsbFVzZXIocmVxdWVzdCwgcmVzcG9uc2UpIHtcclxuICAgICAgICBjb25zdCBmb3JtID0gbmV3IEluY29taW5nRm9ybSgpO1xyXG5cclxuICAgICAgICBmb3JtLnBhcnNlKHJlcXVlc3QsIGFzeW5jIChlcnJvciwgZmllbGRzLCBmaWxlcykgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAnRmFpbGVkIHRvIGRlbGV0ZSBhY2NvdW50LCBtYXliZSB0cnkgYWdhaW4gbGF0ZXInIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB1c2VyTW9kZWwuZmluZCgpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc2VuZCh1c2VyKVxyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oeyBtc2c6ICdGYWlsZWQgZmluZCBhbGwgdXNlcnMnIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvLyBzZWFyY2ggZm9yIGEgdXNlciBieSByZXF1ZXN0IFxyXG4gICAgYXN5bmMgc2VhcmNoVXNlcihyZXF1ZXN0LCByZXNwb25zZSkge1xyXG4gICAgICAgIGNvbnN0IG5hbWUgPSByZXF1ZXN0LnF1ZXJ5LnVzZXJuYW1lO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCB1c2VyID0gYXdhaXQgdXNlck1vZGVsLmZpbmQoeyB1c2VybmFtZTogeyAkcmVnZXg6IG5hbWUgfSB9KVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc2VuZCh1c2VyKVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAn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","map":{"version":3,"names":["config","AuthController","request","response","form","IncomingForm","parse","error","fields","files","status","json","msg","username","email","password","age","gender","length","genSalt","salt","hash","hashedPassword","newAccount","userModel","save","savedAccount","console","log","account","isAccountEmail","includes","findOne","user","compare","isPasswordValid","token_payload","_id","token","sign","process","env","cookie_secret","expiresIn","findOneAndUpdate","$set","updatedAccount","newUsername","newAge","newGender","videoModel","updateMany","updatedVideo_username","findOneAndDelete","find","send","name","query","$regex"],"sourceRoot":"E:\\IT-PROJECT\\backend3\\src\\Controller\\","sources":["Auth.controller.js"],"sourcesContent":["import { IncomingForm } from 'formidable';\r\nimport { genSalt, hash, compare } from 'bcrypt';\r\nimport { config } from 'dotenv';\r\nimport { verify, sign } from 'jsonwebtoken';\r\nimport { userModel } from '../Models/User.model'\r\nimport { videoModel } from '../Models/Video.model'\r\nconfig()\r\n\r\nexport class AuthController {\r\n    //signup method\r\n    signup(request, response) {\r\n        const form = new IncomingForm();\r\n\r\n        form.parse(request, async (error, fields, files) => {\r\n            if (error) {\r\n                return response.status(500).json({ msg: 'Failed to create account, maybe try again later' })\r\n            }\r\n\r\n            const { username, email, password, age, gender } = fields;\r\n            if (password.length > 20 || password.length < 6) {  // password minimum length = 6, maximum length = 20\r\n                return response.status(503).json({ msg: 'Password length need to be 6-20 range' })\r\n\r\n            }\r\n            if (age > 150 || age < 0) {\r\n                return response.status(502).json({ msg: 'Invalid age' })\r\n            }\r\n            const salt = await genSalt(15);\r\n            const hashedPassword = await hash(password, salt);\r\n            const newAccount = new userModel({\r\n                username,\r\n                email,\r\n                password: hashedPassword,\r\n                age,\r\n                gender\r\n            })\r\n            // create an account successful or failed\r\n            try {\r\n                const savedAccount = await newAccount.save();\r\n                return response.status(201).json({ msg: 'Account created successfully' })\r\n            } catch (error) {\r\n                console.log(error)\r\n                return response.status(501).json({ msg: 'This account has been registered. Change email or username' })\r\n            }\r\n\r\n        })\r\n    }\r\n\r\n    // sign in\r\n    signin(request, response) {\r\n        const form = new IncomingForm();\r\n\r\n        form.parse(request, async (error, fields, files) => {\r\n            if (error) {\r\n                return response.status(500).json({ msg: 'Failed to signin' })\r\n            }\r\n            const { account, password } = fields;\r\n            // email log in \r\n            const isAccountEmail = account.includes('@');\r\n            if (isAccountEmail) {\r\n                const user = await userModel.findOne({ email: account });\r\n\r\n                if (!user) {\r\n                    return response.status(404).json({ msg: 'Email of this account does not exist' })\r\n                }\r\n                const isPasswordValid = await compare(password, user.password);  // hashed password\r\n                if (!isPasswordValid) {\r\n                    return response.status(400).json({ msg: 'Invalid password' })\r\n                }\r\n                const token_payload = {\r\n                    _id: user._id,\r\n                    email: user.email,\r\n                    username: user.username\r\n                }\r\n                const token = sign(token_payload, process.env.cookie_secret, { expiresIn: '365d' })\r\n                const username = token_payload.username;\r\n                return response.status(200).json({ token, username })\r\n\r\n            }\r\n            const user = await userModel.findOne({ username: account });\r\n\r\n            if (!user) {\r\n                return response.status(404).json({ msg: 'username of this account does not exist' })\r\n            }\r\n            const isPasswordValid = await compare(password, user.password);  // hashed password\r\n            if (!isPasswordValid) {\r\n                return response.status(400).json({ msg: 'Invalid password' })\r\n            }\r\n            const token_payload = {\r\n                _id: user._id,\r\n                email: user.email,\r\n                username: user.username\r\n            }\r\n            const token = sign(token_payload, process.env.cookie_secret, { expiresIn: '365d' })\r\n            const username = token_payload.username;\r\n            return response.status(200).json({ token, username })\r\n\r\n        })\r\n    }\r\n\r\n    // forgot password and reset\r\n    forgotPassword(request, response) {\r\n        const form = new IncomingForm();\r\n\r\n        form.parse(request, async (error, fields, files) => {\r\n            if (error) {\r\n                return response.status(500).json({ msg: 'Failed to rset password' })\r\n            }\r\n            const { email, password } = fields;\r\n\r\n            if (!email || !password) {\r\n                return response.status(400).json({ msg: 'email and password are required to reset password ' })\r\n            }\r\n            const salt = await genSalt(15);\r\n            const hashedPassword = await hash(password, salt)\r\n\r\n            try {\r\n                const user = await userModel.findOne({ email: email });\r\n                if (!user) {\r\n                    return response.status(404).json({ msg: 'Account with this email does not exist' })\r\n                }\r\n                /* const updatedAccount = await userModel.findOneAndUpdate({email:email}, {$set:{password: hashedPassword}}, {new:true})\r\n                 return response.status(200).json({msg:'Password rest successful'}) */\r\n                const updatedAccount = await userModel.findOneAndUpdate({ email: email }, { $set: { password: hashedPassword } }, { new: true })\r\n                return response.status(200).json({ msg: 'Password rest successful' })\r\n            } catch (error) {\r\n                return response.status(500).json({ msg: 'Failed to reset password' })\r\n            }\r\n        })\r\n    }\r\n\r\n    // updat user info such as username, password, age and gender via email.\r\n    update(request, response) {\r\n        const form = new IncomingForm();\r\n\r\n        form.parse(request, async (error, fields, files) => {\r\n            if (error) {\r\n                return response.status(500).json({ msg: 'Failed to update. Try again later' })\r\n            }\r\n            const { email, username, age, gender } = fields;\r\n            const newUsername = username\r\n            const newAge = age\r\n            const newGender = gender\r\n\r\n            try {\r\n                const user = await userModel.findOne({ email: email });\r\n                if (!user) {\r\n                    return response.status(404).json({ msg: 'Account with this email does not exist' })\r\n                }\r\n                /* const updatedAccount = await userModel.findOneAndUpdate({email:email}, {$set:{password: hashedPassword}}, {new:true})\r\n                 return response.status(200).json({msg:'Password rest successful'}) */\r\n                const updatedAccount = await userModel.findOneAndUpdate({ email: email }, { $set: { username: newUsername, age: newAge, gender: newGender } }, { new: true })\r\n                const updatedVideo_username = await videoModel.updateMany({ email: email }, { $set: { username: newUsername } }, { new: true })\r\n                return response.status(200).json({ msg: 'Edit successful' })\r\n            } catch (error) {\r\n                return response.status(500).json({ msg: 'Failed to update. Change email or username and try again' })\r\n            }\r\n        })\r\n    }\r\n\r\n    //delete user account\r\n    delete(request, response) {\r\n        const form = new IncomingForm();\r\n        form.parse(request, async (error, fields, files) => {\r\n            if (error) {\r\n                return response.status(500).json({ msg: 'Failed to delete account, maybe try again later' })\r\n            }\r\n            const { email } = fields;\r\n            try {\r\n                const user = await userModel.findOneAndDelete({ email: email });\r\n                return response.status(200).json({ msg: 'delete successful' })\r\n\r\n            } catch (error) {\r\n                return response.status(500).json({ msg: 'Failed to delete' })\r\n            }\r\n        })\r\n    }\r\n\r\n    // find all user\r\n    findAllUser(request, response) {\r\n        const form = new IncomingForm();\r\n\r\n        form.parse(request, async (error, fields, files) => {\r\n            if (error) {\r\n                return response.status(500).json({ msg: 'Failed to delete account, maybe try again later' })\r\n            }\r\n            try {\r\n                const user = await userModel.find()\r\n                return response.send(user)\r\n            } catch (error) {\r\n                return response.status(500).json({ msg: 'Failed find all users' })\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    // search for a user by request \r\n    async searchUser(request, response) {\r\n        const name = request.query.username;\r\n        try {\r\n            let user = await userModel.find({ username: { $regex: name } })\r\n            return response.send(user)\r\n        } catch (error) {\r\n            return response.status(500).json({ msg: 'No matching user' })\r\n        }\r\n    }\r\n\r\n\r\n}"],"mappings":"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"}},"mtime":1665921866344},"{\"assumptions\":{},\"sourceRoot\":\"E:\\\\IT-PROJECT\\\\backend3\\\\src\\\\Models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"E:\\\\IT-PROJECT\\\\backend3\",\"filename\":\"E:\\\\IT-PROJECT\\\\backend3\\\\src\\\\Models\\\\User.model.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"E:\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.userModel = void 0;\n\nvar _mongoose = require(\"mongoose\");\n\nvar uservalidator = function uservalidator(s) {\n  return /^[a-zA-Z0-9]{1,20}$/.test(s);\n};\n\nvar emailvalidator = function emailvalidator(s) {\n  return /^[a-z0-9@.-_]{6,40}$/.test(s);\n};\n\nvar agevalidator = function agevalidator(s) {\n  return /^[0-9]{1,3}$/.test(s);\n};\n\nvar userSchema = new _mongoose.Schema({\n  username: {\n    // username should be unique and no longer than 20 characters\n    type: String,\n    reuqired: [true, 'Username is required'],\n    unique: [true, 'Usename exist'],\n    validate: [uservalidator, 'Please enter less than 20 numbers and alphabets only']\n  },\n  email: {\n    // email should be be unique\n    type: String,\n    required: [true, 'Email is required to create an account'],\n    unique: [true, 'Account with this email already exist'],\n    validate: [emailvalidator, 'Please enter numbers, alphabets, and @ . - _ only']\n  },\n  password: {\n    type: String,\n    requried: [true, 'Password is required to create account']\n  },\n  age: {\n    // age should be within 0 - 120 range\n    type: Number,\n    requried: [true, 'Age is required to create an account'],\n    validate: [agevalidator, 'Please enter a number between 0-120']\n  },\n  gender: {\n    type: String,\n    \"enum\": [\"Male\", \"Female\", \"Prefer not to say\"],\n    required: true\n  },\n  videos: [{\n    type: _mongoose.Schema.Types.ObjectId,\n    ref: 'videos'\n  }]\n});\nvar userModel = (0, _mongoose.model)('user', userSchema);\nexports.userModel = userModel;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VydmFsaWRhdG9yIiwicyIsInRlc3QiLCJlbWFpbHZhbGlkYXRvciIsImFnZXZhbGlkYXRvciIsInVzZXJTY2hlbWEiLCJTY2hlbWEiLCJ1c2VybmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXVxaXJlZCIsInVuaXF1ZSIsInZhbGlkYXRlIiwiZW1haWwiLCJyZXF1aXJlZCIsInBhc3N3b3JkIiwicmVxdXJpZWQiLCJhZ2UiLCJOdW1iZXIiLCJnZW5kZXIiLCJ2aWRlb3MiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwidXNlck1vZGVsIiwibW9kZWwiXSwic291cmNlUm9vdCI6IkU6XFxJVC1QUk9KRUNUXFxiYWNrZW5kM1xcc3JjXFxNb2RlbHNcXCIsInNvdXJjZXMiOlsiVXNlci5tb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnR7IFNjaGVtYSwgbW9kZWx9IGZyb20gJ21vbmdvb3NlJztcclxuY29uc3QgdXNlcnZhbGlkYXRvciA9IChzKSA9PlxyXG4gICAgL15bYS16QS1aMC05XXsxLDIwfSQvLnRlc3QocylcclxuXHJcbmNvbnN0IGVtYWlsdmFsaWRhdG9yID0gKHMpID0+XHJcbiAgICAvXlthLXowLTlALi1fXXs2LDQwfSQvLnRlc3QocylcclxuXHJcbmNvbnN0IGFnZXZhbGlkYXRvciA9IChzKSA9PlxyXG4gICAgL15bMC05XXsxLDN9JC8udGVzdChzKVxyXG5cclxuY29uc3QgdXNlclNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gICAgdXNlcm5hbWU6eyAvLyB1c2VybmFtZSBzaG91bGQgYmUgdW5pcXVlIGFuZCBubyBsb25nZXIgdGhhbiAyMCBjaGFyYWN0ZXJzXHJcbiAgICAgICAgdHlwZTpTdHJpbmcsXHJcbiAgICAgICAgcmV1cWlyZWQ6IFt0cnVlLCAnVXNlcm5hbWUgaXMgcmVxdWlyZWQnXSxcclxuICAgICAgICB1bmlxdWU6W3RydWUsICdVc2VuYW1lIGV4aXN0J10sXHJcbiAgICAgICAgdmFsaWRhdGU6IFt1c2VydmFsaWRhdG9yLCAnUGxlYXNlIGVudGVyIGxlc3MgdGhhbiAyMCBudW1iZXJzIGFuZCBhbHBoYWJldHMgb25seSddXHJcbiAgICB9LFxyXG4gICAgZW1haWw6eyAvLyBlbWFpbCBzaG91bGQgYmUgYmUgdW5pcXVlXHJcbiAgICAgICAgdHlwZTpTdHJpbmcsXHJcbiAgICAgICAgcmVxdWlyZWQ6IFt0cnVlLCAnRW1haWwgaXMgcmVxdWlyZWQgdG8gY3JlYXRlIGFuIGFjY291bnQnXSxcclxuICAgICAgICB1bmlxdWU6W3RydWUsICdBY2NvdW50IHdpdGggdGhpcyBlbWFpbCBhbHJlYWR5IGV4aXN0J10sXHJcbiAgICAgICAgdmFsaWRhdGU6IFtlbWFpbHZhbGlkYXRvciwgJ1BsZWFzZSBlbnRlciBudW1iZXJzLCBhbHBoYWJldHMsIGFuZCBAIC4gLSBfIG9ubHknXVxyXG4gICAgfSxcclxuICAgIHBhc3N3b3JkOntcclxuICAgICAgICB0eXBlOlN0cmluZyxcclxuICAgICAgICByZXF1cmllZDpbdHJ1ZSwgJ1Bhc3N3b3JkIGlzIHJlcXVpcmVkIHRvIGNyZWF0ZSBhY2NvdW50J10sXHJcblxyXG4gICAgfSxcclxuICAgIGFnZTp7IC8vIGFnZSBzaG91bGQgYmUgd2l0aGluIDAgLSAxMjAgcmFuZ2VcclxuICAgICAgICB0eXBlOk51bWJlcixcclxuICAgICAgICByZXF1cmllZDpbdHJ1ZSwgJ0FnZSBpcyByZXF1aXJlZCB0byBjcmVhdGUgYW4gYWNjb3VudCddLFxyXG4gICAgICAgIHZhbGlkYXRlOiBbYWdldmFsaWRhdG9yLCAnUGxlYXNlIGVudGVyIGEgbnVtYmVyIGJldHdlZW4gMC0xMjAnXVxyXG5cclxuICAgIH0sXHJcbiAgICBnZW5kZXI6e1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICBlbnVtOiBbXCJNYWxlXCIsIFwiRmVtYWxlXCIsIFwiUHJlZmVyIG5vdCB0byBzYXlcIl0sXHJcbiAgICAgICAgcmVxdWlyZWQ6IHRydWVcclxuICAgIH0sXHJcbiAgICB2aWRlb3M6W1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdHlwZTpTY2hlbWEuVHlwZXMuT2JqZWN0SWQsXHJcbiAgICAgICAgICAgIHJlZjondmlkZW9zJ1xyXG4gICAgICAgIH1cclxuICAgIF0sXHJcblxyXG5cclxuXHJcbiAgICAgXHJcbn0pXHJcbmV4cG9ydCBjb25zdCB1c2VyTW9kZWwgPSBtb2RlbCgndXNlcicsIHVzZXJTY2hlbWEpXHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBLElBQU1BLGFBQWEsR0FBRyxTQUFoQkEsYUFBZ0IsQ0FBQ0MsQ0FBRDtFQUFBLE9BQ2xCLHNCQUFzQkMsSUFBdEIsQ0FBMkJELENBQTNCLENBRGtCO0FBQUEsQ0FBdEI7O0FBR0EsSUFBTUUsY0FBYyxHQUFHLFNBQWpCQSxjQUFpQixDQUFDRixDQUFEO0VBQUEsT0FDbkIsdUJBQXVCQyxJQUF2QixDQUE0QkQsQ0FBNUIsQ0FEbUI7QUFBQSxDQUF2Qjs7QUFHQSxJQUFNRyxZQUFZLEdBQUcsU0FBZkEsWUFBZSxDQUFDSCxDQUFEO0VBQUEsT0FDakIsZUFBZUMsSUFBZixDQUFvQkQsQ0FBcEIsQ0FEaUI7QUFBQSxDQUFyQjs7QUFHQSxJQUFNSSxVQUFVLEdBQUcsSUFBSUMsZ0JBQUosQ0FBVztFQUMxQkMsUUFBUSxFQUFDO0lBQUU7SUFDUEMsSUFBSSxFQUFDQyxNQURBO0lBRUxDLFFBQVEsRUFBRSxDQUFDLElBQUQsRUFBTyxzQkFBUCxDQUZMO0lBR0xDLE1BQU0sRUFBQyxDQUFDLElBQUQsRUFBTyxlQUFQLENBSEY7SUFJTEMsUUFBUSxFQUFFLENBQUNaLGFBQUQsRUFBZ0Isc0RBQWhCO0VBSkwsQ0FEaUI7RUFPMUJhLEtBQUssRUFBQztJQUFFO0lBQ0pMLElBQUksRUFBQ0MsTUFESDtJQUVGSyxRQUFRLEVBQUUsQ0FBQyxJQUFELEVBQU8sd0NBQVAsQ0FGUjtJQUdGSCxNQUFNLEVBQUMsQ0FBQyxJQUFELEVBQU8sdUNBQVAsQ0FITDtJQUlGQyxRQUFRLEVBQUUsQ0FBQ1QsY0FBRCxFQUFpQixtREFBakI7RUFKUixDQVBvQjtFQWExQlksUUFBUSxFQUFDO0lBQ0xQLElBQUksRUFBQ0MsTUFEQTtJQUVMTyxRQUFRLEVBQUMsQ0FBQyxJQUFELEVBQU8sd0NBQVA7RUFGSixDQWJpQjtFQWtCMUJDLEdBQUcsRUFBQztJQUFFO0lBQ0ZULElBQUksRUFBQ1UsTUFETDtJQUVBRixRQUFRLEVBQUMsQ0FBQyxJQUFELEVBQU8sc0NBQVAsQ0FGVDtJQUdBSixRQUFRLEVBQUUsQ0FBQ1IsWUFBRCxFQUFlLHFDQUFmO0VBSFYsQ0FsQnNCO0VBd0IxQmUsTUFBTSxFQUFDO0lBQ0hYLElBQUksRUFBRUMsTUFESDtJQUVILFFBQU0sQ0FBQyxNQUFELEVBQVMsUUFBVCxFQUFtQixtQkFBbkIsQ0FGSDtJQUdISyxRQUFRLEVBQUU7RUFIUCxDQXhCbUI7RUE2QjFCTSxNQUFNLEVBQUMsQ0FDSDtJQUNJWixJQUFJLEVBQUNGLGdCQUFBLENBQU9lLEtBQVAsQ0FBYUMsUUFEdEI7SUFFSUMsR0FBRyxFQUFDO0VBRlIsQ0FERztBQTdCbUIsQ0FBWCxDQUFuQjtBQXdDTyxJQUFNQyxTQUFTLEdBQUcsSUFBQUMsZUFBQSxFQUFNLE1BQU4sRUFBY3BCLFVBQWQsQ0FBbEIifQ==","map":{"version":3,"names":["uservalidator","s","test","emailvalidator","agevalidator","userSchema","Schema","username","type","String","reuqired","unique","validate","email","required","password","requried","age","Number","gender","videos","Types","ObjectId","ref","userModel","model"],"sourceRoot":"E:\\IT-PROJECT\\backend3\\src\\Models\\","sources":["User.model.js"],"sourcesContent":["import{ Schema, model} from 'mongoose';\r\nconst uservalidator = (s) =>\r\n    /^[a-zA-Z0-9]{1,20}$/.test(s)\r\n\r\nconst emailvalidator = (s) =>\r\n    /^[a-z0-9@.-_]{6,40}$/.test(s)\r\n\r\nconst agevalidator = (s) =>\r\n    /^[0-9]{1,3}$/.test(s)\r\n\r\nconst userSchema = new Schema({\r\n    username:{ // username should be unique and no longer than 20 characters\r\n        type:String,\r\n        reuqired: [true, 'Username is required'],\r\n        unique:[true, 'Usename exist'],\r\n        validate: [uservalidator, 'Please enter less than 20 numbers and alphabets only']\r\n    },\r\n    email:{ // email should be be unique\r\n        type:String,\r\n        required: [true, 'Email is required to create an account'],\r\n        unique:[true, 'Account with this email already exist'],\r\n        validate: [emailvalidator, 'Please enter numbers, alphabets, and @ . - _ only']\r\n    },\r\n    password:{\r\n        type:String,\r\n        requried:[true, 'Password is required to create account'],\r\n\r\n    },\r\n    age:{ // age should be within 0 - 120 range\r\n        type:Number,\r\n        requried:[true, 'Age is required to create an account'],\r\n        validate: [agevalidator, 'Please enter a number between 0-120']\r\n\r\n    },\r\n    gender:{\r\n        type: String,\r\n        enum: [\"Male\", \"Female\", \"Prefer not to say\"],\r\n        required: true\r\n    },\r\n    videos:[\r\n        {\r\n            type:Schema.Types.ObjectId,\r\n            ref:'videos'\r\n        }\r\n    ],\r\n\r\n\r\n\r\n     \r\n})\r\nexport const userModel = model('user', userSchema)\r\n"],"mappings":";;;;;;;AAAA;;AACA,IAAMA,aAAa,GAAG,SAAhBA,aAAgB,CAACC,CAAD;EAAA,OAClB,sBAAsBC,IAAtB,CAA2BD,CAA3B,CADkB;AAAA,CAAtB;;AAGA,IAAME,cAAc,GAAG,SAAjBA,cAAiB,CAACF,CAAD;EAAA,OACnB,uBAAuBC,IAAvB,CAA4BD,CAA5B,CADmB;AAAA,CAAvB;;AAGA,IAAMG,YAAY,GAAG,SAAfA,YAAe,CAACH,CAAD;EAAA,OACjB,eAAeC,IAAf,CAAoBD,CAApB,CADiB;AAAA,CAArB;;AAGA,IAAMI,UAAU,GAAG,IAAIC,gBAAJ,CAAW;EAC1BC,QAAQ,EAAC;IAAE;IACPC,IAAI,EAACC,MADA;IAELC,QAAQ,EAAE,CAAC,IAAD,EAAO,sBAAP,CAFL;IAGLC,MAAM,EAAC,CAAC,IAAD,EAAO,eAAP,CAHF;IAILC,QAAQ,EAAE,CAACZ,aAAD,EAAgB,sDAAhB;EAJL,CADiB;EAO1Ba,KAAK,EAAC;IAAE;IACJL,IAAI,EAACC,MADH;IAEFK,QAAQ,EAAE,CAAC,IAAD,EAAO,wCAAP,CAFR;IAGFH,MAAM,EAAC,CAAC,IAAD,EAAO,uCAAP,CAHL;IAIFC,QAAQ,EAAE,CAACT,cAAD,EAAiB,mDAAjB;EAJR,CAPoB;EAa1BY,QAAQ,EAAC;IACLP,IAAI,EAACC,MADA;IAELO,QAAQ,EAAC,CAAC,IAAD,EAAO,wCAAP;EAFJ,CAbiB;EAkB1BC,GAAG,EAAC;IAAE;IACFT,IAAI,EAACU,MADL;IAEAF,QAAQ,EAAC,CAAC,IAAD,EAAO,sCAAP,CAFT;IAGAJ,QAAQ,EAAE,CAACR,YAAD,EAAe,qCAAf;EAHV,CAlBsB;EAwB1Be,MAAM,EAAC;IACHX,IAAI,EAAEC,MADH;IAEH,QAAM,CAAC,MAAD,EAAS,QAAT,EAAmB,mBAAnB,CAFH;IAGHK,QAAQ,EAAE;EAHP,CAxBmB;EA6B1BM,MAAM,EAAC,CACH;IACIZ,IAAI,EAACF,gBAAA,CAAOe,KAAP,CAAaC,QADtB;IAEIC,GAAG,EAAC;EAFR,CADG;AA7BmB,CAAX,CAAnB;AAwCO,IAAMC,SAAS,GAAG,IAAAC,eAAA,EAAM,MAAN,EAAcpB,UAAd,CAAlB"}},"mtime":1665405301909},"{\"assumptions\":{},\"sourceRoot\":\"E:\\\\IT-PROJECT\\\\backend3\\\\src\\\\Models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"E:\\\\IT-PROJECT\\\\backend3\",\"filename\":\"E:\\\\IT-PROJECT\\\\backend3\\\\src\\\\Models\\\\Video.model.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"E:\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.videoModel = void 0;\n\nvar _mongoose = require(\"mongoose\");\n\nvar videoSchema = new _mongoose.Schema({\n  owner: {\n    type: _mongoose.Schema.Types.ObjectId,\n    ref: 'user'\n  },\n  username: {\n    type: String\n  },\n  name: {\n    type: String,\n    required: [true, 'Upload video needs a video name']\n  },\n  videopath: {\n    type: String,\n    required: [true, 'Upload video needs a video path'],\n    unique: [true, 'Video path already exist']\n  },\n  category: {\n    type: String,\n    \"enum\": [\"Sports\", \"News\", \"Technology\", \"Music\", \"Games\", \"Fashion\", \"Pet\", \"Travel\", \"Others\"],\n    required: true\n  },\n  likes: {\n    type: Number,\n    \"default\": 0\n  },\n  dislikes: {\n    type: Number,\n    \"default\": 0\n  },\n  views: {\n    type: Array,\n    \"default\": []\n  },\n  comments: {\n    type: Array,\n    \"default\": []\n  }\n});\nvar videoModel = (0, _mongoose.model)('video', videoSchema);\nexports.videoModel = videoModel;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ2aWRlb1NjaGVtYSIsIlNjaGVtYSIsIm93bmVyIiwidHlwZSIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJ1c2VybmFtZSIsIlN0cmluZyIsIm5hbWUiLCJyZXF1aXJlZCIsInZpZGVvcGF0aCIsInVuaXF1ZSIsImNhdGVnb3J5IiwibGlrZXMiLCJOdW1iZXIiLCJkaXNsaWtlcyIsInZpZXdzIiwiQXJyYXkiLCJjb21tZW50cyIsInZpZGVvTW9kZWwiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiRTpcXElULVBST0pFQ1RcXGJhY2tlbmQzXFxzcmNcXE1vZGVsc1xcIiwic291cmNlcyI6WyJWaWRlby5tb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTY2hlbWEsIG1vZGVsIH0gZnJvbSAnbW9uZ29vc2UnXHJcblxyXG5jb25zdCB2aWRlb1NjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gICAgb3duZXI6IHtcclxuICAgICAgICB0eXBlOiBTY2hlbWEuVHlwZXMuT2JqZWN0SWQsXHJcbiAgICAgICAgcmVmOiAndXNlcidcclxuICAgIH0sXHJcbiAgICB1c2VybmFtZToge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgIH0sXHJcbiAgICBuYW1lOiB7XHJcbiAgICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICAgIHJlcXVpcmVkOiBbdHJ1ZSwgJ1VwbG9hZCB2aWRlbyBuZWVkcyBhIHZpZGVvIG5hbWUnXVxyXG4gICAgfSxcclxuICAgIHZpZGVvcGF0aDoge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICByZXF1aXJlZDogW3RydWUsICdVcGxvYWQgdmlkZW8gbmVlZHMgYSB2aWRlbyBwYXRoJ10sXHJcbiAgICAgICAgdW5pcXVlOiBbdHJ1ZSwgJ1ZpZGVvIHBhdGggYWxyZWFkeSBleGlzdCddXHJcbiAgICB9LFxyXG4gICAgY2F0ZWdvcnk6IHtcclxuICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgZW51bTogW1wiU3BvcnRzXCIsIFwiTmV3c1wiLCBcIlRlY2hub2xvZ3lcIiwgXCJNdXNpY1wiLCBcIkdhbWVzXCIsIFwiRmFzaGlvblwiLCBcIlBldFwiLCBcIlRyYXZlbFwiLCBcIk90aGVyc1wiXSxcclxuICAgICAgICByZXF1aXJlZDogdHJ1ZVxyXG4gICAgfSxcclxuICAgIGxpa2VzOiB7XHJcbiAgICAgICAgdHlwZTogTnVtYmVyLFxyXG4gICAgICAgIGRlZmF1bHQ6IDBcclxuICAgIH0sXHJcbiAgICBkaXNsaWtlczoge1xyXG4gICAgICAgIHR5cGU6IE51bWJlcixcclxuICAgICAgICBkZWZhdWx0OiAwXHJcbiAgICB9LFxyXG4gICAgdmlld3M6IHtcclxuICAgICAgICB0eXBlOiBBcnJheSxcclxuICAgICAgICBkZWZhdWx0OiBbXVxyXG4gICAgfSxcclxuICAgIGNvbW1lbnRzOiB7XHJcbiAgICAgICAgdHlwZTogQXJyYXksXHJcbiAgICAgICAgZGVmYXVsdDogW11cclxuICAgIH1cclxuXHJcbn0pXHJcbmV4cG9ydCBjb25zdCB2aWRlb01vZGVsID0gbW9kZWwoJ3ZpZGVvJywgdmlkZW9TY2hlbWEpIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBRUEsSUFBTUEsV0FBVyxHQUFHLElBQUlDLGdCQUFKLENBQVc7RUFDM0JDLEtBQUssRUFBRTtJQUNIQyxJQUFJLEVBQUVGLGdCQUFBLENBQU9HLEtBQVAsQ0FBYUMsUUFEaEI7SUFFSEMsR0FBRyxFQUFFO0VBRkYsQ0FEb0I7RUFLM0JDLFFBQVEsRUFBRTtJQUNOSixJQUFJLEVBQUVLO0VBREEsQ0FMaUI7RUFRM0JDLElBQUksRUFBRTtJQUNGTixJQUFJLEVBQUVLLE1BREo7SUFFRkUsUUFBUSxFQUFFLENBQUMsSUFBRCxFQUFPLGlDQUFQO0VBRlIsQ0FScUI7RUFZM0JDLFNBQVMsRUFBRTtJQUNQUixJQUFJLEVBQUVLLE1BREM7SUFFUEUsUUFBUSxFQUFFLENBQUMsSUFBRCxFQUFPLGlDQUFQLENBRkg7SUFHUEUsTUFBTSxFQUFFLENBQUMsSUFBRCxFQUFPLDBCQUFQO0VBSEQsQ0FaZ0I7RUFpQjNCQyxRQUFRLEVBQUU7SUFDTlYsSUFBSSxFQUFFSyxNQURBO0lBRU4sUUFBTSxDQUFDLFFBQUQsRUFBVyxNQUFYLEVBQW1CLFlBQW5CLEVBQWlDLE9BQWpDLEVBQTBDLE9BQTFDLEVBQW1ELFNBQW5ELEVBQThELEtBQTlELEVBQXFFLFFBQXJFLEVBQStFLFFBQS9FLENBRkE7SUFHTkUsUUFBUSxFQUFFO0VBSEosQ0FqQmlCO0VBc0IzQkksS0FBSyxFQUFFO0lBQ0hYLElBQUksRUFBRVksTUFESDtJQUVILFdBQVM7RUFGTixDQXRCb0I7RUEwQjNCQyxRQUFRLEVBQUU7SUFDTmIsSUFBSSxFQUFFWSxNQURBO0lBRU4sV0FBUztFQUZILENBMUJpQjtFQThCM0JFLEtBQUssRUFBRTtJQUNIZCxJQUFJLEVBQUVlLEtBREg7SUFFSCxXQUFTO0VBRk4sQ0E5Qm9CO0VBa0MzQkMsUUFBUSxFQUFFO0lBQ05oQixJQUFJLEVBQUVlLEtBREE7SUFFTixXQUFTO0VBRkg7QUFsQ2lCLENBQVgsQ0FBcEI7QUF3Q08sSUFBTUUsVUFBVSxHQUFHLElBQUFDLGVBQUEsRUFBTSxPQUFOLEVBQWVyQixXQUFmLENBQW5CIn0=","map":{"version":3,"names":["videoSchema","Schema","owner","type","Types","ObjectId","ref","username","String","name","required","videopath","unique","category","likes","Number","dislikes","views","Array","comments","videoModel","model"],"sourceRoot":"E:\\IT-PROJECT\\backend3\\src\\Models\\","sources":["Video.model.js"],"sourcesContent":["import { Schema, model } from 'mongoose'\r\n\r\nconst videoSchema = new Schema({\r\n    owner: {\r\n        type: Schema.Types.ObjectId,\r\n        ref: 'user'\r\n    },\r\n    username: {\r\n        type: String,\r\n    },\r\n    name: {\r\n        type: String,\r\n        required: [true, 'Upload video needs a video name']\r\n    },\r\n    videopath: {\r\n        type: String,\r\n        required: [true, 'Upload video needs a video path'],\r\n        unique: [true, 'Video path already exist']\r\n    },\r\n    category: {\r\n        type: String,\r\n        enum: [\"Sports\", \"News\", \"Technology\", \"Music\", \"Games\", \"Fashion\", \"Pet\", \"Travel\", \"Others\"],\r\n        required: true\r\n    },\r\n    likes: {\r\n        type: Number,\r\n        default: 0\r\n    },\r\n    dislikes: {\r\n        type: Number,\r\n        default: 0\r\n    },\r\n    views: {\r\n        type: Array,\r\n        default: []\r\n    },\r\n    comments: {\r\n        type: Array,\r\n        default: []\r\n    }\r\n\r\n})\r\nexport const videoModel = model('video', videoSchema)"],"mappings":";;;;;;;AAAA;;AAEA,IAAMA,WAAW,GAAG,IAAIC,gBAAJ,CAAW;EAC3BC,KAAK,EAAE;IACHC,IAAI,EAAEF,gBAAA,CAAOG,KAAP,CAAaC,QADhB;IAEHC,GAAG,EAAE;EAFF,CADoB;EAK3BC,QAAQ,EAAE;IACNJ,IAAI,EAAEK;EADA,CALiB;EAQ3BC,IAAI,EAAE;IACFN,IAAI,EAAEK,MADJ;IAEFE,QAAQ,EAAE,CAAC,IAAD,EAAO,iCAAP;EAFR,CARqB;EAY3BC,SAAS,EAAE;IACPR,IAAI,EAAEK,MADC;IAEPE,QAAQ,EAAE,CAAC,IAAD,EAAO,iCAAP,CAFH;IAGPE,MAAM,EAAE,CAAC,IAAD,EAAO,0BAAP;EAHD,CAZgB;EAiB3BC,QAAQ,EAAE;IACNV,IAAI,EAAEK,MADA;IAEN,QAAM,CAAC,QAAD,EAAW,MAAX,EAAmB,YAAnB,EAAiC,OAAjC,EAA0C,OAA1C,EAAmD,SAAnD,EAA8D,KAA9D,EAAqE,QAArE,EAA+E,QAA/E,CAFA;IAGNE,QAAQ,EAAE;EAHJ,CAjBiB;EAsB3BI,KAAK,EAAE;IACHX,IAAI,EAAEY,MADH;IAEH,WAAS;EAFN,CAtBoB;EA0B3BC,QAAQ,EAAE;IACNb,IAAI,EAAEY,MADA;IAEN,WAAS;EAFH,CA1BiB;EA8B3BE,KAAK,EAAE;IACHd,IAAI,EAAEe,KADH;IAEH,WAAS;EAFN,CA9BoB;EAkC3BC,QAAQ,EAAE;IACNhB,IAAI,EAAEe,KADA;IAEN,WAAS;EAFH;AAlCiB,CAAX,CAApB;AAwCO,IAAME,UAAU,GAAG,IAAAC,eAAA,EAAM,OAAN,EAAerB,WAAf,CAAnB"}},"mtime":1665921866345},"{\"assumptions\":{},\"sourceRoot\":\"E:\\\\IT-PROJECT\\\\backend3\\\\src\\\\Routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"E:\\\\IT-PROJECT\\\\backend3\",\"filename\":\"E:\\\\IT-PROJECT\\\\backend3\\\\src\\\\Routes\\\\Video.routes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"E:\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _express = require(\"express\");\n\nvar _Authenticate = require(\"../Middlewares/Authenticate.middleware\");\n\nvar _Video = require(\"../Middlewares/Video.middleware\");\n\nvar _bodyParser = require(\"body-parser\");\n\nvar _Video2 = require(\"../Controller/Video.controller\");\n\nvar router = (0, _express.Router)();\nvar Controller = new _Video2.VideoController(); //after upload work, next step is save to mongo db\n\nrouter.post('/api/video', (0, _bodyParser.json)(), _Authenticate.Authenticate, _Video.videoUpload.single('video'), function (request, response) {\n  Controller.upload(request, response);\n}); // video stream\n\nrouter.get('/api/video/:filename', function (request, response) {\n  Controller.stream(request, response);\n}); // like a video\n\nrouter.get('/api/video-like/', function (request, response) {\n  Controller.like(request, response);\n}); // dislike a video\n\nrouter.get('/api/video-dislike/', function (request, response) {\n  Controller.dislike(request, response);\n}); // search for a video\n\nrouter.get('/api/video-search/', function (request, response) {\n  Controller.searchVideo(request, response);\n}); // delete a video\n\nrouter[\"delete\"]('/api/video/', function (request, response) {\n  Controller[\"delete\"](request, response);\n}); // search for video under certain user\n\nrouter.get('/api/user-video-search/', function (request, response) {\n  Controller.searchUVideo(request, response);\n}); // search for video under certain category\n\nrouter.get('/api/cat-search/', function (request, response) {\n  Controller.searchCat(request, response);\n}); //find all videos and return \n\nrouter.get('/api/findallV', function (request, response) {\n  Controller.findAllVideo(request, response);\n});\nrouter[\"delete\"]('/api/user-video-delete/', function (request, response) {\n  Controller.delete_user_all_videos(request, response);\n});\nvar _default = router;\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJSb3V0ZXIiLCJDb250cm9sbGVyIiwiVmlkZW9Db250cm9sbGVyIiwicG9zdCIsImpzb24iLCJBdXRoZW50aWNhdGUiLCJ2aWRlb1VwbG9hZCIsInNpbmdsZSIsInJlcXVlc3QiLCJyZXNwb25zZSIsInVwbG9hZCIsImdldCIsInN0cmVhbSIsImxpa2UiLCJkaXNsaWtlIiwic2VhcmNoVmlkZW8iLCJzZWFyY2hVVmlkZW8iLCJzZWFyY2hDYXQiLCJmaW5kQWxsVmlkZW8iLCJkZWxldGVfdXNlcl9hbGxfdmlkZW9zIl0sInNvdXJjZVJvb3QiOiJFOlxcSVQtUFJPSkVDVFxcYmFja2VuZDNcXHNyY1xcUm91dGVzXFwiLCJzb3VyY2VzIjpbIlZpZGVvLnJvdXRlcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByZXNwb25zZSwgUm91dGVyIH0gZnJvbSAnZXhwcmVzcyc7XHJcbmltcG9ydCB7IEF1dGhlbnRpY2F0ZSB9IGZyb20gJy4uL01pZGRsZXdhcmVzL0F1dGhlbnRpY2F0ZS5taWRkbGV3YXJlJztcclxuaW1wb3J0IHsgdmlkZW9VcGxvYWQgfSBmcm9tICcuLi9NaWRkbGV3YXJlcy9WaWRlby5taWRkbGV3YXJlJztcclxuaW1wb3J0IHsganNvbiB9IGZyb20gJ2JvZHktcGFyc2VyJ1xyXG5pbXBvcnQgeyBWaWRlb0NvbnRyb2xsZXIgfSBmcm9tICcuLi9Db250cm9sbGVyL1ZpZGVvLmNvbnRyb2xsZXInXHJcblxyXG5jb25zdCByb3V0ZXIgPSBSb3V0ZXIoKTtcclxuY29uc3QgQ29udHJvbGxlciA9IG5ldyBWaWRlb0NvbnRyb2xsZXIoKTtcclxuLy9hZnRlciB1cGxvYWQgd29yaywgbmV4dCBzdGVwIGlzIHNhdmUgdG8gbW9uZ28gZGJcclxucm91dGVyLnBvc3QoJy9hcGkvdmlkZW8nLCBqc29uKCksIEF1dGhlbnRpY2F0ZSwgdmlkZW9VcGxvYWQuc2luZ2xlKCd2aWRlbycpLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgIENvbnRyb2xsZXIudXBsb2FkKHJlcXVlc3QsIHJlc3BvbnNlKVxyXG59KVxyXG5cclxuLy8gdmlkZW8gc3RyZWFtXHJcbnJvdXRlci5nZXQoJy9hcGkvdmlkZW8vOmZpbGVuYW1lJywgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XHJcbiAgICBDb250cm9sbGVyLnN0cmVhbShyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcbi8vIGxpa2UgYSB2aWRlb1xyXG5yb3V0ZXIuZ2V0KCcvYXBpL3ZpZGVvLWxpa2UvJywgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XHJcbiAgICBDb250cm9sbGVyLmxpa2UocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG5cclxuLy8gZGlzbGlrZSBhIHZpZGVvXHJcbnJvdXRlci5nZXQoJy9hcGkvdmlkZW8tZGlzbGlrZS8nLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgIENvbnRyb2xsZXIuZGlzbGlrZShyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcbi8vIHNlYXJjaCBmb3IgYSB2aWRlb1xyXG5yb3V0ZXIuZ2V0KCcvYXBpL3ZpZGVvLXNlYXJjaC8nLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgIENvbnRyb2xsZXIuc2VhcmNoVmlkZW8ocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG4vLyBkZWxldGUgYSB2aWRlb1xyXG5yb3V0ZXIuZGVsZXRlKCcvYXBpL3ZpZGVvLycsIChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xyXG4gICAgQ29udHJvbGxlci5kZWxldGUocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG4vLyBzZWFyY2ggZm9yIHZpZGVvIHVuZGVyIGNlcnRhaW4gdXNlclxyXG5yb3V0ZXIuZ2V0KCcvYXBpL3VzZXItdmlkZW8tc2VhcmNoLycsIChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xyXG4gICAgQ29udHJvbGxlci5zZWFyY2hVVmlkZW8ocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG4vLyBzZWFyY2ggZm9yIHZpZGVvIHVuZGVyIGNlcnRhaW4gY2F0ZWdvcnlcclxucm91dGVyLmdldCgnL2FwaS9jYXQtc2VhcmNoLycsIChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xyXG4gICAgQ29udHJvbGxlci5zZWFyY2hDYXQocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG4vL2ZpbmQgYWxsIHZpZGVvcyBhbmQgcmV0dXJuIFxyXG5yb3V0ZXIuZ2V0KCcvYXBpL2ZpbmRhbGxWJywgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XHJcbiAgICBDb250cm9sbGVyLmZpbmRBbGxWaWRlbyhyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcbnJvdXRlci5kZWxldGUoJy9hcGkvdXNlci12aWRlby1kZWxldGUvJywgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XHJcbiAgICBDb250cm9sbGVyLmRlbGV0ZV91c2VyX2FsbF92aWRlb3MocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBRUEsSUFBTUEsTUFBTSxHQUFHLElBQUFDLGVBQUEsR0FBZjtBQUNBLElBQU1DLFVBQVUsR0FBRyxJQUFJQyx1QkFBSixFQUFuQixDLENBQ0E7O0FBQ0FILE1BQU0sQ0FBQ0ksSUFBUCxDQUFZLFlBQVosRUFBMEIsSUFBQUMsZ0JBQUEsR0FBMUIsRUFBa0NDLDBCQUFsQyxFQUFnREMsa0JBQUEsQ0FBWUMsTUFBWixDQUFtQixPQUFuQixDQUFoRCxFQUE2RSxVQUFDQyxPQUFELEVBQVVDLFFBQVYsRUFBdUI7RUFDaEdSLFVBQVUsQ0FBQ1MsTUFBWCxDQUFrQkYsT0FBbEIsRUFBMkJDLFFBQTNCO0FBQ0gsQ0FGRCxFLENBSUE7O0FBQ0FWLE1BQU0sQ0FBQ1ksR0FBUCxDQUFXLHNCQUFYLEVBQW1DLFVBQUNILE9BQUQsRUFBVUMsUUFBVixFQUF1QjtFQUN0RFIsVUFBVSxDQUFDVyxNQUFYLENBQWtCSixPQUFsQixFQUEyQkMsUUFBM0I7QUFDSCxDQUZELEUsQ0FJQTs7QUFDQVYsTUFBTSxDQUFDWSxHQUFQLENBQVcsa0JBQVgsRUFBK0IsVUFBQ0gsT0FBRCxFQUFVQyxRQUFWLEVBQXVCO0VBQ2xEUixVQUFVLENBQUNZLElBQVgsQ0FBZ0JMLE9BQWhCLEVBQXlCQyxRQUF6QjtBQUNILENBRkQsRSxDQUtBOztBQUNBVixNQUFNLENBQUNZLEdBQVAsQ0FBVyxxQkFBWCxFQUFrQyxVQUFDSCxPQUFELEVBQVVDLFFBQVYsRUFBdUI7RUFDckRSLFVBQVUsQ0FBQ2EsT0FBWCxDQUFtQk4sT0FBbkIsRUFBNEJDLFFBQTVCO0FBQ0gsQ0FGRCxFLENBSUE7O0FBQ0FWLE1BQU0sQ0FBQ1ksR0FBUCxDQUFXLG9CQUFYLEVBQWlDLFVBQUNILE9BQUQsRUFBVUMsUUFBVixFQUF1QjtFQUNwRFIsVUFBVSxDQUFDYyxXQUFYLENBQXVCUCxPQUF2QixFQUFnQ0MsUUFBaEM7QUFDSCxDQUZELEUsQ0FJQTs7QUFDQVYsTUFBTSxVQUFOLENBQWMsYUFBZCxFQUE2QixVQUFDUyxPQUFELEVBQVVDLFFBQVYsRUFBdUI7RUFDaERSLFVBQVUsVUFBVixDQUFrQk8sT0FBbEIsRUFBMkJDLFFBQTNCO0FBQ0gsQ0FGRCxFLENBSUE7O0FBQ0FWLE1BQU0sQ0FBQ1ksR0FBUCxDQUFXLHlCQUFYLEVBQXNDLFVBQUNILE9BQUQsRUFBVUMsUUFBVixFQUF1QjtFQUN6RFIsVUFBVSxDQUFDZSxZQUFYLENBQXdCUixPQUF4QixFQUFpQ0MsUUFBakM7QUFDSCxDQUZELEUsQ0FJQTs7QUFDQVYsTUFBTSxDQUFDWSxHQUFQLENBQVcsa0JBQVgsRUFBK0IsVUFBQ0gsT0FBRCxFQUFVQyxRQUFWLEVBQXVCO0VBQ2xEUixVQUFVLENBQUNnQixTQUFYLENBQXFCVCxPQUFyQixFQUE4QkMsUUFBOUI7QUFDSCxDQUZELEUsQ0FJQTs7QUFDQVYsTUFBTSxDQUFDWSxHQUFQLENBQVcsZUFBWCxFQUE0QixVQUFDSCxPQUFELEVBQVVDLFFBQVYsRUFBdUI7RUFDL0NSLFVBQVUsQ0FBQ2lCLFlBQVgsQ0FBd0JWLE9BQXhCLEVBQWlDQyxRQUFqQztBQUNILENBRkQ7QUFJQVYsTUFBTSxVQUFOLENBQWMseUJBQWQsRUFBeUMsVUFBQ1MsT0FBRCxFQUFVQyxRQUFWLEVBQXVCO0VBQzVEUixVQUFVLENBQUNrQixzQkFBWCxDQUFrQ1gsT0FBbEMsRUFBMkNDLFFBQTNDO0FBQ0gsQ0FGRDtlQUllVixNIn0=","map":{"version":3,"names":["router","Router","Controller","VideoController","post","json","Authenticate","videoUpload","single","request","response","upload","get","stream","like","dislike","searchVideo","searchUVideo","searchCat","findAllVideo","delete_user_all_videos"],"sourceRoot":"E:\\IT-PROJECT\\backend3\\src\\Routes\\","sources":["Video.routes.js"],"sourcesContent":["import { response, Router } from 'express';\r\nimport { Authenticate } from '../Middlewares/Authenticate.middleware';\r\nimport { videoUpload } from '../Middlewares/Video.middleware';\r\nimport { json } from 'body-parser'\r\nimport { VideoController } from '../Controller/Video.controller'\r\n\r\nconst router = Router();\r\nconst Controller = new VideoController();\r\n//after upload work, next step is save to mongo db\r\nrouter.post('/api/video', json(), Authenticate, videoUpload.single('video'), (request, response) => {\r\n    Controller.upload(request, response)\r\n})\r\n\r\n// video stream\r\nrouter.get('/api/video/:filename', (request, response) => {\r\n    Controller.stream(request, response)\r\n})\r\n\r\n// like a video\r\nrouter.get('/api/video-like/', (request, response) => {\r\n    Controller.like(request, response)\r\n})\r\n\r\n\r\n// dislike a video\r\nrouter.get('/api/video-dislike/', (request, response) => {\r\n    Controller.dislike(request, response)\r\n})\r\n\r\n// search for a video\r\nrouter.get('/api/video-search/', (request, response) => {\r\n    Controller.searchVideo(request, response)\r\n})\r\n\r\n// delete a video\r\nrouter.delete('/api/video/', (request, response) => {\r\n    Controller.delete(request, response)\r\n})\r\n\r\n// search for video under certain user\r\nrouter.get('/api/user-video-search/', (request, response) => {\r\n    Controller.searchUVideo(request, response)\r\n})\r\n\r\n// search for video under certain category\r\nrouter.get('/api/cat-search/', (request, response) => {\r\n    Controller.searchCat(request, response)\r\n})\r\n\r\n//find all videos and return \r\nrouter.get('/api/findallV', (request, response) => {\r\n    Controller.findAllVideo(request, response)\r\n})\r\n\r\nrouter.delete('/api/user-video-delete/', (request, response) => {\r\n    Controller.delete_user_all_videos(request, response)\r\n})\r\n\r\nexport default router;"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AAEA,IAAMA,MAAM,GAAG,IAAAC,eAAA,GAAf;AACA,IAAMC,UAAU,GAAG,IAAIC,uBAAJ,EAAnB,C,CACA;;AACAH,MAAM,CAACI,IAAP,CAAY,YAAZ,EAA0B,IAAAC,gBAAA,GAA1B,EAAkCC,0BAAlC,EAAgDC,kBAAA,CAAYC,MAAZ,CAAmB,OAAnB,CAAhD,EAA6E,UAACC,OAAD,EAAUC,QAAV,EAAuB;EAChGR,UAAU,CAACS,MAAX,CAAkBF,OAAlB,EAA2BC,QAA3B;AACH,CAFD,E,CAIA;;AACAV,MAAM,CAACY,GAAP,CAAW,sBAAX,EAAmC,UAACH,OAAD,EAAUC,QAAV,EAAuB;EACtDR,UAAU,CAACW,MAAX,CAAkBJ,OAAlB,EAA2BC,QAA3B;AACH,CAFD,E,CAIA;;AACAV,MAAM,CAACY,GAAP,CAAW,kBAAX,EAA+B,UAACH,OAAD,EAAUC,QAAV,EAAuB;EAClDR,UAAU,CAACY,IAAX,CAAgBL,OAAhB,EAAyBC,QAAzB;AACH,CAFD,E,CAKA;;AACAV,MAAM,CAACY,GAAP,CAAW,qBAAX,EAAkC,UAACH,OAAD,EAAUC,QAAV,EAAuB;EACrDR,UAAU,CAACa,OAAX,CAAmBN,OAAnB,EAA4BC,QAA5B;AACH,CAFD,E,CAIA;;AACAV,MAAM,CAACY,GAAP,CAAW,oBAAX,EAAiC,UAACH,OAAD,EAAUC,QAAV,EAAuB;EACpDR,UAAU,CAACc,WAAX,CAAuBP,OAAvB,EAAgCC,QAAhC;AACH,CAFD,E,CAIA;;AACAV,MAAM,UAAN,CAAc,aAAd,EAA6B,UAACS,OAAD,EAAUC,QAAV,EAAuB;EAChDR,UAAU,UAAV,CAAkBO,OAAlB,EAA2BC,QAA3B;AACH,CAFD,E,CAIA;;AACAV,MAAM,CAACY,GAAP,CAAW,yBAAX,EAAsC,UAACH,OAAD,EAAUC,QAAV,EAAuB;EACzDR,UAAU,CAACe,YAAX,CAAwBR,OAAxB,EAAiCC,QAAjC;AACH,CAFD,E,CAIA;;AACAV,MAAM,CAACY,GAAP,CAAW,kBAAX,EAA+B,UAACH,OAAD,EAAUC,QAAV,EAAuB;EAClDR,UAAU,CAACgB,SAAX,CAAqBT,OAArB,EAA8BC,QAA9B;AACH,CAFD,E,CAIA;;AACAV,MAAM,CAACY,GAAP,CAAW,eAAX,EAA4B,UAACH,OAAD,EAAUC,QAAV,EAAuB;EAC/CR,UAAU,CAACiB,YAAX,CAAwBV,OAAxB,EAAiCC,QAAjC;AACH,CAFD;AAIAV,MAAM,UAAN,CAAc,yBAAd,EAAyC,UAACS,OAAD,EAAUC,QAAV,EAAuB;EAC5DR,UAAU,CAACkB,sBAAX,CAAkCX,OAAlC,EAA2CC,QAA3C;AACH,CAFD;eAIeV,M"}},"mtime":1665921866346},"{\"assumptions\":{},\"sourceRoot\":\"E:\\\\IT-PROJECT\\\\backend3\\\\src\\\\Middlewares\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"E:\\\\IT-PROJECT\\\\backend3\",\"filename\":\"E:\\\\IT-PROJECT\\\\backend3\\\\src\\\\Middlewares\\\\Authenticate.middleware.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"E:\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Authenticate = void 0;\n\nvar _jsonwebtoken = require(\"jsonwebtoken\");\n\nvar _dotenv = require(\"dotenv\");\n\n(0, _dotenv.config)();\n\nvar Authenticate = function Authenticate(request, response, next) {\n  var token = request.headers['x-auth-token'];\n  (0, _jsonwebtoken.verify)(token, process.env.cookie_secret, function (error, decoded) {\n    if (error) {\n      return response.status(403).json({\n        msg: 'Signup or Login to upload video'\n      });\n    }\n\n    request.token = decoded;\n    next();\n  });\n};\n\nexports.Authenticate = Authenticate;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25maWciLCJBdXRoZW50aWNhdGUiLCJyZXF1ZXN0IiwicmVzcG9uc2UiLCJuZXh0IiwidG9rZW4iLCJoZWFkZXJzIiwidmVyaWZ5IiwicHJvY2VzcyIsImVudiIsImNvb2tpZV9zZWNyZXQiLCJlcnJvciIsImRlY29kZWQiLCJzdGF0dXMiLCJqc29uIiwibXNnIl0sInNvdXJjZVJvb3QiOiJFOlxcSVQtUFJPSkVDVFxcYmFja2VuZDNcXHNyY1xcTWlkZGxld2FyZXNcXCIsInNvdXJjZXMiOlsiQXV0aGVudGljYXRlLm1pZGRsZXdhcmUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHt2ZXJpZnl9IGZyb20gJ2pzb253ZWJ0b2tlbic7XHJcbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gJ2RvdGVudic7XHJcbmNvbmZpZygpO1xyXG5cclxuZXhwb3J0IGNvbnN0IEF1dGhlbnRpY2F0ZSA9IChyZXF1ZXN0LCByZXNwb25zZSwgbmV4dCk9PntcclxuICAgIGNvbnN0IHRva2VuID0gcmVxdWVzdC5oZWFkZXJzWyd4LWF1dGgtdG9rZW4nXTtcclxuXHJcbiAgICB2ZXJpZnkodG9rZW4sIHByb2Nlc3MuZW52LmNvb2tpZV9zZWNyZXQsIChlcnJvciwgZGVjb2RlZCk9PntcclxuICAgICAgICBpZiAoZXJyb3Ipe1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwMykuanNvbih7bXNnOidTaWdudXAgb3IgTG9naW4gdG8gdXBsb2FkIHZpZGVvJ30pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJlcXVlc3QudG9rZW4gPSBkZWNvZGVkO1xyXG4gICAgICAgIG5leHQoKVxyXG4gICAgfSlcclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBLElBQUFBLGNBQUE7O0FBRU8sSUFBTUMsWUFBWSxHQUFHLFNBQWZBLFlBQWUsQ0FBQ0MsT0FBRCxFQUFVQyxRQUFWLEVBQW9CQyxJQUFwQixFQUEyQjtFQUNuRCxJQUFNQyxLQUFLLEdBQUdILE9BQU8sQ0FBQ0ksT0FBUixDQUFnQixjQUFoQixDQUFkO0VBRUEsSUFBQUMsb0JBQUEsRUFBT0YsS0FBUCxFQUFjRyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsYUFBMUIsRUFBeUMsVUFBQ0MsS0FBRCxFQUFRQyxPQUFSLEVBQWtCO0lBQ3ZELElBQUlELEtBQUosRUFBVTtNQUNOLE9BQU9SLFFBQVEsQ0FBQ1UsTUFBVCxDQUFnQixHQUFoQixFQUFxQkMsSUFBckIsQ0FBMEI7UUFBQ0MsR0FBRyxFQUFDO01BQUwsQ0FBMUIsQ0FBUDtJQUNIOztJQUNEYixPQUFPLENBQUNHLEtBQVIsR0FBZ0JPLE9BQWhCO0lBQ0FSLElBQUk7RUFDUCxDQU5EO0FBT0gsQ0FWTSJ9","map":{"version":3,"names":["config","Authenticate","request","response","next","token","headers","verify","process","env","cookie_secret","error","decoded","status","json","msg"],"sourceRoot":"E:\\IT-PROJECT\\backend3\\src\\Middlewares\\","sources":["Authenticate.middleware.js"],"sourcesContent":["import {verify} from 'jsonwebtoken';\r\nimport { config } from 'dotenv';\r\nconfig();\r\n\r\nexport const Authenticate = (request, response, next)=>{\r\n    const token = request.headers['x-auth-token'];\r\n\r\n    verify(token, process.env.cookie_secret, (error, decoded)=>{\r\n        if (error){\r\n            return response.status(403).json({msg:'Signup or Login to upload video'})\r\n        }\r\n        request.token = decoded;\r\n        next()\r\n    })\r\n}"],"mappings":";;;;;;;AAAA;;AACA;;AACA,IAAAA,cAAA;;AAEO,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,OAAD,EAAUC,QAAV,EAAoBC,IAApB,EAA2B;EACnD,IAAMC,KAAK,GAAGH,OAAO,CAACI,OAAR,CAAgB,cAAhB,CAAd;EAEA,IAAAC,oBAAA,EAAOF,KAAP,EAAcG,OAAO,CAACC,GAAR,CAAYC,aAA1B,EAAyC,UAACC,KAAD,EAAQC,OAAR,EAAkB;IACvD,IAAID,KAAJ,EAAU;MACN,OAAOR,QAAQ,CAACU,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B;QAACC,GAAG,EAAC;MAAL,CAA1B,CAAP;IACH;;IACDb,OAAO,CAACG,KAAR,GAAgBO,OAAhB;IACAR,IAAI;EACP,CAND;AAOH,CAVM"}},"mtime":1665405301908},"{\"assumptions\":{},\"sourceRoot\":\"E:\\\\IT-PROJECT\\\\backend3\\\\src\\\\Middlewares\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"E:\\\\IT-PROJECT\\\\backend3\",\"filename\":\"E:\\\\IT-PROJECT\\\\backend3\\\\src\\\\Middlewares\\\\Video.middleware.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"E:\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.videoUpload = void 0;\n\nvar _file = _interopRequireDefault(require(\"@babel/core/lib/transformation/file/file\"));\n\nvar _express = require(\"express\");\n\nvar _multer = _interopRequireDefault(require(\"multer\"));\n\nvar _uuid = require(\"uuid\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n// video storage\nvar videoStorage = _multer[\"default\"].diskStorage({\n  destination: \"videos\",\n  filename: function filename(request, file, cb) {\n    var id = (0, _uuid.v4)();\n    var token = request.token;\n    var filename = \"\".concat(token._id.toString(), \"-\").concat(id);\n    request.filename = filename;\n    cb(null, filename);\n  }\n}); //video upload\n\n\nvar videoUpload = (0, _multer[\"default\"])({\n  storage: videoStorage,\n  limits: {\n    fieldSize: 90000000 * 5 //10 MB   \n\n  },\n  fileFilter: function fileFilter(request, file, cb) {\n    if (!file.originalname.match(/\\.(mp4|MPEG-4|mkv)$/)) {\n      return cb(new Error('Video fomat nor supported'));\n    }\n\n    cb(undefined, true);\n  }\n});\nexports.videoUpload = videoUpload;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ2aWRlb1N0b3JhZ2UiLCJtdWx0ZXIiLCJkaXNrU3RvcmFnZSIsImRlc3RpbmF0aW9uIiwiZmlsZW5hbWUiLCJyZXF1ZXN0IiwiZmlsZSIsImNiIiwiaWQiLCJ1dWlkdjQiLCJ0b2tlbiIsIl9pZCIsInRvU3RyaW5nIiwidmlkZW9VcGxvYWQiLCJzdG9yYWdlIiwibGltaXRzIiwiZmllbGRTaXplIiwiZmlsZUZpbHRlciIsIm9yaWdpbmFsbmFtZSIsIm1hdGNoIiwiRXJyb3IiLCJ1bmRlZmluZWQiXSwic291cmNlUm9vdCI6IkU6XFxJVC1QUk9KRUNUXFxiYWNrZW5kM1xcc3JjXFxNaWRkbGV3YXJlc1xcIiwic291cmNlcyI6WyJWaWRlby5taWRkbGV3YXJlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBmaWxlIGZyb20gXCJAYmFiZWwvY29yZS9saWIvdHJhbnNmb3JtYXRpb24vZmlsZS9maWxlXCI7XHJcbmltcG9ydCB7IHJlcXVlc3QgfSBmcm9tIFwiZXhwcmVzc1wiO1xyXG5pbXBvcnQgbXVsdGVyIGZyb20gXCJtdWx0ZXJcIjtcclxuaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSAndXVpZCc7XHJcblxyXG4vLyB2aWRlbyBzdG9yYWdlXHJcbmNvbnN0IHZpZGVvU3RvcmFnZSA9IG11bHRlci5kaXNrU3RvcmFnZSh7XHJcbiAgICBkZXN0aW5hdGlvbjogXCJ2aWRlb3NcIixcclxuICAgIGZpbGVuYW1lOiAocmVxdWVzdCwgZmlsZSwgY2IpID0+IHtcclxuICAgICAgICBjb25zdCBpZCA9IHV1aWR2NCgpO1xyXG4gICAgICAgIGNvbnN0IHRva2VuID0gcmVxdWVzdC50b2tlbjtcclxuICAgICAgICBjb25zdCBmaWxlbmFtZSA9IGAke3Rva2VuLl9pZC50b1N0cmluZygpfS0ke2lkfWA7XHJcbiAgICAgICAgcmVxdWVzdC5maWxlbmFtZSA9IGZpbGVuYW1lO1xyXG4gICAgICAgIGNiKG51bGwsIGZpbGVuYW1lKVxyXG4gICAgfVxyXG5cclxufSlcclxuXHJcbi8vdmlkZW8gdXBsb2FkXHJcbmV4cG9ydCBjb25zdCB2aWRlb1VwbG9hZCA9IG11bHRlcih7XHJcbiAgICBzdG9yYWdlOiB2aWRlb1N0b3JhZ2UsXHJcbiAgICBsaW1pdHM6IHtcclxuICAgICAgICBmaWVsZFNpemU6IDkwMDAwMDAwICogNSAvLzEwIE1CICAgXHJcbiAgICB9LFxyXG4gICAgZmlsZUZpbHRlcjogKHJlcXVlc3QsIGZpbGUsIGNiKSA9PiB7XHJcbiAgICAgICAgaWYgKCFmaWxlLm9yaWdpbmFsbmFtZS5tYXRjaCgvXFwuKG1wNHxNUEVHLTR8bWt2KSQvKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY2IobmV3IEVycm9yKCdWaWRlbyBmb21hdCBub3Igc3VwcG9ydGVkJykpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNiKHVuZGVmaW5lZCwgdHJ1ZSlcclxuICAgIH1cclxufSkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUVBO0FBQ0EsSUFBTUEsWUFBWSxHQUFHQyxrQkFBQSxDQUFPQyxXQUFQLENBQW1CO0VBQ3BDQyxXQUFXLEVBQUUsUUFEdUI7RUFFcENDLFFBQVEsRUFBRSxrQkFBQ0MsT0FBRCxFQUFVQyxJQUFWLEVBQWdCQyxFQUFoQixFQUF1QjtJQUM3QixJQUFNQyxFQUFFLEdBQUcsSUFBQUMsUUFBQSxHQUFYO0lBQ0EsSUFBTUMsS0FBSyxHQUFHTCxPQUFPLENBQUNLLEtBQXRCO0lBQ0EsSUFBTU4sUUFBUSxhQUFNTSxLQUFLLENBQUNDLEdBQU4sQ0FBVUMsUUFBVixFQUFOLGNBQThCSixFQUE5QixDQUFkO0lBQ0FILE9BQU8sQ0FBQ0QsUUFBUixHQUFtQkEsUUFBbkI7SUFDQUcsRUFBRSxDQUFDLElBQUQsRUFBT0gsUUFBUCxDQUFGO0VBQ0g7QUFSbUMsQ0FBbkIsQ0FBckIsQyxDQVlBOzs7QUFDTyxJQUFNUyxXQUFXLEdBQUcsSUFBQVosa0JBQUEsRUFBTztFQUM5QmEsT0FBTyxFQUFFZCxZQURxQjtFQUU5QmUsTUFBTSxFQUFFO0lBQ0pDLFNBQVMsRUFBRSxXQUFXLENBRGxCLENBQ29COztFQURwQixDQUZzQjtFQUs5QkMsVUFBVSxFQUFFLG9CQUFDWixPQUFELEVBQVVDLElBQVYsRUFBZ0JDLEVBQWhCLEVBQXVCO0lBQy9CLElBQUksQ0FBQ0QsSUFBSSxDQUFDWSxZQUFMLENBQWtCQyxLQUFsQixDQUF3QixxQkFBeEIsQ0FBTCxFQUFxRDtNQUNqRCxPQUFPWixFQUFFLENBQUMsSUFBSWEsS0FBSixDQUFVLDJCQUFWLENBQUQsQ0FBVDtJQUNIOztJQUNEYixFQUFFLENBQUNjLFNBQUQsRUFBWSxJQUFaLENBQUY7RUFDSDtBQVY2QixDQUFQLENBQXBCIn0=","map":{"version":3,"names":["videoStorage","multer","diskStorage","destination","filename","request","file","cb","id","uuidv4","token","_id","toString","videoUpload","storage","limits","fieldSize","fileFilter","originalname","match","Error","undefined"],"sourceRoot":"E:\\IT-PROJECT\\backend3\\src\\Middlewares\\","sources":["Video.middleware.js"],"sourcesContent":["import file from \"@babel/core/lib/transformation/file/file\";\r\nimport { request } from \"express\";\r\nimport multer from \"multer\";\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\n// video storage\r\nconst videoStorage = multer.diskStorage({\r\n    destination: \"videos\",\r\n    filename: (request, file, cb) => {\r\n        const id = uuidv4();\r\n        const token = request.token;\r\n        const filename = `${token._id.toString()}-${id}`;\r\n        request.filename = filename;\r\n        cb(null, filename)\r\n    }\r\n\r\n})\r\n\r\n//video upload\r\nexport const videoUpload = multer({\r\n    storage: videoStorage,\r\n    limits: {\r\n        fieldSize: 90000000 * 5 //10 MB   \r\n    },\r\n    fileFilter: (request, file, cb) => {\r\n        if (!file.originalname.match(/\\.(mp4|MPEG-4|mkv)$/)) {\r\n            return cb(new Error('Video fomat nor supported'))\r\n        }\r\n        cb(undefined, true)\r\n    }\r\n})"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;AAEA;AACA,IAAMA,YAAY,GAAGC,kBAAA,CAAOC,WAAP,CAAmB;EACpCC,WAAW,EAAE,QADuB;EAEpCC,QAAQ,EAAE,kBAACC,OAAD,EAAUC,IAAV,EAAgBC,EAAhB,EAAuB;IAC7B,IAAMC,EAAE,GAAG,IAAAC,QAAA,GAAX;IACA,IAAMC,KAAK,GAAGL,OAAO,CAACK,KAAtB;IACA,IAAMN,QAAQ,aAAMM,KAAK,CAACC,GAAN,CAAUC,QAAV,EAAN,cAA8BJ,EAA9B,CAAd;IACAH,OAAO,CAACD,QAAR,GAAmBA,QAAnB;IACAG,EAAE,CAAC,IAAD,EAAOH,QAAP,CAAF;EACH;AARmC,CAAnB,CAArB,C,CAYA;;;AACO,IAAMS,WAAW,GAAG,IAAAZ,kBAAA,EAAO;EAC9Ba,OAAO,EAAEd,YADqB;EAE9Be,MAAM,EAAE;IACJC,SAAS,EAAE,WAAW,CADlB,CACoB;;EADpB,CAFsB;EAK9BC,UAAU,EAAE,oBAACZ,OAAD,EAAUC,IAAV,EAAgBC,EAAhB,EAAuB;IAC/B,IAAI,CAACD,IAAI,CAACY,YAAL,CAAkBC,KAAlB,CAAwB,qBAAxB,CAAL,EAAqD;MACjD,OAAOZ,EAAE,CAAC,IAAIa,KAAJ,CAAU,2BAAV,CAAD,CAAT;IACH;;IACDb,EAAE,CAACc,SAAD,EAAY,IAAZ,CAAF;EACH;AAV6B,CAAP,CAApB"}},"mtime":1665921866345},"{\"assumptions\":{},\"sourceRoot\":\"E:\\\\IT-PROJECT\\\\backend3\\\\src\\\\Controller\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"E:\\\\IT-PROJECT\\\\backend3\",\"filename\":\"E:\\\\IT-PROJECT\\\\backend3\\\\src\\\\Controller\\\\Video.controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"E:\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.VideoController = void 0;\n\nvar _Video = require(\"../Models/Video.model\");\n\nvar _fs = _interopRequireDefault(require(\"fs\"));\n\nvar _dns = require(\"dns\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nvar VideoController = /*#__PURE__*/function () {\n  function VideoController() {\n    _classCallCheck(this, VideoController);\n  }\n\n  _createClass(VideoController, [{\n    key: \"upload\",\n    value: function () {\n      var _upload = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(request, response) {\n        var newVideo, saveVideo;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                newVideo = new _Video.videoModel({\n                  owner: request.token._id,\n                  username: request.body.username,\n                  category: request.body.category,\n                  name: request.body.name,\n                  videopath: request.filename\n                });\n                _context.prev = 1;\n                _context.next = 4;\n                return newVideo.save();\n\n              case 4:\n                saveVideo = _context.sent;\n                return _context.abrupt(\"return\", response.status(201).json({\n                  msg: 'Video uploaded successfully'\n                }));\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context[\"catch\"](1);\n                return _context.abrupt(\"return\", response.status(500).json({\n                  msg: 'Video upload failed'\n                }));\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[1, 8]]);\n      }));\n\n      function upload(_x, _x2) {\n        return _upload.apply(this, arguments);\n      }\n\n      return upload;\n    }()\n  }, {\n    key: \"like\",\n    value: function like(request, response) {\n      var video_id = request.query.id;\n      var operation = request.query.operation;\n\n      if (operation === 'false') {\n        _Video.videoModel.findOneAndUpdate({\n          _id: video_id\n        }, {\n          $inc: {\n            likes: -1\n          }\n        }, {\n          \"new\": true\n        }, function (error, doc) {\n          if (error) {\n            return response.status(500).json({\n              msg: 'Network Error: Failed to cancel like video'\n            });\n          }\n\n          return response.status(200).json({\n            msg: 'Video like cancelled'\n          });\n        });\n      } else {\n        _Video.videoModel.findOneAndUpdate({\n          _id: video_id\n        }, {\n          $inc: {\n            likes: 1\n          }\n        }, {\n          \"new\": true\n        }, function (error, doc) {\n          if (error) {\n            return response.status(500).json({\n              msg: 'Network Error: Failed to like video'\n            });\n          }\n\n          return response.status(200).json({\n            msg: 'Video liked'\n          });\n        });\n      }\n    }\n  }, {\n    key: \"dislike\",\n    value: function dislike(request, response) {\n      var video_id = request.query.id;\n      var operation = request.query.operation;\n\n      if (operation === 'false') {\n        _Video.videoModel.findOneAndUpdate({\n          _id: video_id\n        }, {\n          $inc: {\n            dislikes: -1\n          }\n        }, {\n          \"new\": true\n        }, function (error, doc) {\n          if (error) {\n            return response.status(500).json({\n              msg: 'Network Error: Failed to cancel dislike video'\n            });\n          }\n\n          return response.status(200).json({\n            msg: 'Video dislike cancelled'\n          });\n        });\n      } else {\n        _Video.videoModel.findOneAndUpdate({\n          _id: video_id\n        }, {\n          $inc: {\n            dislikes: 1\n          }\n        }, {\n          \"new\": true\n        }, function (error, doc) {\n          if (error) {\n            return response.status(500).json({\n              msg: 'Network Error: Failed to dislike video'\n            });\n          }\n\n          return response.status(200).json({\n            msg: 'Video disliked'\n          });\n        });\n      }\n    }\n  }, {\n    key: \"searchVideo\",\n    value: function () {\n      var _searchVideo = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(request, response) {\n        var name, video;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                name = request.query.key;\n                _context2.prev = 1;\n                _context2.next = 4;\n                return _Video.videoModel.find({\n                  name: {\n                    $regex: name.toLowerCase()\n                  }\n                });\n\n              case 4:\n                video = _context2.sent;\n                return _context2.abrupt(\"return\", response.send(video));\n\n              case 8:\n                _context2.prev = 8;\n                _context2.t0 = _context2[\"catch\"](1);\n                return _context2.abrupt(\"return\", response.status(700).json({\n                  msg: 'No matching video'\n                }));\n\n              case 11:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[1, 8]]);\n      }));\n\n      function searchVideo(_x3, _x4) {\n        return _searchVideo.apply(this, arguments);\n      }\n\n      return searchVideo;\n    }() // search all videos and display\n\n  }, {\n    key: \"findAllVideo\",\n    value: function () {\n      var _findAllVideo = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(request, response) {\n        var video;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                _context3.next = 3;\n                return _Video.videoModel.find();\n\n              case 3:\n                video = _context3.sent;\n                return _context3.abrupt(\"return\", response.send(video));\n\n              case 7:\n                _context3.prev = 7;\n                _context3.t0 = _context3[\"catch\"](0);\n                return _context3.abrupt(\"return\", response.status(700).json({\n                  msg: 'No videos'\n                }));\n\n              case 10:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, null, [[0, 7]]);\n      }));\n\n      function findAllVideo(_x5, _x6) {\n        return _findAllVideo.apply(this, arguments);\n      }\n\n      return findAllVideo;\n    }() // search video by username\n\n  }, {\n    key: \"searchUVideo\",\n    value: function () {\n      var _searchUVideo = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(request, response) {\n        var name, video;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                name = request.query.key;\n                _context4.prev = 1;\n                _context4.next = 4;\n                return _Video.videoModel.find({\n                  username: {\n                    $regex: name\n                  }\n                });\n\n              case 4:\n                video = _context4.sent;\n                return _context4.abrupt(\"return\", response.send(video));\n\n              case 8:\n                _context4.prev = 8;\n                _context4.t0 = _context4[\"catch\"](1);\n                return _context4.abrupt(\"return\", response.status(700).json({\n                  msg: 'No matching video'\n                }));\n\n              case 11:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, null, [[1, 8]]);\n      }));\n\n      function searchUVideo(_x7, _x8) {\n        return _searchUVideo.apply(this, arguments);\n      }\n\n      return searchUVideo;\n    }() // search video by category\n\n  }, {\n    key: \"searchCat\",\n    value: function () {\n      var _searchCat = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(request, response) {\n        var cat, video;\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                cat = request.query.key;\n                _context5.prev = 1;\n                _context5.next = 4;\n                return _Video.videoModel.find({\n                  category: {\n                    $regex: cat\n                  }\n                });\n\n              case 4:\n                video = _context5.sent;\n                return _context5.abrupt(\"return\", response.send(video));\n\n              case 8:\n                _context5.prev = 8;\n                _context5.t0 = _context5[\"catch\"](1);\n                return _context5.abrupt(\"return\", response.status(700).json({\n                  msg: 'No matching video'\n                }));\n\n              case 11:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, null, [[1, 8]]);\n      }));\n\n      function searchCat(_x9, _x10) {\n        return _searchCat.apply(this, arguments);\n      }\n\n      return searchCat;\n    }() // stream video \n\n  }, {\n    key: \"stream\",\n    value: function stream(request, response) {\n      var range = request.headers.range;\n\n      if (!range) {\n        return response.status(400).json({\n          msg: 'Range header is required to start'\n        });\n      }\n\n      var videopath = \"videos/\".concat(request.params.filename);\n\n      var videosize = _fs[\"default\"].statSync(videopath).size; // get video size\n\n\n      var start = Number(range.replace(/\\D/g, \"\")); //get start point \n\n      var chunk_size = Math.pow(10, 6); // 1 mb , chunck size\n\n      var end = Math.min(start + chunk_size, videosize - 1); //end position\n\n      var contenLength = end - start + 1; // how many  size sending\n\n      var hearders = {\n        'Content-Length': contenLength,\n        'Accept-Range': 'bytes',\n        'Content-Type': 'video/mp40',\n        'Content-Range': \"bytes \".concat(start, \" -\").concat(end, \"/\").concat(videosize) //decise how far video gone\n\n      };\n      response.writeHead(206, hearders);\n\n      var videostream = _fs[\"default\"].createReadStream(videopath, {\n        start: start,\n        end: end\n      }); // create video stream\n\n\n      videostream.pipe(response);\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete(request, response) {\n      var video_id = request.query.video_id;\n      var video_path = request.query.video_path;\n      var videopath = \"videos/\".concat(video_path);\n\n      if (_fs[\"default\"].existsSync(videopath)) {\n        _fs[\"default\"].unlink(videopath, function (error) {\n          if (error) {\n            return response.status(500).json({\n              msg: 'Network Error: Failed to delete video'\n            });\n          }\n\n          _Video.videoModel.findOneAndDelete({\n            _id: video_id\n          }, function (error) {\n            if (error) {\n              return response.status(500).json({\n                msg: 'Network Error: Failed to delete video'\n              });\n            }\n\n            return response.status(200).json({\n              msg: ' video delete'\n            });\n          });\n        });\n      }\n    }\n  }, {\n    key: \"delete_user_all_videos\",\n    value: function () {\n      var _delete_user_all_videos = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(request, response) {\n        var delete_username, user_video_list, i, videopath;\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                delete_username = request.query.username;\n                user_video_list = request.query.video_list;\n\n                if (!(user_video_list !== undefined)) {\n                  _context6.next = 6;\n                  break;\n                }\n\n                for (i = 0; i < user_video_list.length; i++) {\n                  videopath = \"videos/\".concat(user_video_list[i]);\n\n                  if (_fs[\"default\"].existsSync(videopath)) {\n                    _fs[\"default\"].unlink(videopath, function (error) {\n                      if (error) {\n                        return response.status(500).json({\n                          msg: 'Network Error: Failed to delete video'\n                        });\n                      }\n                    });\n                  }\n                }\n\n                _context6.next = 6;\n                return _Video.videoModel.deleteMany({\n                  username: delete_username\n                });\n\n              case 6:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6);\n      }));\n\n      function delete_user_all_videos(_x11, _x12) {\n        return _delete_user_all_videos.apply(this, arguments);\n      }\n\n      return delete_user_all_videos;\n    }()\n  }]);\n\n  return VideoController;\n}();\n\nexports.VideoController = VideoController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJWaWRlb0NvbnRyb2xsZXIiLCJyZXF1ZXN0IiwicmVzcG9uc2UiLCJuZXdWaWRlbyIsInZpZGVvTW9kZWwiLCJvd25lciIsInRva2VuIiwiX2lkIiwidXNlcm5hbWUiLCJib2R5IiwiY2F0ZWdvcnkiLCJuYW1lIiwidmlkZW9wYXRoIiwiZmlsZW5hbWUiLCJzYXZlIiwic2F2ZVZpZGVvIiwic3RhdHVzIiwianNvbiIsIm1zZyIsInZpZGVvX2lkIiwicXVlcnkiLCJpZCIsIm9wZXJhdGlvbiIsImZpbmRPbmVBbmRVcGRhdGUiLCIkaW5jIiwibGlrZXMiLCJlcnJvciIsImRvYyIsImRpc2xpa2VzIiwia2V5IiwiZmluZCIsIiRyZWdleCIsInRvTG93ZXJDYXNlIiwidmlkZW8iLCJzZW5kIiwiY2F0IiwicmFuZ2UiLCJoZWFkZXJzIiwicGFyYW1zIiwidmlkZW9zaXplIiwiZnMiLCJzdGF0U3luYyIsInNpemUiLCJzdGFydCIsIk51bWJlciIsInJlcGxhY2UiLCJjaHVua19zaXplIiwiZW5kIiwiTWF0aCIsIm1pbiIsImNvbnRlbkxlbmd0aCIsImhlYXJkZXJzIiwid3JpdGVIZWFkIiwidmlkZW9zdHJlYW0iLCJjcmVhdGVSZWFkU3RyZWFtIiwicGlwZSIsInZpZGVvX3BhdGgiLCJleGlzdHNTeW5jIiwidW5saW5rIiwiZmluZE9uZUFuZERlbGV0ZSIsImRlbGV0ZV91c2VybmFtZSIsInVzZXJfdmlkZW9fbGlzdCIsInZpZGVvX2xpc3QiLCJ1bmRlZmluZWQiLCJpIiwibGVuZ3RoIiwiZGVsZXRlTWFueSJdLCJzb3VyY2VSb290IjoiRTpcXElULVBST0pFQ1RcXGJhY2tlbmQzXFxzcmNcXENvbnRyb2xsZXJcXCIsInNvdXJjZXMiOlsiVmlkZW8uY29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB2aWRlb01vZGVsIH0gZnJvbSAnLi4vTW9kZWxzL1ZpZGVvLm1vZGVsJ1xyXG5pbXBvcnQgZnMgZnJvbSAnZnMnXHJcbmltcG9ydCB7IE5PTkFNRSB9IGZyb20gJ2RucydcclxuXHJcbmV4cG9ydCBjbGFzcyBWaWRlb0NvbnRyb2xsZXIge1xyXG4gICAgYXN5bmMgdXBsb2FkKHJlcXVlc3QsIHJlc3BvbnNlKSB7XHJcblxyXG4gICAgICAgIGNvbnN0IG5ld1ZpZGVvID0gbmV3IHZpZGVvTW9kZWwoe1xyXG4gICAgICAgICAgICBvd25lcjogcmVxdWVzdC50b2tlbi5faWQsXHJcbiAgICAgICAgICAgIHVzZXJuYW1lOiByZXF1ZXN0LmJvZHkudXNlcm5hbWUsXHJcbiAgICAgICAgICAgIGNhdGVnb3J5OiByZXF1ZXN0LmJvZHkuY2F0ZWdvcnksXHJcbiAgICAgICAgICAgIG5hbWU6IHJlcXVlc3QuYm9keS5uYW1lLFxyXG4gICAgICAgICAgICB2aWRlb3BhdGg6IHJlcXVlc3QuZmlsZW5hbWVcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBzYXZlVmlkZW8gPSBhd2FpdCBuZXdWaWRlby5zYXZlKClcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cygyMDEpLmpzb24oeyBtc2c6ICdWaWRlbyB1cGxvYWRlZCBzdWNjZXNzZnVsbHknIH0pXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oeyBtc2c6ICdWaWRlbyB1cGxvYWQgZmFpbGVkJyB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgbGlrZShyZXF1ZXN0LCByZXNwb25zZSkge1xyXG4gICAgICAgIGNvbnN0IHZpZGVvX2lkID0gcmVxdWVzdC5xdWVyeS5pZDtcclxuICAgICAgICBjb25zdCBvcGVyYXRpb24gPSByZXF1ZXN0LnF1ZXJ5Lm9wZXJhdGlvblxyXG4gICAgICAgIGlmIChvcGVyYXRpb24gPT09ICdmYWxzZScpIHtcclxuICAgICAgICAgICAgdmlkZW9Nb2RlbC5maW5kT25lQW5kVXBkYXRlKHsgX2lkOiB2aWRlb19pZCB9LCB7ICRpbmM6IHsgbGlrZXM6IC0xIH0gfSxcclxuICAgICAgICAgICAgICAgIHsgbmV3OiB0cnVlIH0sIChlcnJvciwgZG9jKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAnTmV0d29yayBFcnJvcjogRmFpbGVkIHRvIGNhbmNlbCBsaWtlIHZpZGVvJyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7IG1zZzogJ1ZpZGVvIGxpa2UgY2FuY2VsbGVkJyB9KVxyXG4gICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdmlkZW9Nb2RlbC5maW5kT25lQW5kVXBkYXRlKHsgX2lkOiB2aWRlb19pZCB9LCB7ICRpbmM6IHsgbGlrZXM6IDEgfSB9LFxyXG4gICAgICAgICAgICAgICAgeyBuZXc6IHRydWUgfSwgKGVycm9yLCBkb2MpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oeyBtc2c6ICdOZXR3b3JrIEVycm9yOiBGYWlsZWQgdG8gbGlrZSB2aWRlbycgfSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cygyMDApLmpzb24oeyBtc2c6ICdWaWRlbyBsaWtlZCcgfSlcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRpc2xpa2UocmVxdWVzdCwgcmVzcG9uc2UpIHtcclxuICAgICAgICBjb25zdCB2aWRlb19pZCA9IHJlcXVlc3QucXVlcnkuaWQ7XHJcbiAgICAgICAgY29uc3Qgb3BlcmF0aW9uID0gcmVxdWVzdC5xdWVyeS5vcGVyYXRpb25cclxuICAgICAgICBpZiAob3BlcmF0aW9uID09PSAnZmFsc2UnKSB7XHJcbiAgICAgICAgICAgIHZpZGVvTW9kZWwuZmluZE9uZUFuZFVwZGF0ZSh7IF9pZDogdmlkZW9faWQgfSwgeyAkaW5jOiB7IGRpc2xpa2VzOiAtMSB9IH0sXHJcbiAgICAgICAgICAgICAgICB7IG5ldzogdHJ1ZSB9LCAoZXJyb3IsIGRvYykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7IG1zZzogJ05ldHdvcmsgRXJyb3I6IEZhaWxlZCB0byBjYW5jZWwgZGlzbGlrZSB2aWRlbycgfSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cygyMDApLmpzb24oeyBtc2c6ICdWaWRlbyBkaXNsaWtlIGNhbmNlbGxlZCcgfSlcclxuICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHZpZGVvTW9kZWwuZmluZE9uZUFuZFVwZGF0ZSh7IF9pZDogdmlkZW9faWQgfSwgeyAkaW5jOiB7IGRpc2xpa2VzOiAxIH0gfSxcclxuICAgICAgICAgICAgICAgIHsgbmV3OiB0cnVlIH0sIChlcnJvciwgZG9jKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAnTmV0d29yayBFcnJvcjogRmFpbGVkIHRvIGRpc2xpa2UgdmlkZW8nIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHsgbXNnOiAnVmlkZW8gZGlzbGlrZWQnIH0pXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBzZWFyY2hWaWRlbyhyZXF1ZXN0LCByZXNwb25zZSkge1xyXG4gICAgICAgIGNvbnN0IG5hbWUgPSByZXF1ZXN0LnF1ZXJ5LmtleTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgdmlkZW8gPSBhd2FpdCB2aWRlb01vZGVsLmZpbmQoeyBuYW1lOiB7ICRyZWdleDogbmFtZS50b0xvd2VyQ2FzZSgpIH0gfSlcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnNlbmQodmlkZW8pXHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNzAwKS5qc29uKHsgbXNnOiAnTm8gbWF0Y2hpbmcgdmlkZW8nIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIHNlYXJjaCBhbGwgdmlkZW9zIGFuZCBkaXNwbGF5XHJcbiAgICBhc3luYyBmaW5kQWxsVmlkZW8ocmVxdWVzdCwgcmVzcG9uc2UpIHtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IHZpZGVvID0gYXdhaXQgdmlkZW9Nb2RlbC5maW5kKClcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnNlbmQodmlkZW8pXHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNzAwKS5qc29uKHsgbXNnOiAnTm8gdmlkZW9zJyB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIHNlYXJjaCB2aWRlbyBieSB1c2VybmFtZVxyXG4gICAgYXN5bmMgc2VhcmNoVVZpZGVvKHJlcXVlc3QsIHJlc3BvbnNlKSB7XHJcbiAgICAgICAgY29uc3QgbmFtZSA9IHJlcXVlc3QucXVlcnkua2V5O1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCB2aWRlbyA9IGF3YWl0IHZpZGVvTW9kZWwuZmluZCh7IHVzZXJuYW1lOiB7ICRyZWdleDogbmFtZSB9IH0pXHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zZW5kKHZpZGVvKVxyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDcwMCkuanNvbih7IG1zZzogJ05vIG1hdGNoaW5nIHZpZGVvJyB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBzZWFyY2ggdmlkZW8gYnkgY2F0ZWdvcnlcclxuICAgIGFzeW5jIHNlYXJjaENhdChyZXF1ZXN0LCByZXNwb25zZSkge1xyXG4gICAgICAgIGNvbnN0IGNhdCA9IHJlcXVlc3QucXVlcnkua2V5O1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCB2aWRlbyA9IGF3YWl0IHZpZGVvTW9kZWwuZmluZCh7IGNhdGVnb3J5OiB7ICRyZWdleDogY2F0IH0gfSlcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnNlbmQodmlkZW8pXHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNzAwKS5qc29uKHsgbXNnOiAnTm8gbWF0Y2hpbmcgdmlkZW8nIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIHN0cmVhbSB2aWRlbyBcclxuICAgIHN0cmVhbShyZXF1ZXN0LCByZXNwb25zZSkge1xyXG4gICAgICAgIGNvbnN0IHJhbmdlID0gcmVxdWVzdC5oZWFkZXJzLnJhbmdlXHJcbiAgICAgICAgaWYgKCFyYW5nZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwMCkuanNvbih7IG1zZzogJ1JhbmdlIGhlYWRlciBpcyByZXF1aXJlZCB0byBzdGFydCcgfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgdmlkZW9wYXRoID0gYHZpZGVvcy8ke3JlcXVlc3QucGFyYW1zLmZpbGVuYW1lfWA7XHJcbiAgICAgICAgY29uc3QgdmlkZW9zaXplID0gZnMuc3RhdFN5bmModmlkZW9wYXRoKS5zaXplOyAgLy8gZ2V0IHZpZGVvIHNpemVcclxuXHJcbiAgICAgICAgY29uc3Qgc3RhcnQgPSBOdW1iZXIocmFuZ2UucmVwbGFjZSgvXFxEL2csIFwiXCIpKTsgIC8vZ2V0IHN0YXJ0IHBvaW50IFxyXG4gICAgICAgIGNvbnN0IGNodW5rX3NpemUgPSAxMCAqKiA2IC8vIDEgbWIgLCBjaHVuY2sgc2l6ZVxyXG4gICAgICAgIGNvbnN0IGVuZCA9IE1hdGgubWluKHN0YXJ0ICsgY2h1bmtfc2l6ZSwgdmlkZW9zaXplIC0gMSk7ICAgLy9lbmQgcG9zaXRpb25cclxuXHJcbiAgICAgICAgY29uc3QgY29udGVuTGVuZ3RoID0gZW5kIC0gc3RhcnQgKyAxICAvLyBob3cgbWFueSAgc2l6ZSBzZW5kaW5nXHJcbiAgICAgICAgY29uc3QgaGVhcmRlcnMgPSB7XHJcbiAgICAgICAgICAgICdDb250ZW50LUxlbmd0aCc6IGNvbnRlbkxlbmd0aCxcclxuICAgICAgICAgICAgJ0FjY2VwdC1SYW5nZSc6ICdieXRlcycsXHJcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAndmlkZW8vbXA0MCcsXHJcbiAgICAgICAgICAgICdDb250ZW50LVJhbmdlJzogYGJ5dGVzICR7c3RhcnR9IC0ke2VuZH0vJHt2aWRlb3NpemV9YCAgIC8vZGVjaXNlIGhvdyBmYXIgdmlkZW8gZ29uZVxyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgcmVzcG9uc2Uud3JpdGVIZWFkKDIwNiwgaGVhcmRlcnMpO1xyXG4gICAgICAgIGNvbnN0IHZpZGVvc3RyZWFtID0gZnMuY3JlYXRlUmVhZFN0cmVhbSh2aWRlb3BhdGgsIHsgc3RhcnQsIGVuZCB9KTsgLy8gY3JlYXRlIHZpZGVvIHN0cmVhbVxyXG4gICAgICAgIHZpZGVvc3RyZWFtLnBpcGUocmVzcG9uc2UpXHJcbiAgICB9XHJcblxyXG4gICAgZGVsZXRlKHJlcXVlc3QsIHJlc3BvbnNlKSB7XHJcblxyXG4gICAgICAgIGNvbnN0IHZpZGVvX2lkID0gcmVxdWVzdC5xdWVyeS52aWRlb19pZDtcclxuICAgICAgICBjb25zdCB2aWRlb19wYXRoID0gcmVxdWVzdC5xdWVyeS52aWRlb19wYXRoO1xyXG4gICAgICAgIGNvbnN0IHZpZGVvcGF0aCA9IGB2aWRlb3MvJHt2aWRlb19wYXRofWA7XHJcbiAgICAgICAgaWYgKGZzLmV4aXN0c1N5bmModmlkZW9wYXRoKSkge1xyXG4gICAgICAgICAgICBmcy51bmxpbmsodmlkZW9wYXRoLCAoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAnTmV0d29yayBFcnJvcjogRmFpbGVkIHRvIGRlbGV0ZSB2aWRlbycgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZpZGVvTW9kZWwuZmluZE9uZUFuZERlbGV0ZSh7IF9pZDogdmlkZW9faWQgfSwgKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAnTmV0d29yayBFcnJvcjogRmFpbGVkIHRvIGRlbGV0ZSB2aWRlbycgfSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cygyMDApLmpzb24oeyBtc2c6ICcgdmlkZW8gZGVsZXRlJyB9KVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgZGVsZXRlX3VzZXJfYWxsX3ZpZGVvcyhyZXF1ZXN0LCByZXNwb25zZSkge1xyXG4gICAgICAgIGNvbnN0IGRlbGV0ZV91c2VybmFtZSA9IHJlcXVlc3QucXVlcnkudXNlcm5hbWU7XHJcbiAgICAgICAgY29uc3QgdXNlcl92aWRlb19saXN0ID0gcmVxdWVzdC5xdWVyeS52aWRlb19saXN0O1xyXG4gICAgICAgIGlmICh1c2VyX3ZpZGVvX2xpc3QgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHVzZXJfdmlkZW9fbGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHZpZGVvcGF0aCA9IGB2aWRlb3MvJHt1c2VyX3ZpZGVvX2xpc3RbaV19YDtcclxuICAgICAgICAgICAgICAgIGlmIChmcy5leGlzdHNTeW5jKHZpZGVvcGF0aCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBmcy51bmxpbmsodmlkZW9wYXRoLCAoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7IG1zZzogJ05ldHdvcmsgRXJyb3I6IEZhaWxlZCB0byBkZWxldGUgdmlkZW8nIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBhd2FpdCB2aWRlb01vZGVsLmRlbGV0ZU1hbnkoeyB1c2VybmFtZTogZGVsZXRlX3VzZXJuYW1lIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7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","map":{"version":3,"names":["VideoController","request","response","newVideo","videoModel","owner","token","_id","username","body","category","name","videopath","filename","save","saveVideo","status","json","msg","video_id","query","id","operation","findOneAndUpdate","$inc","likes","error","doc","dislikes","key","find","$regex","toLowerCase","video","send","cat","range","headers","params","videosize","fs","statSync","size","start","Number","replace","chunk_size","end","Math","min","contenLength","hearders","writeHead","videostream","createReadStream","pipe","video_path","existsSync","unlink","findOneAndDelete","delete_username","user_video_list","video_list","undefined","i","length","deleteMany"],"sourceRoot":"E:\\IT-PROJECT\\backend3\\src\\Controller\\","sources":["Video.controller.js"],"sourcesContent":["import { videoModel } from '../Models/Video.model'\r\nimport fs from 'fs'\r\nimport { NONAME } from 'dns'\r\n\r\nexport class VideoController {\r\n    async upload(request, response) {\r\n\r\n        const newVideo = new videoModel({\r\n            owner: request.token._id,\r\n            username: request.body.username,\r\n            category: request.body.category,\r\n            name: request.body.name,\r\n            videopath: request.filename\r\n        })\r\n\r\n        try {\r\n            const saveVideo = await newVideo.save()\r\n            return response.status(201).json({ msg: 'Video uploaded successfully' })\r\n        } catch (error) {\r\n            return response.status(500).json({ msg: 'Video upload failed' })\r\n        }\r\n    }\r\n\r\n\r\n    like(request, response) {\r\n        const video_id = request.query.id;\r\n        const operation = request.query.operation\r\n        if (operation === 'false') {\r\n            videoModel.findOneAndUpdate({ _id: video_id }, { $inc: { likes: -1 } },\r\n                { new: true }, (error, doc) => {\r\n                    if (error) {\r\n                        return response.status(500).json({ msg: 'Network Error: Failed to cancel like video' })\r\n                    }\r\n                    return response.status(200).json({ msg: 'Video like cancelled' })\r\n                })\r\n\r\n        } else {\r\n            videoModel.findOneAndUpdate({ _id: video_id }, { $inc: { likes: 1 } },\r\n                { new: true }, (error, doc) => {\r\n                    if (error) {\r\n                        return response.status(500).json({ msg: 'Network Error: Failed to like video' })\r\n                    }\r\n                    return response.status(200).json({ msg: 'Video liked' })\r\n                })\r\n        }\r\n    }\r\n\r\n    dislike(request, response) {\r\n        const video_id = request.query.id;\r\n        const operation = request.query.operation\r\n        if (operation === 'false') {\r\n            videoModel.findOneAndUpdate({ _id: video_id }, { $inc: { dislikes: -1 } },\r\n                { new: true }, (error, doc) => {\r\n                    if (error) {\r\n                        return response.status(500).json({ msg: 'Network Error: Failed to cancel dislike video' })\r\n                    }\r\n                    return response.status(200).json({ msg: 'Video dislike cancelled' })\r\n                })\r\n\r\n        } else {\r\n            videoModel.findOneAndUpdate({ _id: video_id }, { $inc: { dislikes: 1 } },\r\n                { new: true }, (error, doc) => {\r\n                    if (error) {\r\n                        return response.status(500).json({ msg: 'Network Error: Failed to dislike video' })\r\n                    }\r\n                    return response.status(200).json({ msg: 'Video disliked' })\r\n                })\r\n        }\r\n    }\r\n\r\n    async searchVideo(request, response) {\r\n        const name = request.query.key;\r\n        try {\r\n            let video = await videoModel.find({ name: { $regex: name.toLowerCase() } })\r\n            return response.send(video)\r\n\r\n        } catch (error) {\r\n            return response.status(700).json({ msg: 'No matching video' })\r\n        }\r\n    }\r\n\r\n    // search all videos and display\r\n    async findAllVideo(request, response) {\r\n\r\n        try {\r\n            let video = await videoModel.find()\r\n            return response.send(video)\r\n\r\n        } catch (error) {\r\n            return response.status(700).json({ msg: 'No videos' })\r\n        }\r\n    }\r\n    // search video by username\r\n    async searchUVideo(request, response) {\r\n        const name = request.query.key;\r\n        try {\r\n            let video = await videoModel.find({ username: { $regex: name } })\r\n            return response.send(video)\r\n\r\n        } catch (error) {\r\n            return response.status(700).json({ msg: 'No matching video' })\r\n        }\r\n    }\r\n\r\n    // search video by category\r\n    async searchCat(request, response) {\r\n        const cat = request.query.key;\r\n        try {\r\n            let video = await videoModel.find({ category: { $regex: cat } })\r\n            return response.send(video)\r\n\r\n        } catch (error) {\r\n            return response.status(700).json({ msg: 'No matching video' })\r\n        }\r\n    }\r\n\r\n    // stream video \r\n    stream(request, response) {\r\n        const range = request.headers.range\r\n        if (!range) {\r\n            return response.status(400).json({ msg: 'Range header is required to start' })\r\n        }\r\n        const videopath = `videos/${request.params.filename}`;\r\n        const videosize = fs.statSync(videopath).size;  // get video size\r\n\r\n        const start = Number(range.replace(/\\D/g, \"\"));  //get start point \r\n        const chunk_size = 10 ** 6 // 1 mb , chunck size\r\n        const end = Math.min(start + chunk_size, videosize - 1);   //end position\r\n\r\n        const contenLength = end - start + 1  // how many  size sending\r\n        const hearders = {\r\n            'Content-Length': contenLength,\r\n            'Accept-Range': 'bytes',\r\n            'Content-Type': 'video/mp40',\r\n            'Content-Range': `bytes ${start} -${end}/${videosize}`   //decise how far video gone\r\n\r\n        }\r\n        response.writeHead(206, hearders);\r\n        const videostream = fs.createReadStream(videopath, { start, end }); // create video stream\r\n        videostream.pipe(response)\r\n    }\r\n\r\n    delete(request, response) {\r\n\r\n        const video_id = request.query.video_id;\r\n        const video_path = request.query.video_path;\r\n        const videopath = `videos/${video_path}`;\r\n        if (fs.existsSync(videopath)) {\r\n            fs.unlink(videopath, (error) => {\r\n                if (error) {\r\n                    return response.status(500).json({ msg: 'Network Error: Failed to delete video' })\r\n                }\r\n                videoModel.findOneAndDelete({ _id: video_id }, (error) => {\r\n                    if (error) {\r\n                        return response.status(500).json({ msg: 'Network Error: Failed to delete video' })\r\n                    }\r\n                    return response.status(200).json({ msg: ' video delete' })\r\n                })\r\n            })\r\n        }\r\n    }\r\n\r\n    async delete_user_all_videos(request, response) {\r\n        const delete_username = request.query.username;\r\n        const user_video_list = request.query.video_list;\r\n        if (user_video_list !== undefined) {\r\n            for (let i = 0; i < user_video_list.length; i++) {\r\n                var videopath = `videos/${user_video_list[i]}`;\r\n                if (fs.existsSync(videopath)) {\r\n                    fs.unlink(videopath, (error) => {\r\n                        if (error) {\r\n                            return response.status(500).json({ msg: 'Network Error: Failed to delete video' })\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n\r\n            await videoModel.deleteMany({ username: delete_username });\r\n        }\r\n    }\r\n}"],"mappings":"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"}},"mtime":1665921866344},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"filename\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _mongoose = require(\"mongoose\");\n\nvar _dotenv = require(\"dotenv\");\n\nvar _Auth = _interopRequireDefault(require(\"./Routes/Auth.routes\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _Video = _interopRequireDefault(require(\"./Routes/Video.routes\"));\n\nvar _process$env$PORT;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n(0, _dotenv.config)();\nvar server = (0, _express[\"default\"])(); //==============MiddleWares===========================================\n\nserver.use((0, _cors[\"default\"])()); //==========mongo DB connection========================================\n\nvar mongoURI = process.env.mongoURI;\n(0, _mongoose.connect)(mongoURI, function (error) {\n  if (error) {\n    return console.log(error);\n  }\n\n  console.log('connection to mongo DB successful!!!');\n}); //==============================server endpoints=============================\n\nserver.use(_Auth[\"default\"]);\nserver.use(_Video[\"default\"]);\nvar PORT = (_process$env$PORT = process.env.PORT) !== null && _process$env$PORT !== void 0 ? _process$env$PORT : 3000;\nserver.listen(PORT, function () {\n  console.log(\"Server started on PORT \".concat(PORT));\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25maWciLCJzZXJ2ZXIiLCJleHByZXNzIiwidXNlIiwiY29ycyIsIm1vbmdvVVJJIiwicHJvY2VzcyIsImVudiIsImNvbm5lY3QiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJBdXRoUm91dGVzIiwiVmlkZW9Sb3V0ZXMiLCJQT1JUIiwibGlzdGVuIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXDMyMTA4XFxEb2N1bWVudHNcXEdpdEh1YlxcSVQtUFJPSkVDVFxcYmFja2VuZDNcXHNyY1xcIiwic291cmNlcyI6WyJzZXJ2ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XHJcbmltcG9ydHsgY29ubmVjdCB9IGZyb20gJ21vbmdvb3NlJztcclxuaW1wb3J0eyBjb25maWcgfSBmcm9tICdkb3RlbnYnO1xyXG5pbXBvcnQgQXV0aFJvdXRlcyBmcm9tICcuL1JvdXRlcy9BdXRoLnJvdXRlcydcclxuaW1wb3J0IGNvcnMgZnJvbSAnY29ycydcclxuaW1wb3J0IFZpZGVvUm91dGVzIGZyb20gJy4vUm91dGVzL1ZpZGVvLnJvdXRlcydcclxuXHJcbmNvbmZpZygpO1xyXG5cclxuY29uc3Qgc2VydmVyID0gZXhwcmVzcygpO1xyXG4vLz09PT09PT09PT09PT09TWlkZGxlV2FyZXM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbnNlcnZlci51c2UoY29ycygpKVxyXG4vLz09PT09PT09PT1tb25nbyBEQiBjb25uZWN0aW9uPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5jb25zdCBtb25nb1VSSSA9IHByb2Nlc3MuZW52Lm1vbmdvVVJJO1xyXG5jb25uZWN0KG1vbmdvVVJJLCAoZXJyb3IpPT57XHJcbiAgICBpZihlcnJvcil7XHJcbiAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgIH1cclxuICAgIGNvbnNvbGUubG9nKCdjb25uZWN0aW9uIHRvIG1vbmdvIERCIHN1Y2Nlc3NmdWwhISEnKVxyXG59KVxyXG5cclxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1zZXJ2ZXIgZW5kcG9pbnRzPT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuc2VydmVyLnVzZShBdXRoUm91dGVzKVxyXG5zZXJ2ZXIudXNlKFZpZGVvUm91dGVzKVxyXG5cclxuY29uc3QgUE9SVCA9IHByb2Nlc3MuZW52LlBPUlQgPz8gMzAwMDtcclxuXHJcblxyXG5zZXJ2ZXIubGlzdGVuKFBPUlQsICgpPT57XHJcbiAgICBjb25zb2xlLmxvZyhgU2VydmVyIHN0YXJ0ZWQgb24gUE9SVCAke1BPUlR9YClcclxufSkiXSwibWFwcGluZ3MiOiI7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7OztBQUVBLElBQUFBLGNBQUE7QUFFQSxJQUFNQyxNQUFNLEdBQUcsSUFBQUMsbUJBQUEsR0FBZixDLENBQ0E7O0FBQ0FELE1BQU0sQ0FBQ0UsR0FBUCxDQUFXLElBQUFDLGdCQUFBLEdBQVgsRSxDQUNBOztBQUNBLElBQU1DLFFBQVEsR0FBR0MsT0FBTyxDQUFDQyxHQUFSLENBQVlGLFFBQTdCO0FBQ0EsSUFBQUcsaUJBQUEsRUFBUUgsUUFBUixFQUFrQixVQUFDSSxLQUFELEVBQVM7RUFDdkIsSUFBR0EsS0FBSCxFQUFTO0lBQ0wsT0FBT0MsT0FBTyxDQUFDQyxHQUFSLENBQVlGLEtBQVosQ0FBUDtFQUNIOztFQUNEQyxPQUFPLENBQUNDLEdBQVIsQ0FBWSxzQ0FBWjtBQUNILENBTEQsRSxDQU9BOztBQUNBVixNQUFNLENBQUNFLEdBQVAsQ0FBV1MsZ0JBQVg7QUFDQVgsTUFBTSxDQUFDRSxHQUFQLENBQVdVLGlCQUFYO0FBRUEsSUFBTUMsSUFBSSx3QkFBR1IsT0FBTyxDQUFDQyxHQUFSLENBQVlPLElBQWYsaUVBQXVCLElBQWpDO0FBR0FiLE1BQU0sQ0FBQ2MsTUFBUCxDQUFjRCxJQUFkLEVBQW9CLFlBQUk7RUFDcEJKLE9BQU8sQ0FBQ0MsR0FBUixrQ0FBc0NHLElBQXRDO0FBQ0gsQ0FGRCJ9","map":{"version":3,"names":["config","server","express","use","cors","mongoURI","process","env","connect","error","console","log","AuthRoutes","VideoRoutes","PORT","listen"],"sourceRoot":"C:\\Users\\32108\\Documents\\GitHub\\IT-PROJECT\\backend3\\src\\","sources":["server.js"],"sourcesContent":["import express from 'express';\r\nimport{ connect } from 'mongoose';\r\nimport{ config } from 'dotenv';\r\nimport AuthRoutes from './Routes/Auth.routes'\r\nimport cors from 'cors'\r\nimport VideoRoutes from './Routes/Video.routes'\r\n\r\nconfig();\r\n\r\nconst server = express();\r\n//==============MiddleWares===========================================\r\nserver.use(cors())\r\n//==========mongo DB connection========================================\r\nconst mongoURI = process.env.mongoURI;\r\nconnect(mongoURI, (error)=>{\r\n    if(error){\r\n        return console.log(error);\r\n    }\r\n    console.log('connection to mongo DB successful!!!')\r\n})\r\n\r\n//==============================server endpoints=============================\r\nserver.use(AuthRoutes)\r\nserver.use(VideoRoutes)\r\n\r\nconst PORT = process.env.PORT ?? 3000;\r\n\r\n\r\nserver.listen(PORT, ()=>{\r\n    console.log(`Server started on PORT ${PORT}`)\r\n})"],"mappings":";;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;AAEA,IAAAA,cAAA;AAEA,IAAMC,MAAM,GAAG,IAAAC,mBAAA,GAAf,C,CACA;;AACAD,MAAM,CAACE,GAAP,CAAW,IAAAC,gBAAA,GAAX,E,CACA;;AACA,IAAMC,QAAQ,GAAGC,OAAO,CAACC,GAAR,CAAYF,QAA7B;AACA,IAAAG,iBAAA,EAAQH,QAAR,EAAkB,UAACI,KAAD,EAAS;EACvB,IAAGA,KAAH,EAAS;IACL,OAAOC,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAP;EACH;;EACDC,OAAO,CAACC,GAAR,CAAY,sCAAZ;AACH,CALD,E,CAOA;;AACAV,MAAM,CAACE,GAAP,CAAWS,gBAAX;AACAX,MAAM,CAACE,GAAP,CAAWU,iBAAX;AAEA,IAAMC,IAAI,wBAAGR,OAAO,CAACC,GAAR,CAAYO,IAAf,iEAAuB,IAAjC;AAGAb,MAAM,CAACc,MAAP,CAAcD,IAAd,EAAoB,YAAI;EACpBJ,OAAO,CAACC,GAAR,kCAAsCG,IAAtC;AACH,CAFD"}},"mtime":1665917347954},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"filename\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Routes\\\\Auth.routes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _express = require(\"express\");\n\nvar _Auth = require(\"../Controller/Auth.controller\");\n\nvar router = (0, _express.Router)();\nvar Controller = new _Auth.AuthController(); //router.post('/app/signup')\n\nrouter.post('/api/signup', function (request, response) {\n  Controller.signup(request, response);\n});\nrouter.post('/api/signin', function (request, response) {\n  Controller.signin(request, response);\n}); // reset password\n\nrouter.post('/api/password-reset', function (request, response) {\n  Controller.forgotPassword(request, response);\n}); // delet a user from mongo DB\n\nrouter.post('/api/delete', function (request, response) {\n  Controller[\"delete\"](request, response);\n}); //find all user and return \n\nrouter.get('/api/findall', function (request, response) {\n  Controller.findAllUser(request, response);\n}); // update user information\n\nrouter.put('/api/update/:email', function (request, response) {\n  Controller.update(request, response);\n}); // search for a user\n\nrouter.get('/api/user-search/', function (request, response) {\n  Controller.searchUser(request, response);\n}); // Update user info including  email, password, username, age and gender\n\nrouter.post('/api/update', function (request, response) {\n  Controller.update(request, response);\n});\nvar _default = router; //module.exports = router;\n\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJSb3V0ZXIiLCJDb250cm9sbGVyIiwiQXV0aENvbnRyb2xsZXIiLCJwb3N0IiwicmVxdWVzdCIsInJlc3BvbnNlIiwic2lnbnVwIiwic2lnbmluIiwiZm9yZ290UGFzc3dvcmQiLCJnZXQiLCJmaW5kQWxsVXNlciIsInB1dCIsInVwZGF0ZSIsInNlYXJjaFVzZXIiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcMzIxMDhcXERvY3VtZW50c1xcR2l0SHViXFxJVC1QUk9KRUNUXFxiYWNrZW5kM1xcc3JjXFxSb3V0ZXNcXCIsInNvdXJjZXMiOlsiQXV0aC5yb3V0ZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUm91dGVyIH0gZnJvbSAnZXhwcmVzcyc7XHJcbmltcG9ydCB7IEF1dGhDb250cm9sbGVyIH0gZnJvbSAnLi4vQ29udHJvbGxlci9BdXRoLmNvbnRyb2xsZXInO1xyXG5cclxuXHJcbmNvbnN0IHJvdXRlciA9IFJvdXRlcigpO1xyXG5jb25zdCBDb250cm9sbGVyID0gbmV3IEF1dGhDb250cm9sbGVyKCk7XHJcblxyXG4vL3JvdXRlci5wb3N0KCcvYXBwL3NpZ251cCcpXHJcbnJvdXRlci5wb3N0KCcvYXBpL3NpZ251cCcsIChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xyXG4gICAgQ29udHJvbGxlci5zaWdudXAocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG5yb3V0ZXIucG9zdCgnL2FwaS9zaWduaW4nLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgIENvbnRyb2xsZXIuc2lnbmluKHJlcXVlc3QsIHJlc3BvbnNlKVxyXG59KVxyXG5cclxuLy8gcmVzZXQgcGFzc3dvcmRcclxucm91dGVyLnBvc3QoJy9hcGkvcGFzc3dvcmQtcmVzZXQnLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgIENvbnRyb2xsZXIuZm9yZ290UGFzc3dvcmQocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG5cclxuLy8gZGVsZXQgYSB1c2VyIGZyb20gbW9uZ28gREJcclxucm91dGVyLnBvc3QoJy9hcGkvZGVsZXRlJywgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XHJcbiAgICBDb250cm9sbGVyLmRlbGV0ZShyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcbi8vZmluZCBhbGwgdXNlciBhbmQgcmV0dXJuIFxyXG5yb3V0ZXIuZ2V0KCcvYXBpL2ZpbmRhbGwnLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgIENvbnRyb2xsZXIuZmluZEFsbFVzZXIocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG4vLyB1cGRhdGUgdXNlciBpbmZvcm1hdGlvblxyXG5yb3V0ZXIucHV0KCcvYXBpL3VwZGF0ZS86ZW1haWwnLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgIENvbnRyb2xsZXIudXBkYXRlKHJlcXVlc3QsIHJlc3BvbnNlKVxyXG59KVxyXG5cclxuXHJcbi8vIHNlYXJjaCBmb3IgYSB1c2VyXHJcbnJvdXRlci5nZXQoJy9hcGkvdXNlci1zZWFyY2gvJywgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XHJcbiAgICBDb250cm9sbGVyLnNlYXJjaFVzZXIocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG4vLyBVcGRhdGUgdXNlciBpbmZvIGluY2x1ZGluZyAgZW1haWwsIHBhc3N3b3JkLCB1c2VybmFtZSwgYWdlIGFuZCBnZW5kZXJcclxucm91dGVyLnBvc3QoJy9hcGkvdXBkYXRlJywgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XHJcbiAgICBDb250cm9sbGVyLnVwZGF0ZShyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xyXG4vL21vZHVsZS5leHBvcnRzID0gcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUdBLElBQU1BLE1BQU0sR0FBRyxJQUFBQyxlQUFBLEdBQWY7QUFDQSxJQUFNQyxVQUFVLEdBQUcsSUFBSUMsb0JBQUosRUFBbkIsQyxDQUVBOztBQUNBSCxNQUFNLENBQUNJLElBQVAsQ0FBWSxhQUFaLEVBQTJCLFVBQUNDLE9BQUQsRUFBVUMsUUFBVixFQUF1QjtFQUM5Q0osVUFBVSxDQUFDSyxNQUFYLENBQWtCRixPQUFsQixFQUEyQkMsUUFBM0I7QUFDSCxDQUZEO0FBSUFOLE1BQU0sQ0FBQ0ksSUFBUCxDQUFZLGFBQVosRUFBMkIsVUFBQ0MsT0FBRCxFQUFVQyxRQUFWLEVBQXVCO0VBQzlDSixVQUFVLENBQUNNLE1BQVgsQ0FBa0JILE9BQWxCLEVBQTJCQyxRQUEzQjtBQUNILENBRkQsRSxDQUlBOztBQUNBTixNQUFNLENBQUNJLElBQVAsQ0FBWSxxQkFBWixFQUFtQyxVQUFDQyxPQUFELEVBQVVDLFFBQVYsRUFBdUI7RUFDdERKLFVBQVUsQ0FBQ08sY0FBWCxDQUEwQkosT0FBMUIsRUFBbUNDLFFBQW5DO0FBQ0gsQ0FGRCxFLENBS0E7O0FBQ0FOLE1BQU0sQ0FBQ0ksSUFBUCxDQUFZLGFBQVosRUFBMkIsVUFBQ0MsT0FBRCxFQUFVQyxRQUFWLEVBQXVCO0VBQzlDSixVQUFVLFVBQVYsQ0FBa0JHLE9BQWxCLEVBQTJCQyxRQUEzQjtBQUNILENBRkQsRSxDQUlBOztBQUNBTixNQUFNLENBQUNVLEdBQVAsQ0FBVyxjQUFYLEVBQTJCLFVBQUNMLE9BQUQsRUFBVUMsUUFBVixFQUF1QjtFQUM5Q0osVUFBVSxDQUFDUyxXQUFYLENBQXVCTixPQUF2QixFQUFnQ0MsUUFBaEM7QUFDSCxDQUZELEUsQ0FJQTs7QUFDQU4sTUFBTSxDQUFDWSxHQUFQLENBQVcsb0JBQVgsRUFBaUMsVUFBQ1AsT0FBRCxFQUFVQyxRQUFWLEVBQXVCO0VBQ3BESixVQUFVLENBQUNXLE1BQVgsQ0FBa0JSLE9BQWxCLEVBQTJCQyxRQUEzQjtBQUNILENBRkQsRSxDQUtBOztBQUNBTixNQUFNLENBQUNVLEdBQVAsQ0FBVyxtQkFBWCxFQUFnQyxVQUFDTCxPQUFELEVBQVVDLFFBQVYsRUFBdUI7RUFDbkRKLFVBQVUsQ0FBQ1ksVUFBWCxDQUFzQlQsT0FBdEIsRUFBK0JDLFFBQS9CO0FBQ0gsQ0FGRCxFLENBSUE7O0FBQ0FOLE1BQU0sQ0FBQ0ksSUFBUCxDQUFZLGFBQVosRUFBMkIsVUFBQ0MsT0FBRCxFQUFVQyxRQUFWLEVBQXVCO0VBQzlDSixVQUFVLENBQUNXLE1BQVgsQ0FBa0JSLE9BQWxCLEVBQTJCQyxRQUEzQjtBQUNILENBRkQ7ZUFTZU4sTSxFQUNmIn0=","map":{"version":3,"names":["router","Router","Controller","AuthController","post","request","response","signup","signin","forgotPassword","get","findAllUser","put","update","searchUser"],"sourceRoot":"C:\\Users\\32108\\Documents\\GitHub\\IT-PROJECT\\backend3\\src\\Routes\\","sources":["Auth.routes.js"],"sourcesContent":["import { Router } from 'express';\r\nimport { AuthController } from '../Controller/Auth.controller';\r\n\r\n\r\nconst router = Router();\r\nconst Controller = new AuthController();\r\n\r\n//router.post('/app/signup')\r\nrouter.post('/api/signup', (request, response) => {\r\n    Controller.signup(request, response)\r\n})\r\n\r\nrouter.post('/api/signin', (request, response) => {\r\n    Controller.signin(request, response)\r\n})\r\n\r\n// reset password\r\nrouter.post('/api/password-reset', (request, response) => {\r\n    Controller.forgotPassword(request, response)\r\n})\r\n\r\n\r\n// delet a user from mongo DB\r\nrouter.post('/api/delete', (request, response) => {\r\n    Controller.delete(request, response)\r\n})\r\n\r\n//find all user and return \r\nrouter.get('/api/findall', (request, response) => {\r\n    Controller.findAllUser(request, response)\r\n})\r\n\r\n// update user information\r\nrouter.put('/api/update/:email', (request, response) => {\r\n    Controller.update(request, response)\r\n})\r\n\r\n\r\n// search for a user\r\nrouter.get('/api/user-search/', (request, response) => {\r\n    Controller.searchUser(request, response)\r\n})\r\n\r\n// Update user info including  email, password, username, age and gender\r\nrouter.post('/api/update', (request, response) => {\r\n    Controller.update(request, response)\r\n})\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default router;\r\n//module.exports = router;"],"mappings":";;;;;;;AAAA;;AACA;;AAGA,IAAMA,MAAM,GAAG,IAAAC,eAAA,GAAf;AACA,IAAMC,UAAU,GAAG,IAAIC,oBAAJ,EAAnB,C,CAEA;;AACAH,MAAM,CAACI,IAAP,CAAY,aAAZ,EAA2B,UAACC,OAAD,EAAUC,QAAV,EAAuB;EAC9CJ,UAAU,CAACK,MAAX,CAAkBF,OAAlB,EAA2BC,QAA3B;AACH,CAFD;AAIAN,MAAM,CAACI,IAAP,CAAY,aAAZ,EAA2B,UAACC,OAAD,EAAUC,QAAV,EAAuB;EAC9CJ,UAAU,CAACM,MAAX,CAAkBH,OAAlB,EAA2BC,QAA3B;AACH,CAFD,E,CAIA;;AACAN,MAAM,CAACI,IAAP,CAAY,qBAAZ,EAAmC,UAACC,OAAD,EAAUC,QAAV,EAAuB;EACtDJ,UAAU,CAACO,cAAX,CAA0BJ,OAA1B,EAAmCC,QAAnC;AACH,CAFD,E,CAKA;;AACAN,MAAM,CAACI,IAAP,CAAY,aAAZ,EAA2B,UAACC,OAAD,EAAUC,QAAV,EAAuB;EAC9CJ,UAAU,UAAV,CAAkBG,OAAlB,EAA2BC,QAA3B;AACH,CAFD,E,CAIA;;AACAN,MAAM,CAACU,GAAP,CAAW,cAAX,EAA2B,UAACL,OAAD,EAAUC,QAAV,EAAuB;EAC9CJ,UAAU,CAACS,WAAX,CAAuBN,OAAvB,EAAgCC,QAAhC;AACH,CAFD,E,CAIA;;AACAN,MAAM,CAACY,GAAP,CAAW,oBAAX,EAAiC,UAACP,OAAD,EAAUC,QAAV,EAAuB;EACpDJ,UAAU,CAACW,MAAX,CAAkBR,OAAlB,EAA2BC,QAA3B;AACH,CAFD,E,CAKA;;AACAN,MAAM,CAACU,GAAP,CAAW,mBAAX,EAAgC,UAACL,OAAD,EAAUC,QAAV,EAAuB;EACnDJ,UAAU,CAACY,UAAX,CAAsBT,OAAtB,EAA+BC,QAA/B;AACH,CAFD,E,CAIA;;AACAN,MAAM,CAACI,IAAP,CAAY,aAAZ,EAA2B,UAACC,OAAD,EAAUC,QAAV,EAAuB;EAC9CJ,UAAU,CAACW,MAAX,CAAkBR,OAAlB,EAA2BC,QAA3B;AACH,CAFD;eASeN,M,EACf"}},"mtime":1666071604609},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Controller\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"filename\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Controller\\\\Auth.controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AuthController = void 0;\n\nvar _formidable = require(\"formidable\");\n\nvar _bcrypt = require(\"bcrypt\");\n\nvar _dotenv = require(\"dotenv\");\n\nvar _jsonwebtoken = require(\"jsonwebtoken\");\n\nvar _User = require(\"../Models/User.model\");\n\nvar _Video = require(\"../Models/Video.model\");\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n(0, _dotenv.config)();\n\nvar AuthController = /*#__PURE__*/function () {\n  function AuthController() {\n    _classCallCheck(this, AuthController);\n  }\n\n  _createClass(AuthController, [{\n    key: \"signup\",\n    value: //signup method\n    function signup(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(error, fields, files) {\n          var username, email, password, age, gender, salt, hashedPassword, newAccount, savedAccount;\n          return _regeneratorRuntime().wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  if (!error) {\n                    _context.next = 2;\n                    break;\n                  }\n\n                  return _context.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to create account, maybe try again later'\n                  }));\n\n                case 2:\n                  username = fields.username, email = fields.email, password = fields.password, age = fields.age, gender = fields.gender;\n\n                  if (!(password.length > 20 || password.length < 6)) {\n                    _context.next = 5;\n                    break;\n                  }\n\n                  return _context.abrupt(\"return\", response.status(503).json({\n                    msg: 'Password length need to be 6-20 range'\n                  }));\n\n                case 5:\n                  if (!(age > 150 || age < 0)) {\n                    _context.next = 7;\n                    break;\n                  }\n\n                  return _context.abrupt(\"return\", response.status(502).json({\n                    msg: 'Invalid age'\n                  }));\n\n                case 7:\n                  _context.next = 9;\n                  return (0, _bcrypt.genSalt)(15);\n\n                case 9:\n                  salt = _context.sent;\n                  _context.next = 12;\n                  return (0, _bcrypt.hash)(password, salt);\n\n                case 12:\n                  hashedPassword = _context.sent;\n                  newAccount = new _User.userModel({\n                    username: username,\n                    email: email,\n                    password: hashedPassword,\n                    age: age,\n                    gender: gender\n                  }); // create an account successful or failed\n\n                  _context.prev = 14;\n                  _context.next = 17;\n                  return newAccount.save();\n\n                case 17:\n                  savedAccount = _context.sent;\n                  return _context.abrupt(\"return\", response.status(201).json({\n                    msg: 'Account created successfully'\n                  }));\n\n                case 21:\n                  _context.prev = 21;\n                  _context.t0 = _context[\"catch\"](14);\n                  console.log(_context.t0);\n                  return _context.abrupt(\"return\", response.status(501).json({\n                    msg: 'This account has been registered. Change email or username'\n                  }));\n\n                case 25:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, null, [[14, 21]]);\n        }));\n\n        return function (_x, _x2, _x3) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n    } // sign in\n\n  }, {\n    key: \"signin\",\n    value: function signin(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(error, fields, files) {\n          var account, password, isAccountEmail, _user, _isPasswordValid, _token_payload, _token, _username, user, isPasswordValid, token_payload, token, username;\n\n          return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  if (!error) {\n                    _context2.next = 2;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to signin'\n                  }));\n\n                case 2:\n                  account = fields.account, password = fields.password; // email log in \n\n                  isAccountEmail = account.includes('@');\n\n                  if (!isAccountEmail) {\n                    _context2.next = 19;\n                    break;\n                  }\n\n                  _context2.next = 7;\n                  return _User.userModel.findOne({\n                    email: account\n                  });\n\n                case 7:\n                  _user = _context2.sent;\n\n                  if (_user) {\n                    _context2.next = 10;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\", response.status(404).json({\n                    msg: 'Email of this account does not exist'\n                  }));\n\n                case 10:\n                  _context2.next = 12;\n                  return (0, _bcrypt.compare)(password, _user.password);\n\n                case 12:\n                  _isPasswordValid = _context2.sent;\n\n                  if (_isPasswordValid) {\n                    _context2.next = 15;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\", response.status(400).json({\n                    msg: 'Invalid password'\n                  }));\n\n                case 15:\n                  _token_payload = {\n                    _id: _user._id,\n                    email: _user.email,\n                    username: _user.username\n                  };\n                  _token = (0, _jsonwebtoken.sign)(_token_payload, process.env.cookie_secret, {\n                    expiresIn: '365d'\n                  });\n                  _username = _token_payload.username;\n                  return _context2.abrupt(\"return\", response.status(200).json({\n                    token: _token,\n                    username: _username\n                  }));\n\n                case 19:\n                  _context2.next = 21;\n                  return _User.userModel.findOne({\n                    username: account\n                  });\n\n                case 21:\n                  user = _context2.sent;\n\n                  if (user) {\n                    _context2.next = 24;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\", response.status(404).json({\n                    msg: 'username of this account does not exist'\n                  }));\n\n                case 24:\n                  _context2.next = 26;\n                  return (0, _bcrypt.compare)(password, user.password);\n\n                case 26:\n                  isPasswordValid = _context2.sent;\n\n                  if (isPasswordValid) {\n                    _context2.next = 29;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\", response.status(400).json({\n                    msg: 'Invalid password'\n                  }));\n\n                case 29:\n                  token_payload = {\n                    _id: user._id,\n                    email: user.email,\n                    username: user.username\n                  };\n                  token = (0, _jsonwebtoken.sign)(token_payload, process.env.cookie_secret, {\n                    expiresIn: '365d'\n                  });\n                  username = token_payload.username;\n                  return _context2.abrupt(\"return\", response.status(200).json({\n                    token: token,\n                    username: username\n                  }));\n\n                case 33:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2);\n        }));\n\n        return function (_x4, _x5, _x6) {\n          return _ref2.apply(this, arguments);\n        };\n      }());\n    } // forgot password and reset\n\n  }, {\n    key: \"forgotPassword\",\n    value: function forgotPassword(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(error, fields, files) {\n          var email, password, salt, hashedPassword, user, updatedAccount;\n          return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n            while (1) {\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  if (!error) {\n                    _context3.next = 2;\n                    break;\n                  }\n\n                  return _context3.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to rset password'\n                  }));\n\n                case 2:\n                  email = fields.email, password = fields.password;\n\n                  if (!(!email || !password)) {\n                    _context3.next = 5;\n                    break;\n                  }\n\n                  return _context3.abrupt(\"return\", response.status(400).json({\n                    msg: 'email and password are required to reset password '\n                  }));\n\n                case 5:\n                  _context3.next = 7;\n                  return (0, _bcrypt.genSalt)(15);\n\n                case 7:\n                  salt = _context3.sent;\n                  _context3.next = 10;\n                  return (0, _bcrypt.hash)(password, salt);\n\n                case 10:\n                  hashedPassword = _context3.sent;\n                  _context3.prev = 11;\n                  _context3.next = 14;\n                  return _User.userModel.findOne({\n                    email: email\n                  });\n\n                case 14:\n                  user = _context3.sent;\n\n                  if (user) {\n                    _context3.next = 17;\n                    break;\n                  }\n\n                  return _context3.abrupt(\"return\", response.status(404).json({\n                    msg: 'Account with this email does not exist'\n                  }));\n\n                case 17:\n                  _context3.next = 19;\n                  return _User.userModel.findOneAndUpdate({\n                    email: email\n                  }, {\n                    $set: {\n                      password: hashedPassword\n                    }\n                  }, {\n                    \"new\": true\n                  });\n\n                case 19:\n                  updatedAccount = _context3.sent;\n                  return _context3.abrupt(\"return\", response.status(200).json({\n                    msg: 'Password rest successful'\n                  }));\n\n                case 23:\n                  _context3.prev = 23;\n                  _context3.t0 = _context3[\"catch\"](11);\n                  return _context3.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to reset password'\n                  }));\n\n                case 26:\n                case \"end\":\n                  return _context3.stop();\n              }\n            }\n          }, _callee3, null, [[11, 23]]);\n        }));\n\n        return function (_x7, _x8, _x9) {\n          return _ref3.apply(this, arguments);\n        };\n      }());\n    } // updat user info such as username, password, age and gender via email.\n\n  }, {\n    key: \"update\",\n    value: function update(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(error, fields, files) {\n          var email, username, age, gender, newUsername, newAge, newGender, user, updatedAccount, updatedVideo_username;\n          return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n            while (1) {\n              switch (_context4.prev = _context4.next) {\n                case 0:\n                  if (!error) {\n                    _context4.next = 2;\n                    break;\n                  }\n\n                  return _context4.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to update. Try again later'\n                  }));\n\n                case 2:\n                  email = fields.email, username = fields.username, age = fields.age, gender = fields.gender;\n                  newUsername = username;\n                  newAge = age;\n                  newGender = gender;\n                  _context4.prev = 6;\n                  _context4.next = 9;\n                  return _User.userModel.findOne({\n                    email: email\n                  });\n\n                case 9:\n                  user = _context4.sent;\n\n                  if (user) {\n                    _context4.next = 12;\n                    break;\n                  }\n\n                  return _context4.abrupt(\"return\", response.status(404).json({\n                    msg: 'Account with this email does not exist'\n                  }));\n\n                case 12:\n                  _context4.next = 14;\n                  return _User.userModel.findOneAndUpdate({\n                    email: email\n                  }, {\n                    $set: {\n                      username: newUsername,\n                      age: newAge,\n                      gender: newGender\n                    }\n                  }, {\n                    \"new\": true\n                  });\n\n                case 14:\n                  updatedAccount = _context4.sent;\n                  _context4.next = 17;\n                  return _Video.videoModel.updateMany({\n                    email: email\n                  }, {\n                    $set: {\n                      username: newUsername\n                    }\n                  }, {\n                    \"new\": true\n                  });\n\n                case 17:\n                  updatedVideo_username = _context4.sent;\n                  return _context4.abrupt(\"return\", response.status(200).json({\n                    msg: 'Edit successful'\n                  }));\n\n                case 21:\n                  _context4.prev = 21;\n                  _context4.t0 = _context4[\"catch\"](6);\n                  return _context4.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to update. Change email or username and try again'\n                  }));\n\n                case 24:\n                case \"end\":\n                  return _context4.stop();\n              }\n            }\n          }, _callee4, null, [[6, 21]]);\n        }));\n\n        return function (_x10, _x11, _x12) {\n          return _ref4.apply(this, arguments);\n        };\n      }());\n    } //delete user account\n\n  }, {\n    key: \"delete\",\n    value: function _delete(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(error, fields, files) {\n          var email, user;\n          return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n            while (1) {\n              switch (_context5.prev = _context5.next) {\n                case 0:\n                  if (!error) {\n                    _context5.next = 2;\n                    break;\n                  }\n\n                  return _context5.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to delete account, maybe try again later'\n                  }));\n\n                case 2:\n                  email = fields.email;\n                  _context5.prev = 3;\n                  _context5.next = 6;\n                  return _User.userModel.findOneAndDelete({\n                    email: email\n                  });\n\n                case 6:\n                  user = _context5.sent;\n                  return _context5.abrupt(\"return\", response.status(200).json({\n                    msg: 'delete successful'\n                  }));\n\n                case 10:\n                  _context5.prev = 10;\n                  _context5.t0 = _context5[\"catch\"](3);\n                  return _context5.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to delete'\n                  }));\n\n                case 13:\n                case \"end\":\n                  return _context5.stop();\n              }\n            }\n          }, _callee5, null, [[3, 10]]);\n        }));\n\n        return function (_x13, _x14, _x15) {\n          return _ref5.apply(this, arguments);\n        };\n      }());\n    } // find all user\n\n  }, {\n    key: \"findAllUser\",\n    value: function findAllUser(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(error, fields, files) {\n          var user;\n          return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n            while (1) {\n              switch (_context6.prev = _context6.next) {\n                case 0:\n                  if (!error) {\n                    _context6.next = 2;\n                    break;\n                  }\n\n                  return _context6.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to delete account, maybe try again later'\n                  }));\n\n                case 2:\n                  _context6.prev = 2;\n                  _context6.next = 5;\n                  return _User.userModel.find();\n\n                case 5:\n                  user = _context6.sent;\n                  return _context6.abrupt(\"return\", response.send(user));\n\n                case 9:\n                  _context6.prev = 9;\n                  _context6.t0 = _context6[\"catch\"](2);\n                  return _context6.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed find all users'\n                  }));\n\n                case 12:\n                case \"end\":\n                  return _context6.stop();\n              }\n            }\n          }, _callee6, null, [[2, 9]]);\n        }));\n\n        return function (_x16, _x17, _x18) {\n          return _ref6.apply(this, arguments);\n        };\n      }());\n    } // search for a user by request \n\n  }, {\n    key: \"searchUser\",\n    value: function () {\n      var _searchUser = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(request, response) {\n        var name, user;\n        return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                name = request.query.username;\n                _context7.prev = 1;\n                _context7.next = 4;\n                return _User.userModel.find({\n                  username: {\n                    $regex: name\n                  }\n                });\n\n              case 4:\n                user = _context7.sent;\n                return _context7.abrupt(\"return\", response.send(user));\n\n              case 8:\n                _context7.prev = 8;\n                _context7.t0 = _context7[\"catch\"](1);\n                return _context7.abrupt(\"return\", response.status(500).json({\n                  msg: 'No matching user'\n                }));\n\n              case 11:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, null, [[1, 8]]);\n      }));\n\n      function searchUser(_x19, _x20) {\n        return _searchUser.apply(this, arguments);\n      }\n\n      return searchUser;\n    }()\n  }]);\n\n  return AuthController;\n}();\n\nexports.AuthController = AuthController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25maWciLCJBdXRoQ29udHJvbGxlciIsInJlcXVlc3QiLCJyZXNwb25zZSIsImZvcm0iLCJJbmNvbWluZ0Zvcm0iLCJwYXJzZSIsImVycm9yIiwiZmllbGRzIiwiZmlsZXMiLCJzdGF0dXMiLCJqc29uIiwibXNnIiwidXNlcm5hbWUiLCJlbWFpbCIsInBhc3N3b3JkIiwiYWdlIiwiZ2VuZGVyIiwibGVuZ3RoIiwiZ2VuU2FsdCIsInNhbHQiLCJoYXNoIiwiaGFzaGVkUGFzc3dvcmQiLCJuZXdBY2NvdW50IiwidXNlck1vZGVsIiwic2F2ZSIsInNhdmVkQWNjb3VudCIsImNvbnNvbGUiLCJsb2ciLCJhY2NvdW50IiwiaXNBY2NvdW50RW1haWwiLCJpbmNsdWRlcyIsImZpbmRPbmUiLCJ1c2VyIiwiY29tcGFyZSIsImlzUGFzc3dvcmRWYWxpZCIsInRva2VuX3BheWxvYWQiLCJfaWQiLCJ0b2tlbiIsInNpZ24iLCJwcm9jZXNzIiwiZW52IiwiY29va2llX3NlY3JldCIsImV4cGlyZXNJbiIsImZpbmRPbmVBbmRVcGRhdGUiLCIkc2V0IiwidXBkYXRlZEFjY291bnQiLCJuZXdVc2VybmFtZSIsIm5ld0FnZSIsIm5ld0dlbmRlciIsInZpZGVvTW9kZWwiLCJ1cGRhdGVNYW55IiwidXBkYXRlZFZpZGVvX3VzZXJuYW1lIiwiZmluZE9uZUFuZERlbGV0ZSIsImZpbmQiLCJzZW5kIiwibmFtZSIsInF1ZXJ5IiwiJHJlZ2V4Il0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXDMyMTA4XFxEb2N1bWVudHNcXEdpdEh1YlxcSVQtUFJPSkVDVFxcYmFja2VuZDNcXHNyY1xcQ29udHJvbGxlclxcIiwic291cmNlcyI6WyJBdXRoLmNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5jb21pbmdGb3JtIH0gZnJvbSAnZm9ybWlkYWJsZSc7XHJcbmltcG9ydCB7IGdlblNhbHQsIGhhc2gsIGNvbXBhcmUgfSBmcm9tICdiY3J5cHQnO1xyXG5pbXBvcnQgeyBjb25maWcgfSBmcm9tICdkb3RlbnYnO1xyXG5pbXBvcnQgeyB2ZXJpZnksIHNpZ24gfSBmcm9tICdqc29ud2VidG9rZW4nO1xyXG5pbXBvcnQgeyB1c2VyTW9kZWwgfSBmcm9tICcuLi9Nb2RlbHMvVXNlci5tb2RlbCdcclxuaW1wb3J0IHsgdmlkZW9Nb2RlbCB9IGZyb20gJy4uL01vZGVscy9WaWRlby5tb2RlbCdcclxuY29uZmlnKClcclxuXHJcbmV4cG9ydCBjbGFzcyBBdXRoQ29udHJvbGxlciB7XHJcbiAgICAvL3NpZ251cCBtZXRob2RcclxuICAgIHNpZ251cChyZXF1ZXN0LCByZXNwb25zZSkge1xyXG4gICAgICAgIGNvbnN0IGZvcm0gPSBuZXcgSW5jb21pbmdGb3JtKCk7XHJcblxyXG4gICAgICAgIGZvcm0ucGFyc2UocmVxdWVzdCwgYXN5bmMgKGVycm9yLCBmaWVsZHMsIGZpbGVzKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oeyBtc2c6ICdGYWlsZWQgdG8gY3JlYXRlIGFjY291bnQsIG1heWJlIHRyeSBhZ2FpbiBsYXRlcicgfSlcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc3QgeyB1c2VybmFtZSwgZW1haWwsIHBhc3N3b3JkLCBhZ2UsIGdlbmRlciB9ID0gZmllbGRzO1xyXG4gICAgICAgICAgICBpZiAocGFzc3dvcmQubGVuZ3RoID4gMjAgfHwgcGFzc3dvcmQubGVuZ3RoIDwgNikgeyAgLy8gcGFzc3dvcmQgbWluaW11bSBsZW5ndGggPSA2LCBtYXhpbXVtIGxlbmd0aCA9IDIwXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMykuanNvbih7IG1zZzogJ1Bhc3N3b3JkIGxlbmd0aCBuZWVkIHRvIGJlIDYtMjAgcmFuZ2UnIH0pXHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChhZ2UgPiAxNTAgfHwgYWdlIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDIpLmpzb24oeyBtc2c6ICdJbnZhbGlkIGFnZScgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBzYWx0ID0gYXdhaXQgZ2VuU2FsdCgxNSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGhhc2hlZFBhc3N3b3JkID0gYXdhaXQgaGFzaChwYXNzd29yZCwgc2FsdCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld0FjY291bnQgPSBuZXcgdXNlck1vZGVsKHtcclxuICAgICAgICAgICAgICAgIHVzZXJuYW1lLFxyXG4gICAgICAgICAgICAgICAgZW1haWwsXHJcbiAgICAgICAgICAgICAgICBwYXNzd29yZDogaGFzaGVkUGFzc3dvcmQsXHJcbiAgICAgICAgICAgICAgICBhZ2UsXHJcbiAgICAgICAgICAgICAgICBnZW5kZXJcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLy8gY3JlYXRlIGFuIGFjY291bnQgc3VjY2Vzc2Z1bCBvciBmYWlsZWRcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNhdmVkQWNjb3VudCA9IGF3YWl0IG5ld0FjY291bnQuc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cygyMDEpLmpzb24oeyBtc2c6ICdBY2NvdW50IGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5JyB9KVxyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMSkuanNvbih7IG1zZzogJ1RoaXMgYWNjb3VudCBoYXMgYmVlbiByZWdpc3RlcmVkLiBDaGFuZ2UgZW1haWwgb3IgdXNlcm5hbWUnIH0pXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICAvLyBzaWduIGluXHJcbiAgICBzaWduaW4ocmVxdWVzdCwgcmVzcG9uc2UpIHtcclxuICAgICAgICBjb25zdCBmb3JtID0gbmV3IEluY29taW5nRm9ybSgpO1xyXG5cclxuICAgICAgICBmb3JtLnBhcnNlKHJlcXVlc3QsIGFzeW5jIChlcnJvciwgZmllbGRzLCBmaWxlcykgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAnRmFpbGVkIHRvIHNpZ25pbicgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB7IGFjY291bnQsIHBhc3N3b3JkIH0gPSBmaWVsZHM7XHJcbiAgICAgICAgICAgIC8vIGVtYWlsIGxvZyBpbiBcclxuICAgICAgICAgICAgY29uc3QgaXNBY2NvdW50RW1haWwgPSBhY2NvdW50LmluY2x1ZGVzKCdAJyk7XHJcbiAgICAgICAgICAgIGlmIChpc0FjY291bnRFbWFpbCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IHVzZXJNb2RlbC5maW5kT25lKHsgZW1haWw6IGFjY291bnQgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCF1c2VyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg0MDQpLmpzb24oeyBtc2c6ICdFbWFpbCBvZiB0aGlzIGFjY291bnQgZG9lcyBub3QgZXhpc3QnIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpc1Bhc3N3b3JkVmFsaWQgPSBhd2FpdCBjb21wYXJlKHBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKTsgIC8vIGhhc2hlZCBwYXNzd29yZFxyXG4gICAgICAgICAgICAgICAgaWYgKCFpc1Bhc3N3b3JkVmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwMCkuanNvbih7IG1zZzogJ0ludmFsaWQgcGFzc3dvcmQnIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0b2tlbl9wYXlsb2FkID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIF9pZDogdXNlci5faWQsXHJcbiAgICAgICAgICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXHJcbiAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWVcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IHRva2VuID0gc2lnbih0b2tlbl9wYXlsb2FkLCBwcm9jZXNzLmVudi5jb29raWVfc2VjcmV0LCB7IGV4cGlyZXNJbjogJzM2NWQnIH0pXHJcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VybmFtZSA9IHRva2VuX3BheWxvYWQudXNlcm5hbWU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7IHRva2VuLCB1c2VybmFtZSB9KVxyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgdXNlck1vZGVsLmZpbmRPbmUoeyB1c2VybmFtZTogYWNjb3VudCB9KTtcclxuXHJcbiAgICAgICAgICAgIGlmICghdXNlcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg0MDQpLmpzb24oeyBtc2c6ICd1c2VybmFtZSBvZiB0aGlzIGFjY291bnQgZG9lcyBub3QgZXhpc3QnIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgaXNQYXNzd29yZFZhbGlkID0gYXdhaXQgY29tcGFyZShwYXNzd29yZCwgdXNlci5wYXNzd29yZCk7ICAvLyBoYXNoZWQgcGFzc3dvcmRcclxuICAgICAgICAgICAgaWYgKCFpc1Bhc3N3b3JkVmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNDAwKS5qc29uKHsgbXNnOiAnSW52YWxpZCBwYXNzd29yZCcgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB0b2tlbl9wYXlsb2FkID0ge1xyXG4gICAgICAgICAgICAgICAgX2lkOiB1c2VyLl9pZCxcclxuICAgICAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxyXG4gICAgICAgICAgICAgICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB0b2tlbiA9IHNpZ24odG9rZW5fcGF5bG9hZCwgcHJvY2Vzcy5lbnYuY29va2llX3NlY3JldCwgeyBleHBpcmVzSW46ICczNjVkJyB9KVxyXG4gICAgICAgICAgICBjb25zdCB1c2VybmFtZSA9IHRva2VuX3BheWxvYWQudXNlcm5hbWU7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHsgdG9rZW4sIHVzZXJuYW1lIH0pXHJcblxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLy8gZm9yZ290IHBhc3N3b3JkIGFuZCByZXNldFxyXG4gICAgZm9yZ290UGFzc3dvcmQocmVxdWVzdCwgcmVzcG9uc2UpIHtcclxuICAgICAgICBjb25zdCBmb3JtID0gbmV3IEluY29taW5nRm9ybSgpO1xyXG5cclxuICAgICAgICBmb3JtLnBhcnNlKHJlcXVlc3QsIGFzeW5jIChlcnJvciwgZmllbGRzLCBmaWxlcykgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAnRmFpbGVkIHRvIHJzZXQgcGFzc3dvcmQnIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQgfSA9IGZpZWxkcztcclxuXHJcbiAgICAgICAgICAgIGlmICghZW1haWwgfHwgIXBhc3N3b3JkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwMCkuanNvbih7IG1zZzogJ2VtYWlsIGFuZCBwYXNzd29yZCBhcmUgcmVxdWlyZWQgdG8gcmVzZXQgcGFzc3dvcmQgJyB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHNhbHQgPSBhd2FpdCBnZW5TYWx0KDE1KTtcclxuICAgICAgICAgICAgY29uc3QgaGFzaGVkUGFzc3dvcmQgPSBhd2FpdCBoYXNoKHBhc3N3b3JkLCBzYWx0KVxyXG5cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB1c2VyTW9kZWwuZmluZE9uZSh7IGVtYWlsOiBlbWFpbCB9KTtcclxuICAgICAgICAgICAgICAgIGlmICghdXNlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNDA0KS5qc29uKHsgbXNnOiAnQWNjb3VudCB3aXRoIHRoaXMgZW1haWwgZG9lcyBub3QgZXhpc3QnIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvKiBjb25zdCB1cGRhdGVkQWNjb3VudCA9IGF3YWl0IHVzZXJNb2RlbC5maW5kT25lQW5kVXBkYXRlKHtlbWFpbDplbWFpbH0sIHskc2V0OntwYXNzd29yZDogaGFzaGVkUGFzc3dvcmR9fSwge25ldzp0cnVlfSlcclxuICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7bXNnOidQYXNzd29yZCByZXN0IHN1Y2Nlc3NmdWwnfSkgKi9cclxuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRBY2NvdW50ID0gYXdhaXQgdXNlck1vZGVsLmZpbmRPbmVBbmRVcGRhdGUoeyBlbWFpbDogZW1haWwgfSwgeyAkc2V0OiB7IHBhc3N3b3JkOiBoYXNoZWRQYXNzd29yZCB9IH0sIHsgbmV3OiB0cnVlIH0pXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7IG1zZzogJ1Bhc3N3b3JkIHJlc3Qgc3VjY2Vzc2Z1bCcgfSlcclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAnRmFpbGVkIHRvIHJlc2V0IHBhc3N3b3JkJyB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICAvLyB1cGRhdCB1c2VyIGluZm8gc3VjaCBhcyB1c2VybmFtZSwgcGFzc3dvcmQsIGFnZSBhbmQgZ2VuZGVyIHZpYSBlbWFpbC5cclxuICAgIHVwZGF0ZShyZXF1ZXN0LCByZXNwb25zZSkge1xyXG4gICAgICAgIGNvbnN0IGZvcm0gPSBuZXcgSW5jb21pbmdGb3JtKCk7XHJcblxyXG4gICAgICAgIGZvcm0ucGFyc2UocmVxdWVzdCwgYXN5bmMgKGVycm9yLCBmaWVsZHMsIGZpbGVzKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oeyBtc2c6ICdGYWlsZWQgdG8gdXBkYXRlLiBUcnkgYWdhaW4gbGF0ZXInIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgeyBlbWFpbCwgdXNlcm5hbWUsIGFnZSwgZ2VuZGVyIH0gPSBmaWVsZHM7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1VzZXJuYW1lID0gdXNlcm5hbWVcclxuICAgICAgICAgICAgY29uc3QgbmV3QWdlID0gYWdlXHJcbiAgICAgICAgICAgIGNvbnN0IG5ld0dlbmRlciA9IGdlbmRlclxyXG5cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB1c2VyTW9kZWwuZmluZE9uZSh7IGVtYWlsOiBlbWFpbCB9KTtcclxuICAgICAgICAgICAgICAgIGlmICghdXNlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNDA0KS5qc29uKHsgbXNnOiAnQWNjb3VudCB3aXRoIHRoaXMgZW1haWwgZG9lcyBub3QgZXhpc3QnIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvKiBjb25zdCB1cGRhdGVkQWNjb3VudCA9IGF3YWl0IHVzZXJNb2RlbC5maW5kT25lQW5kVXBkYXRlKHtlbWFpbDplbWFpbH0sIHskc2V0OntwYXNzd29yZDogaGFzaGVkUGFzc3dvcmR9fSwge25ldzp0cnVlfSlcclxuICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7bXNnOidQYXNzd29yZCByZXN0IHN1Y2Nlc3NmdWwnfSkgKi9cclxuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRBY2NvdW50ID0gYXdhaXQgdXNlck1vZGVsLmZpbmRPbmVBbmRVcGRhdGUoeyBlbWFpbDogZW1haWwgfSwgeyAkc2V0OiB7IHVzZXJuYW1lOiBuZXdVc2VybmFtZSwgYWdlOiBuZXdBZ2UsIGdlbmRlcjogbmV3R2VuZGVyIH0gfSwgeyBuZXc6IHRydWUgfSlcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRWaWRlb191c2VybmFtZSA9IGF3YWl0IHZpZGVvTW9kZWwudXBkYXRlTWFueSh7IGVtYWlsOiBlbWFpbCB9LCB7ICRzZXQ6IHsgdXNlcm5hbWU6IG5ld1VzZXJuYW1lIH0gfSwgeyBuZXc6IHRydWUgfSlcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHsgbXNnOiAnRWRpdCBzdWNjZXNzZnVsJyB9KVxyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oeyBtc2c6ICdGYWlsZWQgdG8gdXBkYXRlLiBDaGFuZ2UgZW1haWwgb3IgdXNlcm5hbWUgYW5kIHRyeSBhZ2FpbicgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLy9kZWxldGUgdXNlciBhY2NvdW50XHJcbiAgICBkZWxldGUocmVxdWVzdCwgcmVzcG9uc2UpIHtcclxuICAgICAgICBjb25zdCBmb3JtID0gbmV3IEluY29taW5nRm9ybSgpO1xyXG4gICAgICAgIGZvcm0ucGFyc2UocmVxdWVzdCwgYXN5bmMgKGVycm9yLCBmaWVsZHMsIGZpbGVzKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oeyBtc2c6ICdGYWlsZWQgdG8gZGVsZXRlIGFjY291bnQsIG1heWJlIHRyeSBhZ2FpbiBsYXRlcicgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB7IGVtYWlsIH0gPSBmaWVsZHM7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgdXNlck1vZGVsLmZpbmRPbmVBbmREZWxldGUoeyBlbWFpbDogZW1haWwgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7IG1zZzogJ2RlbGV0ZSBzdWNjZXNzZnVsJyB9KVxyXG5cclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAnRmFpbGVkIHRvIGRlbGV0ZScgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLy8gZmluZCBhbGwgdXNlclxyXG4gICAgZmluZEFsbFVzZXIocmVxdWVzdCwgcmVzcG9uc2UpIHtcclxuICAgICAgICBjb25zdCBmb3JtID0gbmV3IEluY29taW5nRm9ybSgpO1xyXG5cclxuICAgICAgICBmb3JtLnBhcnNlKHJlcXVlc3QsIGFzeW5jIChlcnJvciwgZmllbGRzLCBmaWxlcykgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAnRmFpbGVkIHRvIGRlbGV0ZSBhY2NvdW50LCBtYXliZSB0cnkgYWdhaW4gbGF0ZXInIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB1c2VyTW9kZWwuZmluZCgpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc2VuZCh1c2VyKVxyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oeyBtc2c6ICdGYWlsZWQgZmluZCBhbGwgdXNlcnMnIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvLyBzZWFyY2ggZm9yIGEgdXNlciBieSByZXF1ZXN0IFxyXG4gICAgYXN5bmMgc2VhcmNoVXNlcihyZXF1ZXN0LCByZXNwb25zZSkge1xyXG4gICAgICAgIGNvbnN0IG5hbWUgPSByZXF1ZXN0LnF1ZXJ5LnVzZXJuYW1lO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCB1c2VyID0gYXdhaXQgdXNlck1vZGVsLmZpbmQoeyB1c2VybmFtZTogeyAkcmVnZXg6IG5hbWUgfSB9KVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc2VuZCh1c2VyKVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAnTm8gbWF0Y2hpbmcgdXNlcicgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7OytDQUpBLG9KOzs7Ozs7Ozs7Ozs7QUFLQSxJQUFBQSxjQUFBOztJQUVhQyxjOzs7Ozs7O1dBQ1Q7SUFDQSxnQkFBT0MsT0FBUCxFQUFnQkMsUUFBaEIsRUFBMEI7TUFDdEIsSUFBTUMsSUFBSSxHQUFHLElBQUlDLHdCQUFKLEVBQWI7TUFFQUQsSUFBSSxDQUFDRSxLQUFMLENBQVdKLE9BQVg7UUFBQSxzRUFBb0IsaUJBQU9LLEtBQVAsRUFBY0MsTUFBZCxFQUFzQkMsS0FBdEI7VUFBQTtVQUFBO1lBQUE7Y0FBQTtnQkFBQTtrQkFBQSxLQUNaRixLQURZO29CQUFBO29CQUFBO2tCQUFBOztrQkFBQSxpQ0FFTEosUUFBUSxDQUFDTyxNQUFULENBQWdCLEdBQWhCLEVBQXFCQyxJQUFyQixDQUEwQjtvQkFBRUMsR0FBRyxFQUFFO2tCQUFQLENBQTFCLENBRks7O2dCQUFBO2tCQUtSQyxRQUxRLEdBS21DTCxNQUxuQyxDQUtSSyxRQUxRLEVBS0VDLEtBTEYsR0FLbUNOLE1BTG5DLENBS0VNLEtBTEYsRUFLU0MsUUFMVCxHQUttQ1AsTUFMbkMsQ0FLU08sUUFMVCxFQUttQkMsR0FMbkIsR0FLbUNSLE1BTG5DLENBS21CUSxHQUxuQixFQUt3QkMsTUFMeEIsR0FLbUNULE1BTG5DLENBS3dCUyxNQUx4Qjs7a0JBQUEsTUFNWkYsUUFBUSxDQUFDRyxNQUFULEdBQWtCLEVBQWxCLElBQXdCSCxRQUFRLENBQUNHLE1BQVQsR0FBa0IsQ0FOOUI7b0JBQUE7b0JBQUE7a0JBQUE7O2tCQUFBLGlDQU9MZixRQUFRLENBQUNPLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCO29CQUFFQyxHQUFHLEVBQUU7a0JBQVAsQ0FBMUIsQ0FQSzs7Z0JB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","map":{"version":3,"names":["config","AuthController","request","response","form","IncomingForm","parse","error","fields","files","status","json","msg","username","email","password","age","gender","length","genSalt","salt","hash","hashedPassword","newAccount","userModel","save","savedAccount","console","log","account","isAccountEmail","includes","findOne","user","compare","isPasswordValid","token_payload","_id","token","sign","process","env","cookie_secret","expiresIn","findOneAndUpdate","$set","updatedAccount","newUsername","newAge","newGender","videoModel","updateMany","updatedVideo_username","findOneAndDelete","find","send","name","query","$regex"],"sourceRoot":"C:\\Users\\32108\\Documents\\GitHub\\IT-PROJECT\\backend3\\src\\Controller\\","sources":["Auth.controller.js"],"sourcesContent":["import { IncomingForm } from 'formidable';\r\nimport { genSalt, hash, compare } from 'bcrypt';\r\nimport { config } from 'dotenv';\r\nimport { verify, sign } from 'jsonwebtoken';\r\nimport { userModel } from '../Models/User.model'\r\nimport { videoModel } from '../Models/Video.model'\r\nconfig()\r\n\r\nexport class AuthController {\r\n    //signup method\r\n    signup(request, response) {\r\n        const form = new IncomingForm();\r\n\r\n        form.parse(request, async (error, fields, files) => {\r\n            if (error) {\r\n                return response.status(500).json({ msg: 'Failed to create account, maybe try again later' })\r\n            }\r\n\r\n            const { username, email, password, age, gender } = fields;\r\n            if (password.length > 20 || password.length < 6) {  // password minimum length = 6, maximum length = 20\r\n                return response.status(503).json({ msg: 'Password length need to be 6-20 range' })\r\n\r\n            }\r\n            if (age > 150 || age < 0) {\r\n                return response.status(502).json({ msg: 'Invalid age' })\r\n            }\r\n            const salt = await genSalt(15);\r\n            const hashedPassword = await hash(password, salt);\r\n            const newAccount = new userModel({\r\n                username,\r\n                email,\r\n                password: hashedPassword,\r\n                age,\r\n                gender\r\n            })\r\n            // create an account successful or failed\r\n            try {\r\n                const savedAccount = await newAccount.save();\r\n                return response.status(201).json({ msg: 'Account created successfully' })\r\n            } catch (error) {\r\n                console.log(error)\r\n                return response.status(501).json({ msg: 'This account has been registered. Change email or username' })\r\n            }\r\n\r\n        })\r\n    }\r\n\r\n    // sign in\r\n    signin(request, response) {\r\n        const form = new IncomingForm();\r\n\r\n        form.parse(request, async (error, fields, files) => {\r\n            if (error) {\r\n                return response.status(500).json({ msg: 'Failed to signin' })\r\n            }\r\n            const { account, password } = fields;\r\n            // email log in \r\n            const isAccountEmail = account.includes('@');\r\n            if (isAccountEmail) {\r\n                const user = await userModel.findOne({ email: account });\r\n\r\n                if (!user) {\r\n                    return response.status(404).json({ msg: 'Email of this account does not exist' })\r\n                }\r\n                const isPasswordValid = await compare(password, user.password);  // hashed password\r\n                if (!isPasswordValid) {\r\n                    return response.status(400).json({ msg: 'Invalid password' })\r\n                }\r\n                const token_payload = {\r\n                    _id: user._id,\r\n                    email: user.email,\r\n                    username: user.username\r\n                }\r\n                const token = sign(token_payload, process.env.cookie_secret, { expiresIn: '365d' })\r\n                const username = token_payload.username;\r\n                return response.status(200).json({ token, username })\r\n\r\n            }\r\n            const user = await userModel.findOne({ username: account });\r\n\r\n            if (!user) {\r\n                return response.status(404).json({ msg: 'username of this account does not exist' })\r\n            }\r\n            const isPasswordValid = await compare(password, user.password);  // hashed password\r\n            if (!isPasswordValid) {\r\n                return response.status(400).json({ msg: 'Invalid password' })\r\n            }\r\n            const token_payload = {\r\n                _id: user._id,\r\n                email: user.email,\r\n                username: user.username\r\n            }\r\n            const token = sign(token_payload, process.env.cookie_secret, { expiresIn: '365d' })\r\n            const username = token_payload.username;\r\n            return response.status(200).json({ token, username })\r\n\r\n        })\r\n    }\r\n\r\n    // forgot password and reset\r\n    forgotPassword(request, response) {\r\n        const form = new IncomingForm();\r\n\r\n        form.parse(request, async (error, fields, files) => {\r\n            if (error) {\r\n                return response.status(500).json({ msg: 'Failed to rset password' })\r\n            }\r\n            const { email, password } = fields;\r\n\r\n            if (!email || !password) {\r\n                return response.status(400).json({ msg: 'email and password are required to reset password ' })\r\n            }\r\n            const salt = await genSalt(15);\r\n            const hashedPassword = await hash(password, salt)\r\n\r\n            try {\r\n                const user = await userModel.findOne({ email: email });\r\n                if (!user) {\r\n                    return response.status(404).json({ msg: 'Account with this email does not exist' })\r\n                }\r\n                /* const updatedAccount = await userModel.findOneAndUpdate({email:email}, {$set:{password: hashedPassword}}, {new:true})\r\n                 return response.status(200).json({msg:'Password rest successful'}) */\r\n                const updatedAccount = await userModel.findOneAndUpdate({ email: email }, { $set: { password: hashedPassword } }, { new: true })\r\n                return response.status(200).json({ msg: 'Password rest successful' })\r\n            } catch (error) {\r\n                return response.status(500).json({ msg: 'Failed to reset password' })\r\n            }\r\n        })\r\n    }\r\n\r\n    // updat user info such as username, password, age and gender via email.\r\n    update(request, response) {\r\n        const form = new IncomingForm();\r\n\r\n        form.parse(request, async (error, fields, files) => {\r\n            if (error) {\r\n                return response.status(500).json({ msg: 'Failed to update. Try again later' })\r\n            }\r\n            const { email, username, age, gender } = fields;\r\n            const newUsername = username\r\n            const newAge = age\r\n            const newGender = gender\r\n\r\n            try {\r\n                const user = await userModel.findOne({ email: email });\r\n                if (!user) {\r\n                    return response.status(404).json({ msg: 'Account with this email does not exist' })\r\n                }\r\n                /* const updatedAccount = await userModel.findOneAndUpdate({email:email}, {$set:{password: hashedPassword}}, {new:true})\r\n                 return response.status(200).json({msg:'Password rest successful'}) */\r\n                const updatedAccount = await userModel.findOneAndUpdate({ email: email }, { $set: { username: newUsername, age: newAge, gender: newGender } }, { new: true })\r\n                const updatedVideo_username = await videoModel.updateMany({ email: email }, { $set: { username: newUsername } }, { new: true })\r\n                return response.status(200).json({ msg: 'Edit successful' })\r\n            } catch (error) {\r\n                return response.status(500).json({ msg: 'Failed to update. Change email or username and try again' })\r\n            }\r\n        })\r\n    }\r\n\r\n    //delete user account\r\n    delete(request, response) {\r\n        const form = new IncomingForm();\r\n        form.parse(request, async (error, fields, files) => {\r\n            if (error) {\r\n                return response.status(500).json({ msg: 'Failed to delete account, maybe try again later' })\r\n            }\r\n            const { email } = fields;\r\n            try {\r\n                const user = await userModel.findOneAndDelete({ email: email });\r\n                return response.status(200).json({ msg: 'delete successful' })\r\n\r\n            } catch (error) {\r\n                return response.status(500).json({ msg: 'Failed to delete' })\r\n            }\r\n        })\r\n    }\r\n\r\n    // find all user\r\n    findAllUser(request, response) {\r\n        const form = new IncomingForm();\r\n\r\n        form.parse(request, async (error, fields, files) => {\r\n            if (error) {\r\n                return response.status(500).json({ msg: 'Failed to delete account, maybe try again later' })\r\n            }\r\n            try {\r\n                const user = await userModel.find()\r\n                return response.send(user)\r\n            } catch (error) {\r\n                return response.status(500).json({ msg: 'Failed find all users' })\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    // search for a user by request \r\n    async searchUser(request, response) {\r\n        const name = request.query.username;\r\n        try {\r\n            let user = await userModel.find({ username: { $regex: name } })\r\n            return response.send(user)\r\n        } catch (error) {\r\n            return response.status(500).json({ msg: 'No matching user' })\r\n        }\r\n    }\r\n\r\n\r\n}"],"mappings":"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"}},"mtime":1666071604598},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"filename\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Models\\\\User.model.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.userModel = void 0;\n\nvar _mongoose = require(\"mongoose\");\n\nvar uservalidator = function uservalidator(s) {\n  return /^[a-zA-Z0-9]{1,20}$/.test(s);\n};\n\nvar emailvalidator = function emailvalidator(s) {\n  return /^[a-z0-9@.-_]{6,40}$/.test(s);\n};\n\nvar agevalidator = function agevalidator(s) {\n  return /^[0-9]{1,3}$/.test(s);\n};\n\nvar userSchema = new _mongoose.Schema({\n  username: {\n    // username should be unique and no longer than 20 characters\n    type: String,\n    reuqired: [true, 'Username is required'],\n    unique: [true, 'Usename exist'],\n    validate: [uservalidator, 'Please enter less than 20 numbers and alphabets only']\n  },\n  email: {\n    // email should be be unique\n    type: String,\n    required: [true, 'Email is required to create an account'],\n    unique: [true, 'Account with this email already exist'],\n    validate: [emailvalidator, 'Please enter numbers, alphabets, and @ . - _ only']\n  },\n  password: {\n    type: String,\n    requried: [true, 'Password is required to create account']\n  },\n  age: {\n    // age should be within 0 - 120 range\n    type: Number,\n    requried: [true, 'Age is required to create an account'],\n    validate: [agevalidator, 'Please enter a number between 0-120']\n  },\n  gender: {\n    type: String,\n    \"enum\": [\"Male\", \"Female\", \"Prefer not to say\"],\n    required: true\n  },\n  videos: [{\n    type: _mongoose.Schema.Types.ObjectId,\n    ref: 'videos'\n  }]\n});\nvar userModel = (0, _mongoose.model)('user', userSchema);\nexports.userModel = userModel;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VydmFsaWRhdG9yIiwicyIsInRlc3QiLCJlbWFpbHZhbGlkYXRvciIsImFnZXZhbGlkYXRvciIsInVzZXJTY2hlbWEiLCJTY2hlbWEiLCJ1c2VybmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXVxaXJlZCIsInVuaXF1ZSIsInZhbGlkYXRlIiwiZW1haWwiLCJyZXF1aXJlZCIsInBhc3N3b3JkIiwicmVxdXJpZWQiLCJhZ2UiLCJOdW1iZXIiLCJnZW5kZXIiLCJ2aWRlb3MiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwidXNlck1vZGVsIiwibW9kZWwiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcMzIxMDhcXERvY3VtZW50c1xcR2l0SHViXFxJVC1QUk9KRUNUXFxiYWNrZW5kM1xcc3JjXFxNb2RlbHNcXCIsInNvdXJjZXMiOlsiVXNlci5tb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnR7IFNjaGVtYSwgbW9kZWx9IGZyb20gJ21vbmdvb3NlJztcclxuY29uc3QgdXNlcnZhbGlkYXRvciA9IChzKSA9PlxyXG4gICAgL15bYS16QS1aMC05XXsxLDIwfSQvLnRlc3QocylcclxuXHJcbmNvbnN0IGVtYWlsdmFsaWRhdG9yID0gKHMpID0+XHJcbiAgICAvXlthLXowLTlALi1fXXs2LDQwfSQvLnRlc3QocylcclxuXHJcbmNvbnN0IGFnZXZhbGlkYXRvciA9IChzKSA9PlxyXG4gICAgL15bMC05XXsxLDN9JC8udGVzdChzKVxyXG5cclxuY29uc3QgdXNlclNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gICAgdXNlcm5hbWU6eyAvLyB1c2VybmFtZSBzaG91bGQgYmUgdW5pcXVlIGFuZCBubyBsb25nZXIgdGhhbiAyMCBjaGFyYWN0ZXJzXHJcbiAgICAgICAgdHlwZTpTdHJpbmcsXHJcbiAgICAgICAgcmV1cWlyZWQ6IFt0cnVlLCAnVXNlcm5hbWUgaXMgcmVxdWlyZWQnXSxcclxuICAgICAgICB1bmlxdWU6W3RydWUsICdVc2VuYW1lIGV4aXN0J10sXHJcbiAgICAgICAgdmFsaWRhdGU6IFt1c2VydmFsaWRhdG9yLCAnUGxlYXNlIGVudGVyIGxlc3MgdGhhbiAyMCBudW1iZXJzIGFuZCBhbHBoYWJldHMgb25seSddXHJcbiAgICB9LFxyXG4gICAgZW1haWw6eyAvLyBlbWFpbCBzaG91bGQgYmUgYmUgdW5pcXVlXHJcbiAgICAgICAgdHlwZTpTdHJpbmcsXHJcbiAgICAgICAgcmVxdWlyZWQ6IFt0cnVlLCAnRW1haWwgaXMgcmVxdWlyZWQgdG8gY3JlYXRlIGFuIGFjY291bnQnXSxcclxuICAgICAgICB1bmlxdWU6W3RydWUsICdBY2NvdW50IHdpdGggdGhpcyBlbWFpbCBhbHJlYWR5IGV4aXN0J10sXHJcbiAgICAgICAgdmFsaWRhdGU6IFtlbWFpbHZhbGlkYXRvciwgJ1BsZWFzZSBlbnRlciBudW1iZXJzLCBhbHBoYWJldHMsIGFuZCBAIC4gLSBfIG9ubHknXVxyXG4gICAgfSxcclxuICAgIHBhc3N3b3JkOntcclxuICAgICAgICB0eXBlOlN0cmluZyxcclxuICAgICAgICByZXF1cmllZDpbdHJ1ZSwgJ1Bhc3N3b3JkIGlzIHJlcXVpcmVkIHRvIGNyZWF0ZSBhY2NvdW50J10sXHJcblxyXG4gICAgfSxcclxuICAgIGFnZTp7IC8vIGFnZSBzaG91bGQgYmUgd2l0aGluIDAgLSAxMjAgcmFuZ2VcclxuICAgICAgICB0eXBlOk51bWJlcixcclxuICAgICAgICByZXF1cmllZDpbdHJ1ZSwgJ0FnZSBpcyByZXF1aXJlZCB0byBjcmVhdGUgYW4gYWNjb3VudCddLFxyXG4gICAgICAgIHZhbGlkYXRlOiBbYWdldmFsaWRhdG9yLCAnUGxlYXNlIGVudGVyIGEgbnVtYmVyIGJldHdlZW4gMC0xMjAnXVxyXG5cclxuICAgIH0sXHJcbiAgICBnZW5kZXI6e1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICBlbnVtOiBbXCJNYWxlXCIsIFwiRmVtYWxlXCIsIFwiUHJlZmVyIG5vdCB0byBzYXlcIl0sXHJcbiAgICAgICAgcmVxdWlyZWQ6IHRydWVcclxuICAgIH0sXHJcbiAgICB2aWRlb3M6W1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdHlwZTpTY2hlbWEuVHlwZXMuT2JqZWN0SWQsXHJcbiAgICAgICAgICAgIHJlZjondmlkZW9zJ1xyXG4gICAgICAgIH1cclxuICAgIF0sXHJcblxyXG5cclxuXHJcbiAgICAgXHJcbn0pXHJcbmV4cG9ydCBjb25zdCB1c2VyTW9kZWwgPSBtb2RlbCgndXNlcicsIHVzZXJTY2hlbWEpXHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBLElBQU1BLGFBQWEsR0FBRyxTQUFoQkEsYUFBZ0IsQ0FBQ0MsQ0FBRDtFQUFBLE9BQ2xCLHNCQUFzQkMsSUFBdEIsQ0FBMkJELENBQTNCLENBRGtCO0FBQUEsQ0FBdEI7O0FBR0EsSUFBTUUsY0FBYyxHQUFHLFNBQWpCQSxjQUFpQixDQUFDRixDQUFEO0VBQUEsT0FDbkIsdUJBQXVCQyxJQUF2QixDQUE0QkQsQ0FBNUIsQ0FEbUI7QUFBQSxDQUF2Qjs7QUFHQSxJQUFNRyxZQUFZLEdBQUcsU0FBZkEsWUFBZSxDQUFDSCxDQUFEO0VBQUEsT0FDakIsZUFBZUMsSUFBZixDQUFvQkQsQ0FBcEIsQ0FEaUI7QUFBQSxDQUFyQjs7QUFHQSxJQUFNSSxVQUFVLEdBQUcsSUFBSUMsZ0JBQUosQ0FBVztFQUMxQkMsUUFBUSxFQUFDO0lBQUU7SUFDUEMsSUFBSSxFQUFDQyxNQURBO0lBRUxDLFFBQVEsRUFBRSxDQUFDLElBQUQsRUFBTyxzQkFBUCxDQUZMO0lBR0xDLE1BQU0sRUFBQyxDQUFDLElBQUQsRUFBTyxlQUFQLENBSEY7SUFJTEMsUUFBUSxFQUFFLENBQUNaLGFBQUQsRUFBZ0Isc0RBQWhCO0VBSkwsQ0FEaUI7RUFPMUJhLEtBQUssRUFBQztJQUFFO0lBQ0pMLElBQUksRUFBQ0MsTUFESDtJQUVGSyxRQUFRLEVBQUUsQ0FBQyxJQUFELEVBQU8sd0NBQVAsQ0FGUjtJQUdGSCxNQUFNLEVBQUMsQ0FBQyxJQUFELEVBQU8sdUNBQVAsQ0FITDtJQUlGQyxRQUFRLEVBQUUsQ0FBQ1QsY0FBRCxFQUFpQixtREFBakI7RUFKUixDQVBvQjtFQWExQlksUUFBUSxFQUFDO0lBQ0xQLElBQUksRUFBQ0MsTUFEQTtJQUVMTyxRQUFRLEVBQUMsQ0FBQyxJQUFELEVBQU8sd0NBQVA7RUFGSixDQWJpQjtFQWtCMUJDLEdBQUcsRUFBQztJQUFFO0lBQ0ZULElBQUksRUFBQ1UsTUFETDtJQUVBRixRQUFRLEVBQUMsQ0FBQyxJQUFELEVBQU8sc0NBQVAsQ0FGVDtJQUdBSixRQUFRLEVBQUUsQ0FBQ1IsWUFBRCxFQUFlLHFDQUFmO0VBSFYsQ0FsQnNCO0VBd0IxQmUsTUFBTSxFQUFDO0lBQ0hYLElBQUksRUFBRUMsTUFESDtJQUVILFFBQU0sQ0FBQyxNQUFELEVBQVMsUUFBVCxFQUFtQixtQkFBbkIsQ0FGSDtJQUdISyxRQUFRLEVBQUU7RUFIUCxDQXhCbUI7RUE2QjFCTSxNQUFNLEVBQUMsQ0FDSDtJQUNJWixJQUFJLEVBQUNGLGdCQUFBLENBQU9lLEtBQVAsQ0FBYUMsUUFEdEI7SUFFSUMsR0FBRyxFQUFDO0VBRlIsQ0FERztBQTdCbUIsQ0FBWCxDQUFuQjtBQXdDTyxJQUFNQyxTQUFTLEdBQUcsSUFBQUMsZUFBQSxFQUFNLE1BQU4sRUFBY3BCLFVBQWQsQ0FBbEIifQ==","map":{"version":3,"names":["uservalidator","s","test","emailvalidator","agevalidator","userSchema","Schema","username","type","String","reuqired","unique","validate","email","required","password","requried","age","Number","gender","videos","Types","ObjectId","ref","userModel","model"],"sourceRoot":"C:\\Users\\32108\\Documents\\GitHub\\IT-PROJECT\\backend3\\src\\Models\\","sources":["User.model.js"],"sourcesContent":["import{ Schema, model} from 'mongoose';\r\nconst uservalidator = (s) =>\r\n    /^[a-zA-Z0-9]{1,20}$/.test(s)\r\n\r\nconst emailvalidator = (s) =>\r\n    /^[a-z0-9@.-_]{6,40}$/.test(s)\r\n\r\nconst agevalidator = (s) =>\r\n    /^[0-9]{1,3}$/.test(s)\r\n\r\nconst userSchema = new Schema({\r\n    username:{ // username should be unique and no longer than 20 characters\r\n        type:String,\r\n        reuqired: [true, 'Username is required'],\r\n        unique:[true, 'Usename exist'],\r\n        validate: [uservalidator, 'Please enter less than 20 numbers and alphabets only']\r\n    },\r\n    email:{ // email should be be unique\r\n        type:String,\r\n        required: [true, 'Email is required to create an account'],\r\n        unique:[true, 'Account with this email already exist'],\r\n        validate: [emailvalidator, 'Please enter numbers, alphabets, and @ . - _ only']\r\n    },\r\n    password:{\r\n        type:String,\r\n        requried:[true, 'Password is required to create account'],\r\n\r\n    },\r\n    age:{ // age should be within 0 - 120 range\r\n        type:Number,\r\n        requried:[true, 'Age is required to create an account'],\r\n        validate: [agevalidator, 'Please enter a number between 0-120']\r\n\r\n    },\r\n    gender:{\r\n        type: String,\r\n        enum: [\"Male\", \"Female\", \"Prefer not to say\"],\r\n        required: true\r\n    },\r\n    videos:[\r\n        {\r\n            type:Schema.Types.ObjectId,\r\n            ref:'videos'\r\n        }\r\n    ],\r\n\r\n\r\n\r\n     \r\n})\r\nexport const userModel = model('user', userSchema)\r\n"],"mappings":";;;;;;;AAAA;;AACA,IAAMA,aAAa,GAAG,SAAhBA,aAAgB,CAACC,CAAD;EAAA,OAClB,sBAAsBC,IAAtB,CAA2BD,CAA3B,CADkB;AAAA,CAAtB;;AAGA,IAAME,cAAc,GAAG,SAAjBA,cAAiB,CAACF,CAAD;EAAA,OACnB,uBAAuBC,IAAvB,CAA4BD,CAA5B,CADmB;AAAA,CAAvB;;AAGA,IAAMG,YAAY,GAAG,SAAfA,YAAe,CAACH,CAAD;EAAA,OACjB,eAAeC,IAAf,CAAoBD,CAApB,CADiB;AAAA,CAArB;;AAGA,IAAMI,UAAU,GAAG,IAAIC,gBAAJ,CAAW;EAC1BC,QAAQ,EAAC;IAAE;IACPC,IAAI,EAACC,MADA;IAELC,QAAQ,EAAE,CAAC,IAAD,EAAO,sBAAP,CAFL;IAGLC,MAAM,EAAC,CAAC,IAAD,EAAO,eAAP,CAHF;IAILC,QAAQ,EAAE,CAACZ,aAAD,EAAgB,sDAAhB;EAJL,CADiB;EAO1Ba,KAAK,EAAC;IAAE;IACJL,IAAI,EAACC,MADH;IAEFK,QAAQ,EAAE,CAAC,IAAD,EAAO,wCAAP,CAFR;IAGFH,MAAM,EAAC,CAAC,IAAD,EAAO,uCAAP,CAHL;IAIFC,QAAQ,EAAE,CAACT,cAAD,EAAiB,mDAAjB;EAJR,CAPoB;EAa1BY,QAAQ,EAAC;IACLP,IAAI,EAACC,MADA;IAELO,QAAQ,EAAC,CAAC,IAAD,EAAO,wCAAP;EAFJ,CAbiB;EAkB1BC,GAAG,EAAC;IAAE;IACFT,IAAI,EAACU,MADL;IAEAF,QAAQ,EAAC,CAAC,IAAD,EAAO,sCAAP,CAFT;IAGAJ,QAAQ,EAAE,CAACR,YAAD,EAAe,qCAAf;EAHV,CAlBsB;EAwB1Be,MAAM,EAAC;IACHX,IAAI,EAAEC,MADH;IAEH,QAAM,CAAC,MAAD,EAAS,QAAT,EAAmB,mBAAnB,CAFH;IAGHK,QAAQ,EAAE;EAHP,CAxBmB;EA6B1BM,MAAM,EAAC,CACH;IACIZ,IAAI,EAACF,gBAAA,CAAOe,KAAP,CAAaC,QADtB;IAEIC,GAAG,EAAC;EAFR,CADG;AA7BmB,CAAX,CAAnB;AAwCO,IAAMC,SAAS,GAAG,IAAAC,eAAA,EAAM,MAAN,EAAcpB,UAAd,CAAlB"}},"mtime":1665917347954},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"filename\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Models\\\\Video.model.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.videoModel = void 0;\n\nvar _mongoose = require(\"mongoose\");\n\nvar videoSchema = new _mongoose.Schema({\n  owner: {\n    type: _mongoose.Schema.Types.ObjectId,\n    ref: 'user'\n  },\n  username: {\n    type: String\n  },\n  name: {\n    type: String,\n    required: [true, 'Upload video needs a video name']\n  },\n  videopath: {\n    type: String,\n    required: [true, 'Upload video needs a video path'],\n    unique: [true, 'Video path already exist']\n  },\n  category: {\n    type: String,\n    \"enum\": [\"Sports\", \"News\", \"Technology\", \"Music\", \"Games\", \"Fashion\", \"Pet\", \"Travel\", \"Others\"],\n    required: true\n  },\n  likes: {\n    type: Number,\n    \"default\": 0\n  },\n  dislikes: {\n    type: Number,\n    \"default\": 0\n  },\n  views: {\n    type: Array,\n    \"default\": []\n  },\n  comments: {\n    type: Array,\n    \"default\": []\n  },\n  description: {\n    type: String,\n    required: [true, 'Upload video needs a Description']\n  }\n});\nvar videoModel = (0, _mongoose.model)('video', videoSchema);\nexports.videoModel = videoModel;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ2aWRlb1NjaGVtYSIsIlNjaGVtYSIsIm93bmVyIiwidHlwZSIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJ1c2VybmFtZSIsIlN0cmluZyIsIm5hbWUiLCJyZXF1aXJlZCIsInZpZGVvcGF0aCIsInVuaXF1ZSIsImNhdGVnb3J5IiwibGlrZXMiLCJOdW1iZXIiLCJkaXNsaWtlcyIsInZpZXdzIiwiQXJyYXkiLCJjb21tZW50cyIsImRlc2NyaXB0aW9uIiwidmlkZW9Nb2RlbCIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXDMyMTA4XFxEb2N1bWVudHNcXEdpdEh1YlxcSVQtUFJPSkVDVFxcYmFja2VuZDNcXHNyY1xcTW9kZWxzXFwiLCJzb3VyY2VzIjpbIlZpZGVvLm1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNjaGVtYSwgbW9kZWwgfSBmcm9tICdtb25nb29zZSdcclxuXHJcbmNvbnN0IHZpZGVvU2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgICBvd25lcjoge1xyXG4gICAgICAgIHR5cGU6IFNjaGVtYS5UeXBlcy5PYmplY3RJZCxcclxuICAgICAgICByZWY6ICd1c2VyJ1xyXG4gICAgfSxcclxuICAgIHVzZXJuYW1lOiB7XHJcbiAgICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgfSxcclxuICAgIG5hbWU6IHtcclxuICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgcmVxdWlyZWQ6IFt0cnVlLCAnVXBsb2FkIHZpZGVvIG5lZWRzIGEgdmlkZW8gbmFtZSddXHJcbiAgICB9LFxyXG4gICAgdmlkZW9wYXRoOiB7XHJcbiAgICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICAgIHJlcXVpcmVkOiBbdHJ1ZSwgJ1VwbG9hZCB2aWRlbyBuZWVkcyBhIHZpZGVvIHBhdGgnXSxcclxuICAgICAgICB1bmlxdWU6IFt0cnVlLCAnVmlkZW8gcGF0aCBhbHJlYWR5IGV4aXN0J11cclxuICAgIH0sXHJcbiAgICBjYXRlZ29yeToge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICBlbnVtOiBbXCJTcG9ydHNcIiwgXCJOZXdzXCIsIFwiVGVjaG5vbG9neVwiLCBcIk11c2ljXCIsIFwiR2FtZXNcIiwgXCJGYXNoaW9uXCIsIFwiUGV0XCIsIFwiVHJhdmVsXCIsIFwiT3RoZXJzXCJdLFxyXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlXHJcbiAgICB9LFxyXG4gICAgbGlrZXM6IHtcclxuICAgICAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICAgICAgZGVmYXVsdDogMFxyXG4gICAgfSxcclxuICAgIGRpc2xpa2VzOiB7XHJcbiAgICAgICAgdHlwZTogTnVtYmVyLFxyXG4gICAgICAgIGRlZmF1bHQ6IDBcclxuICAgIH0sXHJcbiAgICB2aWV3czoge1xyXG4gICAgICAgIHR5cGU6IEFycmF5LFxyXG4gICAgICAgIGRlZmF1bHQ6IFtdXHJcbiAgICB9LFxyXG4gICAgY29tbWVudHM6IHtcclxuICAgICAgICB0eXBlOiBBcnJheSxcclxuICAgICAgICBkZWZhdWx0OiBbXVxyXG4gICAgfSxcclxuICAgIGRlc2NyaXB0aW9uOiB7XHJcbiAgICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICAgIHJlcXVpcmVkOiBbdHJ1ZSwgJ1VwbG9hZCB2aWRlbyBuZWVkcyBhIERlc2NyaXB0aW9uJ11cclxuICAgIH0sXHJcblxyXG59KVxyXG5leHBvcnQgY29uc3QgdmlkZW9Nb2RlbCA9IG1vZGVsKCd2aWRlbycsIHZpZGVvU2NoZW1hKSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUVBLElBQU1BLFdBQVcsR0FBRyxJQUFJQyxnQkFBSixDQUFXO0VBQzNCQyxLQUFLLEVBQUU7SUFDSEMsSUFBSSxFQUFFRixnQkFBQSxDQUFPRyxLQUFQLENBQWFDLFFBRGhCO0lBRUhDLEdBQUcsRUFBRTtFQUZGLENBRG9CO0VBSzNCQyxRQUFRLEVBQUU7SUFDTkosSUFBSSxFQUFFSztFQURBLENBTGlCO0VBUTNCQyxJQUFJLEVBQUU7SUFDRk4sSUFBSSxFQUFFSyxNQURKO0lBRUZFLFFBQVEsRUFBRSxDQUFDLElBQUQsRUFBTyxpQ0FBUDtFQUZSLENBUnFCO0VBWTNCQyxTQUFTLEVBQUU7SUFDUFIsSUFBSSxFQUFFSyxNQURDO0lBRVBFLFFBQVEsRUFBRSxDQUFDLElBQUQsRUFBTyxpQ0FBUCxDQUZIO0lBR1BFLE1BQU0sRUFBRSxDQUFDLElBQUQsRUFBTywwQkFBUDtFQUhELENBWmdCO0VBaUIzQkMsUUFBUSxFQUFFO0lBQ05WLElBQUksRUFBRUssTUFEQTtJQUVOLFFBQU0sQ0FBQyxRQUFELEVBQVcsTUFBWCxFQUFtQixZQUFuQixFQUFpQyxPQUFqQyxFQUEwQyxPQUExQyxFQUFtRCxTQUFuRCxFQUE4RCxLQUE5RCxFQUFxRSxRQUFyRSxFQUErRSxRQUEvRSxDQUZBO0lBR05FLFFBQVEsRUFBRTtFQUhKLENBakJpQjtFQXNCM0JJLEtBQUssRUFBRTtJQUNIWCxJQUFJLEVBQUVZLE1BREg7SUFFSCxXQUFTO0VBRk4sQ0F0Qm9CO0VBMEIzQkMsUUFBUSxFQUFFO0lBQ05iLElBQUksRUFBRVksTUFEQTtJQUVOLFdBQVM7RUFGSCxDQTFCaUI7RUE4QjNCRSxLQUFLLEVBQUU7SUFDSGQsSUFBSSxFQUFFZSxLQURIO0lBRUgsV0FBUztFQUZOLENBOUJvQjtFQWtDM0JDLFFBQVEsRUFBRTtJQUNOaEIsSUFBSSxFQUFFZSxLQURBO0lBRU4sV0FBUztFQUZILENBbENpQjtFQXNDM0JFLFdBQVcsRUFBRTtJQUNUakIsSUFBSSxFQUFFSyxNQURHO0lBRVRFLFFBQVEsRUFBRSxDQUFDLElBQUQsRUFBTyxrQ0FBUDtFQUZEO0FBdENjLENBQVgsQ0FBcEI7QUE0Q08sSUFBTVcsVUFBVSxHQUFHLElBQUFDLGVBQUEsRUFBTSxPQUFOLEVBQWV0QixXQUFmLENBQW5CIn0=","map":{"version":3,"names":["videoSchema","Schema","owner","type","Types","ObjectId","ref","username","String","name","required","videopath","unique","category","likes","Number","dislikes","views","Array","comments","description","videoModel","model"],"sourceRoot":"C:\\Users\\32108\\Documents\\GitHub\\IT-PROJECT\\backend3\\src\\Models\\","sources":["Video.model.js"],"sourcesContent":["import { Schema, model } from 'mongoose'\r\n\r\nconst videoSchema = new Schema({\r\n    owner: {\r\n        type: Schema.Types.ObjectId,\r\n        ref: 'user'\r\n    },\r\n    username: {\r\n        type: String,\r\n    },\r\n    name: {\r\n        type: String,\r\n        required: [true, 'Upload video needs a video name']\r\n    },\r\n    videopath: {\r\n        type: String,\r\n        required: [true, 'Upload video needs a video path'],\r\n        unique: [true, 'Video path already exist']\r\n    },\r\n    category: {\r\n        type: String,\r\n        enum: [\"Sports\", \"News\", \"Technology\", \"Music\", \"Games\", \"Fashion\", \"Pet\", \"Travel\", \"Others\"],\r\n        required: true\r\n    },\r\n    likes: {\r\n        type: Number,\r\n        default: 0\r\n    },\r\n    dislikes: {\r\n        type: Number,\r\n        default: 0\r\n    },\r\n    views: {\r\n        type: Array,\r\n        default: []\r\n    },\r\n    comments: {\r\n        type: Array,\r\n        default: []\r\n    },\r\n    description: {\r\n        type: String,\r\n        required: [true, 'Upload video needs a Description']\r\n    },\r\n\r\n})\r\nexport const videoModel = model('video', videoSchema)"],"mappings":";;;;;;;AAAA;;AAEA,IAAMA,WAAW,GAAG,IAAIC,gBAAJ,CAAW;EAC3BC,KAAK,EAAE;IACHC,IAAI,EAAEF,gBAAA,CAAOG,KAAP,CAAaC,QADhB;IAEHC,GAAG,EAAE;EAFF,CADoB;EAK3BC,QAAQ,EAAE;IACNJ,IAAI,EAAEK;EADA,CALiB;EAQ3BC,IAAI,EAAE;IACFN,IAAI,EAAEK,MADJ;IAEFE,QAAQ,EAAE,CAAC,IAAD,EAAO,iCAAP;EAFR,CARqB;EAY3BC,SAAS,EAAE;IACPR,IAAI,EAAEK,MADC;IAEPE,QAAQ,EAAE,CAAC,IAAD,EAAO,iCAAP,CAFH;IAGPE,MAAM,EAAE,CAAC,IAAD,EAAO,0BAAP;EAHD,CAZgB;EAiB3BC,QAAQ,EAAE;IACNV,IAAI,EAAEK,MADA;IAEN,QAAM,CAAC,QAAD,EAAW,MAAX,EAAmB,YAAnB,EAAiC,OAAjC,EAA0C,OAA1C,EAAmD,SAAnD,EAA8D,KAA9D,EAAqE,QAArE,EAA+E,QAA/E,CAFA;IAGNE,QAAQ,EAAE;EAHJ,CAjBiB;EAsB3BI,KAAK,EAAE;IACHX,IAAI,EAAEY,MADH;IAEH,WAAS;EAFN,CAtBoB;EA0B3BC,QAAQ,EAAE;IACNb,IAAI,EAAEY,MADA;IAEN,WAAS;EAFH,CA1BiB;EA8B3BE,KAAK,EAAE;IACHd,IAAI,EAAEe,KADH;IAEH,WAAS;EAFN,CA9BoB;EAkC3BC,QAAQ,EAAE;IACNhB,IAAI,EAAEe,KADA;IAEN,WAAS;EAFH,CAlCiB;EAsC3BE,WAAW,EAAE;IACTjB,IAAI,EAAEK,MADG;IAETE,QAAQ,EAAE,CAAC,IAAD,EAAO,kCAAP;EAFD;AAtCc,CAAX,CAApB;AA4CO,IAAMW,UAAU,GAAG,IAAAC,eAAA,EAAM,OAAN,EAAetB,WAAf,CAAnB"}},"mtime":1666071604606},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"filename\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Routes\\\\Video.routes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _express = require(\"express\");\n\nvar _Authenticate = require(\"../Middlewares/Authenticate.middleware\");\n\nvar _Video = require(\"../Middlewares/Video.middleware\");\n\nvar _bodyParser = require(\"body-parser\");\n\nvar _Video2 = require(\"../Controller/Video.controller\");\n\nvar router = (0, _express.Router)();\nvar Controller = new _Video2.VideoController(); //after upload work, next step is save to mongo db\n\nrouter.post('/api/video', (0, _bodyParser.json)(), _Authenticate.Authenticate, _Video.videoUpload.single('video'), function (request, response) {\n  Controller.upload(request, response);\n}); // video stream\n\nrouter.get('/api/video/:filename', function (request, response) {\n  Controller.stream(request, response);\n}); // like a video\n\nrouter.get('/api/video-like/', function (request, response) {\n  Controller.like(request, response);\n}); // dislike a video\n\nrouter.get('/api/video-dislike/', function (request, response) {\n  Controller.dislike(request, response);\n}); // search for a video\n\nrouter.get('/api/video-search/', function (request, response) {\n  Controller.searchVideo(request, response);\n}); // delete a video\n\nrouter[\"delete\"]('/api/video/', function (request, response) {\n  Controller[\"delete\"](request, response);\n}); // search for video under certain user\n\nrouter.get('/api/user-video-search/', function (request, response) {\n  Controller.searchUVideo(request, response);\n}); // search for video under certain category\n\nrouter.get('/api/cat-search/', function (request, response) {\n  Controller.searchCat(request, response);\n}); //find all videos and return \n\nrouter.get('/api/findallV', function (request, response) {\n  Controller.findAllVideo(request, response);\n});\nrouter[\"delete\"]('/api/user-video-delete/', function (request, response) {\n  Controller.delete_user_all_videos(request, response);\n});\nvar _default = router;\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJSb3V0ZXIiLCJDb250cm9sbGVyIiwiVmlkZW9Db250cm9sbGVyIiwicG9zdCIsImpzb24iLCJBdXRoZW50aWNhdGUiLCJ2aWRlb1VwbG9hZCIsInNpbmdsZSIsInJlcXVlc3QiLCJyZXNwb25zZSIsInVwbG9hZCIsImdldCIsInN0cmVhbSIsImxpa2UiLCJkaXNsaWtlIiwic2VhcmNoVmlkZW8iLCJzZWFyY2hVVmlkZW8iLCJzZWFyY2hDYXQiLCJmaW5kQWxsVmlkZW8iLCJkZWxldGVfdXNlcl9hbGxfdmlkZW9zIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXDMyMTA4XFxEb2N1bWVudHNcXEdpdEh1YlxcSVQtUFJPSkVDVFxcYmFja2VuZDNcXHNyY1xcUm91dGVzXFwiLCJzb3VyY2VzIjpbIlZpZGVvLnJvdXRlcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByZXNwb25zZSwgUm91dGVyIH0gZnJvbSAnZXhwcmVzcyc7XHJcbmltcG9ydCB7IEF1dGhlbnRpY2F0ZSB9IGZyb20gJy4uL01pZGRsZXdhcmVzL0F1dGhlbnRpY2F0ZS5taWRkbGV3YXJlJztcclxuaW1wb3J0IHsgdmlkZW9VcGxvYWQgfSBmcm9tICcuLi9NaWRkbGV3YXJlcy9WaWRlby5taWRkbGV3YXJlJztcclxuaW1wb3J0IHsganNvbiB9IGZyb20gJ2JvZHktcGFyc2VyJ1xyXG5pbXBvcnQgeyBWaWRlb0NvbnRyb2xsZXIgfSBmcm9tICcuLi9Db250cm9sbGVyL1ZpZGVvLmNvbnRyb2xsZXInXHJcblxyXG5jb25zdCByb3V0ZXIgPSBSb3V0ZXIoKTtcclxuY29uc3QgQ29udHJvbGxlciA9IG5ldyBWaWRlb0NvbnRyb2xsZXIoKTtcclxuLy9hZnRlciB1cGxvYWQgd29yaywgbmV4dCBzdGVwIGlzIHNhdmUgdG8gbW9uZ28gZGJcclxucm91dGVyLnBvc3QoJy9hcGkvdmlkZW8nLCBqc29uKCksIEF1dGhlbnRpY2F0ZSwgdmlkZW9VcGxvYWQuc2luZ2xlKCd2aWRlbycpLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgIENvbnRyb2xsZXIudXBsb2FkKHJlcXVlc3QsIHJlc3BvbnNlKVxyXG59KVxyXG5cclxuLy8gdmlkZW8gc3RyZWFtXHJcbnJvdXRlci5nZXQoJy9hcGkvdmlkZW8vOmZpbGVuYW1lJywgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XHJcbiAgICBDb250cm9sbGVyLnN0cmVhbShyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcbi8vIGxpa2UgYSB2aWRlb1xyXG5yb3V0ZXIuZ2V0KCcvYXBpL3ZpZGVvLWxpa2UvJywgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XHJcbiAgICBDb250cm9sbGVyLmxpa2UocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG5cclxuLy8gZGlzbGlrZSBhIHZpZGVvXHJcbnJvdXRlci5nZXQoJy9hcGkvdmlkZW8tZGlzbGlrZS8nLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgIENvbnRyb2xsZXIuZGlzbGlrZShyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcbi8vIHNlYXJjaCBmb3IgYSB2aWRlb1xyXG5yb3V0ZXIuZ2V0KCcvYXBpL3ZpZGVvLXNlYXJjaC8nLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgIENvbnRyb2xsZXIuc2VhcmNoVmlkZW8ocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG4vLyBkZWxldGUgYSB2aWRlb1xyXG5yb3V0ZXIuZGVsZXRlKCcvYXBpL3ZpZGVvLycsIChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xyXG4gICAgQ29udHJvbGxlci5kZWxldGUocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG4vLyBzZWFyY2ggZm9yIHZpZGVvIHVuZGVyIGNlcnRhaW4gdXNlclxyXG5yb3V0ZXIuZ2V0KCcvYXBpL3VzZXItdmlkZW8tc2VhcmNoLycsIChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xyXG4gICAgQ29udHJvbGxlci5zZWFyY2hVVmlkZW8ocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG4vLyBzZWFyY2ggZm9yIHZpZGVvIHVuZGVyIGNlcnRhaW4gY2F0ZWdvcnlcclxucm91dGVyLmdldCgnL2FwaS9jYXQtc2VhcmNoLycsIChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xyXG4gICAgQ29udHJvbGxlci5zZWFyY2hDYXQocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG4vL2ZpbmQgYWxsIHZpZGVvcyBhbmQgcmV0dXJuIFxyXG5yb3V0ZXIuZ2V0KCcvYXBpL2ZpbmRhbGxWJywgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XHJcbiAgICBDb250cm9sbGVyLmZpbmRBbGxWaWRlbyhyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcbnJvdXRlci5kZWxldGUoJy9hcGkvdXNlci12aWRlby1kZWxldGUvJywgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XHJcbiAgICBDb250cm9sbGVyLmRlbGV0ZV91c2VyX2FsbF92aWRlb3MocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBRUEsSUFBTUEsTUFBTSxHQUFHLElBQUFDLGVBQUEsR0FBZjtBQUNBLElBQU1DLFVBQVUsR0FBRyxJQUFJQyx1QkFBSixFQUFuQixDLENBQ0E7O0FBQ0FILE1BQU0sQ0FBQ0ksSUFBUCxDQUFZLFlBQVosRUFBMEIsSUFBQUMsZ0JBQUEsR0FBMUIsRUFBa0NDLDBCQUFsQyxFQUFnREMsa0JBQUEsQ0FBWUMsTUFBWixDQUFtQixPQUFuQixDQUFoRCxFQUE2RSxVQUFDQyxPQUFELEVBQVVDLFFBQVYsRUFBdUI7RUFDaEdSLFVBQVUsQ0FBQ1MsTUFBWCxDQUFrQkYsT0FBbEIsRUFBMkJDLFFBQTNCO0FBQ0gsQ0FGRCxFLENBSUE7O0FBQ0FWLE1BQU0sQ0FBQ1ksR0FBUCxDQUFXLHNCQUFYLEVBQW1DLFVBQUNILE9BQUQsRUFBVUMsUUFBVixFQUF1QjtFQUN0RFIsVUFBVSxDQUFDVyxNQUFYLENBQWtCSixPQUFsQixFQUEyQkMsUUFBM0I7QUFDSCxDQUZELEUsQ0FJQTs7QUFDQVYsTUFBTSxDQUFDWSxHQUFQLENBQVcsa0JBQVgsRUFBK0IsVUFBQ0gsT0FBRCxFQUFVQyxRQUFWLEVBQXVCO0VBQ2xEUixVQUFVLENBQUNZLElBQVgsQ0FBZ0JMLE9BQWhCLEVBQXlCQyxRQUF6QjtBQUNILENBRkQsRSxDQUtBOztBQUNBVixNQUFNLENBQUNZLEdBQVAsQ0FBVyxxQkFBWCxFQUFrQyxVQUFDSCxPQUFELEVBQVVDLFFBQVYsRUFBdUI7RUFDckRSLFVBQVUsQ0FBQ2EsT0FBWCxDQUFtQk4sT0FBbkIsRUFBNEJDLFFBQTVCO0FBQ0gsQ0FGRCxFLENBSUE7O0FBQ0FWLE1BQU0sQ0FBQ1ksR0FBUCxDQUFXLG9CQUFYLEVBQWlDLFVBQUNILE9BQUQsRUFBVUMsUUFBVixFQUF1QjtFQUNwRFIsVUFBVSxDQUFDYyxXQUFYLENBQXVCUCxPQUF2QixFQUFnQ0MsUUFBaEM7QUFDSCxDQUZELEUsQ0FJQTs7QUFDQVYsTUFBTSxVQUFOLENBQWMsYUFBZCxFQUE2QixVQUFDUyxPQUFELEVBQVVDLFFBQVYsRUFBdUI7RUFDaERSLFVBQVUsVUFBVixDQUFrQk8sT0FBbEIsRUFBMkJDLFFBQTNCO0FBQ0gsQ0FGRCxFLENBSUE7O0FBQ0FWLE1BQU0sQ0FBQ1ksR0FBUCxDQUFXLHlCQUFYLEVBQXNDLFVBQUNILE9BQUQsRUFBVUMsUUFBVixFQUF1QjtFQUN6RFIsVUFBVSxDQUFDZSxZQUFYLENBQXdCUixPQUF4QixFQUFpQ0MsUUFBakM7QUFDSCxDQUZELEUsQ0FJQTs7QUFDQVYsTUFBTSxDQUFDWSxHQUFQLENBQVcsa0JBQVgsRUFBK0IsVUFBQ0gsT0FBRCxFQUFVQyxRQUFWLEVBQXVCO0VBQ2xEUixVQUFVLENBQUNnQixTQUFYLENBQXFCVCxPQUFyQixFQUE4QkMsUUFBOUI7QUFDSCxDQUZELEUsQ0FJQTs7QUFDQVYsTUFBTSxDQUFDWSxHQUFQLENBQVcsZUFBWCxFQUE0QixVQUFDSCxPQUFELEVBQVVDLFFBQVYsRUFBdUI7RUFDL0NSLFVBQVUsQ0FBQ2lCLFlBQVgsQ0FBd0JWLE9BQXhCLEVBQWlDQyxRQUFqQztBQUNILENBRkQ7QUFJQVYsTUFBTSxVQUFOLENBQWMseUJBQWQsRUFBeUMsVUFBQ1MsT0FBRCxFQUFVQyxRQUFWLEVBQXVCO0VBQzVEUixVQUFVLENBQUNrQixzQkFBWCxDQUFrQ1gsT0FBbEMsRUFBMkNDLFFBQTNDO0FBQ0gsQ0FGRDtlQUllVixNIn0=","map":{"version":3,"names":["router","Router","Controller","VideoController","post","json","Authenticate","videoUpload","single","request","response","upload","get","stream","like","dislike","searchVideo","searchUVideo","searchCat","findAllVideo","delete_user_all_videos"],"sourceRoot":"C:\\Users\\32108\\Documents\\GitHub\\IT-PROJECT\\backend3\\src\\Routes\\","sources":["Video.routes.js"],"sourcesContent":["import { response, Router } from 'express';\r\nimport { Authenticate } from '../Middlewares/Authenticate.middleware';\r\nimport { videoUpload } from '../Middlewares/Video.middleware';\r\nimport { json } from 'body-parser'\r\nimport { VideoController } from '../Controller/Video.controller'\r\n\r\nconst router = Router();\r\nconst Controller = new VideoController();\r\n//after upload work, next step is save to mongo db\r\nrouter.post('/api/video', json(), Authenticate, videoUpload.single('video'), (request, response) => {\r\n    Controller.upload(request, response)\r\n})\r\n\r\n// video stream\r\nrouter.get('/api/video/:filename', (request, response) => {\r\n    Controller.stream(request, response)\r\n})\r\n\r\n// like a video\r\nrouter.get('/api/video-like/', (request, response) => {\r\n    Controller.like(request, response)\r\n})\r\n\r\n\r\n// dislike a video\r\nrouter.get('/api/video-dislike/', (request, response) => {\r\n    Controller.dislike(request, response)\r\n})\r\n\r\n// search for a video\r\nrouter.get('/api/video-search/', (request, response) => {\r\n    Controller.searchVideo(request, response)\r\n})\r\n\r\n// delete a video\r\nrouter.delete('/api/video/', (request, response) => {\r\n    Controller.delete(request, response)\r\n})\r\n\r\n// search for video under certain user\r\nrouter.get('/api/user-video-search/', (request, response) => {\r\n    Controller.searchUVideo(request, response)\r\n})\r\n\r\n// search for video under certain category\r\nrouter.get('/api/cat-search/', (request, response) => {\r\n    Controller.searchCat(request, response)\r\n})\r\n\r\n//find all videos and return \r\nrouter.get('/api/findallV', (request, response) => {\r\n    Controller.findAllVideo(request, response)\r\n})\r\n\r\nrouter.delete('/api/user-video-delete/', (request, response) => {\r\n    Controller.delete_user_all_videos(request, response)\r\n})\r\n\r\nexport default router;"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AAEA,IAAMA,MAAM,GAAG,IAAAC,eAAA,GAAf;AACA,IAAMC,UAAU,GAAG,IAAIC,uBAAJ,EAAnB,C,CACA;;AACAH,MAAM,CAACI,IAAP,CAAY,YAAZ,EAA0B,IAAAC,gBAAA,GAA1B,EAAkCC,0BAAlC,EAAgDC,kBAAA,CAAYC,MAAZ,CAAmB,OAAnB,CAAhD,EAA6E,UAACC,OAAD,EAAUC,QAAV,EAAuB;EAChGR,UAAU,CAACS,MAAX,CAAkBF,OAAlB,EAA2BC,QAA3B;AACH,CAFD,E,CAIA;;AACAV,MAAM,CAACY,GAAP,CAAW,sBAAX,EAAmC,UAACH,OAAD,EAAUC,QAAV,EAAuB;EACtDR,UAAU,CAACW,MAAX,CAAkBJ,OAAlB,EAA2BC,QAA3B;AACH,CAFD,E,CAIA;;AACAV,MAAM,CAACY,GAAP,CAAW,kBAAX,EAA+B,UAACH,OAAD,EAAUC,QAAV,EAAuB;EAClDR,UAAU,CAACY,IAAX,CAAgBL,OAAhB,EAAyBC,QAAzB;AACH,CAFD,E,CAKA;;AACAV,MAAM,CAACY,GAAP,CAAW,qBAAX,EAAkC,UAACH,OAAD,EAAUC,QAAV,EAAuB;EACrDR,UAAU,CAACa,OAAX,CAAmBN,OAAnB,EAA4BC,QAA5B;AACH,CAFD,E,CAIA;;AACAV,MAAM,CAACY,GAAP,CAAW,oBAAX,EAAiC,UAACH,OAAD,EAAUC,QAAV,EAAuB;EACpDR,UAAU,CAACc,WAAX,CAAuBP,OAAvB,EAAgCC,QAAhC;AACH,CAFD,E,CAIA;;AACAV,MAAM,UAAN,CAAc,aAAd,EAA6B,UAACS,OAAD,EAAUC,QAAV,EAAuB;EAChDR,UAAU,UAAV,CAAkBO,OAAlB,EAA2BC,QAA3B;AACH,CAFD,E,CAIA;;AACAV,MAAM,CAACY,GAAP,CAAW,yBAAX,EAAsC,UAACH,OAAD,EAAUC,QAAV,EAAuB;EACzDR,UAAU,CAACe,YAAX,CAAwBR,OAAxB,EAAiCC,QAAjC;AACH,CAFD,E,CAIA;;AACAV,MAAM,CAACY,GAAP,CAAW,kBAAX,EAA+B,UAACH,OAAD,EAAUC,QAAV,EAAuB;EAClDR,UAAU,CAACgB,SAAX,CAAqBT,OAArB,EAA8BC,QAA9B;AACH,CAFD,E,CAIA;;AACAV,MAAM,CAACY,GAAP,CAAW,eAAX,EAA4B,UAACH,OAAD,EAAUC,QAAV,EAAuB;EAC/CR,UAAU,CAACiB,YAAX,CAAwBV,OAAxB,EAAiCC,QAAjC;AACH,CAFD;AAIAV,MAAM,UAAN,CAAc,yBAAd,EAAyC,UAACS,OAAD,EAAUC,QAAV,EAAuB;EAC5DR,UAAU,CAACkB,sBAAX,CAAkCX,OAAlC,EAA2CC,QAA3C;AACH,CAFD;eAIeV,M"}},"mtime":1666071604610},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Middlewares\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"filename\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Middlewares\\\\Authenticate.middleware.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Authenticate = void 0;\n\nvar _jsonwebtoken = require(\"jsonwebtoken\");\n\nvar _dotenv = require(\"dotenv\");\n\n(0, _dotenv.config)();\n\nvar Authenticate = function Authenticate(request, response, next) {\n  var token = request.headers['x-auth-token'];\n  (0, _jsonwebtoken.verify)(token, process.env.cookie_secret, function (error, decoded) {\n    if (error) {\n      return response.status(403).json({\n        msg: 'Signup or Login to upload video'\n      });\n    }\n\n    request.token = decoded;\n    next();\n  });\n};\n\nexports.Authenticate = Authenticate;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25maWciLCJBdXRoZW50aWNhdGUiLCJyZXF1ZXN0IiwicmVzcG9uc2UiLCJuZXh0IiwidG9rZW4iLCJoZWFkZXJzIiwidmVyaWZ5IiwicHJvY2VzcyIsImVudiIsImNvb2tpZV9zZWNyZXQiLCJlcnJvciIsImRlY29kZWQiLCJzdGF0dXMiLCJqc29uIiwibXNnIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXDMyMTA4XFxEb2N1bWVudHNcXEdpdEh1YlxcSVQtUFJPSkVDVFxcYmFja2VuZDNcXHNyY1xcTWlkZGxld2FyZXNcXCIsInNvdXJjZXMiOlsiQXV0aGVudGljYXRlLm1pZGRsZXdhcmUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHt2ZXJpZnl9IGZyb20gJ2pzb253ZWJ0b2tlbic7XHJcbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gJ2RvdGVudic7XHJcbmNvbmZpZygpO1xyXG5cclxuZXhwb3J0IGNvbnN0IEF1dGhlbnRpY2F0ZSA9IChyZXF1ZXN0LCByZXNwb25zZSwgbmV4dCk9PntcclxuICAgIGNvbnN0IHRva2VuID0gcmVxdWVzdC5oZWFkZXJzWyd4LWF1dGgtdG9rZW4nXTtcclxuXHJcbiAgICB2ZXJpZnkodG9rZW4sIHByb2Nlc3MuZW52LmNvb2tpZV9zZWNyZXQsIChlcnJvciwgZGVjb2RlZCk9PntcclxuICAgICAgICBpZiAoZXJyb3Ipe1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwMykuanNvbih7bXNnOidTaWdudXAgb3IgTG9naW4gdG8gdXBsb2FkIHZpZGVvJ30pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJlcXVlc3QudG9rZW4gPSBkZWNvZGVkO1xyXG4gICAgICAgIG5leHQoKVxyXG4gICAgfSlcclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBLElBQUFBLGNBQUE7O0FBRU8sSUFBTUMsWUFBWSxHQUFHLFNBQWZBLFlBQWUsQ0FBQ0MsT0FBRCxFQUFVQyxRQUFWLEVBQW9CQyxJQUFwQixFQUEyQjtFQUNuRCxJQUFNQyxLQUFLLEdBQUdILE9BQU8sQ0FBQ0ksT0FBUixDQUFnQixjQUFoQixDQUFkO0VBRUEsSUFBQUMsb0JBQUEsRUFBT0YsS0FBUCxFQUFjRyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsYUFBMUIsRUFBeUMsVUFBQ0MsS0FBRCxFQUFRQyxPQUFSLEVBQWtCO0lBQ3ZELElBQUlELEtBQUosRUFBVTtNQUNOLE9BQU9SLFFBQVEsQ0FBQ1UsTUFBVCxDQUFnQixHQUFoQixFQUFxQkMsSUFBckIsQ0FBMEI7UUFBQ0MsR0FBRyxFQUFDO01BQUwsQ0FBMUIsQ0FBUDtJQUNIOztJQUNEYixPQUFPLENBQUNHLEtBQVIsR0FBZ0JPLE9BQWhCO0lBQ0FSLElBQUk7RUFDUCxDQU5EO0FBT0gsQ0FWTSJ9","map":{"version":3,"names":["config","Authenticate","request","response","next","token","headers","verify","process","env","cookie_secret","error","decoded","status","json","msg"],"sourceRoot":"C:\\Users\\32108\\Documents\\GitHub\\IT-PROJECT\\backend3\\src\\Middlewares\\","sources":["Authenticate.middleware.js"],"sourcesContent":["import {verify} from 'jsonwebtoken';\r\nimport { config } from 'dotenv';\r\nconfig();\r\n\r\nexport const Authenticate = (request, response, next)=>{\r\n    const token = request.headers['x-auth-token'];\r\n\r\n    verify(token, process.env.cookie_secret, (error, decoded)=>{\r\n        if (error){\r\n            return response.status(403).json({msg:'Signup or Login to upload video'})\r\n        }\r\n        request.token = decoded;\r\n        next()\r\n    })\r\n}"],"mappings":";;;;;;;AAAA;;AACA;;AACA,IAAAA,cAAA;;AAEO,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,OAAD,EAAUC,QAAV,EAAoBC,IAApB,EAA2B;EACnD,IAAMC,KAAK,GAAGH,OAAO,CAACI,OAAR,CAAgB,cAAhB,CAAd;EAEA,IAAAC,oBAAA,EAAOF,KAAP,EAAcG,OAAO,CAACC,GAAR,CAAYC,aAA1B,EAAyC,UAACC,KAAD,EAAQC,OAAR,EAAkB;IACvD,IAAID,KAAJ,EAAU;MACN,OAAOR,QAAQ,CAACU,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B;QAACC,GAAG,EAAC;MAAL,CAA1B,CAAP;IACH;;IACDb,OAAO,CAACG,KAAR,GAAgBO,OAAhB;IACAR,IAAI;EACP,CAND;AAOH,CAVM"}},"mtime":1665917347954},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Middlewares\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"filename\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Middlewares\\\\Video.middleware.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.videoUpload = void 0;\n\nvar _file = _interopRequireDefault(require(\"@babel/core/lib/transformation/file/file\"));\n\nvar _express = require(\"express\");\n\nvar _multer = _interopRequireDefault(require(\"multer\"));\n\nvar _uuid = require(\"uuid\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n// video storage\nvar videoStorage = _multer[\"default\"].diskStorage({\n  destination: \"videos\",\n  filename: function filename(request, file, cb) {\n    var id = (0, _uuid.v4)();\n    var token = request.token;\n    var filename = \"\".concat(token._id.toString(), \"-\").concat(id);\n    request.filename = filename;\n    cb(null, filename);\n  }\n}); //video upload\n\n\nvar videoUpload = (0, _multer[\"default\"])({\n  storage: videoStorage,\n  limits: {\n    fieldSize: 90000000 * 5 //10 MB   \n\n  },\n  fileFilter: function fileFilter(request, file, cb) {\n    if (!file.originalname.match(/\\.(mp4|MPEG-4|mkv)$/)) {\n      return cb(new Error('Video fomat nor supported'));\n    }\n\n    cb(undefined, true);\n  }\n});\nexports.videoUpload = videoUpload;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ2aWRlb1N0b3JhZ2UiLCJtdWx0ZXIiLCJkaXNrU3RvcmFnZSIsImRlc3RpbmF0aW9uIiwiZmlsZW5hbWUiLCJyZXF1ZXN0IiwiZmlsZSIsImNiIiwiaWQiLCJ1dWlkdjQiLCJ0b2tlbiIsIl9pZCIsInRvU3RyaW5nIiwidmlkZW9VcGxvYWQiLCJzdG9yYWdlIiwibGltaXRzIiwiZmllbGRTaXplIiwiZmlsZUZpbHRlciIsIm9yaWdpbmFsbmFtZSIsIm1hdGNoIiwiRXJyb3IiLCJ1bmRlZmluZWQiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcMzIxMDhcXERvY3VtZW50c1xcR2l0SHViXFxJVC1QUk9KRUNUXFxiYWNrZW5kM1xcc3JjXFxNaWRkbGV3YXJlc1xcIiwic291cmNlcyI6WyJWaWRlby5taWRkbGV3YXJlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBmaWxlIGZyb20gXCJAYmFiZWwvY29yZS9saWIvdHJhbnNmb3JtYXRpb24vZmlsZS9maWxlXCI7XHJcbmltcG9ydCB7IHJlcXVlc3QgfSBmcm9tIFwiZXhwcmVzc1wiO1xyXG5pbXBvcnQgbXVsdGVyIGZyb20gXCJtdWx0ZXJcIjtcclxuaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSAndXVpZCc7XHJcblxyXG4vLyB2aWRlbyBzdG9yYWdlXHJcbmNvbnN0IHZpZGVvU3RvcmFnZSA9IG11bHRlci5kaXNrU3RvcmFnZSh7XHJcbiAgICBkZXN0aW5hdGlvbjogXCJ2aWRlb3NcIixcclxuICAgIGZpbGVuYW1lOiAocmVxdWVzdCwgZmlsZSwgY2IpID0+IHtcclxuICAgICAgICBjb25zdCBpZCA9IHV1aWR2NCgpO1xyXG4gICAgICAgIGNvbnN0IHRva2VuID0gcmVxdWVzdC50b2tlbjtcclxuICAgICAgICBjb25zdCBmaWxlbmFtZSA9IGAke3Rva2VuLl9pZC50b1N0cmluZygpfS0ke2lkfWA7XHJcbiAgICAgICAgcmVxdWVzdC5maWxlbmFtZSA9IGZpbGVuYW1lO1xyXG4gICAgICAgIGNiKG51bGwsIGZpbGVuYW1lKVxyXG4gICAgfVxyXG5cclxufSlcclxuXHJcbi8vdmlkZW8gdXBsb2FkXHJcbmV4cG9ydCBjb25zdCB2aWRlb1VwbG9hZCA9IG11bHRlcih7XHJcbiAgICBzdG9yYWdlOiB2aWRlb1N0b3JhZ2UsXHJcbiAgICBsaW1pdHM6IHtcclxuICAgICAgICBmaWVsZFNpemU6IDkwMDAwMDAwICogNSAvLzEwIE1CICAgXHJcbiAgICB9LFxyXG4gICAgZmlsZUZpbHRlcjogKHJlcXVlc3QsIGZpbGUsIGNiKSA9PiB7XHJcbiAgICAgICAgaWYgKCFmaWxlLm9yaWdpbmFsbmFtZS5tYXRjaCgvXFwuKG1wNHxNUEVHLTR8bWt2KSQvKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY2IobmV3IEVycm9yKCdWaWRlbyBmb21hdCBub3Igc3VwcG9ydGVkJykpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNiKHVuZGVmaW5lZCwgdHJ1ZSlcclxuICAgIH1cclxufSkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUVBO0FBQ0EsSUFBTUEsWUFBWSxHQUFHQyxrQkFBQSxDQUFPQyxXQUFQLENBQW1CO0VBQ3BDQyxXQUFXLEVBQUUsUUFEdUI7RUFFcENDLFFBQVEsRUFBRSxrQkFBQ0MsT0FBRCxFQUFVQyxJQUFWLEVBQWdCQyxFQUFoQixFQUF1QjtJQUM3QixJQUFNQyxFQUFFLEdBQUcsSUFBQUMsUUFBQSxHQUFYO0lBQ0EsSUFBTUMsS0FBSyxHQUFHTCxPQUFPLENBQUNLLEtBQXRCO0lBQ0EsSUFBTU4sUUFBUSxhQUFNTSxLQUFLLENBQUNDLEdBQU4sQ0FBVUMsUUFBVixFQUFOLGNBQThCSixFQUE5QixDQUFkO0lBQ0FILE9BQU8sQ0FBQ0QsUUFBUixHQUFtQkEsUUFBbkI7SUFDQUcsRUFBRSxDQUFDLElBQUQsRUFBT0gsUUFBUCxDQUFGO0VBQ0g7QUFSbUMsQ0FBbkIsQ0FBckIsQyxDQVlBOzs7QUFDTyxJQUFNUyxXQUFXLEdBQUcsSUFBQVosa0JBQUEsRUFBTztFQUM5QmEsT0FBTyxFQUFFZCxZQURxQjtFQUU5QmUsTUFBTSxFQUFFO0lBQ0pDLFNBQVMsRUFBRSxXQUFXLENBRGxCLENBQ29COztFQURwQixDQUZzQjtFQUs5QkMsVUFBVSxFQUFFLG9CQUFDWixPQUFELEVBQVVDLElBQVYsRUFBZ0JDLEVBQWhCLEVBQXVCO0lBQy9CLElBQUksQ0FBQ0QsSUFBSSxDQUFDWSxZQUFMLENBQWtCQyxLQUFsQixDQUF3QixxQkFBeEIsQ0FBTCxFQUFxRDtNQUNqRCxPQUFPWixFQUFFLENBQUMsSUFBSWEsS0FBSixDQUFVLDJCQUFWLENBQUQsQ0FBVDtJQUNIOztJQUNEYixFQUFFLENBQUNjLFNBQUQsRUFBWSxJQUFaLENBQUY7RUFDSDtBQVY2QixDQUFQLENBQXBCIn0=","map":{"version":3,"names":["videoStorage","multer","diskStorage","destination","filename","request","file","cb","id","uuidv4","token","_id","toString","videoUpload","storage","limits","fieldSize","fileFilter","originalname","match","Error","undefined"],"sourceRoot":"C:\\Users\\32108\\Documents\\GitHub\\IT-PROJECT\\backend3\\src\\Middlewares\\","sources":["Video.middleware.js"],"sourcesContent":["import file from \"@babel/core/lib/transformation/file/file\";\r\nimport { request } from \"express\";\r\nimport multer from \"multer\";\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\n// video storage\r\nconst videoStorage = multer.diskStorage({\r\n    destination: \"videos\",\r\n    filename: (request, file, cb) => {\r\n        const id = uuidv4();\r\n        const token = request.token;\r\n        const filename = `${token._id.toString()}-${id}`;\r\n        request.filename = filename;\r\n        cb(null, filename)\r\n    }\r\n\r\n})\r\n\r\n//video upload\r\nexport const videoUpload = multer({\r\n    storage: videoStorage,\r\n    limits: {\r\n        fieldSize: 90000000 * 5 //10 MB   \r\n    },\r\n    fileFilter: (request, file, cb) => {\r\n        if (!file.originalname.match(/\\.(mp4|MPEG-4|mkv)$/)) {\r\n            return cb(new Error('Video fomat nor supported'))\r\n        }\r\n        cb(undefined, true)\r\n    }\r\n})"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;AAEA;AACA,IAAMA,YAAY,GAAGC,kBAAA,CAAOC,WAAP,CAAmB;EACpCC,WAAW,EAAE,QADuB;EAEpCC,QAAQ,EAAE,kBAACC,OAAD,EAAUC,IAAV,EAAgBC,EAAhB,EAAuB;IAC7B,IAAMC,EAAE,GAAG,IAAAC,QAAA,GAAX;IACA,IAAMC,KAAK,GAAGL,OAAO,CAACK,KAAtB;IACA,IAAMN,QAAQ,aAAMM,KAAK,CAACC,GAAN,CAAUC,QAAV,EAAN,cAA8BJ,EAA9B,CAAd;IACAH,OAAO,CAACD,QAAR,GAAmBA,QAAnB;IACAG,EAAE,CAAC,IAAD,EAAOH,QAAP,CAAF;EACH;AARmC,CAAnB,CAArB,C,CAYA;;;AACO,IAAMS,WAAW,GAAG,IAAAZ,kBAAA,EAAO;EAC9Ba,OAAO,EAAEd,YADqB;EAE9Be,MAAM,EAAE;IACJC,SAAS,EAAE,WAAW,CADlB,CACoB;;EADpB,CAFsB;EAK9BC,UAAU,EAAE,oBAACZ,OAAD,EAAUC,IAAV,EAAgBC,EAAhB,EAAuB;IAC/B,IAAI,CAACD,IAAI,CAACY,YAAL,CAAkBC,KAAlB,CAAwB,qBAAxB,CAAL,EAAqD;MACjD,OAAOZ,EAAE,CAAC,IAAIa,KAAJ,CAAU,2BAAV,CAAD,CAAT;IACH;;IACDb,EAAE,CAACc,SAAD,EAAY,IAAZ,CAAF;EACH;AAV6B,CAAP,CAApB"}},"mtime":1666071604606},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Controller\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"filename\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Controller\\\\Video.controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.VideoController = void 0;\n\nvar _Video = require(\"../Models/Video.model\");\n\nvar _fs = _interopRequireDefault(require(\"fs\"));\n\nvar _dns = require(\"dns\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nvar VideoController = /*#__PURE__*/function () {\n  function VideoController() {\n    _classCallCheck(this, VideoController);\n  }\n\n  _createClass(VideoController, [{\n    key: \"upload\",\n    value: function () {\n      var _upload = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(request, response) {\n        var newVideo, saveVideo;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                newVideo = new _Video.videoModel({\n                  owner: request.token._id,\n                  username: request.body.username,\n                  category: request.body.category,\n                  name: request.body.name,\n                  videopath: request.filename,\n                  description: request.body.description\n                });\n                _context.prev = 1;\n                _context.next = 4;\n                return newVideo.save();\n\n              case 4:\n                saveVideo = _context.sent;\n                return _context.abrupt(\"return\", response.status(201).json({\n                  msg: 'Video uploaded successfully'\n                }));\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context[\"catch\"](1);\n                return _context.abrupt(\"return\", response.status(500).json({\n                  msg: 'Video upload failed'\n                }));\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[1, 8]]);\n      }));\n\n      function upload(_x, _x2) {\n        return _upload.apply(this, arguments);\n      }\n\n      return upload;\n    }()\n  }, {\n    key: \"like\",\n    value: function like(request, response) {\n      var video_id = request.query.id;\n      var operation = request.query.operation;\n\n      if (operation === 'false') {\n        _Video.videoModel.findOneAndUpdate({\n          _id: video_id\n        }, {\n          $inc: {\n            likes: -1\n          }\n        }, {\n          \"new\": true\n        }, function (error, doc) {\n          if (error) {\n            return response.status(500).json({\n              msg: 'Network Error: Failed to cancel like video'\n            });\n          }\n\n          return response.status(200).json({\n            msg: 'Video like cancelled'\n          });\n        });\n      } else {\n        _Video.videoModel.findOneAndUpdate({\n          _id: video_id\n        }, {\n          $inc: {\n            likes: 1\n          }\n        }, {\n          \"new\": true\n        }, function (error, doc) {\n          if (error) {\n            return response.status(500).json({\n              msg: 'Network Error: Failed to like video'\n            });\n          }\n\n          return response.status(200).json({\n            msg: 'Video liked'\n          });\n        });\n      }\n    }\n  }, {\n    key: \"dislike\",\n    value: function dislike(request, response) {\n      var video_id = request.query.id;\n      var operation = request.query.operation;\n\n      if (operation === 'false') {\n        _Video.videoModel.findOneAndUpdate({\n          _id: video_id\n        }, {\n          $inc: {\n            dislikes: -1\n          }\n        }, {\n          \"new\": true\n        }, function (error, doc) {\n          if (error) {\n            return response.status(500).json({\n              msg: 'Network Error: Failed to cancel dislike video'\n            });\n          }\n\n          return response.status(200).json({\n            msg: 'Video dislike cancelled'\n          });\n        });\n      } else {\n        _Video.videoModel.findOneAndUpdate({\n          _id: video_id\n        }, {\n          $inc: {\n            dislikes: 1\n          }\n        }, {\n          \"new\": true\n        }, function (error, doc) {\n          if (error) {\n            return response.status(500).json({\n              msg: 'Network Error: Failed to dislike video'\n            });\n          }\n\n          return response.status(200).json({\n            msg: 'Video disliked'\n          });\n        });\n      }\n    }\n  }, {\n    key: \"searchVideo\",\n    value: function () {\n      var _searchVideo = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(request, response) {\n        var name, video;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                name = request.query.key;\n                _context2.prev = 1;\n                _context2.next = 4;\n                return _Video.videoModel.find({\n                  name: {\n                    $regex: name.toLowerCase()\n                  }\n                });\n\n              case 4:\n                video = _context2.sent;\n                return _context2.abrupt(\"return\", response.send(video));\n\n              case 8:\n                _context2.prev = 8;\n                _context2.t0 = _context2[\"catch\"](1);\n                return _context2.abrupt(\"return\", response.status(700).json({\n                  msg: 'No matching video'\n                }));\n\n              case 11:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[1, 8]]);\n      }));\n\n      function searchVideo(_x3, _x4) {\n        return _searchVideo.apply(this, arguments);\n      }\n\n      return searchVideo;\n    }() // search all videos and display\n\n  }, {\n    key: \"findAllVideo\",\n    value: function () {\n      var _findAllVideo = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(request, response) {\n        var video;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                _context3.next = 3;\n                return _Video.videoModel.find();\n\n              case 3:\n                video = _context3.sent;\n                return _context3.abrupt(\"return\", response.send(video));\n\n              case 7:\n                _context3.prev = 7;\n                _context3.t0 = _context3[\"catch\"](0);\n                return _context3.abrupt(\"return\", response.status(700).json({\n                  msg: 'No videos'\n                }));\n\n              case 10:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, null, [[0, 7]]);\n      }));\n\n      function findAllVideo(_x5, _x6) {\n        return _findAllVideo.apply(this, arguments);\n      }\n\n      return findAllVideo;\n    }() // search video by username\n\n  }, {\n    key: \"searchUVideo\",\n    value: function () {\n      var _searchUVideo = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(request, response) {\n        var name, video;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                name = request.query.key;\n                _context4.prev = 1;\n                _context4.next = 4;\n                return _Video.videoModel.find({\n                  username: {\n                    $regex: name\n                  }\n                });\n\n              case 4:\n                video = _context4.sent;\n                return _context4.abrupt(\"return\", response.send(video));\n\n              case 8:\n                _context4.prev = 8;\n                _context4.t0 = _context4[\"catch\"](1);\n                return _context4.abrupt(\"return\", response.status(700).json({\n                  msg: 'No matching video'\n                }));\n\n              case 11:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, null, [[1, 8]]);\n      }));\n\n      function searchUVideo(_x7, _x8) {\n        return _searchUVideo.apply(this, arguments);\n      }\n\n      return searchUVideo;\n    }() // search video by category\n\n  }, {\n    key: \"searchCat\",\n    value: function () {\n      var _searchCat = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(request, response) {\n        var cat, video;\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                cat = request.query.key;\n                _context5.prev = 1;\n                _context5.next = 4;\n                return _Video.videoModel.find({\n                  category: {\n                    $regex: cat\n                  }\n                });\n\n              case 4:\n                video = _context5.sent;\n                return _context5.abrupt(\"return\", response.send(video));\n\n              case 8:\n                _context5.prev = 8;\n                _context5.t0 = _context5[\"catch\"](1);\n                return _context5.abrupt(\"return\", response.status(700).json({\n                  msg: 'No matching video'\n                }));\n\n              case 11:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, null, [[1, 8]]);\n      }));\n\n      function searchCat(_x9, _x10) {\n        return _searchCat.apply(this, arguments);\n      }\n\n      return searchCat;\n    }() // stream video \n\n  }, {\n    key: \"stream\",\n    value: function stream(request, response) {\n      var range = request.headers.range;\n\n      if (!range) {\n        return response.status(400).json({\n          msg: 'Range header is required to start'\n        });\n      }\n\n      var videopath = \"videos/\".concat(request.params.filename);\n\n      var videosize = _fs[\"default\"].statSync(videopath).size; // get video size\n\n\n      var start = Number(range.replace(/\\D/g, \"\")); //get start point \n\n      var chunk_size = Math.pow(10, 6); // 1 mb , chunck size\n\n      var end = Math.min(start + chunk_size, videosize - 1); //end position\n\n      var contenLength = end - start + 1; // how many  size sending\n\n      var hearders = {\n        'Content-Length': contenLength,\n        'Accept-Range': 'bytes',\n        'Content-Type': 'video/mp40',\n        'Content-Range': \"bytes \".concat(start, \" -\").concat(end, \"/\").concat(videosize) //decise how far video gone\n\n      };\n      response.writeHead(206, hearders);\n\n      var videostream = _fs[\"default\"].createReadStream(videopath, {\n        start: start,\n        end: end\n      }); // create video stream\n\n\n      videostream.pipe(response);\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete(request, response) {\n      var video_id = request.query.video_id;\n      var video_path = request.query.video_path;\n      var videopath = \"videos/\".concat(video_path);\n\n      if (_fs[\"default\"].existsSync(videopath)) {\n        _fs[\"default\"].unlink(videopath, function (error) {\n          if (error) {\n            return response.status(500).json({\n              msg: 'Network Error: Failed to delete video'\n            });\n          }\n\n          _Video.videoModel.findOneAndDelete({\n            _id: video_id\n          }, function (error) {\n            if (error) {\n              return response.status(500).json({\n                msg: 'Network Error: Failed to delete video'\n              });\n            }\n\n            return response.status(200).json({\n              msg: ' video delete'\n            });\n          });\n        });\n      }\n    }\n  }, {\n    key: \"delete_user_all_videos\",\n    value: function () {\n      var _delete_user_all_videos = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(request, response) {\n        var delete_username, user_video_list, i, videopath;\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                delete_username = request.query.username;\n                user_video_list = request.query.video_list;\n\n                if (!(user_video_list !== undefined)) {\n                  _context6.next = 6;\n                  break;\n                }\n\n                for (i = 0; i < user_video_list.length; i++) {\n                  videopath = \"videos/\".concat(user_video_list[i]);\n\n                  if (_fs[\"default\"].existsSync(videopath)) {\n                    _fs[\"default\"].unlink(videopath, function (error) {\n                      if (error) {\n                        return response.status(500).json({\n                          msg: 'Network Error: Failed to delete video'\n                        });\n                      }\n                    });\n                  }\n                }\n\n                _context6.next = 6;\n                return _Video.videoModel.deleteMany({\n                  username: delete_username\n                });\n\n              case 6:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6);\n      }));\n\n      function delete_user_all_videos(_x11, _x12) {\n        return _delete_user_all_videos.apply(this, arguments);\n      }\n\n      return delete_user_all_videos;\n    }()\n  }]);\n\n  return VideoController;\n}();\n\nexports.VideoController = VideoController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJWaWRlb0NvbnRyb2xsZXIiLCJyZXF1ZXN0IiwicmVzcG9uc2UiLCJuZXdWaWRlbyIsInZpZGVvTW9kZWwiLCJvd25lciIsInRva2VuIiwiX2lkIiwidXNlcm5hbWUiLCJib2R5IiwiY2F0ZWdvcnkiLCJuYW1lIiwidmlkZW9wYXRoIiwiZmlsZW5hbWUiLCJkZXNjcmlwdGlvbiIsInNhdmUiLCJzYXZlVmlkZW8iLCJzdGF0dXMiLCJqc29uIiwibXNnIiwidmlkZW9faWQiLCJxdWVyeSIsImlkIiwib3BlcmF0aW9uIiwiZmluZE9uZUFuZFVwZGF0ZSIsIiRpbmMiLCJsaWtlcyIsImVycm9yIiwiZG9jIiwiZGlzbGlrZXMiLCJrZXkiLCJmaW5kIiwiJHJlZ2V4IiwidG9Mb3dlckNhc2UiLCJ2aWRlbyIsInNlbmQiLCJjYXQiLCJyYW5nZSIsImhlYWRlcnMiLCJwYXJhbXMiLCJ2aWRlb3NpemUiLCJmcyIsInN0YXRTeW5jIiwic2l6ZSIsInN0YXJ0IiwiTnVtYmVyIiwicmVwbGFjZSIsImNodW5rX3NpemUiLCJlbmQiLCJNYXRoIiwibWluIiwiY29udGVuTGVuZ3RoIiwiaGVhcmRlcnMiLCJ3cml0ZUhlYWQiLCJ2aWRlb3N0cmVhbSIsImNyZWF0ZVJlYWRTdHJlYW0iLCJwaXBlIiwidmlkZW9fcGF0aCIsImV4aXN0c1N5bmMiLCJ1bmxpbmsiLCJmaW5kT25lQW5kRGVsZXRlIiwiZGVsZXRlX3VzZXJuYW1lIiwidXNlcl92aWRlb19saXN0IiwidmlkZW9fbGlzdCIsInVuZGVmaW5lZCIsImkiLCJsZW5ndGgiLCJkZWxldGVNYW55Il0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXDMyMTA4XFxEb2N1bWVudHNcXEdpdEh1YlxcSVQtUFJPSkVDVFxcYmFja2VuZDNcXHNyY1xcQ29udHJvbGxlclxcIiwic291cmNlcyI6WyJWaWRlby5jb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHZpZGVvTW9kZWwgfSBmcm9tICcuLi9Nb2RlbHMvVmlkZW8ubW9kZWwnXHJcbmltcG9ydCBmcyBmcm9tICdmcydcclxuaW1wb3J0IHsgTk9OQU1FIH0gZnJvbSAnZG5zJ1xyXG5cclxuZXhwb3J0IGNsYXNzIFZpZGVvQ29udHJvbGxlciB7XHJcbiAgICBhc3luYyB1cGxvYWQocmVxdWVzdCwgcmVzcG9uc2UpIHtcclxuXHJcbiAgICAgICAgY29uc3QgbmV3VmlkZW8gPSBuZXcgdmlkZW9Nb2RlbCh7XHJcbiAgICAgICAgICAgIG93bmVyOiByZXF1ZXN0LnRva2VuLl9pZCxcclxuICAgICAgICAgICAgdXNlcm5hbWU6IHJlcXVlc3QuYm9keS51c2VybmFtZSxcclxuICAgICAgICAgICAgY2F0ZWdvcnk6IHJlcXVlc3QuYm9keS5jYXRlZ29yeSxcclxuICAgICAgICAgICAgbmFtZTogcmVxdWVzdC5ib2R5Lm5hbWUsXHJcbiAgICAgICAgICAgIHZpZGVvcGF0aDogcmVxdWVzdC5maWxlbmFtZSxcclxuICAgICAgICAgICAgZGVzY3JpcHRpb246IHJlcXVlc3QuYm9keS5kZXNjcmlwdGlvblxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNhdmVWaWRlbyA9IGF3YWl0IG5ld1ZpZGVvLnNhdmUoKVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMSkuanNvbih7IG1zZzogJ1ZpZGVvIHVwbG9hZGVkIHN1Y2Nlc3NmdWxseScgfSlcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7IG1zZzogJ1ZpZGVvIHVwbG9hZCBmYWlsZWQnIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBsaWtlKHJlcXVlc3QsIHJlc3BvbnNlKSB7XHJcbiAgICAgICAgY29uc3QgdmlkZW9faWQgPSByZXF1ZXN0LnF1ZXJ5LmlkO1xyXG4gICAgICAgIGNvbnN0IG9wZXJhdGlvbiA9IHJlcXVlc3QucXVlcnkub3BlcmF0aW9uXHJcbiAgICAgICAgaWYgKG9wZXJhdGlvbiA9PT0gJ2ZhbHNlJykge1xyXG4gICAgICAgICAgICB2aWRlb01vZGVsLmZpbmRPbmVBbmRVcGRhdGUoeyBfaWQ6IHZpZGVvX2lkIH0sIHsgJGluYzogeyBsaWtlczogLTEgfSB9LFxyXG4gICAgICAgICAgICAgICAgeyBuZXc6IHRydWUgfSwgKGVycm9yLCBkb2MpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oeyBtc2c6ICdOZXR3b3JrIEVycm9yOiBGYWlsZWQgdG8gY2FuY2VsIGxpa2UgdmlkZW8nIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHsgbXNnOiAnVmlkZW8gbGlrZSBjYW5jZWxsZWQnIH0pXHJcbiAgICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB2aWRlb01vZGVsLmZpbmRPbmVBbmRVcGRhdGUoeyBfaWQ6IHZpZGVvX2lkIH0sIHsgJGluYzogeyBsaWtlczogMSB9IH0sXHJcbiAgICAgICAgICAgICAgICB7IG5ldzogdHJ1ZSB9LCAoZXJyb3IsIGRvYykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7IG1zZzogJ05ldHdvcmsgRXJyb3I6IEZhaWxlZCB0byBsaWtlIHZpZGVvJyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7IG1zZzogJ1ZpZGVvIGxpa2VkJyB9KVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZGlzbGlrZShyZXF1ZXN0LCByZXNwb25zZSkge1xyXG4gICAgICAgIGNvbnN0IHZpZGVvX2lkID0gcmVxdWVzdC5xdWVyeS5pZDtcclxuICAgICAgICBjb25zdCBvcGVyYXRpb24gPSByZXF1ZXN0LnF1ZXJ5Lm9wZXJhdGlvblxyXG4gICAgICAgIGlmIChvcGVyYXRpb24gPT09ICdmYWxzZScpIHtcclxuICAgICAgICAgICAgdmlkZW9Nb2RlbC5maW5kT25lQW5kVXBkYXRlKHsgX2lkOiB2aWRlb19pZCB9LCB7ICRpbmM6IHsgZGlzbGlrZXM6IC0xIH0gfSxcclxuICAgICAgICAgICAgICAgIHsgbmV3OiB0cnVlIH0sIChlcnJvciwgZG9jKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAnTmV0d29yayBFcnJvcjogRmFpbGVkIHRvIGNhbmNlbCBkaXNsaWtlIHZpZGVvJyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7IG1zZzogJ1ZpZGVvIGRpc2xpa2UgY2FuY2VsbGVkJyB9KVxyXG4gICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdmlkZW9Nb2RlbC5maW5kT25lQW5kVXBkYXRlKHsgX2lkOiB2aWRlb19pZCB9LCB7ICRpbmM6IHsgZGlzbGlrZXM6IDEgfSB9LFxyXG4gICAgICAgICAgICAgICAgeyBuZXc6IHRydWUgfSwgKGVycm9yLCBkb2MpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oeyBtc2c6ICdOZXR3b3JrIEVycm9yOiBGYWlsZWQgdG8gZGlzbGlrZSB2aWRlbycgfSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cygyMDApLmpzb24oeyBtc2c6ICdWaWRlbyBkaXNsaWtlZCcgfSlcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIHNlYXJjaFZpZGVvKHJlcXVlc3QsIHJlc3BvbnNlKSB7XHJcbiAgICAgICAgY29uc3QgbmFtZSA9IHJlcXVlc3QucXVlcnkua2V5O1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCB2aWRlbyA9IGF3YWl0IHZpZGVvTW9kZWwuZmluZCh7IG5hbWU6IHsgJHJlZ2V4OiBuYW1lLnRvTG93ZXJDYXNlKCkgfSB9KVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc2VuZCh2aWRlbylcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg3MDApLmpzb24oeyBtc2c6ICdObyBtYXRjaGluZyB2aWRlbycgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gc2VhcmNoIGFsbCB2aWRlb3MgYW5kIGRpc3BsYXlcclxuICAgIGFzeW5jIGZpbmRBbGxWaWRlbyhyZXF1ZXN0LCByZXNwb25zZSkge1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgdmlkZW8gPSBhd2FpdCB2aWRlb01vZGVsLmZpbmQoKVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc2VuZCh2aWRlbylcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg3MDApLmpzb24oeyBtc2c6ICdObyB2aWRlb3MnIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gc2VhcmNoIHZpZGVvIGJ5IHVzZXJuYW1lXHJcbiAgICBhc3luYyBzZWFyY2hVVmlkZW8ocmVxdWVzdCwgcmVzcG9uc2UpIHtcclxuICAgICAgICBjb25zdCBuYW1lID0gcmVxdWVzdC5xdWVyeS5rZXk7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IHZpZGVvID0gYXdhaXQgdmlkZW9Nb2RlbC5maW5kKHsgdXNlcm5hbWU6IHsgJHJlZ2V4OiBuYW1lIH0gfSlcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnNlbmQodmlkZW8pXHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNzAwKS5qc29uKHsgbXNnOiAnTm8gbWF0Y2hpbmcgdmlkZW8nIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIHNlYXJjaCB2aWRlbyBieSBjYXRlZ29yeVxyXG4gICAgYXN5bmMgc2VhcmNoQ2F0KHJlcXVlc3QsIHJlc3BvbnNlKSB7XHJcbiAgICAgICAgY29uc3QgY2F0ID0gcmVxdWVzdC5xdWVyeS5rZXk7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IHZpZGVvID0gYXdhaXQgdmlkZW9Nb2RlbC5maW5kKHsgY2F0ZWdvcnk6IHsgJHJlZ2V4OiBjYXQgfSB9KVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc2VuZCh2aWRlbylcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg3MDApLmpzb24oeyBtc2c6ICdObyBtYXRjaGluZyB2aWRlbycgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gc3RyZWFtIHZpZGVvIFxyXG4gICAgc3RyZWFtKHJlcXVlc3QsIHJlc3BvbnNlKSB7XHJcbiAgICAgICAgY29uc3QgcmFuZ2UgPSByZXF1ZXN0LmhlYWRlcnMucmFuZ2VcclxuICAgICAgICBpZiAoIXJhbmdlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNDAwKS5qc29uKHsgbXNnOiAnUmFuZ2UgaGVhZGVyIGlzIHJlcXVpcmVkIHRvIHN0YXJ0JyB9KVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB2aWRlb3BhdGggPSBgdmlkZW9zLyR7cmVxdWVzdC5wYXJhbXMuZmlsZW5hbWV9YDtcclxuICAgICAgICBjb25zdCB2aWRlb3NpemUgPSBmcy5zdGF0U3luYyh2aWRlb3BhdGgpLnNpemU7ICAvLyBnZXQgdmlkZW8gc2l6ZVxyXG5cclxuICAgICAgICBjb25zdCBzdGFydCA9IE51bWJlcihyYW5nZS5yZXBsYWNlKC9cXEQvZywgXCJcIikpOyAgLy9nZXQgc3RhcnQgcG9pbnQgXHJcbiAgICAgICAgY29uc3QgY2h1bmtfc2l6ZSA9IDEwICoqIDYgLy8gMSBtYiAsIGNodW5jayBzaXplXHJcbiAgICAgICAgY29uc3QgZW5kID0gTWF0aC5taW4oc3RhcnQgKyBjaHVua19zaXplLCB2aWRlb3NpemUgLSAxKTsgICAvL2VuZCBwb3NpdGlvblxyXG5cclxuICAgICAgICBjb25zdCBjb250ZW5MZW5ndGggPSBlbmQgLSBzdGFydCArIDEgIC8vIGhvdyBtYW55ICBzaXplIHNlbmRpbmdcclxuICAgICAgICBjb25zdCBoZWFyZGVycyA9IHtcclxuICAgICAgICAgICAgJ0NvbnRlbnQtTGVuZ3RoJzogY29udGVuTGVuZ3RoLFxyXG4gICAgICAgICAgICAnQWNjZXB0LVJhbmdlJzogJ2J5dGVzJyxcclxuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICd2aWRlby9tcDQwJyxcclxuICAgICAgICAgICAgJ0NvbnRlbnQtUmFuZ2UnOiBgYnl0ZXMgJHtzdGFydH0gLSR7ZW5kfS8ke3ZpZGVvc2l6ZX1gICAgLy9kZWNpc2UgaG93IGZhciB2aWRlbyBnb25lXHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICByZXNwb25zZS53cml0ZUhlYWQoMjA2LCBoZWFyZGVycyk7XHJcbiAgICAgICAgY29uc3QgdmlkZW9zdHJlYW0gPSBmcy5jcmVhdGVSZWFkU3RyZWFtKHZpZGVvcGF0aCwgeyBzdGFydCwgZW5kIH0pOyAvLyBjcmVhdGUgdmlkZW8gc3RyZWFtXHJcbiAgICAgICAgdmlkZW9zdHJlYW0ucGlwZShyZXNwb25zZSlcclxuICAgIH1cclxuXHJcbiAgICBkZWxldGUocmVxdWVzdCwgcmVzcG9uc2UpIHtcclxuXHJcbiAgICAgICAgY29uc3QgdmlkZW9faWQgPSByZXF1ZXN0LnF1ZXJ5LnZpZGVvX2lkO1xyXG4gICAgICAgIGNvbnN0IHZpZGVvX3BhdGggPSByZXF1ZXN0LnF1ZXJ5LnZpZGVvX3BhdGg7XHJcbiAgICAgICAgY29uc3QgdmlkZW9wYXRoID0gYHZpZGVvcy8ke3ZpZGVvX3BhdGh9YDtcclxuICAgICAgICBpZiAoZnMuZXhpc3RzU3luYyh2aWRlb3BhdGgpKSB7XHJcbiAgICAgICAgICAgIGZzLnVubGluayh2aWRlb3BhdGgsIChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oeyBtc2c6ICdOZXR3b3JrIEVycm9yOiBGYWlsZWQgdG8gZGVsZXRlIHZpZGVvJyB9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmlkZW9Nb2RlbC5maW5kT25lQW5kRGVsZXRlKHsgX2lkOiB2aWRlb19pZCB9LCAoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oeyBtc2c6ICdOZXR3b3JrIEVycm9yOiBGYWlsZWQgdG8gZGVsZXRlIHZpZGVvJyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7IG1zZzogJyB2aWRlbyBkZWxldGUnIH0pXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBkZWxldGVfdXNlcl9hbGxfdmlkZW9zKHJlcXVlc3QsIHJlc3BvbnNlKSB7XHJcbiAgICAgICAgY29uc3QgZGVsZXRlX3VzZXJuYW1lID0gcmVxdWVzdC5xdWVyeS51c2VybmFtZTtcclxuICAgICAgICBjb25zdCB1c2VyX3ZpZGVvX2xpc3QgPSByZXF1ZXN0LnF1ZXJ5LnZpZGVvX2xpc3Q7XHJcbiAgICAgICAgaWYgKHVzZXJfdmlkZW9fbGlzdCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdXNlcl92aWRlb19saXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmlkZW9wYXRoID0gYHZpZGVvcy8ke3VzZXJfdmlkZW9fbGlzdFtpXX1gO1xyXG4gICAgICAgICAgICAgICAgaWYgKGZzLmV4aXN0c1N5bmModmlkZW9wYXRoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZzLnVubGluayh2aWRlb3BhdGgsIChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAnTmV0d29yayBFcnJvcjogRmFpbGVkIHRvIGRlbGV0ZSB2aWRlbycgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGF3YWl0IHZpZGVvTW9kZWwuZGVsZXRlTWFueSh7IHVzZXJuYW1lOiBkZWxldGVfdXNlcm5hbWUgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7OzsrQ0FEQSxvSjs7Ozs7Ozs7Ozs7O0lBR2FBLGU7Ozs7Ozs7OytFQUNULGlCQUFhQyxPQUFiLEVBQXNCQyxRQUF0QjtRQUFBO1FBQUE7VUFBQTtZQUFBO2NBQUE7Z0JBRVVDLFFBRlYsR0FFcUIsSUFBSUMsaUJBQUosQ0FBZTtrQkFDNUJDLEtBQUssRUFBRUosT0FBTyxDQUFDSyxLQUFSLENBQWNDLEdBRE87a0JBRTVCQyxRQUFRLEVBQUVQLE9BQU8sQ0FBQ1EsSUFBUixDQUFhRCxRQUZLO2tCQUc1QkUsUUFBUSxFQUFFVCxPQUFPLENBQUNRLElBQVIsQ0FBYUMsUUFISztrQkFJNUJDLElBQUksRUFBRVYsT0FBTyxDQUFDUSxJQUFSLENBQWFFLElBSlM7a0JBSzVCQyxTQUFTLEVBQUVYLE9BQU8sQ0FBQ1ksUUFMUztrQkFNNUJDLFdBQVcsRUFBRWIsT0FBTyxDQUFDUSxJQUFSLENBQWFLO2dCQU5FLENBQWYsQ0FGckI7Z0JBQUE7Z0JBQUE7Z0JBQUEsT0FZZ0NYLFFBQVEsQ0FBQ1ksSUFBVCxFQVpoQzs7Y0FBQTtnQkFZY0MsU0FaZDtnQkFBQSxpQ0FhZWQsUUFBUSxDQUFDZSxNQUFULENBQWdCLEdBQWhCLEVBQXFCQyxJQUFyQixDQUEwQjtrQkFBRUMsR0FBRyxFQUFFO2dCQUFQLENBQTFCLENBYmY7O2NBQUE7Z0JBQUE7Z0JBQUE7Z0JBQUEsaUNBZWVqQixRQUFRLENBQUNlLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCO2tCQUFFQyxHQUFHLEVBQUU7Z0JBQVAsQ0FBMUIsQ0FmZjs7Y0FBQTtjQUFBO2dCQUFBO1lBQUE7VUFBQTtRQUFBO01BQUEsQzs7Ozs7Ozs7OztXQW9CQSxjQUFLbEIsT0FBTCxFQUFjQyxRQUFkLEVBQXdCO01BQ3BCLElBQU1rQixRQUFRLEdBQUduQixPQUFPLENBQUNvQixL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","map":{"version":3,"names":["VideoController","request","response","newVideo","videoModel","owner","token","_id","username","body","category","name","videopath","filename","description","save","saveVideo","status","json","msg","video_id","query","id","operation","findOneAndUpdate","$inc","likes","error","doc","dislikes","key","find","$regex","toLowerCase","video","send","cat","range","headers","params","videosize","fs","statSync","size","start","Number","replace","chunk_size","end","Math","min","contenLength","hearders","writeHead","videostream","createReadStream","pipe","video_path","existsSync","unlink","findOneAndDelete","delete_username","user_video_list","video_list","undefined","i","length","deleteMany"],"sourceRoot":"C:\\Users\\32108\\Documents\\GitHub\\IT-PROJECT\\backend3\\src\\Controller\\","sources":["Video.controller.js"],"sourcesContent":["import { videoModel } from '../Models/Video.model'\r\nimport fs from 'fs'\r\nimport { NONAME } from 'dns'\r\n\r\nexport class VideoController {\r\n    async upload(request, response) {\r\n\r\n        const newVideo = new videoModel({\r\n            owner: request.token._id,\r\n            username: request.body.username,\r\n            category: request.body.category,\r\n            name: request.body.name,\r\n            videopath: request.filename,\r\n            description: request.body.description\r\n        })\r\n\r\n        try {\r\n            const saveVideo = await newVideo.save()\r\n            return response.status(201).json({ msg: 'Video uploaded successfully' })\r\n        } catch (error) {\r\n            return response.status(500).json({ msg: 'Video upload failed' })\r\n        }\r\n    }\r\n\r\n\r\n    like(request, response) {\r\n        const video_id = request.query.id;\r\n        const operation = request.query.operation\r\n        if (operation === 'false') {\r\n            videoModel.findOneAndUpdate({ _id: video_id }, { $inc: { likes: -1 } },\r\n                { new: true }, (error, doc) => {\r\n                    if (error) {\r\n                        return response.status(500).json({ msg: 'Network Error: Failed to cancel like video' })\r\n                    }\r\n                    return response.status(200).json({ msg: 'Video like cancelled' })\r\n                })\r\n\r\n        } else {\r\n            videoModel.findOneAndUpdate({ _id: video_id }, { $inc: { likes: 1 } },\r\n                { new: true }, (error, doc) => {\r\n                    if (error) {\r\n                        return response.status(500).json({ msg: 'Network Error: Failed to like video' })\r\n                    }\r\n                    return response.status(200).json({ msg: 'Video liked' })\r\n                })\r\n        }\r\n    }\r\n\r\n    dislike(request, response) {\r\n        const video_id = request.query.id;\r\n        const operation = request.query.operation\r\n        if (operation === 'false') {\r\n            videoModel.findOneAndUpdate({ _id: video_id }, { $inc: { dislikes: -1 } },\r\n                { new: true }, (error, doc) => {\r\n                    if (error) {\r\n                        return response.status(500).json({ msg: 'Network Error: Failed to cancel dislike video' })\r\n                    }\r\n                    return response.status(200).json({ msg: 'Video dislike cancelled' })\r\n                })\r\n\r\n        } else {\r\n            videoModel.findOneAndUpdate({ _id: video_id }, { $inc: { dislikes: 1 } },\r\n                { new: true }, (error, doc) => {\r\n                    if (error) {\r\n                        return response.status(500).json({ msg: 'Network Error: Failed to dislike video' })\r\n                    }\r\n                    return response.status(200).json({ msg: 'Video disliked' })\r\n                })\r\n        }\r\n    }\r\n\r\n    async searchVideo(request, response) {\r\n        const name = request.query.key;\r\n        try {\r\n            let video = await videoModel.find({ name: { $regex: name.toLowerCase() } })\r\n            return response.send(video)\r\n\r\n        } catch (error) {\r\n            return response.status(700).json({ msg: 'No matching video' })\r\n        }\r\n    }\r\n\r\n    // search all videos and display\r\n    async findAllVideo(request, response) {\r\n\r\n        try {\r\n            let video = await videoModel.find()\r\n            return response.send(video)\r\n\r\n        } catch (error) {\r\n            return response.status(700).json({ msg: 'No videos' })\r\n        }\r\n    }\r\n    // search video by username\r\n    async searchUVideo(request, response) {\r\n        const name = request.query.key;\r\n        try {\r\n            let video = await videoModel.find({ username: { $regex: name } })\r\n            return response.send(video)\r\n\r\n        } catch (error) {\r\n            return response.status(700).json({ msg: 'No matching video' })\r\n        }\r\n    }\r\n\r\n    // search video by category\r\n    async searchCat(request, response) {\r\n        const cat = request.query.key;\r\n        try {\r\n            let video = await videoModel.find({ category: { $regex: cat } })\r\n            return response.send(video)\r\n\r\n        } catch (error) {\r\n            return response.status(700).json({ msg: 'No matching video' })\r\n        }\r\n    }\r\n\r\n    // stream video \r\n    stream(request, response) {\r\n        const range = request.headers.range\r\n        if (!range) {\r\n            return response.status(400).json({ msg: 'Range header is required to start' })\r\n        }\r\n        const videopath = `videos/${request.params.filename}`;\r\n        const videosize = fs.statSync(videopath).size;  // get video size\r\n\r\n        const start = Number(range.replace(/\\D/g, \"\"));  //get start point \r\n        const chunk_size = 10 ** 6 // 1 mb , chunck size\r\n        const end = Math.min(start + chunk_size, videosize - 1);   //end position\r\n\r\n        const contenLength = end - start + 1  // how many  size sending\r\n        const hearders = {\r\n            'Content-Length': contenLength,\r\n            'Accept-Range': 'bytes',\r\n            'Content-Type': 'video/mp40',\r\n            'Content-Range': `bytes ${start} -${end}/${videosize}`   //decise how far video gone\r\n\r\n        }\r\n        response.writeHead(206, hearders);\r\n        const videostream = fs.createReadStream(videopath, { start, end }); // create video stream\r\n        videostream.pipe(response)\r\n    }\r\n\r\n    delete(request, response) {\r\n\r\n        const video_id = request.query.video_id;\r\n        const video_path = request.query.video_path;\r\n        const videopath = `videos/${video_path}`;\r\n        if (fs.existsSync(videopath)) {\r\n            fs.unlink(videopath, (error) => {\r\n                if (error) {\r\n                    return response.status(500).json({ msg: 'Network Error: Failed to delete video' })\r\n                }\r\n                videoModel.findOneAndDelete({ _id: video_id }, (error) => {\r\n                    if (error) {\r\n                        return response.status(500).json({ msg: 'Network Error: Failed to delete video' })\r\n                    }\r\n                    return response.status(200).json({ msg: ' video delete' })\r\n                })\r\n            })\r\n        }\r\n    }\r\n\r\n    async delete_user_all_videos(request, response) {\r\n        const delete_username = request.query.username;\r\n        const user_video_list = request.query.video_list;\r\n        if (user_video_list !== undefined) {\r\n            for (let i = 0; i < user_video_list.length; i++) {\r\n                var videopath = `videos/${user_video_list[i]}`;\r\n                if (fs.existsSync(videopath)) {\r\n                    fs.unlink(videopath, (error) => {\r\n                        if (error) {\r\n                            return response.status(500).json({ msg: 'Network Error: Failed to delete video' })\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n\r\n            await videoModel.deleteMany({ username: delete_username });\r\n        }\r\n    }\r\n}"],"mappings":"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"}},"mtime":1666071604606}}
>>>>>>> Stashed changes
=======
{"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"filename\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _mongoose = require(\"mongoose\");\n\nvar _dotenv = require(\"dotenv\");\n\nvar _Auth_routes = _interopRequireDefault(require(\"./Routes/Auth_routes.js\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _Video_routes = _interopRequireDefault(require(\"./Routes/Video_routes.js\"));\n\nvar _process$env$PORT;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n(0, _dotenv.config)();\nvar server = (0, _express[\"default\"])(); //==============MiddleWares===========================================\n\nserver.use((0, _cors[\"default\"])()); //==========mongo DB connection========================================\n\nvar mongoURI = process.env.mongoURI;\n(0, _mongoose.connect)(mongoURI, function (error) {\n  if (error) {\n    return console.log(error);\n  }\n\n  console.log('connection to mongo DB successful!!!');\n}); //==============================server endpoints=============================\n\nserver.use(_Auth_routes[\"default\"]);\nserver.use(_Video_routes[\"default\"]);\nvar PORT = (_process$env$PORT = process.env.PORT) !== null && _process$env$PORT !== void 0 ? _process$env$PORT : 3000;\nserver.listen(PORT, function () {\n  console.log(\"Server started on PORT \".concat(PORT));\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25maWciLCJzZXJ2ZXIiLCJleHByZXNzIiwidXNlIiwiY29ycyIsIm1vbmdvVVJJIiwicHJvY2VzcyIsImVudiIsImNvbm5lY3QiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJBdXRoUm91dGVzIiwiVmlkZW9Sb3V0ZXMiLCJQT1JUIiwibGlzdGVuIl0sInNvdXJjZVJvb3QiOiJEOlxcU2Nob29sXFxJVCBQcm9qZWN0XFxJVC1QUk9KRUNUXFxiYWNrZW5kM1xcc3JjXFwiLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcclxuaW1wb3J0eyBjb25uZWN0IH0gZnJvbSAnbW9uZ29vc2UnO1xyXG5pbXBvcnR7IGNvbmZpZyB9IGZyb20gJ2RvdGVudic7XHJcbmltcG9ydCBBdXRoUm91dGVzIGZyb20gJy4vUm91dGVzL0F1dGhfcm91dGVzLmpzJ1xyXG5pbXBvcnQgY29ycyBmcm9tICdjb3JzJ1xyXG5pbXBvcnQgVmlkZW9Sb3V0ZXMgZnJvbSAnLi9Sb3V0ZXMvVmlkZW9fcm91dGVzLmpzJ1xyXG5cclxuY29uZmlnKCk7XHJcblxyXG5jb25zdCBzZXJ2ZXIgPSBleHByZXNzKCk7XHJcbi8vPT09PT09PT09PT09PT1NaWRkbGVXYXJlcz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuc2VydmVyLnVzZShjb3JzKCkpXHJcbi8vPT09PT09PT09PW1vbmdvIERCIGNvbm5lY3Rpb249PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbmNvbnN0IG1vbmdvVVJJID0gcHJvY2Vzcy5lbnYubW9uZ29VUkk7XHJcbmNvbm5lY3QobW9uZ29VUkksIChlcnJvcik9PntcclxuICAgIGlmKGVycm9yKXtcclxuICAgICAgICByZXR1cm4gY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgfVxyXG4gICAgY29uc29sZS5sb2coJ2Nvbm5lY3Rpb24gdG8gbW9uZ28gREIgc3VjY2Vzc2Z1bCEhIScpXHJcbn0pXHJcblxyXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PXNlcnZlciBlbmRwb2ludHM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5zZXJ2ZXIudXNlKEF1dGhSb3V0ZXMpXHJcbnNlcnZlci51c2UoVmlkZW9Sb3V0ZXMpXHJcblxyXG5jb25zdCBQT1JUID0gcHJvY2Vzcy5lbnYuUE9SVCA/PyAzMDAwO1xyXG5cclxuXHJcbnNlcnZlci5saXN0ZW4oUE9SVCwgKCk9PntcclxuICAgIGNvbnNvbGUubG9nKGBTZXJ2ZXIgc3RhcnRlZCBvbiBQT1JUICR7UE9SVH1gKVxyXG59KSJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7Ozs7O0FBRUEsSUFBQUEsY0FBQTtBQUVBLElBQU1DLE1BQU0sR0FBRyxJQUFBQyxtQkFBQSxHQUFmLEMsQ0FDQTs7QUFDQUQsTUFBTSxDQUFDRSxHQUFQLENBQVcsSUFBQUMsZ0JBQUEsR0FBWCxFLENBQ0E7O0FBQ0EsSUFBTUMsUUFBUSxHQUFHQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUYsUUFBN0I7QUFDQSxJQUFBRyxpQkFBQSxFQUFRSCxRQUFSLEVBQWtCLFVBQUNJLEtBQUQsRUFBUztFQUN2QixJQUFHQSxLQUFILEVBQVM7SUFDTCxPQUFPQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUYsS0FBWixDQUFQO0VBQ0g7O0VBQ0RDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLHNDQUFaO0FBQ0gsQ0FMRCxFLENBT0E7O0FBQ0FWLE1BQU0sQ0FBQ0UsR0FBUCxDQUFXUyx1QkFBWDtBQUNBWCxNQUFNLENBQUNFLEdBQVAsQ0FBV1Usd0JBQVg7QUFFQSxJQUFNQyxJQUFJLHdCQUFHUixPQUFPLENBQUNDLEdBQVIsQ0FBWU8sSUFBZixpRUFBdUIsSUFBakM7QUFHQWIsTUFBTSxDQUFDYyxNQUFQLENBQWNELElBQWQsRUFBb0IsWUFBSTtFQUNwQkosT0FBTyxDQUFDQyxHQUFSLGtDQUFzQ0csSUFBdEM7QUFDSCxDQUZEIn0=","map":{"version":3,"names":["config","server","express","use","cors","mongoURI","process","env","connect","error","console","log","AuthRoutes","VideoRoutes","PORT","listen"],"sourceRoot":"D:\\School\\IT Project\\IT-PROJECT\\backend3\\src\\","sources":["server.js"],"sourcesContent":["import express from 'express';\r\nimport{ connect } from 'mongoose';\r\nimport{ config } from 'dotenv';\r\nimport AuthRoutes from './Routes/Auth_routes.js'\r\nimport cors from 'cors'\r\nimport VideoRoutes from './Routes/Video_routes.js'\r\n\r\nconfig();\r\n\r\nconst server = express();\r\n//==============MiddleWares===========================================\r\nserver.use(cors())\r\n//==========mongo DB connection========================================\r\nconst mongoURI = process.env.mongoURI;\r\nconnect(mongoURI, (error)=>{\r\n    if(error){\r\n        return console.log(error);\r\n    }\r\n    console.log('connection to mongo DB successful!!!')\r\n})\r\n\r\n//==============================server endpoints=============================\r\nserver.use(AuthRoutes)\r\nserver.use(VideoRoutes)\r\n\r\nconst PORT = process.env.PORT ?? 3000;\r\n\r\n\r\nserver.listen(PORT, ()=>{\r\n    console.log(`Server started on PORT ${PORT}`)\r\n})"],"mappings":";;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;AAEA,IAAAA,cAAA;AAEA,IAAMC,MAAM,GAAG,IAAAC,mBAAA,GAAf,C,CACA;;AACAD,MAAM,CAACE,GAAP,CAAW,IAAAC,gBAAA,GAAX,E,CACA;;AACA,IAAMC,QAAQ,GAAGC,OAAO,CAACC,GAAR,CAAYF,QAA7B;AACA,IAAAG,iBAAA,EAAQH,QAAR,EAAkB,UAACI,KAAD,EAAS;EACvB,IAAGA,KAAH,EAAS;IACL,OAAOC,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAP;EACH;;EACDC,OAAO,CAACC,GAAR,CAAY,sCAAZ;AACH,CALD,E,CAOA;;AACAV,MAAM,CAACE,GAAP,CAAWS,uBAAX;AACAX,MAAM,CAACE,GAAP,CAAWU,wBAAX;AAEA,IAAMC,IAAI,wBAAGR,OAAO,CAACC,GAAR,CAAYO,IAAf,iEAAuB,IAAjC;AAGAb,MAAM,CAACc,MAAP,CAAcD,IAAd,EAAoB,YAAI;EACpBJ,OAAO,CAACC,GAAR,kCAAsCG,IAAtC;AACH,CAFD"}},"mtime":1667981470098},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"filename\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Routes\\\\Auth.routes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _express = require(\"express\");\n\nvar _Auth = require(\"../Controller/Auth.controller\");\n\nvar router = (0, _express.Router)();\nvar Controller = new _Auth.AuthController(); //router.post('/app/signup')\n\nrouter.post('/api/signup', function (request, response) {\n  Controller.signup(request, response);\n});\nrouter.post('/api/signin', function (request, response) {\n  Controller.signin(request, response);\n}); // reset password\n\nrouter.post('/api/password-reset', function (request, response) {\n  Controller.forgotPassword(request, response);\n}); // delet a user from mongo DB\n\nrouter.post('/api/delete', function (request, response) {\n  Controller[\"delete\"](request, response);\n}); //find all user and return \n\nrouter.get('/api/findall', function (request, response) {\n  Controller.findAllUser(request, response);\n}); // update user information\n\nrouter.put('/api/update/:email', function (request, response) {\n  Controller.update(request, response);\n}); // search for a user\n\nrouter.get('/api/user-search/', function (request, response) {\n  Controller.searchUser(request, response);\n}); // Update user info including  email, password, username, age and gender\n\nrouter.post('/api/update', function (request, response) {\n  Controller.update(request, response);\n});\nvar _default = router; //module.exports = router;\n\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJSb3V0ZXIiLCJDb250cm9sbGVyIiwiQXV0aENvbnRyb2xsZXIiLCJwb3N0IiwicmVxdWVzdCIsInJlc3BvbnNlIiwic2lnbnVwIiwic2lnbmluIiwiZm9yZ290UGFzc3dvcmQiLCJnZXQiLCJmaW5kQWxsVXNlciIsInB1dCIsInVwZGF0ZSIsInNlYXJjaFVzZXIiXSwic291cmNlUm9vdCI6IkQ6XFxTY2hvb2xcXElUIFByb2plY3RcXElULVBST0pFQ1RcXGJhY2tlbmQzXFxzcmNcXFJvdXRlc1xcIiwic291cmNlcyI6WyJBdXRoLnJvdXRlcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSb3V0ZXIgfSBmcm9tICdleHByZXNzJztcclxuaW1wb3J0IHsgQXV0aENvbnRyb2xsZXIgfSBmcm9tICcuLi9Db250cm9sbGVyL0F1dGguY29udHJvbGxlcic7XHJcblxyXG5cclxuY29uc3Qgcm91dGVyID0gUm91dGVyKCk7XHJcbmNvbnN0IENvbnRyb2xsZXIgPSBuZXcgQXV0aENvbnRyb2xsZXIoKTtcclxuXHJcbi8vcm91dGVyLnBvc3QoJy9hcHAvc2lnbnVwJylcclxucm91dGVyLnBvc3QoJy9hcGkvc2lnbnVwJywgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XHJcbiAgICBDb250cm9sbGVyLnNpZ251cChyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcbnJvdXRlci5wb3N0KCcvYXBpL3NpZ25pbicsIChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xyXG4gICAgQ29udHJvbGxlci5zaWduaW4ocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG4vLyByZXNldCBwYXNzd29yZFxyXG5yb3V0ZXIucG9zdCgnL2FwaS9wYXNzd29yZC1yZXNldCcsIChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xyXG4gICAgQ29udHJvbGxlci5mb3Jnb3RQYXNzd29yZChyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcblxyXG4vLyBkZWxldCBhIHVzZXIgZnJvbSBtb25nbyBEQlxyXG5yb3V0ZXIucG9zdCgnL2FwaS9kZWxldGUnLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgIENvbnRyb2xsZXIuZGVsZXRlKHJlcXVlc3QsIHJlc3BvbnNlKVxyXG59KVxyXG5cclxuLy9maW5kIGFsbCB1c2VyIGFuZCByZXR1cm4gXHJcbnJvdXRlci5nZXQoJy9hcGkvZmluZGFsbCcsIChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xyXG4gICAgQ29udHJvbGxlci5maW5kQWxsVXNlcihyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcbi8vIHVwZGF0ZSB1c2VyIGluZm9ybWF0aW9uXHJcbnJvdXRlci5wdXQoJy9hcGkvdXBkYXRlLzplbWFpbCcsIChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xyXG4gICAgQ29udHJvbGxlci51cGRhdGUocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG5cclxuLy8gc2VhcmNoIGZvciBhIHVzZXJcclxucm91dGVyLmdldCgnL2FwaS91c2VyLXNlYXJjaC8nLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgIENvbnRyb2xsZXIuc2VhcmNoVXNlcihyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcbi8vIFVwZGF0ZSB1c2VyIGluZm8gaW5jbHVkaW5nICBlbWFpbCwgcGFzc3dvcmQsIHVzZXJuYW1lLCBhZ2UgYW5kIGdlbmRlclxyXG5yb3V0ZXIucG9zdCgnL2FwaS91cGRhdGUnLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgIENvbnRyb2xsZXIudXBkYXRlKHJlcXVlc3QsIHJlc3BvbnNlKVxyXG59KVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XHJcbi8vbW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBR0EsSUFBTUEsTUFBTSxHQUFHLElBQUFDLGVBQUEsR0FBZjtBQUNBLElBQU1DLFVBQVUsR0FBRyxJQUFJQyxvQkFBSixFQUFuQixDLENBRUE7O0FBQ0FILE1BQU0sQ0FBQ0ksSUFBUCxDQUFZLGFBQVosRUFBMkIsVUFBQ0MsT0FBRCxFQUFVQyxRQUFWLEVBQXVCO0VBQzlDSixVQUFVLENBQUNLLE1BQVgsQ0FBa0JGLE9BQWxCLEVBQTJCQyxRQUEzQjtBQUNILENBRkQ7QUFJQU4sTUFBTSxDQUFDSSxJQUFQLENBQVksYUFBWixFQUEyQixVQUFDQyxPQUFELEVBQVVDLFFBQVYsRUFBdUI7RUFDOUNKLFVBQVUsQ0FBQ00sTUFBWCxDQUFrQkgsT0FBbEIsRUFBMkJDLFFBQTNCO0FBQ0gsQ0FGRCxFLENBSUE7O0FBQ0FOLE1BQU0sQ0FBQ0ksSUFBUCxDQUFZLHFCQUFaLEVBQW1DLFVBQUNDLE9BQUQsRUFBVUMsUUFBVixFQUF1QjtFQUN0REosVUFBVSxDQUFDTyxjQUFYLENBQTBCSixPQUExQixFQUFtQ0MsUUFBbkM7QUFDSCxDQUZELEUsQ0FLQTs7QUFDQU4sTUFBTSxDQUFDSSxJQUFQLENBQVksYUFBWixFQUEyQixVQUFDQyxPQUFELEVBQVVDLFFBQVYsRUFBdUI7RUFDOUNKLFVBQVUsVUFBVixDQUFrQkcsT0FBbEIsRUFBMkJDLFFBQTNCO0FBQ0gsQ0FGRCxFLENBSUE7O0FBQ0FOLE1BQU0sQ0FBQ1UsR0FBUCxDQUFXLGNBQVgsRUFBMkIsVUFBQ0wsT0FBRCxFQUFVQyxRQUFWLEVBQXVCO0VBQzlDSixVQUFVLENBQUNTLFdBQVgsQ0FBdUJOLE9BQXZCLEVBQWdDQyxRQUFoQztBQUNILENBRkQsRSxDQUlBOztBQUNBTixNQUFNLENBQUNZLEdBQVAsQ0FBVyxvQkFBWCxFQUFpQyxVQUFDUCxPQUFELEVBQVVDLFFBQVYsRUFBdUI7RUFDcERKLFVBQVUsQ0FBQ1csTUFBWCxDQUFrQlIsT0FBbEIsRUFBMkJDLFFBQTNCO0FBQ0gsQ0FGRCxFLENBS0E7O0FBQ0FOLE1BQU0sQ0FBQ1UsR0FBUCxDQUFXLG1CQUFYLEVBQWdDLFVBQUNMLE9BQUQsRUFBVUMsUUFBVixFQUF1QjtFQUNuREosVUFBVSxDQUFDWSxVQUFYLENBQXNCVCxPQUF0QixFQUErQkMsUUFBL0I7QUFDSCxDQUZELEUsQ0FJQTs7QUFDQU4sTUFBTSxDQUFDSSxJQUFQLENBQVksYUFBWixFQUEyQixVQUFDQyxPQUFELEVBQVVDLFFBQVYsRUFBdUI7RUFDOUNKLFVBQVUsQ0FBQ1csTUFBWCxDQUFrQlIsT0FBbEIsRUFBMkJDLFFBQTNCO0FBQ0gsQ0FGRDtlQVNlTixNLEVBQ2YifQ==","map":{"version":3,"names":["router","Router","Controller","AuthController","post","request","response","signup","signin","forgotPassword","get","findAllUser","put","update","searchUser"],"sourceRoot":"D:\\School\\IT Project\\IT-PROJECT\\backend3\\src\\Routes\\","sources":["Auth.routes.js"],"sourcesContent":["import { Router } from 'express';\r\nimport { AuthController } from '../Controller/Auth.controller';\r\n\r\n\r\nconst router = Router();\r\nconst Controller = new AuthController();\r\n\r\n//router.post('/app/signup')\r\nrouter.post('/api/signup', (request, response) => {\r\n    Controller.signup(request, response)\r\n})\r\n\r\nrouter.post('/api/signin', (request, response) => {\r\n    Controller.signin(request, response)\r\n})\r\n\r\n// reset password\r\nrouter.post('/api/password-reset', (request, response) => {\r\n    Controller.forgotPassword(request, response)\r\n})\r\n\r\n\r\n// delet a user from mongo DB\r\nrouter.post('/api/delete', (request, response) => {\r\n    Controller.delete(request, response)\r\n})\r\n\r\n//find all user and return \r\nrouter.get('/api/findall', (request, response) => {\r\n    Controller.findAllUser(request, response)\r\n})\r\n\r\n// update user information\r\nrouter.put('/api/update/:email', (request, response) => {\r\n    Controller.update(request, response)\r\n})\r\n\r\n\r\n// search for a user\r\nrouter.get('/api/user-search/', (request, response) => {\r\n    Controller.searchUser(request, response)\r\n})\r\n\r\n// Update user info including  email, password, username, age and gender\r\nrouter.post('/api/update', (request, response) => {\r\n    Controller.update(request, response)\r\n})\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default router;\r\n//module.exports = router;"],"mappings":";;;;;;;AAAA;;AACA;;AAGA,IAAMA,MAAM,GAAG,IAAAC,eAAA,GAAf;AACA,IAAMC,UAAU,GAAG,IAAIC,oBAAJ,EAAnB,C,CAEA;;AACAH,MAAM,CAACI,IAAP,CAAY,aAAZ,EAA2B,UAACC,OAAD,EAAUC,QAAV,EAAuB;EAC9CJ,UAAU,CAACK,MAAX,CAAkBF,OAAlB,EAA2BC,QAA3B;AACH,CAFD;AAIAN,MAAM,CAACI,IAAP,CAAY,aAAZ,EAA2B,UAACC,OAAD,EAAUC,QAAV,EAAuB;EAC9CJ,UAAU,CAACM,MAAX,CAAkBH,OAAlB,EAA2BC,QAA3B;AACH,CAFD,E,CAIA;;AACAN,MAAM,CAACI,IAAP,CAAY,qBAAZ,EAAmC,UAACC,OAAD,EAAUC,QAAV,EAAuB;EACtDJ,UAAU,CAACO,cAAX,CAA0BJ,OAA1B,EAAmCC,QAAnC;AACH,CAFD,E,CAKA;;AACAN,MAAM,CAACI,IAAP,CAAY,aAAZ,EAA2B,UAACC,OAAD,EAAUC,QAAV,EAAuB;EAC9CJ,UAAU,UAAV,CAAkBG,OAAlB,EAA2BC,QAA3B;AACH,CAFD,E,CAIA;;AACAN,MAAM,CAACU,GAAP,CAAW,cAAX,EAA2B,UAACL,OAAD,EAAUC,QAAV,EAAuB;EAC9CJ,UAAU,CAACS,WAAX,CAAuBN,OAAvB,EAAgCC,QAAhC;AACH,CAFD,E,CAIA;;AACAN,MAAM,CAACY,GAAP,CAAW,oBAAX,EAAiC,UAACP,OAAD,EAAUC,QAAV,EAAuB;EACpDJ,UAAU,CAACW,MAAX,CAAkBR,OAAlB,EAA2BC,QAA3B;AACH,CAFD,E,CAKA;;AACAN,MAAM,CAACU,GAAP,CAAW,mBAAX,EAAgC,UAACL,OAAD,EAAUC,QAAV,EAAuB;EACnDJ,UAAU,CAACY,UAAX,CAAsBT,OAAtB,EAA+BC,QAA/B;AACH,CAFD,E,CAIA;;AACAN,MAAM,CAACI,IAAP,CAAY,aAAZ,EAA2B,UAACC,OAAD,EAAUC,QAAV,EAAuB;EAC9CJ,UAAU,CAACW,MAAX,CAAkBR,OAAlB,EAA2BC,QAA3B;AACH,CAFD;eASeN,M,EACf"}},"mtime":1665981022554},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Controller\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"filename\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Controller\\\\Auth.controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AuthController = void 0;\n\nvar _formidable = require(\"formidable\");\n\nvar _bcrypt = require(\"bcrypt\");\n\nvar _dotenv = require(\"dotenv\");\n\nvar _jsonwebtoken = require(\"jsonwebtoken\");\n\nvar _User = require(\"../Models/User.model\");\n\nvar _Video = require(\"../Models/Video.model\");\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n(0, _dotenv.config)();\n\nvar AuthController = /*#__PURE__*/function () {\n  function AuthController() {\n    _classCallCheck(this, AuthController);\n  }\n\n  _createClass(AuthController, [{\n    key: \"signup\",\n    value: //signup method\n    function signup(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(error, fields, files) {\n          var username, email, password, age, gender, salt, hashedPassword, newAccount, savedAccount;\n          return _regeneratorRuntime().wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  if (!error) {\n                    _context.next = 2;\n                    break;\n                  }\n\n                  return _context.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to create account, maybe try again later'\n                  }));\n\n                case 2:\n                  username = fields.username, email = fields.email, password = fields.password, age = fields.age, gender = fields.gender;\n\n                  if (!(password.length > 20 || password.length < 6)) {\n                    _context.next = 5;\n                    break;\n                  }\n\n                  return _context.abrupt(\"return\", response.status(503).json({\n                    msg: 'Password length need to be 6-20 range'\n                  }));\n\n                case 5:\n                  if (!(age > 150 || age < 0)) {\n                    _context.next = 7;\n                    break;\n                  }\n\n                  return _context.abrupt(\"return\", response.status(502).json({\n                    msg: 'Invalid age'\n                  }));\n\n                case 7:\n                  _context.next = 9;\n                  return (0, _bcrypt.genSalt)(15);\n\n                case 9:\n                  salt = _context.sent;\n                  _context.next = 12;\n                  return (0, _bcrypt.hash)(password, salt);\n\n                case 12:\n                  hashedPassword = _context.sent;\n                  newAccount = new _User.userModel({\n                    username: username,\n                    email: email,\n                    password: hashedPassword,\n                    age: age,\n                    gender: gender\n                  }); // create an account successful or failed\n\n                  _context.prev = 14;\n                  _context.next = 17;\n                  return newAccount.save();\n\n                case 17:\n                  savedAccount = _context.sent;\n                  return _context.abrupt(\"return\", response.status(201).json({\n                    msg: 'Account created successfully'\n                  }));\n\n                case 21:\n                  _context.prev = 21;\n                  _context.t0 = _context[\"catch\"](14);\n                  console.log(_context.t0);\n                  return _context.abrupt(\"return\", response.status(501).json({\n                    msg: 'This account has been registered. Change email or username'\n                  }));\n\n                case 25:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, null, [[14, 21]]);\n        }));\n\n        return function (_x, _x2, _x3) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n    } // sign in\n\n  }, {\n    key: \"signin\",\n    value: function signin(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(error, fields, files) {\n          var account, password, isAccountEmail, _user, _isPasswordValid, _token_payload, _token, _username, user, isPasswordValid, token_payload, token, username;\n\n          return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  if (!error) {\n                    _context2.next = 2;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to signin'\n                  }));\n\n                case 2:\n                  account = fields.account, password = fields.password; // email log in \n\n                  isAccountEmail = account.includes('@');\n\n                  if (!isAccountEmail) {\n                    _context2.next = 19;\n                    break;\n                  }\n\n                  _context2.next = 7;\n                  return _User.userModel.findOne({\n                    email: account\n                  });\n\n                case 7:\n                  _user = _context2.sent;\n\n                  if (_user) {\n                    _context2.next = 10;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\", response.status(404).json({\n                    msg: 'Email of this account does not exist'\n                  }));\n\n                case 10:\n                  _context2.next = 12;\n                  return (0, _bcrypt.compare)(password, _user.password);\n\n                case 12:\n                  _isPasswordValid = _context2.sent;\n\n                  if (_isPasswordValid) {\n                    _context2.next = 15;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\", response.status(400).json({\n                    msg: 'Invalid password'\n                  }));\n\n                case 15:\n                  _token_payload = {\n                    _id: _user._id,\n                    email: _user.email,\n                    username: _user.username\n                  };\n                  _token = (0, _jsonwebtoken.sign)(_token_payload, process.env.cookie_secret, {\n                    expiresIn: '365d'\n                  });\n                  _username = _token_payload.username;\n                  return _context2.abrupt(\"return\", response.status(200).json({\n                    token: _token,\n                    username: _username\n                  }));\n\n                case 19:\n                  _context2.next = 21;\n                  return _User.userModel.findOne({\n                    username: account\n                  });\n\n                case 21:\n                  user = _context2.sent;\n\n                  if (user) {\n                    _context2.next = 24;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\", response.status(404).json({\n                    msg: 'username of this account does not exist'\n                  }));\n\n                case 24:\n                  _context2.next = 26;\n                  return (0, _bcrypt.compare)(password, user.password);\n\n                case 26:\n                  isPasswordValid = _context2.sent;\n\n                  if (isPasswordValid) {\n                    _context2.next = 29;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\", response.status(400).json({\n                    msg: 'Invalid password'\n                  }));\n\n                case 29:\n                  token_payload = {\n                    _id: user._id,\n                    email: user.email,\n                    username: user.username\n                  };\n                  token = (0, _jsonwebtoken.sign)(token_payload, process.env.cookie_secret, {\n                    expiresIn: '365d'\n                  });\n                  username = token_payload.username;\n                  return _context2.abrupt(\"return\", response.status(200).json({\n                    token: token,\n                    username: username\n                  }));\n\n                case 33:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2);\n        }));\n\n        return function (_x4, _x5, _x6) {\n          return _ref2.apply(this, arguments);\n        };\n      }());\n    } // forgot password and reset\n\n  }, {\n    key: \"forgotPassword\",\n    value: function forgotPassword(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(error, fields, files) {\n          var email, password, salt, hashedPassword, user, updatedAccount;\n          return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n            while (1) {\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  if (!error) {\n                    _context3.next = 2;\n                    break;\n                  }\n\n                  return _context3.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to rset password'\n                  }));\n\n                case 2:\n                  email = fields.email, password = fields.password;\n\n                  if (!(!email || !password)) {\n                    _context3.next = 5;\n                    break;\n                  }\n\n                  return _context3.abrupt(\"return\", response.status(400).json({\n                    msg: 'email and password are required to reset password '\n                  }));\n\n                case 5:\n                  _context3.next = 7;\n                  return (0, _bcrypt.genSalt)(15);\n\n                case 7:\n                  salt = _context3.sent;\n                  _context3.next = 10;\n                  return (0, _bcrypt.hash)(password, salt);\n\n                case 10:\n                  hashedPassword = _context3.sent;\n                  _context3.prev = 11;\n                  _context3.next = 14;\n                  return _User.userModel.findOne({\n                    email: email\n                  });\n\n                case 14:\n                  user = _context3.sent;\n\n                  if (user) {\n                    _context3.next = 17;\n                    break;\n                  }\n\n                  return _context3.abrupt(\"return\", response.status(404).json({\n                    msg: 'Account with this email does not exist'\n                  }));\n\n                case 17:\n                  _context3.next = 19;\n                  return _User.userModel.findOneAndUpdate({\n                    email: email\n                  }, {\n                    $set: {\n                      password: hashedPassword\n                    }\n                  }, {\n                    \"new\": true\n                  });\n\n                case 19:\n                  updatedAccount = _context3.sent;\n                  return _context3.abrupt(\"return\", response.status(200).json({\n                    msg: 'Password rest successful'\n                  }));\n\n                case 23:\n                  _context3.prev = 23;\n                  _context3.t0 = _context3[\"catch\"](11);\n                  return _context3.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to reset password'\n                  }));\n\n                case 26:\n                case \"end\":\n                  return _context3.stop();\n              }\n            }\n          }, _callee3, null, [[11, 23]]);\n        }));\n\n        return function (_x7, _x8, _x9) {\n          return _ref3.apply(this, arguments);\n        };\n      }());\n    } // updat user info such as username, password, age and gender via email.\n\n  }, {\n    key: \"update\",\n    value: function update(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(error, fields, files) {\n          var email, username, age, gender, newUsername, newAge, newGender, user, updatedAccount, updatedVideo_username;\n          return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n            while (1) {\n              switch (_context4.prev = _context4.next) {\n                case 0:\n                  if (!error) {\n                    _context4.next = 2;\n                    break;\n                  }\n\n                  return _context4.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to update. Try again later'\n                  }));\n\n                case 2:\n                  email = fields.email, username = fields.username, age = fields.age, gender = fields.gender;\n                  newUsername = username;\n                  newAge = age;\n                  newGender = gender;\n                  _context4.prev = 6;\n                  _context4.next = 9;\n                  return _User.userModel.findOne({\n                    email: email\n                  });\n\n                case 9:\n                  user = _context4.sent;\n\n                  if (user) {\n                    _context4.next = 12;\n                    break;\n                  }\n\n                  return _context4.abrupt(\"return\", response.status(404).json({\n                    msg: 'Account with this email does not exist'\n                  }));\n\n                case 12:\n                  _context4.next = 14;\n                  return _User.userModel.findOneAndUpdate({\n                    email: email\n                  }, {\n                    $set: {\n                      username: newUsername,\n                      age: newAge,\n                      gender: newGender\n                    }\n                  }, {\n                    \"new\": true\n                  });\n\n                case 14:\n                  updatedAccount = _context4.sent;\n                  _context4.next = 17;\n                  return _Video.videoModel.updateMany({\n                    email: email\n                  }, {\n                    $set: {\n                      username: newUsername\n                    }\n                  }, {\n                    \"new\": true\n                  });\n\n                case 17:\n                  updatedVideo_username = _context4.sent;\n                  return _context4.abrupt(\"return\", response.status(200).json({\n                    msg: 'Edit successful'\n                  }));\n\n                case 21:\n                  _context4.prev = 21;\n                  _context4.t0 = _context4[\"catch\"](6);\n                  return _context4.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to update. Change email or username and try again'\n                  }));\n\n                case 24:\n                case \"end\":\n                  return _context4.stop();\n              }\n            }\n          }, _callee4, null, [[6, 21]]);\n        }));\n\n        return function (_x10, _x11, _x12) {\n          return _ref4.apply(this, arguments);\n        };\n      }());\n    } //delete user account\n\n  }, {\n    key: \"delete\",\n    value: function _delete(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(error, fields, files) {\n          var email, user;\n          return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n            while (1) {\n              switch (_context5.prev = _context5.next) {\n                case 0:\n                  if (!error) {\n                    _context5.next = 2;\n                    break;\n                  }\n\n                  return _context5.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to delete account, maybe try again later'\n                  }));\n\n                case 2:\n                  email = fields.email;\n                  _context5.prev = 3;\n                  _context5.next = 6;\n                  return _User.userModel.findOneAndDelete({\n                    email: email\n                  });\n\n                case 6:\n                  user = _context5.sent;\n                  return _context5.abrupt(\"return\", response.status(200).json({\n                    msg: 'delete successful'\n                  }));\n\n                case 10:\n                  _context5.prev = 10;\n                  _context5.t0 = _context5[\"catch\"](3);\n                  return _context5.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to delete'\n                  }));\n\n                case 13:\n                case \"end\":\n                  return _context5.stop();\n              }\n            }\n          }, _callee5, null, [[3, 10]]);\n        }));\n\n        return function (_x13, _x14, _x15) {\n          return _ref5.apply(this, arguments);\n        };\n      }());\n    } // find all user\n\n  }, {\n    key: \"findAllUser\",\n    value: function findAllUser(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(error, fields, files) {\n          var user;\n          return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n            while (1) {\n              switch (_context6.prev = _context6.next) {\n                case 0:\n                  if (!error) {\n                    _context6.next = 2;\n                    break;\n                  }\n\n                  return _context6.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to delete account, maybe try again later'\n                  }));\n\n                case 2:\n                  _context6.prev = 2;\n                  _context6.next = 5;\n                  return _User.userModel.find();\n\n                case 5:\n                  user = _context6.sent;\n                  return _context6.abrupt(\"return\", response.send(user));\n\n                case 9:\n                  _context6.prev = 9;\n                  _context6.t0 = _context6[\"catch\"](2);\n                  return _context6.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed find all users'\n                  }));\n\n                case 12:\n                case \"end\":\n                  return _context6.stop();\n              }\n            }\n          }, _callee6, null, [[2, 9]]);\n        }));\n\n        return function (_x16, _x17, _x18) {\n          return _ref6.apply(this, arguments);\n        };\n      }());\n    } // search for a user by request \n\n  }, {\n    key: \"searchUser\",\n    value: function () {\n      var _searchUser = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(request, response) {\n        var name, user;\n        return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                name = request.query.username;\n                _context7.prev = 1;\n                _context7.next = 4;\n                return _User.userModel.find({\n                  username: {\n                    $regex: name\n                  }\n                });\n\n              case 4:\n                user = _context7.sent;\n                return _context7.abrupt(\"return\", response.send(user));\n\n              case 8:\n                _context7.prev = 8;\n                _context7.t0 = _context7[\"catch\"](1);\n                return _context7.abrupt(\"return\", response.status(500).json({\n                  msg: 'No matching user'\n                }));\n\n              case 11:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, null, [[1, 8]]);\n      }));\n\n      function searchUser(_x19, _x20) {\n        return _searchUser.apply(this, arguments);\n      }\n\n      return searchUser;\n    }()\n  }]);\n\n  return AuthController;\n}();\n\nexports.AuthController = AuthController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25maWciLCJBdXRoQ29udHJvbGxlciIsInJlcXVlc3QiLCJyZXNwb25zZSIsImZvcm0iLCJJbmNvbWluZ0Zvcm0iLCJwYXJzZSIsImVycm9yIiwiZmllbGRzIiwiZmlsZXMiLCJzdGF0dXMiLCJqc29uIiwibXNnIiwidXNlcm5hbWUiLCJlbWFpbCIsInBhc3N3b3JkIiwiYWdlIiwiZ2VuZGVyIiwibGVuZ3RoIiwiZ2VuU2FsdCIsInNhbHQiLCJoYXNoIiwiaGFzaGVkUGFzc3dvcmQiLCJuZXdBY2NvdW50IiwidXNlck1vZGVsIiwic2F2ZSIsInNhdmVkQWNjb3VudCIsImNvbnNvbGUiLCJsb2ciLCJhY2NvdW50IiwiaXNBY2NvdW50RW1haWwiLCJpbmNsdWRlcyIsImZpbmRPbmUiLCJ1c2VyIiwiY29tcGFyZSIsImlzUGFzc3dvcmRWYWxpZCIsInRva2VuX3BheWxvYWQiLCJfaWQiLCJ0b2tlbiIsInNpZ24iLCJwcm9jZXNzIiwiZW52IiwiY29va2llX3NlY3JldCIsImV4cGlyZXNJbiIsImZpbmRPbmVBbmRVcGRhdGUiLCIkc2V0IiwidXBkYXRlZEFjY291bnQiLCJuZXdVc2VybmFtZSIsIm5ld0FnZSIsIm5ld0dlbmRlciIsInZpZGVvTW9kZWwiLCJ1cGRhdGVNYW55IiwidXBkYXRlZFZpZGVvX3VzZXJuYW1lIiwiZmluZE9uZUFuZERlbGV0ZSIsImZpbmQiLCJzZW5kIiwibmFtZSIsInF1ZXJ5IiwiJHJlZ2V4Il0sInNvdXJjZVJvb3QiOiJEOlxcU2Nob29sXFxJVCBQcm9qZWN0XFxJVC1QUk9KRUNUXFxiYWNrZW5kM1xcc3JjXFxDb250cm9sbGVyXFwiLCJzb3VyY2VzIjpbIkF1dGguY29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmNvbWluZ0Zvcm0gfSBmcm9tICdmb3JtaWRhYmxlJztcclxuaW1wb3J0IHsgZ2VuU2FsdCwgaGFzaCwgY29tcGFyZSB9IGZyb20gJ2JjcnlwdCc7XHJcbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gJ2RvdGVudic7XHJcbmltcG9ydCB7IHZlcmlmeSwgc2lnbiB9IGZyb20gJ2pzb253ZWJ0b2tlbic7XHJcbmltcG9ydCB7IHVzZXJNb2RlbCB9IGZyb20gJy4uL01vZGVscy9Vc2VyLm1vZGVsJ1xyXG5pbXBvcnQgeyB2aWRlb01vZGVsIH0gZnJvbSAnLi4vTW9kZWxzL1ZpZGVvLm1vZGVsJ1xyXG5jb25maWcoKVxyXG5cclxuZXhwb3J0IGNsYXNzIEF1dGhDb250cm9sbGVyIHtcclxuICAgIC8vc2lnbnVwIG1ldGhvZFxyXG4gICAgc2lnbnVwKHJlcXVlc3QsIHJlc3BvbnNlKSB7XHJcbiAgICAgICAgY29uc3QgZm9ybSA9IG5ldyBJbmNvbWluZ0Zvcm0oKTtcclxuXHJcbiAgICAgICAgZm9ybS5wYXJzZShyZXF1ZXN0LCBhc3luYyAoZXJyb3IsIGZpZWxkcywgZmlsZXMpID0+IHtcclxuICAgICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7IG1zZzogJ0ZhaWxlZCB0byBjcmVhdGUgYWNjb3VudCwgbWF5YmUgdHJ5IGFnYWluIGxhdGVyJyB9KVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCB7IHVzZXJuYW1lLCBlbWFpbCwgcGFzc3dvcmQsIGFnZSwgZ2VuZGVyIH0gPSBmaWVsZHM7XHJcbiAgICAgICAgICAgIGlmIChwYXNzd29yZC5sZW5ndGggPiAyMCB8fCBwYXNzd29yZC5sZW5ndGggPCA2KSB7ICAvLyBwYXNzd29yZCBtaW5pbXVtIGxlbmd0aCA9IDYsIG1heGltdW0gbGVuZ3RoID0gMjBcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAzKS5qc29uKHsgbXNnOiAnUGFzc3dvcmQgbGVuZ3RoIG5lZWQgdG8gYmUgNi0yMCByYW5nZScgfSlcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGFnZSA+IDE1MCB8fCBhZ2UgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMikuanNvbih7IG1zZzogJ0ludmFsaWQgYWdlJyB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHNhbHQgPSBhd2FpdCBnZW5TYWx0KDE1KTtcclxuICAgICAgICAgICAgY29uc3QgaGFzaGVkUGFzc3dvcmQgPSBhd2FpdCBoYXNoKHBhc3N3b3JkLCBzYWx0KTtcclxuICAgICAgICAgICAgY29uc3QgbmV3QWNjb3VudCA9IG5ldyB1c2VyTW9kZWwoe1xyXG4gICAgICAgICAgICAgICAgdXNlcm5hbWUsXHJcbiAgICAgICAgICAgICAgICBlbWFpbCxcclxuICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBoYXNoZWRQYXNzd29yZCxcclxuICAgICAgICAgICAgICAgIGFnZSxcclxuICAgICAgICAgICAgICAgIGdlbmRlclxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAvLyBjcmVhdGUgYW4gYWNjb3VudCBzdWNjZXNzZnVsIG9yIGZhaWxlZFxyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2F2ZWRBY2NvdW50ID0gYXdhaXQgbmV3QWNjb3VudC5zYXZlKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMSkuanNvbih7IG1zZzogJ0FjY291bnQgY3JlYXRlZCBzdWNjZXNzZnVsbHknIH0pXHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAxKS5qc29uKHsgbXNnOiAnVGhpcyBhY2NvdW50IGhhcyBiZWVuIHJlZ2lzdGVyZWQuIENoYW5nZSBlbWFpbCBvciB1c2VybmFtZScgfSlcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIC8vIHNpZ24gaW5cclxuICAgIHNpZ25pbihyZXF1ZXN0LCByZXNwb25zZSkge1xyXG4gICAgICAgIGNvbnN0IGZvcm0gPSBuZXcgSW5jb21pbmdGb3JtKCk7XHJcblxyXG4gICAgICAgIGZvcm0ucGFyc2UocmVxdWVzdCwgYXN5bmMgKGVycm9yLCBmaWVsZHMsIGZpbGVzKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oeyBtc2c6ICdGYWlsZWQgdG8gc2lnbmluJyB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHsgYWNjb3VudCwgcGFzc3dvcmQgfSA9IGZpZWxkcztcclxuICAgICAgICAgICAgLy8gZW1haWwgbG9nIGluIFxyXG4gICAgICAgICAgICBjb25zdCBpc0FjY291bnRFbWFpbCA9IGFjY291bnQuaW5jbHVkZXMoJ0AnKTtcclxuICAgICAgICAgICAgaWYgKGlzQWNjb3VudEVtYWlsKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgdXNlck1vZGVsLmZpbmRPbmUoeyBlbWFpbDogYWNjb3VudCB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIXVzZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwNCkuanNvbih7IG1zZzogJ0VtYWlsIG9mIHRoaXMgYWNjb3VudCBkb2VzIG5vdCBleGlzdCcgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IGlzUGFzc3dvcmRWYWxpZCA9IGF3YWl0IGNvbXBhcmUocGFzc3dvcmQsIHVzZXIucGFzc3dvcmQpOyAgLy8gaGFzaGVkIHBhc3N3b3JkXHJcbiAgICAgICAgICAgICAgICBpZiAoIWlzUGFzc3dvcmRWYWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNDAwKS5qc29uKHsgbXNnOiAnSW52YWxpZCBwYXNzd29yZCcgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IHRva2VuX3BheWxvYWQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX2lkOiB1c2VyLl9pZCxcclxuICAgICAgICAgICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcclxuICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3QgdG9rZW4gPSBzaWduKHRva2VuX3BheWxvYWQsIHByb2Nlc3MuZW52LmNvb2tpZV9zZWNyZXQsIHsgZXhwaXJlc0luOiAnMzY1ZCcgfSlcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJuYW1lID0gdG9rZW5fcGF5bG9hZC51c2VybmFtZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHsgdG9rZW4sIHVzZXJuYW1lIH0pXHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB1c2VyTW9kZWwuZmluZE9uZSh7IHVzZXJuYW1lOiBhY2NvdW50IH0pO1xyXG5cclxuICAgICAgICAgICAgaWYgKCF1c2VyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwNCkuanNvbih7IG1zZzogJ3VzZXJuYW1lIG9mIHRoaXMgYWNjb3VudCBkb2VzIG5vdCBleGlzdCcgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBpc1Bhc3N3b3JkVmFsaWQgPSBhd2FpdCBjb21wYXJlKHBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKTsgIC8vIGhhc2hlZCBwYXNzd29yZFxyXG4gICAgICAgICAgICBpZiAoIWlzUGFzc3dvcmRWYWxpZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg0MDApLmpzb24oeyBtc2c6ICdJbnZhbGlkIHBhc3N3b3JkJyB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHRva2VuX3BheWxvYWQgPSB7XHJcbiAgICAgICAgICAgICAgICBfaWQ6IHVzZXIuX2lkLFxyXG4gICAgICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXHJcbiAgICAgICAgICAgICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHRva2VuID0gc2lnbih0b2tlbl9wYXlsb2FkLCBwcm9jZXNzLmVudi5jb29raWVfc2VjcmV0LCB7IGV4cGlyZXNJbjogJzM2NWQnIH0pXHJcbiAgICAgICAgICAgIGNvbnN0IHVzZXJuYW1lID0gdG9rZW5fcGF5bG9hZC51c2VybmFtZTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cygyMDApLmpzb24oeyB0b2tlbiwgdXNlcm5hbWUgfSlcclxuXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICAvLyBmb3Jnb3QgcGFzc3dvcmQgYW5kIHJlc2V0XHJcbiAgICBmb3Jnb3RQYXNzd29yZChyZXF1ZXN0LCByZXNwb25zZSkge1xyXG4gICAgICAgIGNvbnN0IGZvcm0gPSBuZXcgSW5jb21pbmdGb3JtKCk7XHJcblxyXG4gICAgICAgIGZvcm0ucGFyc2UocmVxdWVzdCwgYXN5bmMgKGVycm9yLCBmaWVsZHMsIGZpbGVzKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oeyBtc2c6ICdGYWlsZWQgdG8gcnNldCBwYXNzd29yZCcgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB7IGVtYWlsLCBwYXNzd29yZCB9ID0gZmllbGRzO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFlbWFpbCB8fCAhcGFzc3dvcmQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNDAwKS5qc29uKHsgbXNnOiAnZW1haWwgYW5kIHBhc3N3b3JkIGFyZSByZXF1aXJlZCB0byByZXNldCBwYXNzd29yZCAnIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3Qgc2FsdCA9IGF3YWl0IGdlblNhbHQoMTUpO1xyXG4gICAgICAgICAgICBjb25zdCBoYXNoZWRQYXNzd29yZCA9IGF3YWl0IGhhc2gocGFzc3dvcmQsIHNhbHQpXHJcblxyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IHVzZXJNb2RlbC5maW5kT25lKHsgZW1haWw6IGVtYWlsIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKCF1c2VyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg0MDQpLmpzb24oeyBtc2c6ICdBY2NvdW50IHdpdGggdGhpcyBlbWFpbCBkb2VzIG5vdCBleGlzdCcgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8qIGNvbnN0IHVwZGF0ZWRBY2NvdW50ID0gYXdhaXQgdXNlck1vZGVsLmZpbmRPbmVBbmRVcGRhdGUoe2VtYWlsOmVtYWlsfSwgeyRzZXQ6e3Bhc3N3b3JkOiBoYXNoZWRQYXNzd29yZH19LCB7bmV3OnRydWV9KVxyXG4gICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHttc2c6J1Bhc3N3b3JkIHJlc3Qgc3VjY2Vzc2Z1bCd9KSAqL1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZEFjY291bnQgPSBhd2FpdCB1c2VyTW9kZWwuZmluZE9uZUFuZFVwZGF0ZSh7IGVtYWlsOiBlbWFpbCB9LCB7ICRzZXQ6IHsgcGFzc3dvcmQ6IGhhc2hlZFBhc3N3b3JkIH0gfSwgeyBuZXc6IHRydWUgfSlcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHsgbXNnOiAnUGFzc3dvcmQgcmVzdCBzdWNjZXNzZnVsJyB9KVxyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oeyBtc2c6ICdGYWlsZWQgdG8gcmVzZXQgcGFzc3dvcmQnIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIC8vIHVwZGF0IHVzZXIgaW5mbyBzdWNoIGFzIHVzZXJuYW1lLCBwYXNzd29yZCwgYWdlIGFuZCBnZW5kZXIgdmlhIGVtYWlsLlxyXG4gICAgdXBkYXRlKHJlcXVlc3QsIHJlc3BvbnNlKSB7XHJcbiAgICAgICAgY29uc3QgZm9ybSA9IG5ldyBJbmNvbWluZ0Zvcm0oKTtcclxuXHJcbiAgICAgICAgZm9ybS5wYXJzZShyZXF1ZXN0LCBhc3luYyAoZXJyb3IsIGZpZWxkcywgZmlsZXMpID0+IHtcclxuICAgICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7IG1zZzogJ0ZhaWxlZCB0byB1cGRhdGUuIFRyeSBhZ2FpbiBsYXRlcicgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB7IGVtYWlsLCB1c2VybmFtZSwgYWdlLCBnZW5kZXIgfSA9IGZpZWxkcztcclxuICAgICAgICAgICAgY29uc3QgbmV3VXNlcm5hbWUgPSB1c2VybmFtZVxyXG4gICAgICAgICAgICBjb25zdCBuZXdBZ2UgPSBhZ2VcclxuICAgICAgICAgICAgY29uc3QgbmV3R2VuZGVyID0gZ2VuZGVyXHJcblxyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IHVzZXJNb2RlbC5maW5kT25lKHsgZW1haWw6IGVtYWlsIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKCF1c2VyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg0MDQpLmpzb24oeyBtc2c6ICdBY2NvdW50IHdpdGggdGhpcyBlbWFpbCBkb2VzIG5vdCBleGlzdCcgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8qIGNvbnN0IHVwZGF0ZWRBY2NvdW50ID0gYXdhaXQgdXNlck1vZGVsLmZpbmRPbmVBbmRVcGRhdGUoe2VtYWlsOmVtYWlsfSwgeyRzZXQ6e3Bhc3N3b3JkOiBoYXNoZWRQYXNzd29yZH19LCB7bmV3OnRydWV9KVxyXG4gICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHttc2c6J1Bhc3N3b3JkIHJlc3Qgc3VjY2Vzc2Z1bCd9KSAqL1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZEFjY291bnQgPSBhd2FpdCB1c2VyTW9kZWwuZmluZE9uZUFuZFVwZGF0ZSh7IGVtYWlsOiBlbWFpbCB9LCB7ICRzZXQ6IHsgdXNlcm5hbWU6IG5ld1VzZXJuYW1lLCBhZ2U6IG5ld0FnZSwgZ2VuZGVyOiBuZXdHZW5kZXIgfSB9LCB7IG5ldzogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZFZpZGVvX3VzZXJuYW1lID0gYXdhaXQgdmlkZW9Nb2RlbC51cGRhdGVNYW55KHsgZW1haWw6IGVtYWlsIH0sIHsgJHNldDogeyB1c2VybmFtZTogbmV3VXNlcm5hbWUgfSB9LCB7IG5ldzogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cygyMDApLmpzb24oeyBtc2c6ICdFZGl0IHN1Y2Nlc3NmdWwnIH0pXHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7IG1zZzogJ0ZhaWxlZCB0byB1cGRhdGUuIENoYW5nZSBlbWFpbCBvciB1c2VybmFtZSBhbmQgdHJ5IGFnYWluJyB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICAvL2RlbGV0ZSB1c2VyIGFjY291bnRcclxuICAgIGRlbGV0ZShyZXF1ZXN0LCByZXNwb25zZSkge1xyXG4gICAgICAgIGNvbnN0IGZvcm0gPSBuZXcgSW5jb21pbmdGb3JtKCk7XHJcbiAgICAgICAgZm9ybS5wYXJzZShyZXF1ZXN0LCBhc3luYyAoZXJyb3IsIGZpZWxkcywgZmlsZXMpID0+IHtcclxuICAgICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7IG1zZzogJ0ZhaWxlZCB0byBkZWxldGUgYWNjb3VudCwgbWF5YmUgdHJ5IGFnYWluIGxhdGVyJyB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHsgZW1haWwgfSA9IGZpZWxkcztcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB1c2VyTW9kZWwuZmluZE9uZUFuZERlbGV0ZSh7IGVtYWlsOiBlbWFpbCB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHsgbXNnOiAnZGVsZXRlIHN1Y2Nlc3NmdWwnIH0pXHJcblxyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oeyBtc2c6ICdGYWlsZWQgdG8gZGVsZXRlJyB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICAvLyBmaW5kIGFsbCB1c2VyXHJcbiAgICBmaW5kQWxsVXNlcihyZXF1ZXN0LCByZXNwb25zZSkge1xyXG4gICAgICAgIGNvbnN0IGZvcm0gPSBuZXcgSW5jb21pbmdGb3JtKCk7XHJcblxyXG4gICAgICAgIGZvcm0ucGFyc2UocmVxdWVzdCwgYXN5bmMgKGVycm9yLCBmaWVsZHMsIGZpbGVzKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oeyBtc2c6ICdGYWlsZWQgdG8gZGVsZXRlIGFjY291bnQsIG1heWJlIHRyeSBhZ2FpbiBsYXRlcicgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IHVzZXJNb2RlbC5maW5kKClcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zZW5kKHVzZXIpXHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7IG1zZzogJ0ZhaWxlZCBmaW5kIGFsbCB1c2VycycgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vIHNlYXJjaCBmb3IgYSB1c2VyIGJ5IHJlcXVlc3QgXHJcbiAgICBhc3luYyBzZWFyY2hVc2VyKHJlcXVlc3QsIHJlc3BvbnNlKSB7XHJcbiAgICAgICAgY29uc3QgbmFtZSA9IHJlcXVlc3QucXVlcnkudXNlcm5hbWU7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IHVzZXIgPSBhd2FpdCB1c2VyTW9kZWwuZmluZCh7IHVzZXJuYW1lOiB7ICRyZWdleDogbmFtZSB9IH0pXHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zZW5kKHVzZXIpXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oeyBtc2c6ICdObyBtYXRjaGluZyB1c2VyJyB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7K0NBSkEsb0o7Ozs7Ozs7Ozs7OztBQUtBLElBQUFBLGNBQUE7O0lBRWFDLGM7Ozs7Ozs7V0FDVDtJQUNBLGdCQUFPQyxPQUFQLEVBQWdCQyxRQUFoQixFQUEwQjtNQUN0QixJQUFNQyxJQUFJLEdBQUcsSUFBSUMsd0JBQUosRUFBYjtNQUVBRCxJQUFJLENBQUNFLEtBQUwsQ0FBV0osT0FBWDtRQUFBLHNFQUFvQixpQkFBT0ssS0FBUCxFQUFjQyxNQUFkLEVBQXNCQyxLQUF0QjtVQUFBO1VBQUE7WUFBQTtjQUFBO2dCQUFBO2tCQUFBLEtBQ1pGLEtBRFk7b0JBQUE7b0JBQUE7a0JBQUE7O2tCQUFBLGlDQUVMSixRQUFRLENBQUNPLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCO29CQUFFQyxHQUFHLEVBQUU7a0JBQVAsQ0FBMUIsQ0FGSzs7Z0JBQUE7a0JBS1JDLFFBTFEsR0FLbUNMLE1BTG5DLENBS1JLLFFBTFEsRUFLRUMsS0FMRixHQUttQ04sTUFMbkMsQ0FLRU0sS0FMRixFQUtTQyxRQUxULEdBS21DUCxNQUxuQyxDQUtTTyxRQUxULEVBS21CQyxHQUxuQixHQUttQ1IsTUFMbkMsQ0FLbUJRLEdBTG5CLEVBS3dCQyxNQUx4QixHQUttQ1QsTUFMbkMsQ0FLd0JTLE1BTHhCOztrQkFBQSxNQU1aRixRQUFRLENBQUNHLE1BQVQsR0FBa0IsRUFBbEIsSUFBd0JILFFBQVEsQ0FBQ0csTUFBVCxHQUFrQixDQU45QjtvQkFBQTtvQkFBQTtrQkFBQTs7a0JBQUEsaUNBT0xmLFFBQVEsQ0FBQ08sTUFBVCxDQUFnQixHQUFoQixFQUFxQkMsSUFBckIsQ0FBMEI7b0JBQUVDLEdBQUcsRUFBRTtrQkFBUCxDQUExQixDQVBLOztnQkFBQTtrQkFBQSxNQVVa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","map":{"version":3,"names":["config","AuthController","request","response","form","IncomingForm","parse","error","fields","files","status","json","msg","username","email","password","age","gender","length","genSalt","salt","hash","hashedPassword","newAccount","userModel","save","savedAccount","console","log","account","isAccountEmail","includes","findOne","user","compare","isPasswordValid","token_payload","_id","token","sign","process","env","cookie_secret","expiresIn","findOneAndUpdate","$set","updatedAccount","newUsername","newAge","newGender","videoModel","updateMany","updatedVideo_username","findOneAndDelete","find","send","name","query","$regex"],"sourceRoot":"D:\\School\\IT Project\\IT-PROJECT\\backend3\\src\\Controller\\","sources":["Auth.controller.js"],"sourcesContent":["import { IncomingForm } from 'formidable';\r\nimport { genSalt, hash, compare } from 'bcrypt';\r\nimport { config } from 'dotenv';\r\nimport { verify, sign } from 'jsonwebtoken';\r\nimport { userModel } from '../Models/User.model'\r\nimport { videoModel } from '../Models/Video.model'\r\nconfig()\r\n\r\nexport class AuthController {\r\n    //signup method\r\n    signup(request, response) {\r\n        const form = new IncomingForm();\r\n\r\n        form.parse(request, async (error, fields, files) => {\r\n            if (error) {\r\n                return response.status(500).json({ msg: 'Failed to create account, maybe try again later' })\r\n            }\r\n\r\n            const { username, email, password, age, gender } = fields;\r\n            if (password.length > 20 || password.length < 6) {  // password minimum length = 6, maximum length = 20\r\n                return response.status(503).json({ msg: 'Password length need to be 6-20 range' })\r\n\r\n            }\r\n            if (age > 150 || age < 0) {\r\n                return response.status(502).json({ msg: 'Invalid age' })\r\n            }\r\n            const salt = await genSalt(15);\r\n            const hashedPassword = await hash(password, salt);\r\n            const newAccount = new userModel({\r\n                username,\r\n                email,\r\n                password: hashedPassword,\r\n                age,\r\n                gender\r\n            })\r\n            // create an account successful or failed\r\n            try {\r\n                const savedAccount = await newAccount.save();\r\n                return response.status(201).json({ msg: 'Account created successfully' })\r\n            } catch (error) {\r\n                console.log(error)\r\n                return response.status(501).json({ msg: 'This account has been registered. Change email or username' })\r\n            }\r\n\r\n        })\r\n    }\r\n\r\n    // sign in\r\n    signin(request, response) {\r\n        const form = new IncomingForm();\r\n\r\n        form.parse(request, async (error, fields, files) => {\r\n            if (error) {\r\n                return response.status(500).json({ msg: 'Failed to signin' })\r\n            }\r\n            const { account, password } = fields;\r\n            // email log in \r\n            const isAccountEmail = account.includes('@');\r\n            if (isAccountEmail) {\r\n                const user = await userModel.findOne({ email: account });\r\n\r\n                if (!user) {\r\n                    return response.status(404).json({ msg: 'Email of this account does not exist' })\r\n                }\r\n                const isPasswordValid = await compare(password, user.password);  // hashed password\r\n                if (!isPasswordValid) {\r\n                    return response.status(400).json({ msg: 'Invalid password' })\r\n                }\r\n                const token_payload = {\r\n                    _id: user._id,\r\n                    email: user.email,\r\n                    username: user.username\r\n                }\r\n                const token = sign(token_payload, process.env.cookie_secret, { expiresIn: '365d' })\r\n                const username = token_payload.username;\r\n                return response.status(200).json({ token, username })\r\n\r\n            }\r\n            const user = await userModel.findOne({ username: account });\r\n\r\n            if (!user) {\r\n                return response.status(404).json({ msg: 'username of this account does not exist' })\r\n            }\r\n            const isPasswordValid = await compare(password, user.password);  // hashed password\r\n            if (!isPasswordValid) {\r\n                return response.status(400).json({ msg: 'Invalid password' })\r\n            }\r\n            const token_payload = {\r\n                _id: user._id,\r\n                email: user.email,\r\n                username: user.username\r\n            }\r\n            const token = sign(token_payload, process.env.cookie_secret, { expiresIn: '365d' })\r\n            const username = token_payload.username;\r\n            return response.status(200).json({ token, username })\r\n\r\n        })\r\n    }\r\n\r\n    // forgot password and reset\r\n    forgotPassword(request, response) {\r\n        const form = new IncomingForm();\r\n\r\n        form.parse(request, async (error, fields, files) => {\r\n            if (error) {\r\n                return response.status(500).json({ msg: 'Failed to rset password' })\r\n            }\r\n            const { email, password } = fields;\r\n\r\n            if (!email || !password) {\r\n                return response.status(400).json({ msg: 'email and password are required to reset password ' })\r\n            }\r\n            const salt = await genSalt(15);\r\n            const hashedPassword = await hash(password, salt)\r\n\r\n            try {\r\n                const user = await userModel.findOne({ email: email });\r\n                if (!user) {\r\n                    return response.status(404).json({ msg: 'Account with this email does not exist' })\r\n                }\r\n                /* const updatedAccount = await userModel.findOneAndUpdate({email:email}, {$set:{password: hashedPassword}}, {new:true})\r\n                 return response.status(200).json({msg:'Password rest successful'}) */\r\n                const updatedAccount = await userModel.findOneAndUpdate({ email: email }, { $set: { password: hashedPassword } }, { new: true })\r\n                return response.status(200).json({ msg: 'Password rest successful' })\r\n            } catch (error) {\r\n                return response.status(500).json({ msg: 'Failed to reset password' })\r\n            }\r\n        })\r\n    }\r\n\r\n    // updat user info such as username, password, age and gender via email.\r\n    update(request, response) {\r\n        const form = new IncomingForm();\r\n\r\n        form.parse(request, async (error, fields, files) => {\r\n            if (error) {\r\n                return response.status(500).json({ msg: 'Failed to update. Try again later' })\r\n            }\r\n            const { email, username, age, gender } = fields;\r\n            const newUsername = username\r\n            const newAge = age\r\n            const newGender = gender\r\n\r\n            try {\r\n                const user = await userModel.findOne({ email: email });\r\n                if (!user) {\r\n                    return response.status(404).json({ msg: 'Account with this email does not exist' })\r\n                }\r\n                /* const updatedAccount = await userModel.findOneAndUpdate({email:email}, {$set:{password: hashedPassword}}, {new:true})\r\n                 return response.status(200).json({msg:'Password rest successful'}) */\r\n                const updatedAccount = await userModel.findOneAndUpdate({ email: email }, { $set: { username: newUsername, age: newAge, gender: newGender } }, { new: true })\r\n                const updatedVideo_username = await videoModel.updateMany({ email: email }, { $set: { username: newUsername } }, { new: true })\r\n                return response.status(200).json({ msg: 'Edit successful' })\r\n            } catch (error) {\r\n                return response.status(500).json({ msg: 'Failed to update. Change email or username and try again' })\r\n            }\r\n        })\r\n    }\r\n\r\n    //delete user account\r\n    delete(request, response) {\r\n        const form = new IncomingForm();\r\n        form.parse(request, async (error, fields, files) => {\r\n            if (error) {\r\n                return response.status(500).json({ msg: 'Failed to delete account, maybe try again later' })\r\n            }\r\n            const { email } = fields;\r\n            try {\r\n                const user = await userModel.findOneAndDelete({ email: email });\r\n                return response.status(200).json({ msg: 'delete successful' })\r\n\r\n            } catch (error) {\r\n                return response.status(500).json({ msg: 'Failed to delete' })\r\n            }\r\n        })\r\n    }\r\n\r\n    // find all user\r\n    findAllUser(request, response) {\r\n        const form = new IncomingForm();\r\n\r\n        form.parse(request, async (error, fields, files) => {\r\n            if (error) {\r\n                return response.status(500).json({ msg: 'Failed to delete account, maybe try again later' })\r\n            }\r\n            try {\r\n                const user = await userModel.find()\r\n                return response.send(user)\r\n            } catch (error) {\r\n                return response.status(500).json({ msg: 'Failed find all users' })\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    // search for a user by request \r\n    async searchUser(request, response) {\r\n        const name = request.query.username;\r\n        try {\r\n            let user = await userModel.find({ username: { $regex: name } })\r\n            return response.send(user)\r\n        } catch (error) {\r\n            return response.status(500).json({ msg: 'No matching user' })\r\n        }\r\n    }\r\n\r\n\r\n}"],"mappings":"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"}},"mtime":1665981022548},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"filename\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Models\\\\User.model.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.userModel = void 0;\n\nvar _mongoose = require(\"mongoose\");\n\nvar uservalidator = function uservalidator(s) {\n  return /^[a-zA-Z0-9]{1,20}$/.test(s);\n};\n\nvar emailvalidator = function emailvalidator(s) {\n  return /^[a-z0-9@.-_]{6,40}$/.test(s);\n};\n\nvar agevalidator = function agevalidator(s) {\n  return /^[0-9]{1,3}$/.test(s);\n};\n\nvar userSchema = new _mongoose.Schema({\n  username: {\n    // username should be unique and no longer than 20 characters\n    type: String,\n    reuqired: [true, 'Username is required'],\n    unique: [true, 'Usename exist'],\n    validate: [uservalidator, 'Please enter less than 20 numbers and alphabets only']\n  },\n  email: {\n    // email should be be unique\n    type: String,\n    required: [true, 'Email is required to create an account'],\n    unique: [true, 'Account with this email already exist'],\n    validate: [emailvalidator, 'Please enter numbers, alphabets, and @ . - _ only']\n  },\n  password: {\n    type: String,\n    requried: [true, 'Password is required to create account']\n  },\n  age: {\n    // age should be within 0 - 120 range\n    type: Number,\n    requried: [true, 'Age is required to create an account'],\n    validate: [agevalidator, 'Please enter a number between 0-120']\n  },\n  gender: {\n    type: String,\n    \"enum\": [\"Male\", \"Female\", \"Prefer not to say\"],\n    required: true\n  },\n  videos: [{\n    type: _mongoose.Schema.Types.ObjectId,\n    ref: 'videos'\n  }]\n});\nvar userModel = (0, _mongoose.model)('user', userSchema);\nexports.userModel = userModel;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VydmFsaWRhdG9yIiwicyIsInRlc3QiLCJlbWFpbHZhbGlkYXRvciIsImFnZXZhbGlkYXRvciIsInVzZXJTY2hlbWEiLCJTY2hlbWEiLCJ1c2VybmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXVxaXJlZCIsInVuaXF1ZSIsInZhbGlkYXRlIiwiZW1haWwiLCJyZXF1aXJlZCIsInBhc3N3b3JkIiwicmVxdXJpZWQiLCJhZ2UiLCJOdW1iZXIiLCJnZW5kZXIiLCJ2aWRlb3MiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwidXNlck1vZGVsIiwibW9kZWwiXSwic291cmNlUm9vdCI6IkQ6XFxTY2hvb2xcXElUIFByb2plY3RcXElULVBST0pFQ1RcXGJhY2tlbmQzXFxzcmNcXE1vZGVsc1xcIiwic291cmNlcyI6WyJVc2VyLm1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydHsgU2NoZW1hLCBtb2RlbH0gZnJvbSAnbW9uZ29vc2UnO1xyXG5jb25zdCB1c2VydmFsaWRhdG9yID0gKHMpID0+XHJcbiAgICAvXlthLXpBLVowLTldezEsMjB9JC8udGVzdChzKVxyXG5cclxuY29uc3QgZW1haWx2YWxpZGF0b3IgPSAocykgPT5cclxuICAgIC9eW2EtejAtOUAuLV9dezYsNDB9JC8udGVzdChzKVxyXG5cclxuY29uc3QgYWdldmFsaWRhdG9yID0gKHMpID0+XHJcbiAgICAvXlswLTldezEsM30kLy50ZXN0KHMpXHJcblxyXG5jb25zdCB1c2VyU2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgICB1c2VybmFtZTp7IC8vIHVzZXJuYW1lIHNob3VsZCBiZSB1bmlxdWUgYW5kIG5vIGxvbmdlciB0aGFuIDIwIGNoYXJhY3RlcnNcclxuICAgICAgICB0eXBlOlN0cmluZyxcclxuICAgICAgICByZXVxaXJlZDogW3RydWUsICdVc2VybmFtZSBpcyByZXF1aXJlZCddLFxyXG4gICAgICAgIHVuaXF1ZTpbdHJ1ZSwgJ1VzZW5hbWUgZXhpc3QnXSxcclxuICAgICAgICB2YWxpZGF0ZTogW3VzZXJ2YWxpZGF0b3IsICdQbGVhc2UgZW50ZXIgbGVzcyB0aGFuIDIwIG51bWJlcnMgYW5kIGFscGhhYmV0cyBvbmx5J11cclxuICAgIH0sXHJcbiAgICBlbWFpbDp7IC8vIGVtYWlsIHNob3VsZCBiZSBiZSB1bmlxdWVcclxuICAgICAgICB0eXBlOlN0cmluZyxcclxuICAgICAgICByZXF1aXJlZDogW3RydWUsICdFbWFpbCBpcyByZXF1aXJlZCB0byBjcmVhdGUgYW4gYWNjb3VudCddLFxyXG4gICAgICAgIHVuaXF1ZTpbdHJ1ZSwgJ0FjY291bnQgd2l0aCB0aGlzIGVtYWlsIGFscmVhZHkgZXhpc3QnXSxcclxuICAgICAgICB2YWxpZGF0ZTogW2VtYWlsdmFsaWRhdG9yLCAnUGxlYXNlIGVudGVyIG51bWJlcnMsIGFscGhhYmV0cywgYW5kIEAgLiAtIF8gb25seSddXHJcbiAgICB9LFxyXG4gICAgcGFzc3dvcmQ6e1xyXG4gICAgICAgIHR5cGU6U3RyaW5nLFxyXG4gICAgICAgIHJlcXVyaWVkOlt0cnVlLCAnUGFzc3dvcmQgaXMgcmVxdWlyZWQgdG8gY3JlYXRlIGFjY291bnQnXSxcclxuXHJcbiAgICB9LFxyXG4gICAgYWdlOnsgLy8gYWdlIHNob3VsZCBiZSB3aXRoaW4gMCAtIDEyMCByYW5nZVxyXG4gICAgICAgIHR5cGU6TnVtYmVyLFxyXG4gICAgICAgIHJlcXVyaWVkOlt0cnVlLCAnQWdlIGlzIHJlcXVpcmVkIHRvIGNyZWF0ZSBhbiBhY2NvdW50J10sXHJcbiAgICAgICAgdmFsaWRhdGU6IFthZ2V2YWxpZGF0b3IsICdQbGVhc2UgZW50ZXIgYSBudW1iZXIgYmV0d2VlbiAwLTEyMCddXHJcblxyXG4gICAgfSxcclxuICAgIGdlbmRlcjp7XHJcbiAgICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICAgIGVudW06IFtcIk1hbGVcIiwgXCJGZW1hbGVcIiwgXCJQcmVmZXIgbm90IHRvIHNheVwiXSxcclxuICAgICAgICByZXF1aXJlZDogdHJ1ZVxyXG4gICAgfSxcclxuICAgIHZpZGVvczpbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0eXBlOlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcclxuICAgICAgICAgICAgcmVmOid2aWRlb3MnXHJcbiAgICAgICAgfVxyXG4gICAgXSxcclxuXHJcblxyXG5cclxuICAgICBcclxufSlcclxuZXhwb3J0IGNvbnN0IHVzZXJNb2RlbCA9IG1vZGVsKCd1c2VyJywgdXNlclNjaGVtYSlcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0EsSUFBTUEsYUFBYSxHQUFHLFNBQWhCQSxhQUFnQixDQUFDQyxDQUFEO0VBQUEsT0FDbEIsc0JBQXNCQyxJQUF0QixDQUEyQkQsQ0FBM0IsQ0FEa0I7QUFBQSxDQUF0Qjs7QUFHQSxJQUFNRSxjQUFjLEdBQUcsU0FBakJBLGNBQWlCLENBQUNGLENBQUQ7RUFBQSxPQUNuQix1QkFBdUJDLElBQXZCLENBQTRCRCxDQUE1QixDQURtQjtBQUFBLENBQXZCOztBQUdBLElBQU1HLFlBQVksR0FBRyxTQUFmQSxZQUFlLENBQUNILENBQUQ7RUFBQSxPQUNqQixlQUFlQyxJQUFmLENBQW9CRCxDQUFwQixDQURpQjtBQUFBLENBQXJCOztBQUdBLElBQU1JLFVBQVUsR0FBRyxJQUFJQyxnQkFBSixDQUFXO0VBQzFCQyxRQUFRLEVBQUM7SUFBRTtJQUNQQyxJQUFJLEVBQUNDLE1BREE7SUFFTEMsUUFBUSxFQUFFLENBQUMsSUFBRCxFQUFPLHNCQUFQLENBRkw7SUFHTEMsTUFBTSxFQUFDLENBQUMsSUFBRCxFQUFPLGVBQVAsQ0FIRjtJQUlMQyxRQUFRLEVBQUUsQ0FBQ1osYUFBRCxFQUFnQixzREFBaEI7RUFKTCxDQURpQjtFQU8xQmEsS0FBSyxFQUFDO0lBQUU7SUFDSkwsSUFBSSxFQUFDQyxNQURIO0lBRUZLLFFBQVEsRUFBRSxDQUFDLElBQUQsRUFBTyx3Q0FBUCxDQUZSO0lBR0ZILE1BQU0sRUFBQyxDQUFDLElBQUQsRUFBTyx1Q0FBUCxDQUhMO0lBSUZDLFFBQVEsRUFBRSxDQUFDVCxjQUFELEVBQWlCLG1EQUFqQjtFQUpSLENBUG9CO0VBYTFCWSxRQUFRLEVBQUM7SUFDTFAsSUFBSSxFQUFDQyxNQURBO0lBRUxPLFFBQVEsRUFBQyxDQUFDLElBQUQsRUFBTyx3Q0FBUDtFQUZKLENBYmlCO0VBa0IxQkMsR0FBRyxFQUFDO0lBQUU7SUFDRlQsSUFBSSxFQUFDVSxNQURMO0lBRUFGLFFBQVEsRUFBQyxDQUFDLElBQUQsRUFBTyxzQ0FBUCxDQUZUO0lBR0FKLFFBQVEsRUFBRSxDQUFDUixZQUFELEVBQWUscUNBQWY7RUFIVixDQWxCc0I7RUF3QjFCZSxNQUFNLEVBQUM7SUFDSFgsSUFBSSxFQUFFQyxNQURIO0lBRUgsUUFBTSxDQUFDLE1BQUQsRUFBUyxRQUFULEVBQW1CLG1CQUFuQixDQUZIO0lBR0hLLFFBQVEsRUFBRTtFQUhQLENBeEJtQjtFQTZCMUJNLE1BQU0sRUFBQyxDQUNIO0lBQ0laLElBQUksRUFBQ0YsZ0JBQUEsQ0FBT2UsS0FBUCxDQUFhQyxRQUR0QjtJQUVJQyxHQUFHLEVBQUM7RUFGUixDQURHO0FBN0JtQixDQUFYLENBQW5CO0FBd0NPLElBQU1DLFNBQVMsR0FBRyxJQUFBQyxlQUFBLEVBQU0sTUFBTixFQUFjcEIsVUFBZCxDQUFsQiJ9","map":{"version":3,"names":["uservalidator","s","test","emailvalidator","agevalidator","userSchema","Schema","username","type","String","reuqired","unique","validate","email","required","password","requried","age","Number","gender","videos","Types","ObjectId","ref","userModel","model"],"sourceRoot":"D:\\School\\IT Project\\IT-PROJECT\\backend3\\src\\Models\\","sources":["User.model.js"],"sourcesContent":["import{ Schema, model} from 'mongoose';\r\nconst uservalidator = (s) =>\r\n    /^[a-zA-Z0-9]{1,20}$/.test(s)\r\n\r\nconst emailvalidator = (s) =>\r\n    /^[a-z0-9@.-_]{6,40}$/.test(s)\r\n\r\nconst agevalidator = (s) =>\r\n    /^[0-9]{1,3}$/.test(s)\r\n\r\nconst userSchema = new Schema({\r\n    username:{ // username should be unique and no longer than 20 characters\r\n        type:String,\r\n        reuqired: [true, 'Username is required'],\r\n        unique:[true, 'Usename exist'],\r\n        validate: [uservalidator, 'Please enter less than 20 numbers and alphabets only']\r\n    },\r\n    email:{ // email should be be unique\r\n        type:String,\r\n        required: [true, 'Email is required to create an account'],\r\n        unique:[true, 'Account with this email already exist'],\r\n        validate: [emailvalidator, 'Please enter numbers, alphabets, and @ . - _ only']\r\n    },\r\n    password:{\r\n        type:String,\r\n        requried:[true, 'Password is required to create account'],\r\n\r\n    },\r\n    age:{ // age should be within 0 - 120 range\r\n        type:Number,\r\n        requried:[true, 'Age is required to create an account'],\r\n        validate: [agevalidator, 'Please enter a number between 0-120']\r\n\r\n    },\r\n    gender:{\r\n        type: String,\r\n        enum: [\"Male\", \"Female\", \"Prefer not to say\"],\r\n        required: true\r\n    },\r\n    videos:[\r\n        {\r\n            type:Schema.Types.ObjectId,\r\n            ref:'videos'\r\n        }\r\n    ],\r\n\r\n\r\n\r\n     \r\n})\r\nexport const userModel = model('user', userSchema)\r\n"],"mappings":";;;;;;;AAAA;;AACA,IAAMA,aAAa,GAAG,SAAhBA,aAAgB,CAACC,CAAD;EAAA,OAClB,sBAAsBC,IAAtB,CAA2BD,CAA3B,CADkB;AAAA,CAAtB;;AAGA,IAAME,cAAc,GAAG,SAAjBA,cAAiB,CAACF,CAAD;EAAA,OACnB,uBAAuBC,IAAvB,CAA4BD,CAA5B,CADmB;AAAA,CAAvB;;AAGA,IAAMG,YAAY,GAAG,SAAfA,YAAe,CAACH,CAAD;EAAA,OACjB,eAAeC,IAAf,CAAoBD,CAApB,CADiB;AAAA,CAArB;;AAGA,IAAMI,UAAU,GAAG,IAAIC,gBAAJ,CAAW;EAC1BC,QAAQ,EAAC;IAAE;IACPC,IAAI,EAACC,MADA;IAELC,QAAQ,EAAE,CAAC,IAAD,EAAO,sBAAP,CAFL;IAGLC,MAAM,EAAC,CAAC,IAAD,EAAO,eAAP,CAHF;IAILC,QAAQ,EAAE,CAACZ,aAAD,EAAgB,sDAAhB;EAJL,CADiB;EAO1Ba,KAAK,EAAC;IAAE;IACJL,IAAI,EAACC,MADH;IAEFK,QAAQ,EAAE,CAAC,IAAD,EAAO,wCAAP,CAFR;IAGFH,MAAM,EAAC,CAAC,IAAD,EAAO,uCAAP,CAHL;IAIFC,QAAQ,EAAE,CAACT,cAAD,EAAiB,mDAAjB;EAJR,CAPoB;EAa1BY,QAAQ,EAAC;IACLP,IAAI,EAACC,MADA;IAELO,QAAQ,EAAC,CAAC,IAAD,EAAO,wCAAP;EAFJ,CAbiB;EAkB1BC,GAAG,EAAC;IAAE;IACFT,IAAI,EAACU,MADL;IAEAF,QAAQ,EAAC,CAAC,IAAD,EAAO,sCAAP,CAFT;IAGAJ,QAAQ,EAAE,CAACR,YAAD,EAAe,qCAAf;EAHV,CAlBsB;EAwB1Be,MAAM,EAAC;IACHX,IAAI,EAAEC,MADH;IAEH,QAAM,CAAC,MAAD,EAAS,QAAT,EAAmB,mBAAnB,CAFH;IAGHK,QAAQ,EAAE;EAHP,CAxBmB;EA6B1BM,MAAM,EAAC,CACH;IACIZ,IAAI,EAACF,gBAAA,CAAOe,KAAP,CAAaC,QADtB;IAEIC,GAAG,EAAC;EAFR,CADG;AA7BmB,CAAX,CAAnB;AAwCO,IAAMC,SAAS,GAAG,IAAAC,eAAA,EAAM,MAAN,EAAcpB,UAAd,CAAlB"}},"mtime":1664931413585},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"filename\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Routes\\\\Video.routes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _express = require(\"express\");\n\nvar _Authenticate = require(\"../Middlewares/Authenticate.middleware\");\n\nvar _Video = require(\"../Middlewares/Video.middleware\");\n\nvar _bodyParser = require(\"body-parser\");\n\nvar _Video2 = require(\"../Controller/Video.controller\");\n\nvar router = (0, _express.Router)();\nvar Controller = new _Video2.VideoController(); //after upload work, next step is save to mongo db\n\nrouter.post('/api/video', (0, _bodyParser.json)(), _Authenticate.Authenticate, _Video.videoUpload.single('video'), function (request, response) {\n  Controller.upload(request, response);\n}); // video stream\n\nrouter.get('/api/video/:filename', function (request, response) {\n  Controller.stream(request, response);\n}); // like a video\n\nrouter.get('/api/video-like/', function (request, response) {\n  Controller.like(request, response);\n}); // dislike a video\n\nrouter.get('/api/video-dislike/', function (request, response) {\n  Controller.dislike(request, response);\n}); // search for a video\n\nrouter.get('/api/video-search/', function (request, response) {\n  Controller.searchVideo(request, response);\n}); // delete a video\n\nrouter[\"delete\"]('/api/video/', function (request, response) {\n  Controller[\"delete\"](request, response);\n}); // search for video under certain user\n\nrouter.get('/api/user-video-search/', function (request, response) {\n  Controller.searchUVideo(request, response);\n}); // search for video under certain category\n\nrouter.get('/api/cat-search/', function (request, response) {\n  Controller.searchCat(request, response);\n}); //find all videos and return \n\nrouter.get('/api/findallV', function (request, response) {\n  Controller.findAllVideo(request, response);\n});\nrouter[\"delete\"]('/api/user-video-delete/', function (request, response) {\n  Controller.delete_user_all_videos(request, response);\n});\nvar _default = router;\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJSb3V0ZXIiLCJDb250cm9sbGVyIiwiVmlkZW9Db250cm9sbGVyIiwicG9zdCIsImpzb24iLCJBdXRoZW50aWNhdGUiLCJ2aWRlb1VwbG9hZCIsInNpbmdsZSIsInJlcXVlc3QiLCJyZXNwb25zZSIsInVwbG9hZCIsImdldCIsInN0cmVhbSIsImxpa2UiLCJkaXNsaWtlIiwic2VhcmNoVmlkZW8iLCJzZWFyY2hVVmlkZW8iLCJzZWFyY2hDYXQiLCJmaW5kQWxsVmlkZW8iLCJkZWxldGVfdXNlcl9hbGxfdmlkZW9zIl0sInNvdXJjZVJvb3QiOiJEOlxcU2Nob29sXFxJVCBQcm9qZWN0XFxJVC1QUk9KRUNUXFxiYWNrZW5kM1xcc3JjXFxSb3V0ZXNcXCIsInNvdXJjZXMiOlsiVmlkZW8ucm91dGVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHJlc3BvbnNlLCBSb3V0ZXIgfSBmcm9tICdleHByZXNzJztcclxuaW1wb3J0IHsgQXV0aGVudGljYXRlIH0gZnJvbSAnLi4vTWlkZGxld2FyZXMvQXV0aGVudGljYXRlLm1pZGRsZXdhcmUnO1xyXG5pbXBvcnQgeyB2aWRlb1VwbG9hZCB9IGZyb20gJy4uL01pZGRsZXdhcmVzL1ZpZGVvLm1pZGRsZXdhcmUnO1xyXG5pbXBvcnQgeyBqc29uIH0gZnJvbSAnYm9keS1wYXJzZXInXHJcbmltcG9ydCB7IFZpZGVvQ29udHJvbGxlciB9IGZyb20gJy4uL0NvbnRyb2xsZXIvVmlkZW8uY29udHJvbGxlcidcclxuXHJcbmNvbnN0IHJvdXRlciA9IFJvdXRlcigpO1xyXG5jb25zdCBDb250cm9sbGVyID0gbmV3IFZpZGVvQ29udHJvbGxlcigpO1xyXG4vL2FmdGVyIHVwbG9hZCB3b3JrLCBuZXh0IHN0ZXAgaXMgc2F2ZSB0byBtb25nbyBkYlxyXG5yb3V0ZXIucG9zdCgnL2FwaS92aWRlbycsIGpzb24oKSwgQXV0aGVudGljYXRlLCB2aWRlb1VwbG9hZC5zaW5nbGUoJ3ZpZGVvJyksIChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xyXG4gICAgQ29udHJvbGxlci51cGxvYWQocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG4vLyB2aWRlbyBzdHJlYW1cclxucm91dGVyLmdldCgnL2FwaS92aWRlby86ZmlsZW5hbWUnLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgIENvbnRyb2xsZXIuc3RyZWFtKHJlcXVlc3QsIHJlc3BvbnNlKVxyXG59KVxyXG5cclxuLy8gbGlrZSBhIHZpZGVvXHJcbnJvdXRlci5nZXQoJy9hcGkvdmlkZW8tbGlrZS8nLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgIENvbnRyb2xsZXIubGlrZShyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcblxyXG4vLyBkaXNsaWtlIGEgdmlkZW9cclxucm91dGVyLmdldCgnL2FwaS92aWRlby1kaXNsaWtlLycsIChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xyXG4gICAgQ29udHJvbGxlci5kaXNsaWtlKHJlcXVlc3QsIHJlc3BvbnNlKVxyXG59KVxyXG5cclxuLy8gc2VhcmNoIGZvciBhIHZpZGVvXHJcbnJvdXRlci5nZXQoJy9hcGkvdmlkZW8tc2VhcmNoLycsIChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xyXG4gICAgQ29udHJvbGxlci5zZWFyY2hWaWRlbyhyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcbi8vIGRlbGV0ZSBhIHZpZGVvXHJcbnJvdXRlci5kZWxldGUoJy9hcGkvdmlkZW8vJywgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XHJcbiAgICBDb250cm9sbGVyLmRlbGV0ZShyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcbi8vIHNlYXJjaCBmb3IgdmlkZW8gdW5kZXIgY2VydGFpbiB1c2VyXHJcbnJvdXRlci5nZXQoJy9hcGkvdXNlci12aWRlby1zZWFyY2gvJywgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XHJcbiAgICBDb250cm9sbGVyLnNlYXJjaFVWaWRlbyhyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcbi8vIHNlYXJjaCBmb3IgdmlkZW8gdW5kZXIgY2VydGFpbiBjYXRlZ29yeVxyXG5yb3V0ZXIuZ2V0KCcvYXBpL2NhdC1zZWFyY2gvJywgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XHJcbiAgICBDb250cm9sbGVyLnNlYXJjaENhdChyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcbi8vZmluZCBhbGwgdmlkZW9zIGFuZCByZXR1cm4gXHJcbnJvdXRlci5nZXQoJy9hcGkvZmluZGFsbFYnLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgIENvbnRyb2xsZXIuZmluZEFsbFZpZGVvKHJlcXVlc3QsIHJlc3BvbnNlKVxyXG59KVxyXG5cclxucm91dGVyLmRlbGV0ZSgnL2FwaS91c2VyLXZpZGVvLWRlbGV0ZS8nLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgIENvbnRyb2xsZXIuZGVsZXRlX3VzZXJfYWxsX3ZpZGVvcyhyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFQSxJQUFNQSxNQUFNLEdBQUcsSUFBQUMsZUFBQSxHQUFmO0FBQ0EsSUFBTUMsVUFBVSxHQUFHLElBQUlDLHVCQUFKLEVBQW5CLEMsQ0FDQTs7QUFDQUgsTUFBTSxDQUFDSSxJQUFQLENBQVksWUFBWixFQUEwQixJQUFBQyxnQkFBQSxHQUExQixFQUFrQ0MsMEJBQWxDLEVBQWdEQyxrQkFBQSxDQUFZQyxNQUFaLENBQW1CLE9BQW5CLENBQWhELEVBQTZFLFVBQUNDLE9BQUQsRUFBVUMsUUFBVixFQUF1QjtFQUNoR1IsVUFBVSxDQUFDUyxNQUFYLENBQWtCRixPQUFsQixFQUEyQkMsUUFBM0I7QUFDSCxDQUZELEUsQ0FJQTs7QUFDQVYsTUFBTSxDQUFDWSxHQUFQLENBQVcsc0JBQVgsRUFBbUMsVUFBQ0gsT0FBRCxFQUFVQyxRQUFWLEVBQXVCO0VBQ3REUixVQUFVLENBQUNXLE1BQVgsQ0FBa0JKLE9BQWxCLEVBQTJCQyxRQUEzQjtBQUNILENBRkQsRSxDQUlBOztBQUNBVixNQUFNLENBQUNZLEdBQVAsQ0FBVyxrQkFBWCxFQUErQixVQUFDSCxPQUFELEVBQVVDLFFBQVYsRUFBdUI7RUFDbERSLFVBQVUsQ0FBQ1ksSUFBWCxDQUFnQkwsT0FBaEIsRUFBeUJDLFFBQXpCO0FBQ0gsQ0FGRCxFLENBS0E7O0FBQ0FWLE1BQU0sQ0FBQ1ksR0FBUCxDQUFXLHFCQUFYLEVBQWtDLFVBQUNILE9BQUQsRUFBVUMsUUFBVixFQUF1QjtFQUNyRFIsVUFBVSxDQUFDYSxPQUFYLENBQW1CTixPQUFuQixFQUE0QkMsUUFBNUI7QUFDSCxDQUZELEUsQ0FJQTs7QUFDQVYsTUFBTSxDQUFDWSxHQUFQLENBQVcsb0JBQVgsRUFBaUMsVUFBQ0gsT0FBRCxFQUFVQyxRQUFWLEVBQXVCO0VBQ3BEUixVQUFVLENBQUNjLFdBQVgsQ0FBdUJQLE9BQXZCLEVBQWdDQyxRQUFoQztBQUNILENBRkQsRSxDQUlBOztBQUNBVixNQUFNLFVBQU4sQ0FBYyxhQUFkLEVBQTZCLFVBQUNTLE9BQUQsRUFBVUMsUUFBVixFQUF1QjtFQUNoRFIsVUFBVSxVQUFWLENBQWtCTyxPQUFsQixFQUEyQkMsUUFBM0I7QUFDSCxDQUZELEUsQ0FJQTs7QUFDQVYsTUFBTSxDQUFDWSxHQUFQLENBQVcseUJBQVgsRUFBc0MsVUFBQ0gsT0FBRCxFQUFVQyxRQUFWLEVBQXVCO0VBQ3pEUixVQUFVLENBQUNlLFlBQVgsQ0FBd0JSLE9BQXhCLEVBQWlDQyxRQUFqQztBQUNILENBRkQsRSxDQUlBOztBQUNBVixNQUFNLENBQUNZLEdBQVAsQ0FBVyxrQkFBWCxFQUErQixVQUFDSCxPQUFELEVBQVVDLFFBQVYsRUFBdUI7RUFDbERSLFVBQVUsQ0FBQ2dCLFNBQVgsQ0FBcUJULE9BQXJCLEVBQThCQyxRQUE5QjtBQUNILENBRkQsRSxDQUlBOztBQUNBVixNQUFNLENBQUNZLEdBQVAsQ0FBVyxlQUFYLEVBQTRCLFVBQUNILE9BQUQsRUFBVUMsUUFBVixFQUF1QjtFQUMvQ1IsVUFBVSxDQUFDaUIsWUFBWCxDQUF3QlYsT0FBeEIsRUFBaUNDLFFBQWpDO0FBQ0gsQ0FGRDtBQUlBVixNQUFNLFVBQU4sQ0FBYyx5QkFBZCxFQUF5QyxVQUFDUyxPQUFELEVBQVVDLFFBQVYsRUFBdUI7RUFDNURSLFVBQVUsQ0FBQ2tCLHNCQUFYLENBQWtDWCxPQUFsQyxFQUEyQ0MsUUFBM0M7QUFDSCxDQUZEO2VBSWVWLE0ifQ==","map":{"version":3,"names":["router","Router","Controller","VideoController","post","json","Authenticate","videoUpload","single","request","response","upload","get","stream","like","dislike","searchVideo","searchUVideo","searchCat","findAllVideo","delete_user_all_videos"],"sourceRoot":"D:\\School\\IT Project\\IT-PROJECT\\backend3\\src\\Routes\\","sources":["Video.routes.js"],"sourcesContent":["import { response, Router } from 'express';\r\nimport { Authenticate } from '../Middlewares/Authenticate.middleware';\r\nimport { videoUpload } from '../Middlewares/Video.middleware';\r\nimport { json } from 'body-parser'\r\nimport { VideoController } from '../Controller/Video.controller'\r\n\r\nconst router = Router();\r\nconst Controller = new VideoController();\r\n//after upload work, next step is save to mongo db\r\nrouter.post('/api/video', json(), Authenticate, videoUpload.single('video'), (request, response) => {\r\n    Controller.upload(request, response)\r\n})\r\n\r\n// video stream\r\nrouter.get('/api/video/:filename', (request, response) => {\r\n    Controller.stream(request, response)\r\n})\r\n\r\n// like a video\r\nrouter.get('/api/video-like/', (request, response) => {\r\n    Controller.like(request, response)\r\n})\r\n\r\n\r\n// dislike a video\r\nrouter.get('/api/video-dislike/', (request, response) => {\r\n    Controller.dislike(request, response)\r\n})\r\n\r\n// search for a video\r\nrouter.get('/api/video-search/', (request, response) => {\r\n    Controller.searchVideo(request, response)\r\n})\r\n\r\n// delete a video\r\nrouter.delete('/api/video/', (request, response) => {\r\n    Controller.delete(request, response)\r\n})\r\n\r\n// search for video under certain user\r\nrouter.get('/api/user-video-search/', (request, response) => {\r\n    Controller.searchUVideo(request, response)\r\n})\r\n\r\n// search for video under certain category\r\nrouter.get('/api/cat-search/', (request, response) => {\r\n    Controller.searchCat(request, response)\r\n})\r\n\r\n//find all videos and return \r\nrouter.get('/api/findallV', (request, response) => {\r\n    Controller.findAllVideo(request, response)\r\n})\r\n\r\nrouter.delete('/api/user-video-delete/', (request, response) => {\r\n    Controller.delete_user_all_videos(request, response)\r\n})\r\n\r\nexport default router;"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AAEA,IAAMA,MAAM,GAAG,IAAAC,eAAA,GAAf;AACA,IAAMC,UAAU,GAAG,IAAIC,uBAAJ,EAAnB,C,CACA;;AACAH,MAAM,CAACI,IAAP,CAAY,YAAZ,EAA0B,IAAAC,gBAAA,GAA1B,EAAkCC,0BAAlC,EAAgDC,kBAAA,CAAYC,MAAZ,CAAmB,OAAnB,CAAhD,EAA6E,UAACC,OAAD,EAAUC,QAAV,EAAuB;EAChGR,UAAU,CAACS,MAAX,CAAkBF,OAAlB,EAA2BC,QAA3B;AACH,CAFD,E,CAIA;;AACAV,MAAM,CAACY,GAAP,CAAW,sBAAX,EAAmC,UAACH,OAAD,EAAUC,QAAV,EAAuB;EACtDR,UAAU,CAACW,MAAX,CAAkBJ,OAAlB,EAA2BC,QAA3B;AACH,CAFD,E,CAIA;;AACAV,MAAM,CAACY,GAAP,CAAW,kBAAX,EAA+B,UAACH,OAAD,EAAUC,QAAV,EAAuB;EAClDR,UAAU,CAACY,IAAX,CAAgBL,OAAhB,EAAyBC,QAAzB;AACH,CAFD,E,CAKA;;AACAV,MAAM,CAACY,GAAP,CAAW,qBAAX,EAAkC,UAACH,OAAD,EAAUC,QAAV,EAAuB;EACrDR,UAAU,CAACa,OAAX,CAAmBN,OAAnB,EAA4BC,QAA5B;AACH,CAFD,E,CAIA;;AACAV,MAAM,CAACY,GAAP,CAAW,oBAAX,EAAiC,UAACH,OAAD,EAAUC,QAAV,EAAuB;EACpDR,UAAU,CAACc,WAAX,CAAuBP,OAAvB,EAAgCC,QAAhC;AACH,CAFD,E,CAIA;;AACAV,MAAM,UAAN,CAAc,aAAd,EAA6B,UAACS,OAAD,EAAUC,QAAV,EAAuB;EAChDR,UAAU,UAAV,CAAkBO,OAAlB,EAA2BC,QAA3B;AACH,CAFD,E,CAIA;;AACAV,MAAM,CAACY,GAAP,CAAW,yBAAX,EAAsC,UAACH,OAAD,EAAUC,QAAV,EAAuB;EACzDR,UAAU,CAACe,YAAX,CAAwBR,OAAxB,EAAiCC,QAAjC;AACH,CAFD,E,CAIA;;AACAV,MAAM,CAACY,GAAP,CAAW,kBAAX,EAA+B,UAACH,OAAD,EAAUC,QAAV,EAAuB;EAClDR,UAAU,CAACgB,SAAX,CAAqBT,OAArB,EAA8BC,QAA9B;AACH,CAFD,E,CAIA;;AACAV,MAAM,CAACY,GAAP,CAAW,eAAX,EAA4B,UAACH,OAAD,EAAUC,QAAV,EAAuB;EAC/CR,UAAU,CAACiB,YAAX,CAAwBV,OAAxB,EAAiCC,QAAjC;AACH,CAFD;AAIAV,MAAM,UAAN,CAAc,yBAAd,EAAyC,UAACS,OAAD,EAAUC,QAAV,EAAuB;EAC5DR,UAAU,CAACkB,sBAAX,CAAkCX,OAAlC,EAA2CC,QAA3C;AACH,CAFD;eAIeV,M"}},"mtime":1665981022554},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Middlewares\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"filename\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Middlewares\\\\Authenticate.middleware.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Authenticate = void 0;\n\nvar _jsonwebtoken = require(\"jsonwebtoken\");\n\nvar _dotenv = require(\"dotenv\");\n\n(0, _dotenv.config)();\n\nvar Authenticate = function Authenticate(request, response, next) {\n  var token = request.headers['x-auth-token'];\n  (0, _jsonwebtoken.verify)(token, process.env.cookie_secret, function (error, decoded) {\n    if (error) {\n      return response.status(403).json({\n        msg: 'Signup or Login to upload video'\n      });\n    }\n\n    request.token = decoded;\n    next();\n  });\n};\n\nexports.Authenticate = Authenticate;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25maWciLCJBdXRoZW50aWNhdGUiLCJyZXF1ZXN0IiwicmVzcG9uc2UiLCJuZXh0IiwidG9rZW4iLCJoZWFkZXJzIiwidmVyaWZ5IiwicHJvY2VzcyIsImVudiIsImNvb2tpZV9zZWNyZXQiLCJlcnJvciIsImRlY29kZWQiLCJzdGF0dXMiLCJqc29uIiwibXNnIl0sInNvdXJjZVJvb3QiOiJEOlxcU2Nob29sXFxJVCBQcm9qZWN0XFxJVC1QUk9KRUNUXFxiYWNrZW5kM1xcc3JjXFxNaWRkbGV3YXJlc1xcIiwic291cmNlcyI6WyJBdXRoZW50aWNhdGUubWlkZGxld2FyZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge3ZlcmlmeX0gZnJvbSAnanNvbndlYnRva2VuJztcclxuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnZG90ZW52JztcclxuY29uZmlnKCk7XHJcblxyXG5leHBvcnQgY29uc3QgQXV0aGVudGljYXRlID0gKHJlcXVlc3QsIHJlc3BvbnNlLCBuZXh0KT0+e1xyXG4gICAgY29uc3QgdG9rZW4gPSByZXF1ZXN0LmhlYWRlcnNbJ3gtYXV0aC10b2tlbiddO1xyXG5cclxuICAgIHZlcmlmeSh0b2tlbiwgcHJvY2Vzcy5lbnYuY29va2llX3NlY3JldCwgKGVycm9yLCBkZWNvZGVkKT0+e1xyXG4gICAgICAgIGlmIChlcnJvcil7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNDAzKS5qc29uKHttc2c6J1NpZ251cCBvciBMb2dpbiB0byB1cGxvYWQgdmlkZW8nfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgcmVxdWVzdC50b2tlbiA9IGRlY29kZWQ7XHJcbiAgICAgICAgbmV4dCgpXHJcbiAgICB9KVxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0EsSUFBQUEsY0FBQTs7QUFFTyxJQUFNQyxZQUFZLEdBQUcsU0FBZkEsWUFBZSxDQUFDQyxPQUFELEVBQVVDLFFBQVYsRUFBb0JDLElBQXBCLEVBQTJCO0VBQ25ELElBQU1DLEtBQUssR0FBR0gsT0FBTyxDQUFDSSxPQUFSLENBQWdCLGNBQWhCLENBQWQ7RUFFQSxJQUFBQyxvQkFBQSxFQUFPRixLQUFQLEVBQWNHLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxhQUExQixFQUF5QyxVQUFDQyxLQUFELEVBQVFDLE9BQVIsRUFBa0I7SUFDdkQsSUFBSUQsS0FBSixFQUFVO01BQ04sT0FBT1IsUUFBUSxDQUFDVSxNQUFULENBQWdCLEdBQWhCLEVBQXFCQyxJQUFyQixDQUEwQjtRQUFDQyxHQUFHLEVBQUM7TUFBTCxDQUExQixDQUFQO0lBQ0g7O0lBQ0RiLE9BQU8sQ0FBQ0csS0FBUixHQUFnQk8sT0FBaEI7SUFDQVIsSUFBSTtFQUNQLENBTkQ7QUFPSCxDQVZNIn0=","map":{"version":3,"names":["config","Authenticate","request","response","next","token","headers","verify","process","env","cookie_secret","error","decoded","status","json","msg"],"sourceRoot":"D:\\School\\IT Project\\IT-PROJECT\\backend3\\src\\Middlewares\\","sources":["Authenticate.middleware.js"],"sourcesContent":["import {verify} from 'jsonwebtoken';\r\nimport { config } from 'dotenv';\r\nconfig();\r\n\r\nexport const Authenticate = (request, response, next)=>{\r\n    const token = request.headers['x-auth-token'];\r\n\r\n    verify(token, process.env.cookie_secret, (error, decoded)=>{\r\n        if (error){\r\n            return response.status(403).json({msg:'Signup or Login to upload video'})\r\n        }\r\n        request.token = decoded;\r\n        next()\r\n    })\r\n}"],"mappings":";;;;;;;AAAA;;AACA;;AACA,IAAAA,cAAA;;AAEO,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,OAAD,EAAUC,QAAV,EAAoBC,IAApB,EAA2B;EACnD,IAAMC,KAAK,GAAGH,OAAO,CAACI,OAAR,CAAgB,cAAhB,CAAd;EAEA,IAAAC,oBAAA,EAAOF,KAAP,EAAcG,OAAO,CAACC,GAAR,CAAYC,aAA1B,EAAyC,UAACC,KAAD,EAAQC,OAAR,EAAkB;IACvD,IAAID,KAAJ,EAAU;MACN,OAAOR,QAAQ,CAACU,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B;QAACC,GAAG,EAAC;MAAL,CAA1B,CAAP;IACH;;IACDb,OAAO,CAACG,KAAR,GAAgBO,OAAhB;IACAR,IAAI;EACP,CAND;AAOH,CAVM"}},"mtime":1662523367956},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Middlewares\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"filename\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Middlewares\\\\Video.middleware.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.videoUpload = void 0;\n\nvar _file = _interopRequireDefault(require(\"@babel/core/lib/transformation/file/file\"));\n\nvar _express = require(\"express\");\n\nvar _multer = _interopRequireDefault(require(\"multer\"));\n\nvar _uuid = require(\"uuid\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n// video storage\nvar videoStorage = _multer[\"default\"].diskStorage({\n  destination: \"videos\",\n  filename: function filename(request, file, cb) {\n    var id = (0, _uuid.v4)();\n    var token = request.token;\n    var filename = \"\".concat(token._id.toString(), \"-\").concat(id);\n    request.filename = filename;\n    cb(null, filename);\n  }\n}); //video upload\n\n\nvar videoUpload = (0, _multer[\"default\"])({\n  storage: videoStorage,\n  limits: {\n    fieldSize: 90000000 * 5 //10 MB   \n\n  },\n  fileFilter: function fileFilter(request, file, cb) {\n    if (!file.originalname.match(/\\.(mp4|MPEG-4|mkv)$/)) {\n      return cb(new Error('Video fomat nor supported'));\n    }\n\n    cb(undefined, true);\n  }\n});\nexports.videoUpload = videoUpload;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ2aWRlb1N0b3JhZ2UiLCJtdWx0ZXIiLCJkaXNrU3RvcmFnZSIsImRlc3RpbmF0aW9uIiwiZmlsZW5hbWUiLCJyZXF1ZXN0IiwiZmlsZSIsImNiIiwiaWQiLCJ1dWlkdjQiLCJ0b2tlbiIsIl9pZCIsInRvU3RyaW5nIiwidmlkZW9VcGxvYWQiLCJzdG9yYWdlIiwibGltaXRzIiwiZmllbGRTaXplIiwiZmlsZUZpbHRlciIsIm9yaWdpbmFsbmFtZSIsIm1hdGNoIiwiRXJyb3IiLCJ1bmRlZmluZWQiXSwic291cmNlUm9vdCI6IkQ6XFxTY2hvb2xcXElUIFByb2plY3RcXElULVBST0pFQ1RcXGJhY2tlbmQzXFxzcmNcXE1pZGRsZXdhcmVzXFwiLCJzb3VyY2VzIjpbIlZpZGVvLm1pZGRsZXdhcmUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGZpbGUgZnJvbSBcIkBiYWJlbC9jb3JlL2xpYi90cmFuc2Zvcm1hdGlvbi9maWxlL2ZpbGVcIjtcclxuaW1wb3J0IHsgcmVxdWVzdCB9IGZyb20gXCJleHByZXNzXCI7XHJcbmltcG9ydCBtdWx0ZXIgZnJvbSBcIm11bHRlclwiO1xyXG5pbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tICd1dWlkJztcclxuXHJcbi8vIHZpZGVvIHN0b3JhZ2VcclxuY29uc3QgdmlkZW9TdG9yYWdlID0gbXVsdGVyLmRpc2tTdG9yYWdlKHtcclxuICAgIGRlc3RpbmF0aW9uOiBcInZpZGVvc1wiLFxyXG4gICAgZmlsZW5hbWU6IChyZXF1ZXN0LCBmaWxlLCBjYikgPT4ge1xyXG4gICAgICAgIGNvbnN0IGlkID0gdXVpZHY0KCk7XHJcbiAgICAgICAgY29uc3QgdG9rZW4gPSByZXF1ZXN0LnRva2VuO1xyXG4gICAgICAgIGNvbnN0IGZpbGVuYW1lID0gYCR7dG9rZW4uX2lkLnRvU3RyaW5nKCl9LSR7aWR9YDtcclxuICAgICAgICByZXF1ZXN0LmZpbGVuYW1lID0gZmlsZW5hbWU7XHJcbiAgICAgICAgY2IobnVsbCwgZmlsZW5hbWUpXHJcbiAgICB9XHJcblxyXG59KVxyXG5cclxuLy92aWRlbyB1cGxvYWRcclxuZXhwb3J0IGNvbnN0IHZpZGVvVXBsb2FkID0gbXVsdGVyKHtcclxuICAgIHN0b3JhZ2U6IHZpZGVvU3RvcmFnZSxcclxuICAgIGxpbWl0czoge1xyXG4gICAgICAgIGZpZWxkU2l6ZTogOTAwMDAwMDAgKiA1IC8vMTAgTUIgICBcclxuICAgIH0sXHJcbiAgICBmaWxlRmlsdGVyOiAocmVxdWVzdCwgZmlsZSwgY2IpID0+IHtcclxuICAgICAgICBpZiAoIWZpbGUub3JpZ2luYWxuYW1lLm1hdGNoKC9cXC4obXA0fE1QRUctNHxta3YpJC8pKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjYihuZXcgRXJyb3IoJ1ZpZGVvIGZvbWF0IG5vciBzdXBwb3J0ZWQnKSlcclxuICAgICAgICB9XHJcbiAgICAgICAgY2IodW5kZWZpbmVkLCB0cnVlKVxyXG4gICAgfVxyXG59KSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUE7QUFDQSxJQUFNQSxZQUFZLEdBQUdDLGtCQUFBLENBQU9DLFdBQVAsQ0FBbUI7RUFDcENDLFdBQVcsRUFBRSxRQUR1QjtFQUVwQ0MsUUFBUSxFQUFFLGtCQUFDQyxPQUFELEVBQVVDLElBQVYsRUFBZ0JDLEVBQWhCLEVBQXVCO0lBQzdCLElBQU1DLEVBQUUsR0FBRyxJQUFBQyxRQUFBLEdBQVg7SUFDQSxJQUFNQyxLQUFLLEdBQUdMLE9BQU8sQ0FBQ0ssS0FBdEI7SUFDQSxJQUFNTixRQUFRLGFBQU1NLEtBQUssQ0FBQ0MsR0FBTixDQUFVQyxRQUFWLEVBQU4sY0FBOEJKLEVBQTlCLENBQWQ7SUFDQUgsT0FBTyxDQUFDRCxRQUFSLEdBQW1CQSxRQUFuQjtJQUNBRyxFQUFFLENBQUMsSUFBRCxFQUFPSCxRQUFQLENBQUY7RUFDSDtBQVJtQyxDQUFuQixDQUFyQixDLENBWUE7OztBQUNPLElBQU1TLFdBQVcsR0FBRyxJQUFBWixrQkFBQSxFQUFPO0VBQzlCYSxPQUFPLEVBQUVkLFlBRHFCO0VBRTlCZSxNQUFNLEVBQUU7SUFDSkMsU0FBUyxFQUFFLFdBQVcsQ0FEbEIsQ0FDb0I7O0VBRHBCLENBRnNCO0VBSzlCQyxVQUFVLEVBQUUsb0JBQUNaLE9BQUQsRUFBVUMsSUFBVixFQUFnQkMsRUFBaEIsRUFBdUI7SUFDL0IsSUFBSSxDQUFDRCxJQUFJLENBQUNZLFlBQUwsQ0FBa0JDLEtBQWxCLENBQXdCLHFCQUF4QixDQUFMLEVBQXFEO01BQ2pELE9BQU9aLEVBQUUsQ0FBQyxJQUFJYSxLQUFKLENBQVUsMkJBQVYsQ0FBRCxDQUFUO0lBQ0g7O0lBQ0RiLEVBQUUsQ0FBQ2MsU0FBRCxFQUFZLElBQVosQ0FBRjtFQUNIO0FBVjZCLENBQVAsQ0FBcEIifQ==","map":{"version":3,"names":["videoStorage","multer","diskStorage","destination","filename","request","file","cb","id","uuidv4","token","_id","toString","videoUpload","storage","limits","fieldSize","fileFilter","originalname","match","Error","undefined"],"sourceRoot":"D:\\School\\IT Project\\IT-PROJECT\\backend3\\src\\Middlewares\\","sources":["Video.middleware.js"],"sourcesContent":["import file from \"@babel/core/lib/transformation/file/file\";\r\nimport { request } from \"express\";\r\nimport multer from \"multer\";\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\n// video storage\r\nconst videoStorage = multer.diskStorage({\r\n    destination: \"videos\",\r\n    filename: (request, file, cb) => {\r\n        const id = uuidv4();\r\n        const token = request.token;\r\n        const filename = `${token._id.toString()}-${id}`;\r\n        request.filename = filename;\r\n        cb(null, filename)\r\n    }\r\n\r\n})\r\n\r\n//video upload\r\nexport const videoUpload = multer({\r\n    storage: videoStorage,\r\n    limits: {\r\n        fieldSize: 90000000 * 5 //10 MB   \r\n    },\r\n    fileFilter: (request, file, cb) => {\r\n        if (!file.originalname.match(/\\.(mp4|MPEG-4|mkv)$/)) {\r\n            return cb(new Error('Video fomat nor supported'))\r\n        }\r\n        cb(undefined, true)\r\n    }\r\n})"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;AAEA;AACA,IAAMA,YAAY,GAAGC,kBAAA,CAAOC,WAAP,CAAmB;EACpCC,WAAW,EAAE,QADuB;EAEpCC,QAAQ,EAAE,kBAACC,OAAD,EAAUC,IAAV,EAAgBC,EAAhB,EAAuB;IAC7B,IAAMC,EAAE,GAAG,IAAAC,QAAA,GAAX;IACA,IAAMC,KAAK,GAAGL,OAAO,CAACK,KAAtB;IACA,IAAMN,QAAQ,aAAMM,KAAK,CAACC,GAAN,CAAUC,QAAV,EAAN,cAA8BJ,EAA9B,CAAd;IACAH,OAAO,CAACD,QAAR,GAAmBA,QAAnB;IACAG,EAAE,CAAC,IAAD,EAAOH,QAAP,CAAF;EACH;AARmC,CAAnB,CAArB,C,CAYA;;;AACO,IAAMS,WAAW,GAAG,IAAAZ,kBAAA,EAAO;EAC9Ba,OAAO,EAAEd,YADqB;EAE9Be,MAAM,EAAE;IACJC,SAAS,EAAE,WAAW,CADlB,CACoB;;EADpB,CAFsB;EAK9BC,UAAU,EAAE,oBAACZ,OAAD,EAAUC,IAAV,EAAgBC,EAAhB,EAAuB;IAC/B,IAAI,CAACD,IAAI,CAACY,YAAL,CAAkBC,KAAlB,CAAwB,qBAAxB,CAAL,EAAqD;MACjD,OAAOZ,EAAE,CAAC,IAAIa,KAAJ,CAAU,2BAAV,CAAD,CAAT;IACH;;IACDb,EAAE,CAACc,SAAD,EAAY,IAAZ,CAAF;EACH;AAV6B,CAAP,CAApB"}},"mtime":1665981022551},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Controller\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"filename\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Controller\\\\Video.controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.VideoController = void 0;\n\nvar _Video = require(\"../Models/Video.model\");\n\nvar _fs = _interopRequireDefault(require(\"fs\"));\n\nvar _dns = require(\"dns\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nvar VideoController = /*#__PURE__*/function () {\n  function VideoController() {\n    _classCallCheck(this, VideoController);\n  }\n\n  _createClass(VideoController, [{\n    key: \"upload\",\n    value: function () {\n      var _upload = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(request, response) {\n        var newVideo, saveVideo;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                newVideo = new _Video.videoModel({\n                  owner: request.token._id,\n                  username: request.body.username,\n                  category: request.body.category,\n                  name: request.body.name,\n                  videopath: request.filename,\n                  description: request.body.description\n                });\n                _context.prev = 1;\n                _context.next = 4;\n                return newVideo.save();\n\n              case 4:\n                saveVideo = _context.sent;\n                return _context.abrupt(\"return\", response.status(201).json({\n                  msg: 'Video uploaded successfully'\n                }));\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context[\"catch\"](1);\n                return _context.abrupt(\"return\", response.status(500).json({\n                  msg: 'Video upload failed'\n                }));\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[1, 8]]);\n      }));\n\n      function upload(_x, _x2) {\n        return _upload.apply(this, arguments);\n      }\n\n      return upload;\n    }()\n  }, {\n    key: \"like\",\n    value: function like(request, response) {\n      var video_id = request.query.id;\n      var operation = request.query.operation;\n\n      if (operation === 'false') {\n        _Video.videoModel.findOneAndUpdate({\n          _id: video_id\n        }, {\n          $inc: {\n            likes: -1\n          }\n        }, {\n          \"new\": true\n        }, function (error, doc) {\n          if (error) {\n            return response.status(500).json({\n              msg: 'Network Error: Failed to cancel like video'\n            });\n          }\n\n          return response.status(200).json({\n            msg: 'Video like cancelled'\n          });\n        });\n      } else {\n        _Video.videoModel.findOneAndUpdate({\n          _id: video_id\n        }, {\n          $inc: {\n            likes: 1\n          }\n        }, {\n          \"new\": true\n        }, function (error, doc) {\n          if (error) {\n            return response.status(500).json({\n              msg: 'Network Error: Failed to like video'\n            });\n          }\n\n          return response.status(200).json({\n            msg: 'Video liked'\n          });\n        });\n      }\n    }\n  }, {\n    key: \"dislike\",\n    value: function dislike(request, response) {\n      var video_id = request.query.id;\n      var operation = request.query.operation;\n\n      if (operation === 'false') {\n        _Video.videoModel.findOneAndUpdate({\n          _id: video_id\n        }, {\n          $inc: {\n            dislikes: -1\n          }\n        }, {\n          \"new\": true\n        }, function (error, doc) {\n          if (error) {\n            return response.status(500).json({\n              msg: 'Network Error: Failed to cancel dislike video'\n            });\n          }\n\n          return response.status(200).json({\n            msg: 'Video dislike cancelled'\n          });\n        });\n      } else {\n        _Video.videoModel.findOneAndUpdate({\n          _id: video_id\n        }, {\n          $inc: {\n            dislikes: 1\n          }\n        }, {\n          \"new\": true\n        }, function (error, doc) {\n          if (error) {\n            return response.status(500).json({\n              msg: 'Network Error: Failed to dislike video'\n            });\n          }\n\n          return response.status(200).json({\n            msg: 'Video disliked'\n          });\n        });\n      }\n    }\n  }, {\n    key: \"searchVideo\",\n    value: function () {\n      var _searchVideo = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(request, response) {\n        var name, video;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                name = request.query.key.toLowerCase();\n                _context2.prev = 1;\n                _context2.next = 4;\n                return _Video.videoModel.find({\n                  name: {\n                    $regex: name.toLowerCase()\n                  }\n                });\n\n              case 4:\n                video = _context2.sent;\n                return _context2.abrupt(\"return\", response.send(video));\n\n              case 8:\n                _context2.prev = 8;\n                _context2.t0 = _context2[\"catch\"](1);\n                return _context2.abrupt(\"return\", response.status(700).json({\n                  msg: 'No matching video'\n                }));\n\n              case 11:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[1, 8]]);\n      }));\n\n      function searchVideo(_x3, _x4) {\n        return _searchVideo.apply(this, arguments);\n      }\n\n      return searchVideo;\n    }() // search all videos and display\n\n  }, {\n    key: \"findAllVideo\",\n    value: function () {\n      var _findAllVideo = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(request, response) {\n        var video;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                _context3.next = 3;\n                return _Video.videoModel.find();\n\n              case 3:\n                video = _context3.sent;\n                return _context3.abrupt(\"return\", response.send(video));\n\n              case 7:\n                _context3.prev = 7;\n                _context3.t0 = _context3[\"catch\"](0);\n                return _context3.abrupt(\"return\", response.status(700).json({\n                  msg: 'No videos'\n                }));\n\n              case 10:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, null, [[0, 7]]);\n      }));\n\n      function findAllVideo(_x5, _x6) {\n        return _findAllVideo.apply(this, arguments);\n      }\n\n      return findAllVideo;\n    }() // search video by username\n\n  }, {\n    key: \"searchUVideo\",\n    value: function () {\n      var _searchUVideo = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(request, response) {\n        var name, video;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                name = request.query.key;\n                _context4.prev = 1;\n                _context4.next = 4;\n                return _Video.videoModel.find({\n                  username: {\n                    $regex: name\n                  }\n                });\n\n              case 4:\n                video = _context4.sent;\n                return _context4.abrupt(\"return\", response.send(video));\n\n              case 8:\n                _context4.prev = 8;\n                _context4.t0 = _context4[\"catch\"](1);\n                return _context4.abrupt(\"return\", response.status(700).json({\n                  msg: 'No matching video'\n                }));\n\n              case 11:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, null, [[1, 8]]);\n      }));\n\n      function searchUVideo(_x7, _x8) {\n        return _searchUVideo.apply(this, arguments);\n      }\n\n      return searchUVideo;\n    }() // search video by category\n\n  }, {\n    key: \"searchCat\",\n    value: function () {\n      var _searchCat = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(request, response) {\n        var cat, video;\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                cat = request.query.key;\n                _context5.prev = 1;\n                _context5.next = 4;\n                return _Video.videoModel.find({\n                  category: {\n                    $regex: cat\n                  }\n                });\n\n              case 4:\n                video = _context5.sent;\n                return _context5.abrupt(\"return\", response.send(video));\n\n              case 8:\n                _context5.prev = 8;\n                _context5.t0 = _context5[\"catch\"](1);\n                return _context5.abrupt(\"return\", response.status(700).json({\n                  msg: 'No matching video'\n                }));\n\n              case 11:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, null, [[1, 8]]);\n      }));\n\n      function searchCat(_x9, _x10) {\n        return _searchCat.apply(this, arguments);\n      }\n\n      return searchCat;\n    }() // stream video \n\n  }, {\n    key: \"stream\",\n    value: function stream(request, response) {\n      var range = request.headers.range;\n\n      if (!range) {\n        return response.status(400).json({\n          msg: 'Range header is required to start'\n        });\n      }\n\n      var videopath = \"videos/\".concat(request.params.filename);\n\n      var videosize = _fs[\"default\"].statSync(videopath).size; // get video size\n\n\n      var start = Number(range.replace(/\\D/g, \"\")); //get start point \n\n      var chunk_size = Math.pow(10, 6); // 1 mb , chunck size\n\n      var end = Math.min(start + chunk_size, videosize - 1); //end position\n\n      var contenLength = end - start + 1; // how many  size sending\n\n      var hearders = {\n        'Content-Length': contenLength,\n        'Accept-Range': 'bytes',\n        'Content-Type': 'video/mp40',\n        'Content-Range': \"bytes \".concat(start, \" -\").concat(end, \"/\").concat(videosize) //decise how far video gone\n\n      };\n      response.writeHead(206, hearders);\n\n      var videostream = _fs[\"default\"].createReadStream(videopath, {\n        start: start,\n        end: end\n      }); // create video stream\n\n\n      videostream.pipe(response);\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete(request, response) {\n      var video_id = request.query.video_id;\n      var video_path = request.query.video_path;\n      var videopath = \"videos/\".concat(video_path);\n\n      if (_fs[\"default\"].existsSync(videopath)) {\n        _fs[\"default\"].unlink(videopath, function (error) {\n          if (error) {\n            return response.status(500).json({\n              msg: 'Network Error: Failed to delete video'\n            });\n          }\n\n          _Video.videoModel.findOneAndDelete({\n            _id: video_id\n          }, function (error) {\n            if (error) {\n              return response.status(500).json({\n                msg: 'Network Error: Failed to delete video'\n              });\n            }\n\n            return response.status(200).json({\n              msg: ' video delete'\n            });\n          });\n        });\n      }\n    }\n  }, {\n    key: \"delete_user_all_videos\",\n    value: function () {\n      var _delete_user_all_videos = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(request, response) {\n        var delete_username, user_video_list, i, videopath;\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                delete_username = request.query.username;\n                user_video_list = request.query.video_list;\n\n                if (!(user_video_list !== undefined)) {\n                  _context6.next = 6;\n                  break;\n                }\n\n                for (i = 0; i < user_video_list.length; i++) {\n                  videopath = \"videos/\".concat(user_video_list[i]);\n\n                  if (_fs[\"default\"].existsSync(videopath)) {\n                    _fs[\"default\"].unlink(videopath, function (error) {\n                      if (error) {\n                        return response.status(500).json({\n                          msg: 'Network Error: Failed to delete video'\n                        });\n                      }\n                    });\n                  }\n                }\n\n                _context6.next = 6;\n                return _Video.videoModel.deleteMany({\n                  username: delete_username\n                });\n\n              case 6:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6);\n      }));\n\n      function delete_user_all_videos(_x11, _x12) {\n        return _delete_user_all_videos.apply(this, arguments);\n      }\n\n      return delete_user_all_videos;\n    }()\n  }]);\n\n  return VideoController;\n}();\n\nexports.VideoController = VideoController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJWaWRlb0NvbnRyb2xsZXIiLCJyZXF1ZXN0IiwicmVzcG9uc2UiLCJuZXdWaWRlbyIsInZpZGVvTW9kZWwiLCJvd25lciIsInRva2VuIiwiX2lkIiwidXNlcm5hbWUiLCJib2R5IiwiY2F0ZWdvcnkiLCJuYW1lIiwidmlkZW9wYXRoIiwiZmlsZW5hbWUiLCJkZXNjcmlwdGlvbiIsInNhdmUiLCJzYXZlVmlkZW8iLCJzdGF0dXMiLCJqc29uIiwibXNnIiwidmlkZW9faWQiLCJxdWVyeSIsImlkIiwib3BlcmF0aW9uIiwiZmluZE9uZUFuZFVwZGF0ZSIsIiRpbmMiLCJsaWtlcyIsImVycm9yIiwiZG9jIiwiZGlzbGlrZXMiLCJrZXkiLCJ0b0xvd2VyQ2FzZSIsImZpbmQiLCIkcmVnZXgiLCJ2aWRlbyIsInNlbmQiLCJjYXQiLCJyYW5nZSIsImhlYWRlcnMiLCJwYXJhbXMiLCJ2aWRlb3NpemUiLCJmcyIsInN0YXRTeW5jIiwic2l6ZSIsInN0YXJ0IiwiTnVtYmVyIiwicmVwbGFjZSIsImNodW5rX3NpemUiLCJlbmQiLCJNYXRoIiwibWluIiwiY29udGVuTGVuZ3RoIiwiaGVhcmRlcnMiLCJ3cml0ZUhlYWQiLCJ2aWRlb3N0cmVhbSIsImNyZWF0ZVJlYWRTdHJlYW0iLCJwaXBlIiwidmlkZW9fcGF0aCIsImV4aXN0c1N5bmMiLCJ1bmxpbmsiLCJmaW5kT25lQW5kRGVsZXRlIiwiZGVsZXRlX3VzZXJuYW1lIiwidXNlcl92aWRlb19saXN0IiwidmlkZW9fbGlzdCIsInVuZGVmaW5lZCIsImkiLCJsZW5ndGgiLCJkZWxldGVNYW55Il0sInNvdXJjZVJvb3QiOiJEOlxcU2Nob29sXFxJVCBQcm9qZWN0XFxJVC1QUk9KRUNUXFxiYWNrZW5kM1xcc3JjXFxDb250cm9sbGVyXFwiLCJzb3VyY2VzIjpbIlZpZGVvLmNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdmlkZW9Nb2RlbCB9IGZyb20gJy4uL01vZGVscy9WaWRlby5tb2RlbCdcclxuaW1wb3J0IGZzIGZyb20gJ2ZzJ1xyXG5pbXBvcnQgeyBOT05BTUUgfSBmcm9tICdkbnMnXHJcblxyXG5leHBvcnQgY2xhc3MgVmlkZW9Db250cm9sbGVyIHtcclxuICAgIGFzeW5jIHVwbG9hZChyZXF1ZXN0LCByZXNwb25zZSkge1xyXG5cclxuICAgICAgICBjb25zdCBuZXdWaWRlbyA9IG5ldyB2aWRlb01vZGVsKHtcclxuICAgICAgICAgICAgb3duZXI6IHJlcXVlc3QudG9rZW4uX2lkLFxyXG4gICAgICAgICAgICB1c2VybmFtZTogcmVxdWVzdC5ib2R5LnVzZXJuYW1lLFxyXG4gICAgICAgICAgICBjYXRlZ29yeTogcmVxdWVzdC5ib2R5LmNhdGVnb3J5LFxyXG4gICAgICAgICAgICBuYW1lOiByZXF1ZXN0LmJvZHkubmFtZSxcclxuICAgICAgICAgICAgdmlkZW9wYXRoOiByZXF1ZXN0LmZpbGVuYW1lLFxyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogcmVxdWVzdC5ib2R5LmRlc2NyaXB0aW9uXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3Qgc2F2ZVZpZGVvID0gYXdhaXQgbmV3VmlkZW8uc2F2ZSgpXHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoMjAxKS5qc29uKHsgbXNnOiAnVmlkZW8gdXBsb2FkZWQgc3VjY2Vzc2Z1bGx5JyB9KVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAnVmlkZW8gdXBsb2FkIGZhaWxlZCcgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGxpa2UocmVxdWVzdCwgcmVzcG9uc2UpIHtcclxuICAgICAgICBjb25zdCB2aWRlb19pZCA9IHJlcXVlc3QucXVlcnkuaWQ7XHJcbiAgICAgICAgY29uc3Qgb3BlcmF0aW9uID0gcmVxdWVzdC5xdWVyeS5vcGVyYXRpb25cclxuICAgICAgICBpZiAob3BlcmF0aW9uID09PSAnZmFsc2UnKSB7XHJcbiAgICAgICAgICAgIHZpZGVvTW9kZWwuZmluZE9uZUFuZFVwZGF0ZSh7IF9pZDogdmlkZW9faWQgfSwgeyAkaW5jOiB7IGxpa2VzOiAtMSB9IH0sXHJcbiAgICAgICAgICAgICAgICB7IG5ldzogdHJ1ZSB9LCAoZXJyb3IsIGRvYykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7IG1zZzogJ05ldHdvcmsgRXJyb3I6IEZhaWxlZCB0byBjYW5jZWwgbGlrZSB2aWRlbycgfSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cygyMDApLmpzb24oeyBtc2c6ICdWaWRlbyBsaWtlIGNhbmNlbGxlZCcgfSlcclxuICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHZpZGVvTW9kZWwuZmluZE9uZUFuZFVwZGF0ZSh7IF9pZDogdmlkZW9faWQgfSwgeyAkaW5jOiB7IGxpa2VzOiAxIH0gfSxcclxuICAgICAgICAgICAgICAgIHsgbmV3OiB0cnVlIH0sIChlcnJvciwgZG9jKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAnTmV0d29yayBFcnJvcjogRmFpbGVkIHRvIGxpa2UgdmlkZW8nIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHsgbXNnOiAnVmlkZW8gbGlrZWQnIH0pXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkaXNsaWtlKHJlcXVlc3QsIHJlc3BvbnNlKSB7XHJcbiAgICAgICAgY29uc3QgdmlkZW9faWQgPSByZXF1ZXN0LnF1ZXJ5LmlkO1xyXG4gICAgICAgIGNvbnN0IG9wZXJhdGlvbiA9IHJlcXVlc3QucXVlcnkub3BlcmF0aW9uXHJcbiAgICAgICAgaWYgKG9wZXJhdGlvbiA9PT0gJ2ZhbHNlJykge1xyXG4gICAgICAgICAgICB2aWRlb01vZGVsLmZpbmRPbmVBbmRVcGRhdGUoeyBfaWQ6IHZpZGVvX2lkIH0sIHsgJGluYzogeyBkaXNsaWtlczogLTEgfSB9LFxyXG4gICAgICAgICAgICAgICAgeyBuZXc6IHRydWUgfSwgKGVycm9yLCBkb2MpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oeyBtc2c6ICdOZXR3b3JrIEVycm9yOiBGYWlsZWQgdG8gY2FuY2VsIGRpc2xpa2UgdmlkZW8nIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHsgbXNnOiAnVmlkZW8gZGlzbGlrZSBjYW5jZWxsZWQnIH0pXHJcbiAgICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB2aWRlb01vZGVsLmZpbmRPbmVBbmRVcGRhdGUoeyBfaWQ6IHZpZGVvX2lkIH0sIHsgJGluYzogeyBkaXNsaWtlczogMSB9IH0sXHJcbiAgICAgICAgICAgICAgICB7IG5ldzogdHJ1ZSB9LCAoZXJyb3IsIGRvYykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7IG1zZzogJ05ldHdvcmsgRXJyb3I6IEZhaWxlZCB0byBkaXNsaWtlIHZpZGVvJyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7IG1zZzogJ1ZpZGVvIGRpc2xpa2VkJyB9KVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgc2VhcmNoVmlkZW8ocmVxdWVzdCwgcmVzcG9uc2UpIHtcclxuICAgICAgICBjb25zdCBuYW1lID0gcmVxdWVzdC5xdWVyeS5rZXkudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgdmlkZW8gPSBhd2FpdCB2aWRlb01vZGVsLmZpbmQoeyBuYW1lOiB7ICRyZWdleDogbmFtZS50b0xvd2VyQ2FzZSgpIH0gfSlcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnNlbmQodmlkZW8pXHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNzAwKS5qc29uKHsgbXNnOiAnTm8gbWF0Y2hpbmcgdmlkZW8nIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIHNlYXJjaCBhbGwgdmlkZW9zIGFuZCBkaXNwbGF5XHJcbiAgICBhc3luYyBmaW5kQWxsVmlkZW8ocmVxdWVzdCwgcmVzcG9uc2UpIHtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IHZpZGVvID0gYXdhaXQgdmlkZW9Nb2RlbC5maW5kKClcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnNlbmQodmlkZW8pXHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNzAwKS5qc29uKHsgbXNnOiAnTm8gdmlkZW9zJyB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIHNlYXJjaCB2aWRlbyBieSB1c2VybmFtZVxyXG4gICAgYXN5bmMgc2VhcmNoVVZpZGVvKHJlcXVlc3QsIHJlc3BvbnNlKSB7XHJcbiAgICAgICAgY29uc3QgbmFtZSA9IHJlcXVlc3QucXVlcnkua2V5O1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCB2aWRlbyA9IGF3YWl0IHZpZGVvTW9kZWwuZmluZCh7IHVzZXJuYW1lOiB7ICRyZWdleDogbmFtZSB9IH0pXHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zZW5kKHZpZGVvKVxyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDcwMCkuanNvbih7IG1zZzogJ05vIG1hdGNoaW5nIHZpZGVvJyB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBzZWFyY2ggdmlkZW8gYnkgY2F0ZWdvcnlcclxuICAgIGFzeW5jIHNlYXJjaENhdChyZXF1ZXN0LCByZXNwb25zZSkge1xyXG4gICAgICAgIGNvbnN0IGNhdCA9IHJlcXVlc3QucXVlcnkua2V5O1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCB2aWRlbyA9IGF3YWl0IHZpZGVvTW9kZWwuZmluZCh7IGNhdGVnb3J5OiB7ICRyZWdleDogY2F0IH0gfSlcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnNlbmQodmlkZW8pXHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNzAwKS5qc29uKHsgbXNnOiAnTm8gbWF0Y2hpbmcgdmlkZW8nIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIHN0cmVhbSB2aWRlbyBcclxuICAgIHN0cmVhbShyZXF1ZXN0LCByZXNwb25zZSkge1xyXG4gICAgICAgIGNvbnN0IHJhbmdlID0gcmVxdWVzdC5oZWFkZXJzLnJhbmdlXHJcbiAgICAgICAgaWYgKCFyYW5nZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwMCkuanNvbih7IG1zZzogJ1JhbmdlIGhlYWRlciBpcyByZXF1aXJlZCB0byBzdGFydCcgfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgdmlkZW9wYXRoID0gYHZpZGVvcy8ke3JlcXVlc3QucGFyYW1zLmZpbGVuYW1lfWA7XHJcbiAgICAgICAgY29uc3QgdmlkZW9zaXplID0gZnMuc3RhdFN5bmModmlkZW9wYXRoKS5zaXplOyAgLy8gZ2V0IHZpZGVvIHNpemVcclxuXHJcbiAgICAgICAgY29uc3Qgc3RhcnQgPSBOdW1iZXIocmFuZ2UucmVwbGFjZSgvXFxEL2csIFwiXCIpKTsgIC8vZ2V0IHN0YXJ0IHBvaW50IFxyXG4gICAgICAgIGNvbnN0IGNodW5rX3NpemUgPSAxMCAqKiA2IC8vIDEgbWIgLCBjaHVuY2sgc2l6ZVxyXG4gICAgICAgIGNvbnN0IGVuZCA9IE1hdGgubWluKHN0YXJ0ICsgY2h1bmtfc2l6ZSwgdmlkZW9zaXplIC0gMSk7ICAgLy9lbmQgcG9zaXRpb25cclxuXHJcbiAgICAgICAgY29uc3QgY29udGVuTGVuZ3RoID0gZW5kIC0gc3RhcnQgKyAxICAvLyBob3cgbWFueSAgc2l6ZSBzZW5kaW5nXHJcbiAgICAgICAgY29uc3QgaGVhcmRlcnMgPSB7XHJcbiAgICAgICAgICAgICdDb250ZW50LUxlbmd0aCc6IGNvbnRlbkxlbmd0aCxcclxuICAgICAgICAgICAgJ0FjY2VwdC1SYW5nZSc6ICdieXRlcycsXHJcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAndmlkZW8vbXA0MCcsXHJcbiAgICAgICAgICAgICdDb250ZW50LVJhbmdlJzogYGJ5dGVzICR7c3RhcnR9IC0ke2VuZH0vJHt2aWRlb3NpemV9YCAgIC8vZGVjaXNlIGhvdyBmYXIgdmlkZW8gZ29uZVxyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgcmVzcG9uc2Uud3JpdGVIZWFkKDIwNiwgaGVhcmRlcnMpO1xyXG4gICAgICAgIGNvbnN0IHZpZGVvc3RyZWFtID0gZnMuY3JlYXRlUmVhZFN0cmVhbSh2aWRlb3BhdGgsIHsgc3RhcnQsIGVuZCB9KTsgLy8gY3JlYXRlIHZpZGVvIHN0cmVhbVxyXG4gICAgICAgIHZpZGVvc3RyZWFtLnBpcGUocmVzcG9uc2UpXHJcbiAgICB9XHJcblxyXG4gICAgZGVsZXRlKHJlcXVlc3QsIHJlc3BvbnNlKSB7XHJcblxyXG4gICAgICAgIGNvbnN0IHZpZGVvX2lkID0gcmVxdWVzdC5xdWVyeS52aWRlb19pZDtcclxuICAgICAgICBjb25zdCB2aWRlb19wYXRoID0gcmVxdWVzdC5xdWVyeS52aWRlb19wYXRoO1xyXG4gICAgICAgIGNvbnN0IHZpZGVvcGF0aCA9IGB2aWRlb3MvJHt2aWRlb19wYXRofWA7XHJcbiAgICAgICAgaWYgKGZzLmV4aXN0c1N5bmModmlkZW9wYXRoKSkge1xyXG4gICAgICAgICAgICBmcy51bmxpbmsodmlkZW9wYXRoLCAoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAnTmV0d29yayBFcnJvcjogRmFpbGVkIHRvIGRlbGV0ZSB2aWRlbycgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZpZGVvTW9kZWwuZmluZE9uZUFuZERlbGV0ZSh7IF9pZDogdmlkZW9faWQgfSwgKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAnTmV0d29yayBFcnJvcjogRmFpbGVkIHRvIGRlbGV0ZSB2aWRlbycgfSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cygyMDApLmpzb24oeyBtc2c6ICcgdmlkZW8gZGVsZXRlJyB9KVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgZGVsZXRlX3VzZXJfYWxsX3ZpZGVvcyhyZXF1ZXN0LCByZXNwb25zZSkge1xyXG4gICAgICAgIGNvbnN0IGRlbGV0ZV91c2VybmFtZSA9IHJlcXVlc3QucXVlcnkudXNlcm5hbWU7XHJcbiAgICAgICAgY29uc3QgdXNlcl92aWRlb19saXN0ID0gcmVxdWVzdC5xdWVyeS52aWRlb19saXN0O1xyXG4gICAgICAgIGlmICh1c2VyX3ZpZGVvX2xpc3QgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHVzZXJfdmlkZW9fbGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHZpZGVvcGF0aCA9IGB2aWRlb3MvJHt1c2VyX3ZpZGVvX2xpc3RbaV19YDtcclxuICAgICAgICAgICAgICAgIGlmIChmcy5leGlzdHNTeW5jKHZpZGVvcGF0aCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBmcy51bmxpbmsodmlkZW9wYXRoLCAoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7IG1zZzogJ05ldHdvcmsgRXJyb3I6IEZhaWxlZCB0byBkZWxldGUgdmlkZW8nIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBhd2FpdCB2aWRlb01vZGVsLmRlbGV0ZU1hbnkoeyB1c2VybmFtZTogZGVsZXRlX3VzZXJuYW1lIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7Ozs7K0NBREEsb0o7Ozs7Ozs7Ozs7OztJQUdhQSxlOzs7Ozs7OzsrRUFDVCxpQkFBYUMsT0FBYixFQUFzQkMsUUFBdEI7UUFBQTtRQUFBO1VBQUE7WUFBQTtjQUFBO2dCQUVVQyxRQUZWLEdBRXFCLElBQUlDLGlCQUFKLENBQWU7a0JBQzVCQyxLQUFLLEVBQUVKLE9BQU8sQ0FBQ0ssS0FBUixDQUFjQyxHQURPO2tCQUU1QkMsUUFBUSxFQUFFUCxPQUFPLENBQUNRLElBQVIsQ0FBYUQsUUFGSztrQkFHNUJFLFFBQVEsRUFBRVQsT0FBTyxDQUFDUSxJQUFSLENBQWFDLFFBSEs7a0JBSTVCQyxJQUFJLEVBQUVWLE9BQU8sQ0FBQ1EsSUFBUixDQUFhRSxJQUpTO2tCQUs1QkMsU0FBUyxFQUFFWCxPQUFPLENBQUNZLFFBTFM7a0JBTTVCQyxXQUFXLEVBQUViLE9BQU8sQ0FBQ1EsSUFBUixDQUFhSztnQkFORSxDQUFmLENBRnJCO2dCQUFBO2dCQUFBO2dCQUFBLE9BWWdDWCxRQUFRLENBQUNZLElBQVQsRUFaaEM7O2NBQUE7Z0JBWWNDLFNBWmQ7Z0JBQUEsaUNBYWVkLFFBQVEsQ0FBQ2UsTUFBVCxDQUFnQixHQUFoQixFQUFxQkMsSUFBckIsQ0FBMEI7a0JBQUVDLEdBQUcsRUFBRTtnQkFBUCxDQUExQixDQWJmOztjQUFBO2dCQUFBO2dCQUFBO2dCQUFBLGlDQWVlakIsUUFBUSxDQUFDZSxNQUFULENBQWdCLEdBQWhCLEVBQXFCQyxJQUFyQixDQUEwQjtrQkFBRUMsR0FBRyxFQUFFO2dCQUFQLENBQTFCLENBZmY7O2NBQUE7Y0FBQTtnQkFBQTtZQUFBO1VBQUE7UUFBQTtNQUFBLEM7Ozs7Ozs7Ozs7V0FvQkEsY0FBS2xCLE9BQUwsRUFBY0MsUUFBZCxFQUF3QjtNQUNwQixJQUFNa0IsUUFBUSxHQUFHbkIsT0FBTyxDQUFDb0Is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","map":{"version":3,"names":["VideoController","request","response","newVideo","videoModel","owner","token","_id","username","body","category","name","videopath","filename","description","save","saveVideo","status","json","msg","video_id","query","id","operation","findOneAndUpdate","$inc","likes","error","doc","dislikes","key","toLowerCase","find","$regex","video","send","cat","range","headers","params","videosize","fs","statSync","size","start","Number","replace","chunk_size","end","Math","min","contenLength","hearders","writeHead","videostream","createReadStream","pipe","video_path","existsSync","unlink","findOneAndDelete","delete_username","user_video_list","video_list","undefined","i","length","deleteMany"],"sourceRoot":"D:\\School\\IT Project\\IT-PROJECT\\backend3\\src\\Controller\\","sources":["Video.controller.js"],"sourcesContent":["import { videoModel } from '../Models/Video.model'\r\nimport fs from 'fs'\r\nimport { NONAME } from 'dns'\r\n\r\nexport class VideoController {\r\n    async upload(request, response) {\r\n\r\n        const newVideo = new videoModel({\r\n            owner: request.token._id,\r\n            username: request.body.username,\r\n            category: request.body.category,\r\n            name: request.body.name,\r\n            videopath: request.filename,\r\n            description: request.body.description\r\n        })\r\n\r\n        try {\r\n            const saveVideo = await newVideo.save()\r\n            return response.status(201).json({ msg: 'Video uploaded successfully' })\r\n        } catch (error) {\r\n            return response.status(500).json({ msg: 'Video upload failed' })\r\n        }\r\n    }\r\n\r\n\r\n    like(request, response) {\r\n        const video_id = request.query.id;\r\n        const operation = request.query.operation\r\n        if (operation === 'false') {\r\n            videoModel.findOneAndUpdate({ _id: video_id }, { $inc: { likes: -1 } },\r\n                { new: true }, (error, doc) => {\r\n                    if (error) {\r\n                        return response.status(500).json({ msg: 'Network Error: Failed to cancel like video' })\r\n                    }\r\n                    return response.status(200).json({ msg: 'Video like cancelled' })\r\n                })\r\n\r\n        } else {\r\n            videoModel.findOneAndUpdate({ _id: video_id }, { $inc: { likes: 1 } },\r\n                { new: true }, (error, doc) => {\r\n                    if (error) {\r\n                        return response.status(500).json({ msg: 'Network Error: Failed to like video' })\r\n                    }\r\n                    return response.status(200).json({ msg: 'Video liked' })\r\n                })\r\n        }\r\n    }\r\n\r\n    dislike(request, response) {\r\n        const video_id = request.query.id;\r\n        const operation = request.query.operation\r\n        if (operation === 'false') {\r\n            videoModel.findOneAndUpdate({ _id: video_id }, { $inc: { dislikes: -1 } },\r\n                { new: true }, (error, doc) => {\r\n                    if (error) {\r\n                        return response.status(500).json({ msg: 'Network Error: Failed to cancel dislike video' })\r\n                    }\r\n                    return response.status(200).json({ msg: 'Video dislike cancelled' })\r\n                })\r\n\r\n        } else {\r\n            videoModel.findOneAndUpdate({ _id: video_id }, { $inc: { dislikes: 1 } },\r\n                { new: true }, (error, doc) => {\r\n                    if (error) {\r\n                        return response.status(500).json({ msg: 'Network Error: Failed to dislike video' })\r\n                    }\r\n                    return response.status(200).json({ msg: 'Video disliked' })\r\n                })\r\n        }\r\n    }\r\n\r\n    async searchVideo(request, response) {\r\n        const name = request.query.key.toLowerCase();\r\n        try {\r\n            let video = await videoModel.find({ name: { $regex: name.toLowerCase() } })\r\n            return response.send(video)\r\n\r\n        } catch (error) {\r\n            return response.status(700).json({ msg: 'No matching video' })\r\n        }\r\n    }\r\n\r\n    // search all videos and display\r\n    async findAllVideo(request, response) {\r\n\r\n        try {\r\n            let video = await videoModel.find()\r\n            return response.send(video)\r\n\r\n        } catch (error) {\r\n            return response.status(700).json({ msg: 'No videos' })\r\n        }\r\n    }\r\n    // search video by username\r\n    async searchUVideo(request, response) {\r\n        const name = request.query.key;\r\n        try {\r\n            let video = await videoModel.find({ username: { $regex: name } })\r\n            return response.send(video)\r\n\r\n        } catch (error) {\r\n            return response.status(700).json({ msg: 'No matching video' })\r\n        }\r\n    }\r\n\r\n    // search video by category\r\n    async searchCat(request, response) {\r\n        const cat = request.query.key;\r\n        try {\r\n            let video = await videoModel.find({ category: { $regex: cat } })\r\n            return response.send(video)\r\n\r\n        } catch (error) {\r\n            return response.status(700).json({ msg: 'No matching video' })\r\n        }\r\n    }\r\n\r\n    // stream video \r\n    stream(request, response) {\r\n        const range = request.headers.range\r\n        if (!range) {\r\n            return response.status(400).json({ msg: 'Range header is required to start' })\r\n        }\r\n        const videopath = `videos/${request.params.filename}`;\r\n        const videosize = fs.statSync(videopath).size;  // get video size\r\n\r\n        const start = Number(range.replace(/\\D/g, \"\"));  //get start point \r\n        const chunk_size = 10 ** 6 // 1 mb , chunck size\r\n        const end = Math.min(start + chunk_size, videosize - 1);   //end position\r\n\r\n        const contenLength = end - start + 1  // how many  size sending\r\n        const hearders = {\r\n            'Content-Length': contenLength,\r\n            'Accept-Range': 'bytes',\r\n            'Content-Type': 'video/mp40',\r\n            'Content-Range': `bytes ${start} -${end}/${videosize}`   //decise how far video gone\r\n\r\n        }\r\n        response.writeHead(206, hearders);\r\n        const videostream = fs.createReadStream(videopath, { start, end }); // create video stream\r\n        videostream.pipe(response)\r\n    }\r\n\r\n    delete(request, response) {\r\n\r\n        const video_id = request.query.video_id;\r\n        const video_path = request.query.video_path;\r\n        const videopath = `videos/${video_path}`;\r\n        if (fs.existsSync(videopath)) {\r\n            fs.unlink(videopath, (error) => {\r\n                if (error) {\r\n                    return response.status(500).json({ msg: 'Network Error: Failed to delete video' })\r\n                }\r\n                videoModel.findOneAndDelete({ _id: video_id }, (error) => {\r\n                    if (error) {\r\n                        return response.status(500).json({ msg: 'Network Error: Failed to delete video' })\r\n                    }\r\n                    return response.status(200).json({ msg: ' video delete' })\r\n                })\r\n            })\r\n        }\r\n    }\r\n\r\n    async delete_user_all_videos(request, response) {\r\n        const delete_username = request.query.username;\r\n        const user_video_list = request.query.video_list;\r\n        if (user_video_list !== undefined) {\r\n            for (let i = 0; i < user_video_list.length; i++) {\r\n                var videopath = `videos/${user_video_list[i]}`;\r\n                if (fs.existsSync(videopath)) {\r\n                    fs.unlink(videopath, (error) => {\r\n                        if (error) {\r\n                            return response.status(500).json({ msg: 'Network Error: Failed to delete video' })\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n\r\n            await videoModel.deleteMany({ username: delete_username });\r\n        }\r\n    }\r\n}"],"mappings":"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"}},"mtime":1666503373327},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"filename\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Models\\\\Video.model.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.videoModel = void 0;\n\nvar _mongoose = require(\"mongoose\");\n\nvar videoSchema = new _mongoose.Schema({\n  owner: {\n    type: _mongoose.Schema.Types.ObjectId,\n    ref: 'user'\n  },\n  username: {\n    type: String\n  },\n  name: {\n    type: String,\n    required: [true, 'Upload video needs a video name']\n  },\n  videopath: {\n    type: String,\n    required: [true, 'Upload video needs a video path'],\n    unique: [true, 'Video path already exist']\n  },\n  category: {\n    type: String,\n    \"enum\": [\"Sports\", \"News\", \"Technology\", \"Music\", \"Games\", \"Fashion\", \"Pet\", \"Travel\", \"Others\"],\n    required: true\n  },\n  likes: {\n    type: Number,\n    \"default\": 0\n  },\n  dislikes: {\n    type: Number,\n    \"default\": 0\n  },\n  views: {\n    type: Array,\n    \"default\": []\n  },\n  comments: {\n    type: Array,\n    \"default\": []\n  },\n  description: {\n    type: String,\n    required: [true, 'Upload video needs a Description']\n  }\n});\nvar videoModel = (0, _mongoose.model)('video', videoSchema);\nexports.videoModel = videoModel;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ2aWRlb1NjaGVtYSIsIlNjaGVtYSIsIm93bmVyIiwidHlwZSIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJ1c2VybmFtZSIsIlN0cmluZyIsIm5hbWUiLCJyZXF1aXJlZCIsInZpZGVvcGF0aCIsInVuaXF1ZSIsImNhdGVnb3J5IiwibGlrZXMiLCJOdW1iZXIiLCJkaXNsaWtlcyIsInZpZXdzIiwiQXJyYXkiLCJjb21tZW50cyIsImRlc2NyaXB0aW9uIiwidmlkZW9Nb2RlbCIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiJEOlxcU2Nob29sXFxJVCBQcm9qZWN0XFxJVC1QUk9KRUNUXFxiYWNrZW5kM1xcc3JjXFxNb2RlbHNcXCIsInNvdXJjZXMiOlsiVmlkZW8ubW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU2NoZW1hLCBtb2RlbCB9IGZyb20gJ21vbmdvb3NlJ1xyXG5cclxuY29uc3QgdmlkZW9TY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICAgIG93bmVyOiB7XHJcbiAgICAgICAgdHlwZTogU2NoZW1hLlR5cGVzLk9iamVjdElkLFxyXG4gICAgICAgIHJlZjogJ3VzZXInXHJcbiAgICB9LFxyXG4gICAgdXNlcm5hbWU6IHtcclxuICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICB9LFxyXG4gICAgbmFtZToge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICByZXF1aXJlZDogW3RydWUsICdVcGxvYWQgdmlkZW8gbmVlZHMgYSB2aWRlbyBuYW1lJ11cclxuICAgIH0sXHJcbiAgICB2aWRlb3BhdGg6IHtcclxuICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgcmVxdWlyZWQ6IFt0cnVlLCAnVXBsb2FkIHZpZGVvIG5lZWRzIGEgdmlkZW8gcGF0aCddLFxyXG4gICAgICAgIHVuaXF1ZTogW3RydWUsICdWaWRlbyBwYXRoIGFscmVhZHkgZXhpc3QnXVxyXG4gICAgfSxcclxuICAgIGNhdGVnb3J5OiB7XHJcbiAgICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICAgIGVudW06IFtcIlNwb3J0c1wiLCBcIk5ld3NcIiwgXCJUZWNobm9sb2d5XCIsIFwiTXVzaWNcIiwgXCJHYW1lc1wiLCBcIkZhc2hpb25cIiwgXCJQZXRcIiwgXCJUcmF2ZWxcIiwgXCJPdGhlcnNcIl0sXHJcbiAgICAgICAgcmVxdWlyZWQ6IHRydWVcclxuICAgIH0sXHJcbiAgICBsaWtlczoge1xyXG4gICAgICAgIHR5cGU6IE51bWJlcixcclxuICAgICAgICBkZWZhdWx0OiAwXHJcbiAgICB9LFxyXG4gICAgZGlzbGlrZXM6IHtcclxuICAgICAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICAgICAgZGVmYXVsdDogMFxyXG4gICAgfSxcclxuICAgIHZpZXdzOiB7XHJcbiAgICAgICAgdHlwZTogQXJyYXksXHJcbiAgICAgICAgZGVmYXVsdDogW11cclxuICAgIH0sXHJcbiAgICBjb21tZW50czoge1xyXG4gICAgICAgIHR5cGU6IEFycmF5LFxyXG4gICAgICAgIGRlZmF1bHQ6IFtdXHJcbiAgICB9LFxyXG4gICAgZGVzY3JpcHRpb246IHtcclxuICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgcmVxdWlyZWQ6IFt0cnVlLCAnVXBsb2FkIHZpZGVvIG5lZWRzIGEgRGVzY3JpcHRpb24nXVxyXG4gICAgfSxcclxuXHJcbn0pXHJcbmV4cG9ydCBjb25zdCB2aWRlb01vZGVsID0gbW9kZWwoJ3ZpZGVvJywgdmlkZW9TY2hlbWEpIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBRUEsSUFBTUEsV0FBVyxHQUFHLElBQUlDLGdCQUFKLENBQVc7RUFDM0JDLEtBQUssRUFBRTtJQUNIQyxJQUFJLEVBQUVGLGdCQUFBLENBQU9HLEtBQVAsQ0FBYUMsUUFEaEI7SUFFSEMsR0FBRyxFQUFFO0VBRkYsQ0FEb0I7RUFLM0JDLFFBQVEsRUFBRTtJQUNOSixJQUFJLEVBQUVLO0VBREEsQ0FMaUI7RUFRM0JDLElBQUksRUFBRTtJQUNGTixJQUFJLEVBQUVLLE1BREo7SUFFRkUsUUFBUSxFQUFFLENBQUMsSUFBRCxFQUFPLGlDQUFQO0VBRlIsQ0FScUI7RUFZM0JDLFNBQVMsRUFBRTtJQUNQUixJQUFJLEVBQUVLLE1BREM7SUFFUEUsUUFBUSxFQUFFLENBQUMsSUFBRCxFQUFPLGlDQUFQLENBRkg7SUFHUEUsTUFBTSxFQUFFLENBQUMsSUFBRCxFQUFPLDBCQUFQO0VBSEQsQ0FaZ0I7RUFpQjNCQyxRQUFRLEVBQUU7SUFDTlYsSUFBSSxFQUFFSyxNQURBO0lBRU4sUUFBTSxDQUFDLFFBQUQsRUFBVyxNQUFYLEVBQW1CLFlBQW5CLEVBQWlDLE9BQWpDLEVBQTBDLE9BQTFDLEVBQW1ELFNBQW5ELEVBQThELEtBQTlELEVBQXFFLFFBQXJFLEVBQStFLFFBQS9FLENBRkE7SUFHTkUsUUFBUSxFQUFFO0VBSEosQ0FqQmlCO0VBc0IzQkksS0FBSyxFQUFFO0lBQ0hYLElBQUksRUFBRVksTUFESDtJQUVILFdBQVM7RUFGTixDQXRCb0I7RUEwQjNCQyxRQUFRLEVBQUU7SUFDTmIsSUFBSSxFQUFFWSxNQURBO0lBRU4sV0FBUztFQUZILENBMUJpQjtFQThCM0JFLEtBQUssRUFBRTtJQUNIZCxJQUFJLEVBQUVlLEtBREg7SUFFSCxXQUFTO0VBRk4sQ0E5Qm9CO0VBa0MzQkMsUUFBUSxFQUFFO0lBQ05oQixJQUFJLEVBQUVlLEtBREE7SUFFTixXQUFTO0VBRkgsQ0FsQ2lCO0VBc0MzQkUsV0FBVyxFQUFFO0lBQ1RqQixJQUFJLEVBQUVLLE1BREc7SUFFVEUsUUFBUSxFQUFFLENBQUMsSUFBRCxFQUFPLGtDQUFQO0VBRkQ7QUF0Q2MsQ0FBWCxDQUFwQjtBQTRDTyxJQUFNVyxVQUFVLEdBQUcsSUFBQUMsZUFBQSxFQUFNLE9BQU4sRUFBZXRCLFdBQWYsQ0FBbkIifQ==","map":{"version":3,"names":["videoSchema","Schema","owner","type","Types","ObjectId","ref","username","String","name","required","videopath","unique","category","likes","Number","dislikes","views","Array","comments","description","videoModel","model"],"sourceRoot":"D:\\School\\IT Project\\IT-PROJECT\\backend3\\src\\Models\\","sources":["Video.model.js"],"sourcesContent":["import { Schema, model } from 'mongoose'\r\n\r\nconst videoSchema = new Schema({\r\n    owner: {\r\n        type: Schema.Types.ObjectId,\r\n        ref: 'user'\r\n    },\r\n    username: {\r\n        type: String,\r\n    },\r\n    name: {\r\n        type: String,\r\n        required: [true, 'Upload video needs a video name']\r\n    },\r\n    videopath: {\r\n        type: String,\r\n        required: [true, 'Upload video needs a video path'],\r\n        unique: [true, 'Video path already exist']\r\n    },\r\n    category: {\r\n        type: String,\r\n        enum: [\"Sports\", \"News\", \"Technology\", \"Music\", \"Games\", \"Fashion\", \"Pet\", \"Travel\", \"Others\"],\r\n        required: true\r\n    },\r\n    likes: {\r\n        type: Number,\r\n        default: 0\r\n    },\r\n    dislikes: {\r\n        type: Number,\r\n        default: 0\r\n    },\r\n    views: {\r\n        type: Array,\r\n        default: []\r\n    },\r\n    comments: {\r\n        type: Array,\r\n        default: []\r\n    },\r\n    description: {\r\n        type: String,\r\n        required: [true, 'Upload video needs a Description']\r\n    },\r\n\r\n})\r\nexport const videoModel = model('video', videoSchema)"],"mappings":";;;;;;;AAAA;;AAEA,IAAMA,WAAW,GAAG,IAAIC,gBAAJ,CAAW;EAC3BC,KAAK,EAAE;IACHC,IAAI,EAAEF,gBAAA,CAAOG,KAAP,CAAaC,QADhB;IAEHC,GAAG,EAAE;EAFF,CADoB;EAK3BC,QAAQ,EAAE;IACNJ,IAAI,EAAEK;EADA,CALiB;EAQ3BC,IAAI,EAAE;IACFN,IAAI,EAAEK,MADJ;IAEFE,QAAQ,EAAE,CAAC,IAAD,EAAO,iCAAP;EAFR,CARqB;EAY3BC,SAAS,EAAE;IACPR,IAAI,EAAEK,MADC;IAEPE,QAAQ,EAAE,CAAC,IAAD,EAAO,iCAAP,CAFH;IAGPE,MAAM,EAAE,CAAC,IAAD,EAAO,0BAAP;EAHD,CAZgB;EAiB3BC,QAAQ,EAAE;IACNV,IAAI,EAAEK,MADA;IAEN,QAAM,CAAC,QAAD,EAAW,MAAX,EAAmB,YAAnB,EAAiC,OAAjC,EAA0C,OAA1C,EAAmD,SAAnD,EAA8D,KAA9D,EAAqE,QAArE,EAA+E,QAA/E,CAFA;IAGNE,QAAQ,EAAE;EAHJ,CAjBiB;EAsB3BI,KAAK,EAAE;IACHX,IAAI,EAAEY,MADH;IAEH,WAAS;EAFN,CAtBoB;EA0B3BC,QAAQ,EAAE;IACNb,IAAI,EAAEY,MADA;IAEN,WAAS;EAFH,CA1BiB;EA8B3BE,KAAK,EAAE;IACHd,IAAI,EAAEe,KADH;IAEH,WAAS;EAFN,CA9BoB;EAkC3BC,QAAQ,EAAE;IACNhB,IAAI,EAAEe,KADA;IAEN,WAAS;EAFH,CAlCiB;EAsC3BE,WAAW,EAAE;IACTjB,IAAI,EAAEK,MADG;IAETE,QAAQ,EAAE,CAAC,IAAD,EAAO,kCAAP;EAFD;AAtCc,CAAX,CAApB;AA4CO,IAAMW,UAAU,GAAG,IAAAC,eAAA,EAAM,OAAN,EAAetB,WAAf,CAAnB"}},"mtime":1666089900931},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"filename\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _mongoose = require(\"mongoose\");\n\nvar _dotenv = require(\"dotenv\");\n\nvar _Auth = _interopRequireDefault(require(\"./Routes/Auth.routes\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _Video = _interopRequireDefault(require(\"./Routes/Video.routes\"));\n\nvar _process$env$PORT;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n(0, _dotenv.config)();\nvar server = (0, _express[\"default\"])(); //==============MiddleWares===========================================\n\nserver.use((0, _cors[\"default\"])()); //==========mongo DB connection========================================\n\nvar mongoURI = process.env.mongoURI;\n(0, _mongoose.connect)(mongoURI, function (error) {\n  if (error) {\n    return console.log(error);\n  }\n\n  console.log('connection to mongo DB successful!!!');\n}); //==============================server endpoints=============================\n\nserver.use(_Auth[\"default\"]);\nserver.use(_Video[\"default\"]);\nvar PORT = (_process$env$PORT = process.env.PORT) !== null && _process$env$PORT !== void 0 ? _process$env$PORT : 3000;\nserver.listen(PORT, function () {\n  console.log(\"Server started on PORT \".concat(PORT));\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25maWciLCJzZXJ2ZXIiLCJleHByZXNzIiwidXNlIiwiY29ycyIsIm1vbmdvVVJJIiwicHJvY2VzcyIsImVudiIsImNvbm5lY3QiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJBdXRoUm91dGVzIiwiVmlkZW9Sb3V0ZXMiLCJQT1JUIiwibGlzdGVuIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXDExNzgxXFxEb2N1bWVudHNcXEdpdEh1YlxcSVQtUFJPSkVDVFxcYmFja2VuZDNcXHNyY1xcIiwic291cmNlcyI6WyJzZXJ2ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XHJcbmltcG9ydHsgY29ubmVjdCB9IGZyb20gJ21vbmdvb3NlJztcclxuaW1wb3J0eyBjb25maWcgfSBmcm9tICdkb3RlbnYnO1xyXG5pbXBvcnQgQXV0aFJvdXRlcyBmcm9tICcuL1JvdXRlcy9BdXRoLnJvdXRlcydcclxuaW1wb3J0IGNvcnMgZnJvbSAnY29ycydcclxuaW1wb3J0IFZpZGVvUm91dGVzIGZyb20gJy4vUm91dGVzL1ZpZGVvLnJvdXRlcydcclxuXHJcbmNvbmZpZygpO1xyXG5cclxuY29uc3Qgc2VydmVyID0gZXhwcmVzcygpO1xyXG4vLz09PT09PT09PT09PT09TWlkZGxlV2FyZXM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbnNlcnZlci51c2UoY29ycygpKVxyXG4vLz09PT09PT09PT1tb25nbyBEQiBjb25uZWN0aW9uPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5jb25zdCBtb25nb1VSSSA9IHByb2Nlc3MuZW52Lm1vbmdvVVJJO1xyXG5jb25uZWN0KG1vbmdvVVJJLCAoZXJyb3IpPT57XHJcbiAgICBpZihlcnJvcil7XHJcbiAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgIH1cclxuICAgIGNvbnNvbGUubG9nKCdjb25uZWN0aW9uIHRvIG1vbmdvIERCIHN1Y2Nlc3NmdWwhISEnKVxyXG59KVxyXG5cclxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1zZXJ2ZXIgZW5kcG9pbnRzPT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuc2VydmVyLnVzZShBdXRoUm91dGVzKVxyXG5zZXJ2ZXIudXNlKFZpZGVvUm91dGVzKVxyXG5cclxuY29uc3QgUE9SVCA9IHByb2Nlc3MuZW52LlBPUlQgPz8gMzAwMDtcclxuXHJcblxyXG5zZXJ2ZXIubGlzdGVuKFBPUlQsICgpPT57XHJcbiAgICBjb25zb2xlLmxvZyhgU2VydmVyIHN0YXJ0ZWQgb24gUE9SVCAke1BPUlR9YClcclxufSkiXSwibWFwcGluZ3MiOiI7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7OztBQUVBLElBQUFBLGNBQUE7QUFFQSxJQUFNQyxNQUFNLEdBQUcsSUFBQUMsbUJBQUEsR0FBZixDLENBQ0E7O0FBQ0FELE1BQU0sQ0FBQ0UsR0FBUCxDQUFXLElBQUFDLGdCQUFBLEdBQVgsRSxDQUNBOztBQUNBLElBQU1DLFFBQVEsR0FBR0MsT0FBTyxDQUFDQyxHQUFSLENBQVlGLFFBQTdCO0FBQ0EsSUFBQUcsaUJBQUEsRUFBUUgsUUFBUixFQUFrQixVQUFDSSxLQUFELEVBQVM7RUFDdkIsSUFBR0EsS0FBSCxFQUFTO0lBQ0wsT0FBT0MsT0FBTyxDQUFDQyxHQUFSLENBQVlGLEtBQVosQ0FBUDtFQUNIOztFQUNEQyxPQUFPLENBQUNDLEdBQVIsQ0FBWSxzQ0FBWjtBQUNILENBTEQsRSxDQU9BOztBQUNBVixNQUFNLENBQUNFLEdBQVAsQ0FBV1MsZ0JBQVg7QUFDQVgsTUFBTSxDQUFDRSxHQUFQLENBQVdVLGlCQUFYO0FBRUEsSUFBTUMsSUFBSSx3QkFBR1IsT0FBTyxDQUFDQyxHQUFSLENBQVlPLElBQWYsaUVBQXVCLElBQWpDO0FBR0FiLE1BQU0sQ0FBQ2MsTUFBUCxDQUFjRCxJQUFkLEVBQW9CLFlBQUk7RUFDcEJKLE9BQU8sQ0FBQ0MsR0FBUixrQ0FBc0NHLElBQXRDO0FBQ0gsQ0FGRCJ9","map":{"version":3,"names":["config","server","express","use","cors","mongoURI","process","env","connect","error","console","log","AuthRoutes","VideoRoutes","PORT","listen"],"sourceRoot":"C:\\Users\\11781\\Documents\\GitHub\\IT-PROJECT\\backend3\\src\\","sources":["server.js"],"sourcesContent":["import express from 'express';\r\nimport{ connect } from 'mongoose';\r\nimport{ config } from 'dotenv';\r\nimport AuthRoutes from './Routes/Auth.routes'\r\nimport cors from 'cors'\r\nimport VideoRoutes from './Routes/Video.routes'\r\n\r\nconfig();\r\n\r\nconst server = express();\r\n//==============MiddleWares===========================================\r\nserver.use(cors())\r\n//==========mongo DB connection========================================\r\nconst mongoURI = process.env.mongoURI;\r\nconnect(mongoURI, (error)=>{\r\n    if(error){\r\n        return console.log(error);\r\n    }\r\n    console.log('connection to mongo DB successful!!!')\r\n})\r\n\r\n//==============================server endpoints=============================\r\nserver.use(AuthRoutes)\r\nserver.use(VideoRoutes)\r\n\r\nconst PORT = process.env.PORT ?? 3000;\r\n\r\n\r\nserver.listen(PORT, ()=>{\r\n    console.log(`Server started on PORT ${PORT}`)\r\n})"],"mappings":";;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;AAEA,IAAAA,cAAA;AAEA,IAAMC,MAAM,GAAG,IAAAC,mBAAA,GAAf,C,CACA;;AACAD,MAAM,CAACE,GAAP,CAAW,IAAAC,gBAAA,GAAX,E,CACA;;AACA,IAAMC,QAAQ,GAAGC,OAAO,CAACC,GAAR,CAAYF,QAA7B;AACA,IAAAG,iBAAA,EAAQH,QAAR,EAAkB,UAACI,KAAD,EAAS;EACvB,IAAGA,KAAH,EAAS;IACL,OAAOC,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAP;EACH;;EACDC,OAAO,CAACC,GAAR,CAAY,sCAAZ;AACH,CALD,E,CAOA;;AACAV,MAAM,CAACE,GAAP,CAAWS,gBAAX;AACAX,MAAM,CAACE,GAAP,CAAWU,iBAAX;AAEA,IAAMC,IAAI,wBAAGR,OAAO,CAACC,GAAR,CAAYO,IAAf,iEAAuB,IAAjC;AAGAb,MAAM,CAACc,MAAP,CAAcD,IAAd,EAAoB,YAAI;EACpBJ,OAAO,CAACC,GAAR,kCAAsCG,IAAtC;AACH,CAFD"}},"mtime":1662448999288},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"filename\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Routes\\\\Auth.routes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _express = require(\"express\");\n\nvar _Auth = require(\"../Controller/Auth.controller\");\n\nvar router = (0, _express.Router)();\nvar Controller = new _Auth.AuthController(); //router.post('/app/signup')\n\nrouter.post('/api/signup', function (request, response) {\n  Controller.signup(request, response);\n});\nrouter.post('/api/signin', function (request, response) {\n  Controller.signin(request, response);\n}); // reset password\n\nrouter.post('/api/password-reset', function (request, response) {\n  Controller.forgotPassword(request, response);\n}); // delet a user from mongo DB\n\nrouter.post('/api/delete', function (request, response) {\n  Controller[\"delete\"](request, response);\n}); //find all user and return \n\nrouter.get('/api/findall', function (request, response) {\n  Controller.findAllUser(request, response);\n}); // update user information\n\nrouter.put('/api/update/:email', function (request, response) {\n  Controller.update(request, response);\n}); // search for a user\n\nrouter.get('/api/search/', function (request, response) {\n  Controller.searchUser(request, response);\n}); // Update user info including  email, password, username, age and gender\n\nrouter.post('/api/update', function (request, response) {\n  Controller.update(request, response);\n});\nvar _default = router; //module.exports = router;\n\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJSb3V0ZXIiLCJDb250cm9sbGVyIiwiQXV0aENvbnRyb2xsZXIiLCJwb3N0IiwicmVxdWVzdCIsInJlc3BvbnNlIiwic2lnbnVwIiwic2lnbmluIiwiZm9yZ290UGFzc3dvcmQiLCJnZXQiLCJmaW5kQWxsVXNlciIsInB1dCIsInVwZGF0ZSIsInNlYXJjaFVzZXIiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcMTE3ODFcXERvY3VtZW50c1xcR2l0SHViXFxJVC1QUk9KRUNUXFxiYWNrZW5kM1xcc3JjXFxSb3V0ZXNcXCIsInNvdXJjZXMiOlsiQXV0aC5yb3V0ZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtSb3V0ZXJ9IGZyb20gJ2V4cHJlc3MnO1xyXG5pbXBvcnQge0F1dGhDb250cm9sbGVyfSBmcm9tICcuLi9Db250cm9sbGVyL0F1dGguY29udHJvbGxlcic7XHJcbiBcclxuXHJcbmNvbnN0IHJvdXRlciA9IFJvdXRlcigpO1xyXG5jb25zdCBDb250cm9sbGVyID0gbmV3IEF1dGhDb250cm9sbGVyKCk7XHJcblxyXG4vL3JvdXRlci5wb3N0KCcvYXBwL3NpZ251cCcpXHJcbnJvdXRlci5wb3N0KCcvYXBpL3NpZ251cCcsKHJlcXVlc3QscmVzcG9uc2UpPT57XHJcbiAgICBDb250cm9sbGVyLnNpZ251cChyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcbnJvdXRlci5wb3N0KCcvYXBpL3NpZ25pbicsKHJlcXVlc3QscmVzcG9uc2UpPT57XHJcbiAgICBDb250cm9sbGVyLnNpZ25pbihyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcbi8vIHJlc2V0IHBhc3N3b3JkXHJcbnJvdXRlci5wb3N0KCcvYXBpL3Bhc3N3b3JkLXJlc2V0JywocmVxdWVzdCxyZXNwb25zZSk9PntcclxuICAgIENvbnRyb2xsZXIuZm9yZ290UGFzc3dvcmQocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG4gXHJcbi8vIGRlbGV0IGEgdXNlciBmcm9tIG1vbmdvIERCXHJcbnJvdXRlci5wb3N0KCcvYXBpL2RlbGV0ZScsKHJlcXVlc3QscmVzcG9uc2UpPT57XHJcbiAgICBDb250cm9sbGVyLmRlbGV0ZShyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcbi8vZmluZCBhbGwgdXNlciBhbmQgcmV0dXJuIFxyXG5yb3V0ZXIuZ2V0KCcvYXBpL2ZpbmRhbGwnLChyZXF1ZXN0LHJlc3BvbnNlKT0+e1xyXG4gICAgQ29udHJvbGxlci5maW5kQWxsVXNlciAocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG4vLyB1cGRhdGUgdXNlciBpbmZvcm1hdGlvblxyXG5yb3V0ZXIucHV0KCcvYXBpL3VwZGF0ZS86ZW1haWwnLChyZXF1ZXN0LHJlc3BvbnNlKT0+e1xyXG4gICAgQ29udHJvbGxlci51cGRhdGUgKHJlcXVlc3QsIHJlc3BvbnNlKVxyXG59KVxyXG5cclxuXHJcbi8vIHNlYXJjaCBmb3IgYSB1c2VyXHJcbnJvdXRlci5nZXQoJy9hcGkvc2VhcmNoLycsKHJlcXVlc3QscmVzcG9uc2UpPT57XHJcbiAgICBDb250cm9sbGVyLnNlYXJjaFVzZXIgKHJlcXVlc3QsIHJlc3BvbnNlKVxyXG59KVxyXG5cclxuLy8gVXBkYXRlIHVzZXIgaW5mbyBpbmNsdWRpbmcgIGVtYWlsLCBwYXNzd29yZCwgdXNlcm5hbWUsIGFnZSBhbmQgZ2VuZGVyXHJcbnJvdXRlci5wb3N0KCcvYXBpL3VwZGF0ZScsKHJlcXVlc3QscmVzcG9uc2UpPT57XHJcbiAgICBDb250cm9sbGVyLnVwZGF0ZShyZXF1ZXN0LHJlc3BvbnNlKSAgXHJcbn0pXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcclxuLy9tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFHQSxJQUFNQSxNQUFNLEdBQUcsSUFBQUMsZUFBQSxHQUFmO0FBQ0EsSUFBTUMsVUFBVSxHQUFHLElBQUlDLG9CQUFKLEVBQW5CLEMsQ0FFQTs7QUFDQUgsTUFBTSxDQUFDSSxJQUFQLENBQVksYUFBWixFQUEwQixVQUFDQyxPQUFELEVBQVNDLFFBQVQsRUFBb0I7RUFDMUNKLFVBQVUsQ0FBQ0ssTUFBWCxDQUFrQkYsT0FBbEIsRUFBMkJDLFFBQTNCO0FBQ0gsQ0FGRDtBQUlBTixNQUFNLENBQUNJLElBQVAsQ0FBWSxhQUFaLEVBQTBCLFVBQUNDLE9BQUQsRUFBU0MsUUFBVCxFQUFvQjtFQUMxQ0osVUFBVSxDQUFDTSxNQUFYLENBQWtCSCxPQUFsQixFQUEyQkMsUUFBM0I7QUFDSCxDQUZELEUsQ0FJQTs7QUFDQU4sTUFBTSxDQUFDSSxJQUFQLENBQVkscUJBQVosRUFBa0MsVUFBQ0MsT0FBRCxFQUFTQyxRQUFULEVBQW9CO0VBQ2xESixVQUFVLENBQUNPLGNBQVgsQ0FBMEJKLE9BQTFCLEVBQW1DQyxRQUFuQztBQUNILENBRkQsRSxDQUtBOztBQUNBTixNQUFNLENBQUNJLElBQVAsQ0FBWSxhQUFaLEVBQTBCLFVBQUNDLE9BQUQsRUFBU0MsUUFBVCxFQUFvQjtFQUMxQ0osVUFBVSxVQUFWLENBQWtCRyxPQUFsQixFQUEyQkMsUUFBM0I7QUFDSCxDQUZELEUsQ0FJQTs7QUFDQU4sTUFBTSxDQUFDVSxHQUFQLENBQVcsY0FBWCxFQUEwQixVQUFDTCxPQUFELEVBQVNDLFFBQVQsRUFBb0I7RUFDMUNKLFVBQVUsQ0FBQ1MsV0FBWCxDQUF3Qk4sT0FBeEIsRUFBaUNDLFFBQWpDO0FBQ0gsQ0FGRCxFLENBSUE7O0FBQ0FOLE1BQU0sQ0FBQ1ksR0FBUCxDQUFXLG9CQUFYLEVBQWdDLFVBQUNQLE9BQUQsRUFBU0MsUUFBVCxFQUFvQjtFQUNoREosVUFBVSxDQUFDVyxNQUFYLENBQW1CUixPQUFuQixFQUE0QkMsUUFBNUI7QUFDSCxDQUZELEUsQ0FLQTs7QUFDQU4sTUFBTSxDQUFDVSxHQUFQLENBQVcsY0FBWCxFQUEwQixVQUFDTCxPQUFELEVBQVNDLFFBQVQsRUFBb0I7RUFDMUNKLFVBQVUsQ0FBQ1ksVUFBWCxDQUF1QlQsT0FBdkIsRUFBZ0NDLFFBQWhDO0FBQ0gsQ0FGRCxFLENBSUE7O0FBQ0FOLE1BQU0sQ0FBQ0ksSUFBUCxDQUFZLGFBQVosRUFBMEIsVUFBQ0MsT0FBRCxFQUFTQyxRQUFULEVBQW9CO0VBQzFDSixVQUFVLENBQUNXLE1BQVgsQ0FBa0JSLE9BQWxCLEVBQTBCQyxRQUExQjtBQUNILENBRkQ7ZUFTZU4sTSxFQUNmIn0=","map":{"version":3,"names":["router","Router","Controller","AuthController","post","request","response","signup","signin","forgotPassword","get","findAllUser","put","update","searchUser"],"sourceRoot":"C:\\Users\\11781\\Documents\\GitHub\\IT-PROJECT\\backend3\\src\\Routes\\","sources":["Auth.routes.js"],"sourcesContent":["import {Router} from 'express';\r\nimport {AuthController} from '../Controller/Auth.controller';\r\n \r\n\r\nconst router = Router();\r\nconst Controller = new AuthController();\r\n\r\n//router.post('/app/signup')\r\nrouter.post('/api/signup',(request,response)=>{\r\n    Controller.signup(request, response)\r\n})\r\n\r\nrouter.post('/api/signin',(request,response)=>{\r\n    Controller.signin(request, response)\r\n})\r\n\r\n// reset password\r\nrouter.post('/api/password-reset',(request,response)=>{\r\n    Controller.forgotPassword(request, response)\r\n})\r\n\r\n \r\n// delet a user from mongo DB\r\nrouter.post('/api/delete',(request,response)=>{\r\n    Controller.delete(request, response)\r\n})\r\n\r\n//find all user and return \r\nrouter.get('/api/findall',(request,response)=>{\r\n    Controller.findAllUser (request, response)\r\n})\r\n\r\n// update user information\r\nrouter.put('/api/update/:email',(request,response)=>{\r\n    Controller.update (request, response)\r\n})\r\n\r\n\r\n// search for a user\r\nrouter.get('/api/search/',(request,response)=>{\r\n    Controller.searchUser (request, response)\r\n})\r\n\r\n// Update user info including  email, password, username, age and gender\r\nrouter.post('/api/update',(request,response)=>{\r\n    Controller.update(request,response)  \r\n})\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default router;\r\n//module.exports = router;"],"mappings":";;;;;;;AAAA;;AACA;;AAGA,IAAMA,MAAM,GAAG,IAAAC,eAAA,GAAf;AACA,IAAMC,UAAU,GAAG,IAAIC,oBAAJ,EAAnB,C,CAEA;;AACAH,MAAM,CAACI,IAAP,CAAY,aAAZ,EAA0B,UAACC,OAAD,EAASC,QAAT,EAAoB;EAC1CJ,UAAU,CAACK,MAAX,CAAkBF,OAAlB,EAA2BC,QAA3B;AACH,CAFD;AAIAN,MAAM,CAACI,IAAP,CAAY,aAAZ,EAA0B,UAACC,OAAD,EAASC,QAAT,EAAoB;EAC1CJ,UAAU,CAACM,MAAX,CAAkBH,OAAlB,EAA2BC,QAA3B;AACH,CAFD,E,CAIA;;AACAN,MAAM,CAACI,IAAP,CAAY,qBAAZ,EAAkC,UAACC,OAAD,EAASC,QAAT,EAAoB;EAClDJ,UAAU,CAACO,cAAX,CAA0BJ,OAA1B,EAAmCC,QAAnC;AACH,CAFD,E,CAKA;;AACAN,MAAM,CAACI,IAAP,CAAY,aAAZ,EAA0B,UAACC,OAAD,EAASC,QAAT,EAAoB;EAC1CJ,UAAU,UAAV,CAAkBG,OAAlB,EAA2BC,QAA3B;AACH,CAFD,E,CAIA;;AACAN,MAAM,CAACU,GAAP,CAAW,cAAX,EAA0B,UAACL,OAAD,EAASC,QAAT,EAAoB;EAC1CJ,UAAU,CAACS,WAAX,CAAwBN,OAAxB,EAAiCC,QAAjC;AACH,CAFD,E,CAIA;;AACAN,MAAM,CAACY,GAAP,CAAW,oBAAX,EAAgC,UAACP,OAAD,EAASC,QAAT,EAAoB;EAChDJ,UAAU,CAACW,MAAX,CAAmBR,OAAnB,EAA4BC,QAA5B;AACH,CAFD,E,CAKA;;AACAN,MAAM,CAACU,GAAP,CAAW,cAAX,EAA0B,UAACL,OAAD,EAASC,QAAT,EAAoB;EAC1CJ,UAAU,CAACY,UAAX,CAAuBT,OAAvB,EAAgCC,QAAhC;AACH,CAFD,E,CAIA;;AACAN,MAAM,CAACI,IAAP,CAAY,aAAZ,EAA0B,UAACC,OAAD,EAASC,QAAT,EAAoB;EAC1CJ,UAAU,CAACW,MAAX,CAAkBR,OAAlB,EAA0BC,QAA1B;AACH,CAFD;eASeN,M,EACf"}},"mtime":1665044761623},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Controller\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"filename\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Controller\\\\Auth.controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AuthController = void 0;\n\nvar _formidable = require(\"formidable\");\n\nvar _bcrypt = require(\"bcrypt\");\n\nvar _dotenv = require(\"dotenv\");\n\nvar _jsonwebtoken = require(\"jsonwebtoken\");\n\nvar _User = require(\"../Models/User.model\");\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n(0, _dotenv.config)();\n\nvar AuthController = /*#__PURE__*/function () {\n  function AuthController() {\n    _classCallCheck(this, AuthController);\n  }\n\n  _createClass(AuthController, [{\n    key: \"signup\",\n    value: //signup method\n    function signup(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(error, fields, files) {\n          var username, email, password, age, gender, salt, hashedPassword, newAccount, savedAccount;\n          return _regeneratorRuntime().wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  if (!error) {\n                    _context.next = 2;\n                    break;\n                  }\n\n                  return _context.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to create account, maybe try again later'\n                  }));\n\n                case 2:\n                  username = fields.username, email = fields.email, password = fields.password, age = fields.age, gender = fields.gender;\n\n                  if (!(password.length > 20 || password.length < 6)) {\n                    _context.next = 5;\n                    break;\n                  }\n\n                  return _context.abrupt(\"return\", response.status(503).json({\n                    msg: 'Password length need to be 6-20 range'\n                  }));\n\n                case 5:\n                  if (!(age > 150 || age < 0)) {\n                    _context.next = 7;\n                    break;\n                  }\n\n                  return _context.abrupt(\"return\", response.status(502).json({\n                    msg: 'Invalid age'\n                  }));\n\n                case 7:\n                  _context.next = 9;\n                  return (0, _bcrypt.genSalt)(15);\n\n                case 9:\n                  salt = _context.sent;\n                  _context.next = 12;\n                  return (0, _bcrypt.hash)(password, salt);\n\n                case 12:\n                  hashedPassword = _context.sent;\n                  newAccount = new _User.userModel({\n                    username: username,\n                    email: email,\n                    password: hashedPassword,\n                    age: age,\n                    gender: gender\n                  }); // create an account successful or failed\n\n                  _context.prev = 14;\n                  _context.next = 17;\n                  return newAccount.save();\n\n                case 17:\n                  savedAccount = _context.sent;\n                  return _context.abrupt(\"return\", response.status(201).json({\n                    msg: 'Account created successfully'\n                  }));\n\n                case 21:\n                  _context.prev = 21;\n                  _context.t0 = _context[\"catch\"](14);\n                  console.log(_context.t0);\n                  return _context.abrupt(\"return\", response.status(501).json({\n                    msg: 'format error'\n                  }));\n\n                case 25:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, null, [[14, 21]]);\n        }));\n\n        return function (_x, _x2, _x3) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n    } // sign in\n\n  }, {\n    key: \"signin\",\n    value: function signin(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(error, fields, files) {\n          var account, password, isAccountEmail, _user, _isPasswordValid, _token_payload, _token, _username, user, isPasswordValid, token_payload, token, username;\n\n          return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  if (!error) {\n                    _context2.next = 2;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to signin'\n                  }));\n\n                case 2:\n                  account = fields.account, password = fields.password; // email log in \n\n                  isAccountEmail = account.includes('@');\n\n                  if (!isAccountEmail) {\n                    _context2.next = 19;\n                    break;\n                  }\n\n                  _context2.next = 7;\n                  return _User.userModel.findOne({\n                    email: account\n                  });\n\n                case 7:\n                  _user = _context2.sent;\n\n                  if (_user) {\n                    _context2.next = 10;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\", response.status(404).json({\n                    msg: 'Email of this account does not exist'\n                  }));\n\n                case 10:\n                  _context2.next = 12;\n                  return (0, _bcrypt.compare)(password, _user.password);\n\n                case 12:\n                  _isPasswordValid = _context2.sent;\n\n                  if (_isPasswordValid) {\n                    _context2.next = 15;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\", response.status(400).json({\n                    msg: 'Invalid password'\n                  }));\n\n                case 15:\n                  _token_payload = {\n                    _id: _user._id,\n                    email: _user.email,\n                    username: _user.username\n                  };\n                  _token = (0, _jsonwebtoken.sign)(_token_payload, process.env.cookie_secret, {\n                    expiresIn: '365d'\n                  });\n                  _username = _token_payload.username;\n                  return _context2.abrupt(\"return\", response.status(200).json({\n                    token: _token,\n                    username: _username\n                  }));\n\n                case 19:\n                  _context2.next = 21;\n                  return _User.userModel.findOne({\n                    username: account\n                  });\n\n                case 21:\n                  user = _context2.sent;\n\n                  if (user) {\n                    _context2.next = 24;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\", response.status(404).json({\n                    msg: 'username of this account does not exist'\n                  }));\n\n                case 24:\n                  _context2.next = 26;\n                  return (0, _bcrypt.compare)(password, user.password);\n\n                case 26:\n                  isPasswordValid = _context2.sent;\n\n                  if (isPasswordValid) {\n                    _context2.next = 29;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\", response.status(400).json({\n                    msg: 'Invalid password'\n                  }));\n\n                case 29:\n                  token_payload = {\n                    _id: user._id,\n                    email: user.email,\n                    username: user.username\n                  };\n                  token = (0, _jsonwebtoken.sign)(token_payload, process.env.cookie_secret, {\n                    expiresIn: '365d'\n                  });\n                  username = token_payload.username;\n                  return _context2.abrupt(\"return\", response.status(200).json({\n                    token: token,\n                    username: username\n                  }));\n\n                case 33:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2);\n        }));\n\n        return function (_x4, _x5, _x6) {\n          return _ref2.apply(this, arguments);\n        };\n      }());\n    } // forgot password and reset\n\n  }, {\n    key: \"forgotPassword\",\n    value: function forgotPassword(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(error, fields, files) {\n          var email, password, salt, hashedPassword, user, updatedAccount;\n          return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n            while (1) {\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  if (!error) {\n                    _context3.next = 2;\n                    break;\n                  }\n\n                  return _context3.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to rset password'\n                  }));\n\n                case 2:\n                  email = fields.email, password = fields.password;\n\n                  if (!(!email || !password)) {\n                    _context3.next = 5;\n                    break;\n                  }\n\n                  return _context3.abrupt(\"return\", response.status(400).json({\n                    msg: 'email and password are required to reset password '\n                  }));\n\n                case 5:\n                  _context3.next = 7;\n                  return (0, _bcrypt.genSalt)(15);\n\n                case 7:\n                  salt = _context3.sent;\n                  _context3.next = 10;\n                  return (0, _bcrypt.hash)(password, salt);\n\n                case 10:\n                  hashedPassword = _context3.sent;\n                  _context3.prev = 11;\n                  _context3.next = 14;\n                  return _User.userModel.findOne({\n                    email: email\n                  });\n\n                case 14:\n                  user = _context3.sent;\n\n                  if (user) {\n                    _context3.next = 17;\n                    break;\n                  }\n\n                  return _context3.abrupt(\"return\", response.status(404).json({\n                    msg: 'Account with this email does not exist'\n                  }));\n\n                case 17:\n                  _context3.next = 19;\n                  return _User.userModel.findOneAndUpdate({\n                    email: email\n                  }, {\n                    $set: {\n                      password: hashedPassword\n                    }\n                  }, {\n                    \"new\": true\n                  });\n\n                case 19:\n                  updatedAccount = _context3.sent;\n                  return _context3.abrupt(\"return\", response.status(200).json({\n                    msg: 'Password rest successful'\n                  }));\n\n                case 23:\n                  _context3.prev = 23;\n                  _context3.t0 = _context3[\"catch\"](11);\n                  return _context3.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to reset password'\n                  }));\n\n                case 26:\n                case \"end\":\n                  return _context3.stop();\n              }\n            }\n          }, _callee3, null, [[11, 23]]);\n        }));\n\n        return function (_x7, _x8, _x9) {\n          return _ref3.apply(this, arguments);\n        };\n      }());\n    } // updat user info such as username, password, age and gender via email.\n\n  }, {\n    key: \"update\",\n    value: function update(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(error, fields, files) {\n          var email, password, username, age, gender, salt, hashedPassword, newUsername, newAge, newGender, user, updatedAccount;\n          return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n            while (1) {\n              switch (_context4.prev = _context4.next) {\n                case 0:\n                  if (!error) {\n                    _context4.next = 2;\n                    break;\n                  }\n\n                  return _context4.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to rset password'\n                  }));\n\n                case 2:\n                  email = fields.email, password = fields.password, username = fields.username, age = fields.age, gender = fields.gender;\n\n                  if (!(!email || !password || !username || !age || !gender)) {\n                    _context4.next = 5;\n                    break;\n                  }\n\n                  return _context4.abrupt(\"return\", response.status(400).json({\n                    msg: 'emailpasswordusername, age and gender are required to edit '\n                  }));\n\n                case 5:\n                  _context4.next = 7;\n                  return (0, _bcrypt.genSalt)(15);\n\n                case 7:\n                  salt = _context4.sent;\n                  _context4.next = 10;\n                  return (0, _bcrypt.hash)(password, salt);\n\n                case 10:\n                  hashedPassword = _context4.sent;\n                  newUsername = username;\n                  newAge = age;\n                  newGender = gender;\n                  _context4.prev = 14;\n                  _context4.next = 17;\n                  return _User.userModel.findOne({\n                    email: email\n                  });\n\n                case 17:\n                  user = _context4.sent;\n\n                  if (user) {\n                    _context4.next = 20;\n                    break;\n                  }\n\n                  return _context4.abrupt(\"return\", response.status(404).json({\n                    msg: 'Account with this email does not exist'\n                  }));\n\n                case 20:\n                  _context4.next = 22;\n                  return _User.userModel.findOneAndUpdate({\n                    email: email\n                  }, {\n                    $set: {\n                      password: hashedPassword,\n                      username: newUsername,\n                      age: newAge,\n                      gender: newGender\n                    }\n                  }, {\n                    \"new\": true\n                  });\n\n                case 22:\n                  updatedAccount = _context4.sent;\n                  return _context4.abrupt(\"return\", response.status(200).json({\n                    msg: 'Edit successful'\n                  }));\n\n                case 26:\n                  _context4.prev = 26;\n                  _context4.t0 = _context4[\"catch\"](14);\n                  return _context4.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to Edit'\n                  }));\n\n                case 29:\n                case \"end\":\n                  return _context4.stop();\n              }\n            }\n          }, _callee4, null, [[14, 26]]);\n        }));\n\n        return function (_x10, _x11, _x12) {\n          return _ref4.apply(this, arguments);\n        };\n      }());\n    }\n    /* // updat user info such as user name via email.\r\n     update(request, response){\r\n         const form = new IncomingForm();\r\n         form.parse(request, async (error, fields, files)=>{\r\n             if(error){\r\n                 return response.status(500).json({msg:'Failed to update'})\r\n             }\r\n             try{\r\n                 const updatedAccount = userModel.findOneAndUpdate({email:email}, { $set:{username:username}})\r\n                 return response.send(user)   \r\n                 //return response.status(200).json({msg:'update successful'})\r\n             }catch(error){\r\n                 return response.status(500).json({msg:'Failed to update, maybe try again later'})\r\n             }\r\n         })\r\n     } */\n    //delete user account\n\n  }, {\n    key: \"delete\",\n    value: function _delete(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(error, fields, files) {\n          var email, user;\n          return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n            while (1) {\n              switch (_context5.prev = _context5.next) {\n                case 0:\n                  if (!error) {\n                    _context5.next = 2;\n                    break;\n                  }\n\n                  return _context5.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to delete account, maybe try again later'\n                  }));\n\n                case 2:\n                  email = fields.email;\n                  _context5.prev = 3;\n                  _context5.next = 6;\n                  return _User.userModel.findOneAndDelete({\n                    email: email\n                  });\n\n                case 6:\n                  user = _context5.sent;\n                  return _context5.abrupt(\"return\", response.status(200).json({\n                    msg: 'delete successful'\n                  }));\n\n                case 10:\n                  _context5.prev = 10;\n                  _context5.t0 = _context5[\"catch\"](3);\n                  return _context5.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to delete'\n                  }));\n\n                case 13:\n                case \"end\":\n                  return _context5.stop();\n              }\n            }\n          }, _callee5, null, [[3, 10]]);\n        }));\n\n        return function (_x13, _x14, _x15) {\n          return _ref5.apply(this, arguments);\n        };\n      }());\n    } // find all user\n\n  }, {\n    key: \"findAllUser\",\n    value: function findAllUser(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(error, fields, files) {\n          var user;\n          return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n            while (1) {\n              switch (_context6.prev = _context6.next) {\n                case 0:\n                  if (!error) {\n                    _context6.next = 2;\n                    break;\n                  }\n\n                  return _context6.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to delete account, maybe try again later'\n                  }));\n\n                case 2:\n                  _context6.prev = 2;\n                  _context6.next = 5;\n                  return _User.userModel.find();\n\n                case 5:\n                  user = _context6.sent;\n                  return _context6.abrupt(\"return\", response.send(user));\n\n                case 9:\n                  _context6.prev = 9;\n                  _context6.t0 = _context6[\"catch\"](2);\n                  return _context6.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed find all users'\n                  }));\n\n                case 12:\n                case \"end\":\n                  return _context6.stop();\n              }\n            }\n          }, _callee6, null, [[2, 9]]);\n        }));\n\n        return function (_x16, _x17, _x18) {\n          return _ref6.apply(this, arguments);\n        };\n      }());\n    } // search for a user by request params\n\n  }, {\n    key: \"searchUser\",\n    value: function () {\n      var _searchUser = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(request, response) {\n        var name, user;\n        return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                // const name = request.params.username;\n                name = request.query.username;\n                _context7.prev = 1;\n                _context7.next = 4;\n                return _User.userModel.find({\n                  username: {\n                    $regex: name\n                  }\n                });\n\n              case 4:\n                user = _context7.sent;\n                return _context7.abrupt(\"return\", response.send(user));\n\n              case 8:\n                _context7.prev = 8;\n                _context7.t0 = _context7[\"catch\"](1);\n                return _context7.abrupt(\"return\", response.status(500).json({\n                  msg: 'No matching user'\n                }));\n\n              case 11:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, null, [[1, 8]]);\n      }));\n\n      function searchUser(_x19, _x20) {\n        return _searchUser.apply(this, arguments);\n      }\n\n      return searchUser;\n    }()\n  }]);\n\n  return AuthController;\n}();\n\nexports.AuthController = AuthController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25maWciLCJBdXRoQ29udHJvbGxlciIsInJlcXVlc3QiLCJyZXNwb25zZSIsImZvcm0iLCJJbmNvbWluZ0Zvcm0iLCJwYXJzZSIsImVycm9yIiwiZmllbGRzIiwiZmlsZXMiLCJzdGF0dXMiLCJqc29uIiwibXNnIiwidXNlcm5hbWUiLCJlbWFpbCIsInBhc3N3b3JkIiwiYWdlIiwiZ2VuZGVyIiwibGVuZ3RoIiwiZ2VuU2FsdCIsInNhbHQiLCJoYXNoIiwiaGFzaGVkUGFzc3dvcmQiLCJuZXdBY2NvdW50IiwidXNlck1vZGVsIiwic2F2ZSIsInNhdmVkQWNjb3VudCIsImNvbnNvbGUiLCJsb2ciLCJhY2NvdW50IiwiaXNBY2NvdW50RW1haWwiLCJpbmNsdWRlcyIsImZpbmRPbmUiLCJ1c2VyIiwiY29tcGFyZSIsImlzUGFzc3dvcmRWYWxpZCIsInRva2VuX3BheWxvYWQiLCJfaWQiLCJ0b2tlbiIsInNpZ24iLCJwcm9jZXNzIiwiZW52IiwiY29va2llX3NlY3JldCIsImV4cGlyZXNJbiIsImZpbmRPbmVBbmRVcGRhdGUiLCIkc2V0IiwidXBkYXRlZEFjY291bnQiLCJuZXdVc2VybmFtZSIsIm5ld0FnZSIsIm5ld0dlbmRlciIsImZpbmRPbmVBbmREZWxldGUiLCJmaW5kIiwic2VuZCIsIm5hbWUiLCJxdWVyeSIsIiRyZWdleCJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFwxMTc4MVxcRG9jdW1lbnRzXFxHaXRIdWJcXElULVBST0pFQ1RcXGJhY2tlbmQzXFxzcmNcXENvbnRyb2xsZXJcXCIsInNvdXJjZXMiOlsiQXV0aC5jb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluY29taW5nRm9ybSB9IGZyb20gJ2Zvcm1pZGFibGUnO1xyXG5pbXBvcnQgeyBnZW5TYWx0LCBoYXNoLCBjb21wYXJlIH0gZnJvbSAnYmNyeXB0JztcclxuaW1wb3J0IHtjb25maWd9IGZyb20gJ2RvdGVudic7XHJcbmltcG9ydCB7IHZlcmlmeSwgc2lnbn0gZnJvbSAnanNvbndlYnRva2VuJzsgXHJcbmltcG9ydCB7IHVzZXJNb2RlbH0gZnJvbSAnLi4vTW9kZWxzL1VzZXIubW9kZWwnXHJcbmNvbmZpZygpXHJcblxyXG5leHBvcnQgY2xhc3MgQXV0aENvbnRyb2xsZXJ7XHJcbiAgICAvL3NpZ251cCBtZXRob2RcclxuICAgIHNpZ251cChyZXF1ZXN0LHJlc3BvbnNlKXtcclxuICAgICAgICBjb25zdCBmb3JtID0gbmV3IEluY29taW5nRm9ybSgpO1xyXG5cclxuICAgICAgICBmb3JtLnBhcnNlKHJlcXVlc3QsIGFzeW5jIChlcnJvciwgZmllbGRzLCBmaWxlcykgPT57XHJcbiAgICAgICAgICAgIGlmIChlcnJvcil7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7bXNnOidGYWlsZWQgdG8gY3JlYXRlIGFjY291bnQsIG1heWJlIHRyeSBhZ2FpbiBsYXRlcid9KVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdHt1c2VybmFtZSwgZW1haWwsIHBhc3N3b3JkLCBhZ2UsIGdlbmRlcn0gPSBmaWVsZHM7IFxyXG4gICAgICAgICAgICBpZihwYXNzd29yZC5sZW5ndGggPiAyMCB8fCBwYXNzd29yZC5sZW5ndGggPCA2KXsgIC8vIHBhc3N3b3JkIG1pbmltdW0gbGVuZ3RoID0gNiwgbWF4aW11bSBsZW5ndGggPSAyMFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDMpLmpzb24oe21zZzonUGFzc3dvcmQgbGVuZ3RoIG5lZWQgdG8gYmUgNi0yMCByYW5nZSd9KVxyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZihhZ2UgPiAxNTAgfHwgYWdlIDwwKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAyKS5qc29uKHttc2c6J0ludmFsaWQgYWdlJ30pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3Qgc2FsdCA9IGF3YWl0IGdlblNhbHQoMTUpO1xyXG4gICAgICAgICAgICBjb25zdCBoYXNoZWRQYXNzd29yZCA9IGF3YWl0IGhhc2gocGFzc3dvcmQsIHNhbHQpO1xyXG4gICAgICAgICAgICBjb25zdCBuZXdBY2NvdW50ID0gbmV3IHVzZXJNb2RlbCh7XHJcbiAgICAgICAgICAgICAgICB1c2VybmFtZSxcclxuICAgICAgICAgICAgICAgIGVtYWlsLFxyXG4gICAgICAgICAgICAgICAgcGFzc3dvcmQ6aGFzaGVkUGFzc3dvcmQsXHJcbiAgICAgICAgICAgICAgICBhZ2UsXHJcbiAgICAgICAgICAgICAgICBnZW5kZXJcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLy8gY3JlYXRlIGFuIGFjY291bnQgc3VjY2Vzc2Z1bCBvciBmYWlsZWRcclxuICAgICAgICAgICAgdHJ5e1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2F2ZWRBY2NvdW50ID0gYXdhaXQgbmV3QWNjb3VudC5zYXZlKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMSkuanNvbih7bXNnOidBY2NvdW50IGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5J30pXHJcbiAgICAgICAgICAgIH1jYXRjaChlcnJvcil7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAxKS5qc29uKHttc2c6J2Zvcm1hdCBlcnJvcid9KVxyXG4gICAgICAgICAgICB9ICAgICAgXHJcblxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIHNpZ24gaW5cclxuICAgIHNpZ25pbihyZXF1ZXN0LCByZXNwb25zZSl7XHJcbiAgICAgICAgY29uc3QgZm9ybSA9IG5ldyBJbmNvbWluZ0Zvcm0oKTtcclxuXHJcbiAgICAgICAgZm9ybS5wYXJzZShyZXF1ZXN0LGFzeW5jIChlcnJvciwgZmllbGRzLCBmaWxlcyk9PntcclxuICAgICAgICAgICAgaWYoZXJyb3Ipe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oe21zZzonRmFpbGVkIHRvIHNpZ25pbid9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0e2FjY291bnQsIHBhc3N3b3JkfSA9IGZpZWxkcztcclxuICAgICAgICAgICAgLy8gZW1haWwgbG9nIGluIFxyXG4gICAgICAgICAgICBjb25zdCBpc0FjY291bnRFbWFpbCA9IGFjY291bnQuaW5jbHVkZXMoJ0AnKTtcclxuICAgICAgICAgICAgaWYoaXNBY2NvdW50RW1haWwpe1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IHVzZXJNb2RlbC5maW5kT25lKHtlbWFpbDphY2NvdW50fSk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGlmKCF1c2VyKXtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwNCkuanNvbih7bXNnOidFbWFpbCBvZiB0aGlzIGFjY291bnQgZG9lcyBub3QgZXhpc3QnfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IGlzUGFzc3dvcmRWYWxpZCA9IGF3YWl0IGNvbXBhcmUocGFzc3dvcmQsIHVzZXIucGFzc3dvcmQpOyAgLy8gaGFzaGVkIHBhc3N3b3JkXHJcbiAgICAgICAgICAgICAgICBpZighaXNQYXNzd29yZFZhbGlkKXtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwMCkuanNvbih7bXNnOidJbnZhbGlkIHBhc3N3b3JkJ30pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0b2tlbl9wYXlsb2FkID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIF9pZDp1c2VyLl9pZCxcclxuICAgICAgICAgICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcclxuICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3QgdG9rZW4gID0gc2lnbih0b2tlbl9wYXlsb2FkLCBwcm9jZXNzLmVudi5jb29raWVfc2VjcmV0LCB7IGV4cGlyZXNJbjonMzY1ZCcgfSlcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJuYW1lID0gdG9rZW5fcGF5bG9hZC51c2VybmFtZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHt0b2tlbiwgdXNlcm5hbWV9KVxyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgdXNlck1vZGVsLmZpbmRPbmUoe3VzZXJuYW1lOmFjY291bnR9KTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZighdXNlcil7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwNCkuanNvbih7bXNnOid1c2VybmFtZSBvZiB0aGlzIGFjY291bnQgZG9lcyBub3QgZXhpc3QnfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBpc1Bhc3N3b3JkVmFsaWQgPSBhd2FpdCBjb21wYXJlKHBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKTsgIC8vIGhhc2hlZCBwYXNzd29yZFxyXG4gICAgICAgICAgICBpZighaXNQYXNzd29yZFZhbGlkKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNDAwKS5qc29uKHttc2c6J0ludmFsaWQgcGFzc3dvcmQnfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB0b2tlbl9wYXlsb2FkID0ge1xyXG4gICAgICAgICAgICAgICAgX2lkOnVzZXIuX2lkLFxyXG4gICAgICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXHJcbiAgICAgICAgICAgICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHRva2VuICA9IHNpZ24odG9rZW5fcGF5bG9hZCwgcHJvY2Vzcy5lbnYuY29va2llX3NlY3JldCwgeyBleHBpcmVzSW46JzM2NWQnIH0pXHJcbiAgICAgICAgICAgIGNvbnN0IHVzZXJuYW1lID0gdG9rZW5fcGF5bG9hZC51c2VybmFtZTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cygyMDApLmpzb24oe3Rva2VuLCB1c2VybmFtZX0pXHJcblxyXG4gICAgICAgIH0pIFxyXG4gICAgfVxyXG5cclxuICAgIC8vIGZvcmdvdCBwYXNzd29yZCBhbmQgcmVzZXRcclxuICAgIGZvcmdvdFBhc3N3b3JkKHJlcXVlc3QsIHJlc3BvbnNlKXtcclxuICAgICAgICBjb25zdCBmb3JtID0gbmV3IEluY29taW5nRm9ybSgpO1xyXG5cclxuICAgICAgICBmb3JtLnBhcnNlKHJlcXVlc3QsIGFzeW5jIChlcnJvciwgZmllbGRzLCBmaWxlcyk9PntcclxuICAgICAgICAgICAgaWYoZXJyb3Ipe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oe21zZzonRmFpbGVkIHRvIHJzZXQgcGFzc3dvcmQnfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdHsgZW1haWwsIHBhc3N3b3JkIH0gPSBmaWVsZHM7XHJcblxyXG4gICAgICAgICAgICBpZighZW1haWwgfHwgIXBhc3N3b3JkKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNDAwKS5qc29uKHttc2c6J2VtYWlsIGFuZCBwYXNzd29yZCBhcmUgcmVxdWlyZWQgdG8gcmVzZXQgcGFzc3dvcmQgJ30pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3Qgc2FsdCA9IGF3YWl0IGdlblNhbHQoMTUpO1xyXG4gICAgICAgICAgICBjb25zdCBoYXNoZWRQYXNzd29yZCA9IGF3YWl0IGhhc2gocGFzc3dvcmQsIHNhbHQpXHJcblxyXG4gICAgICAgICAgICB0cnl7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgdXNlck1vZGVsLmZpbmRPbmUoe2VtYWlsOmVtYWlsfSk7XHJcbiAgICAgICAgICAgICAgICBpZighdXNlcil7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg0MDQpLmpzb24oe21zZzonQWNjb3VudCB3aXRoIHRoaXMgZW1haWwgZG9lcyBub3QgZXhpc3QnfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgLyogY29uc3QgdXBkYXRlZEFjY291bnQgPSBhd2FpdCB1c2VyTW9kZWwuZmluZE9uZUFuZFVwZGF0ZSh7ZW1haWw6ZW1haWx9LCB7JHNldDp7cGFzc3dvcmQ6IGhhc2hlZFBhc3N3b3JkfX0sIHtuZXc6dHJ1ZX0pXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7bXNnOidQYXNzd29yZCByZXN0IHN1Y2Nlc3NmdWwnfSkgKi9cclxuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRBY2NvdW50ID0gYXdhaXQgdXNlck1vZGVsLmZpbmRPbmVBbmRVcGRhdGUoe2VtYWlsOmVtYWlsfSwgeyRzZXQ6e3Bhc3N3b3JkOmhhc2hlZFBhc3N3b3JkIH19LCB7bmV3OnRydWV9KVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cygyMDApLmpzb24oe21zZzonUGFzc3dvcmQgcmVzdCBzdWNjZXNzZnVsJ30pXHJcbiAgICAgICAgICAgIH1jYXRjaChlcnJvcil7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7bXNnOidGYWlsZWQgdG8gcmVzZXQgcGFzc3dvcmQnfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLy8gdXBkYXQgdXNlciBpbmZvIHN1Y2ggYXMgdXNlcm5hbWUsIHBhc3N3b3JkLCBhZ2UgYW5kIGdlbmRlciB2aWEgZW1haWwuXHJcbiAgICB1cGRhdGUocmVxdWVzdCwgcmVzcG9uc2Upe1xyXG4gICAgICAgIGNvbnN0IGZvcm0gPSBuZXcgSW5jb21pbmdGb3JtKCk7XHJcblxyXG4gICAgICAgIGZvcm0ucGFyc2UocmVxdWVzdCwgYXN5bmMgKGVycm9yLCBmaWVsZHMsIGZpbGVzKT0+e1xyXG4gICAgICAgICAgICBpZihlcnJvcil7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7bXNnOidGYWlsZWQgdG8gcnNldCBwYXNzd29yZCd9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0eyBlbWFpbCwgcGFzc3dvcmQsIHVzZXJuYW1lLCBhZ2UsIGdlbmRlcn0gPSBmaWVsZHM7XHJcblxyXG4gICAgICAgICAgICBpZighZW1haWwgfHwgIXBhc3N3b3JkIHx8ICF1c2VybmFtZSB8fCFhZ2UgfHwgIWdlbmRlcil7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwMCkuanNvbih7bXNnOidlbWFpbO+8jHBhc3N3b3Jk77yMdXNlcm5hbWUsIGFnZSBhbmQgZ2VuZGVyIGFyZSByZXF1aXJlZCB0byBlZGl0ICd9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHNhbHQgPSBhd2FpdCBnZW5TYWx0KDE1KTtcclxuICAgICAgICAgICAgY29uc3QgaGFzaGVkUGFzc3dvcmQgPSBhd2FpdCBoYXNoKHBhc3N3b3JkLCBzYWx0KVxyXG4gICAgICAgICAgICBjb25zdCBuZXdVc2VybmFtZSA9IHVzZXJuYW1lXHJcbiAgICAgICAgICAgIGNvbnN0IG5ld0FnZSA9IGFnZVxyXG4gICAgICAgICAgICBjb25zdCBuZXdHZW5kZXI9ICBnZW5kZXJcclxuXHJcbiAgICAgICAgICAgIHRyeXtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB1c2VyTW9kZWwuZmluZE9uZSh7ZW1haWw6ZW1haWx9KTtcclxuICAgICAgICAgICAgICAgIGlmKCF1c2VyKXtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwNCkuanNvbih7bXNnOidBY2NvdW50IHdpdGggdGhpcyBlbWFpbCBkb2VzIG5vdCBleGlzdCd9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAvKiBjb25zdCB1cGRhdGVkQWNjb3VudCA9IGF3YWl0IHVzZXJNb2RlbC5maW5kT25lQW5kVXBkYXRlKHtlbWFpbDplbWFpbH0sIHskc2V0OntwYXNzd29yZDogaGFzaGVkUGFzc3dvcmR9fSwge25ldzp0cnVlfSlcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHttc2c6J1Bhc3N3b3JkIHJlc3Qgc3VjY2Vzc2Z1bCd9KSAqL1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZEFjY291bnQgPSBhd2FpdCB1c2VyTW9kZWwuZmluZE9uZUFuZFVwZGF0ZSh7ZW1haWw6ZW1haWx9LCB7JHNldDp7cGFzc3dvcmQ6aGFzaGVkUGFzc3dvcmQsIHVzZXJuYW1lOm5ld1VzZXJuYW1lLCBhZ2U6IG5ld0FnZSwgZ2VuZGVyOiBuZXdHZW5kZXJ9fSwge25ldzp0cnVlfSlcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHttc2c6J0VkaXQgc3VjY2Vzc2Z1bCd9KVxyXG4gICAgICAgICAgICB9Y2F0Y2goZXJyb3Ipe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oe21zZzonRmFpbGVkIHRvIEVkaXQnfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgIC8qIC8vIHVwZGF0IHVzZXIgaW5mbyBzdWNoIGFzIHVzZXIgbmFtZSB2aWEgZW1haWwuXHJcbiAgICB1cGRhdGUocmVxdWVzdCwgcmVzcG9uc2Upe1xyXG4gICAgICAgIGNvbnN0IGZvcm0gPSBuZXcgSW5jb21pbmdGb3JtKCk7XHJcbiAgICAgICAgZm9ybS5wYXJzZShyZXF1ZXN0LCBhc3luYyAoZXJyb3IsIGZpZWxkcywgZmlsZXMpPT57XHJcbiAgICAgICAgICAgIGlmKGVycm9yKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHttc2c6J0ZhaWxlZCB0byB1cGRhdGUnfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0cnl7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkQWNjb3VudCA9IHVzZXJNb2RlbC5maW5kT25lQW5kVXBkYXRlKHtlbWFpbDplbWFpbH0sIHsgJHNldDp7dXNlcm5hbWU6dXNlcm5hbWV9fSlcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zZW5kKHVzZXIpICAgXHJcbiAgICAgICAgICAgICAgICAvL3JldHVybiByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHttc2c6J3VwZGF0ZSBzdWNjZXNzZnVsJ30pXHJcbiAgICAgICAgICAgIH1jYXRjaChlcnJvcil7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7bXNnOidGYWlsZWQgdG8gdXBkYXRlLCBtYXliZSB0cnkgYWdhaW4gbGF0ZXInfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9ICovXHJcblxyXG5cclxuICAgIC8vZGVsZXRlIHVzZXIgYWNjb3VudFxyXG4gICAgZGVsZXRlKHJlcXVlc3QsIHJlc3BvbnNlKXtcclxuICAgICAgICBjb25zdCBmb3JtID0gbmV3IEluY29taW5nRm9ybSgpO1xyXG4gICAgICAgIGZvcm0ucGFyc2UocmVxdWVzdCwgYXN5bmMgKGVycm9yLCBmaWVsZHMsIGZpbGVzKSA9PntcclxuICAgICAgICAgICAgaWYgKGVycm9yKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHttc2c6J0ZhaWxlZCB0byBkZWxldGUgYWNjb3VudCwgbWF5YmUgdHJ5IGFnYWluIGxhdGVyJ30pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3R7IGVtYWlsfSA9IGZpZWxkcztcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB1c2VyTW9kZWwuZmluZE9uZUFuZERlbGV0ZSh7ZW1haWw6IGVtYWlsfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7bXNnOidkZWxldGUgc3VjY2Vzc2Z1bCd9KVxyXG5cclxuICAgICAgICAgICAgfWNhdGNoKGVycm9yKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHttc2c6J0ZhaWxlZCB0byBkZWxldGUnfSlcclxuICAgICAgICAgICAgfSAgIFxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLy8gZmluZCBhbGwgdXNlclxyXG4gICAgZmluZEFsbFVzZXIocmVxdWVzdCwgcmVzcG9uc2Upe1xyXG4gICAgICAgIGNvbnN0IGZvcm0gPSBuZXcgSW5jb21pbmdGb3JtKCk7ICAgICAgXHJcblxyXG4gICAgICAgIGZvcm0ucGFyc2UocmVxdWVzdCwgYXN5bmMgKGVycm9yLCBmaWVsZHMsIGZpbGVzKSA9PntcclxuICAgICAgICAgICAgaWYgKGVycm9yKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHttc2c6J0ZhaWxlZCB0byBkZWxldGUgYWNjb3VudCwgbWF5YmUgdHJ5IGFnYWluIGxhdGVyJ30pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB1c2VyTW9kZWwuZmluZCgpIFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnNlbmQodXNlcikgICAgICAgICAgXHJcbiAgICAgICAgICAgIH1jYXRjaChlcnJvcil7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7bXNnOidGYWlsZWQgZmluZCBhbGwgdXNlcnMnfSlcclxuICAgICAgICAgICAgfSAgIFxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vIHNlYXJjaCBmb3IgYSB1c2VyIGJ5IHJlcXVlc3QgcGFyYW1zXHJcbiAgICBhc3luYyBzZWFyY2hVc2VyIChyZXF1ZXN0LCByZXNwb25zZSl7XHJcblxyXG4gICAgICAgIC8vIGNvbnN0IG5hbWUgPSByZXF1ZXN0LnBhcmFtcy51c2VybmFtZTtcclxuICAgICAgICBjb25zdCBuYW1lID0gcmVxdWVzdC5xdWVyeS51c2VybmFtZTtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IHVzZXIgPSBhd2FpdCB1c2VyTW9kZWwuZmluZCh7dXNlcm5hbWU6ICB7JHJlZ2V4OiBuYW1lIH19KVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc2VuZCh1c2VyKSAgICAgXHJcbiAgICAgICAgfWNhdGNoKGVycm9yKXtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oe21zZzonTm8gbWF0Y2hpbmcgdXNlcid9KVxyXG4gICAgICAgIH0gICBcclxuXHJcbiAgXHJcbiAgICBcclxuICAgIH1cclxuXHJcbiAgICBcclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7OytDQUhBLG9KOzs7Ozs7Ozs7Ozs7QUFJQSxJ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","map":{"version":3,"names":["config","AuthController","request","response","form","IncomingForm","parse","error","fields","files","status","json","msg","username","email","password","age","gender","length","genSalt","salt","hash","hashedPassword","newAccount","userModel","save","savedAccount","console","log","account","isAccountEmail","includes","findOne","user","compare","isPasswordValid","token_payload","_id","token","sign","process","env","cookie_secret","expiresIn","findOneAndUpdate","$set","updatedAccount","newUsername","newAge","newGender","findOneAndDelete","find","send","name","query","$regex"],"sourceRoot":"C:\\Users\\11781\\Documents\\GitHub\\IT-PROJECT\\backend3\\src\\Controller\\","sources":["Auth.controller.js"],"sourcesContent":["import { IncomingForm } from 'formidable';\r\nimport { genSalt, hash, compare } from 'bcrypt';\r\nimport {config} from 'dotenv';\r\nimport { verify, sign} from 'jsonwebtoken'; \r\nimport { userModel} from '../Models/User.model'\r\nconfig()\r\n\r\nexport class AuthController{\r\n    //signup method\r\n    signup(request,response){\r\n        const form = new IncomingForm();\r\n\r\n        form.parse(request, async (error, fields, files) =>{\r\n            if (error){\r\n                return response.status(500).json({msg:'Failed to create account, maybe try again later'})\r\n            }\r\n\r\n            const{username, email, password, age, gender} = fields; \r\n            if(password.length > 20 || password.length < 6){  // password minimum length = 6, maximum length = 20\r\n                return response.status(503).json({msg:'Password length need to be 6-20 range'})\r\n\r\n            }\r\n            if(age > 150 || age <0){\r\n                return response.status(502).json({msg:'Invalid age'})\r\n            }\r\n            const salt = await genSalt(15);\r\n            const hashedPassword = await hash(password, salt);\r\n            const newAccount = new userModel({\r\n                username,\r\n                email,\r\n                password:hashedPassword,\r\n                age,\r\n                gender\r\n            })\r\n            // create an account successful or failed\r\n            try{\r\n                const savedAccount = await newAccount.save();\r\n                return response.status(201).json({msg:'Account created successfully'})\r\n            }catch(error){\r\n                console.log(error)\r\n                return response.status(501).json({msg:'format error'})\r\n            }      \r\n\r\n        })\r\n    }\r\n    \r\n    // sign in\r\n    signin(request, response){\r\n        const form = new IncomingForm();\r\n\r\n        form.parse(request,async (error, fields, files)=>{\r\n            if(error){\r\n                return response.status(500).json({msg:'Failed to signin'})\r\n            }\r\n            const{account, password} = fields;\r\n            // email log in \r\n            const isAccountEmail = account.includes('@');\r\n            if(isAccountEmail){\r\n                const user = await userModel.findOne({email:account});\r\n                \r\n                if(!user){\r\n                    return response.status(404).json({msg:'Email of this account does not exist'})\r\n                }\r\n                const isPasswordValid = await compare(password, user.password);  // hashed password\r\n                if(!isPasswordValid){\r\n                    return response.status(400).json({msg:'Invalid password'})\r\n                }\r\n                const token_payload = {\r\n                    _id:user._id,\r\n                    email: user.email,\r\n                    username: user.username\r\n                }\r\n                const token  = sign(token_payload, process.env.cookie_secret, { expiresIn:'365d' })\r\n                const username = token_payload.username;\r\n                return response.status(200).json({token, username})\r\n\r\n            }\r\n            const user = await userModel.findOne({username:account});\r\n                \r\n            if(!user){\r\n                return response.status(404).json({msg:'username of this account does not exist'})\r\n            }\r\n            const isPasswordValid = await compare(password, user.password);  // hashed password\r\n            if(!isPasswordValid){\r\n                return response.status(400).json({msg:'Invalid password'})\r\n            }\r\n            const token_payload = {\r\n                _id:user._id,\r\n                email: user.email,\r\n                username: user.username\r\n            }\r\n            const token  = sign(token_payload, process.env.cookie_secret, { expiresIn:'365d' })\r\n            const username = token_payload.username;\r\n            return response.status(200).json({token, username})\r\n\r\n        }) \r\n    }\r\n\r\n    // forgot password and reset\r\n    forgotPassword(request, response){\r\n        const form = new IncomingForm();\r\n\r\n        form.parse(request, async (error, fields, files)=>{\r\n            if(error){\r\n                return response.status(500).json({msg:'Failed to rset password'})\r\n            }\r\n            const{ email, password } = fields;\r\n\r\n            if(!email || !password){\r\n                return response.status(400).json({msg:'email and password are required to reset password '})\r\n            }\r\n            const salt = await genSalt(15);\r\n            const hashedPassword = await hash(password, salt)\r\n\r\n            try{\r\n                const user = await userModel.findOne({email:email});\r\n                if(!user){\r\n                    return response.status(404).json({msg:'Account with this email does not exist'})\r\n                }\r\n               /* const updatedAccount = await userModel.findOneAndUpdate({email:email}, {$set:{password: hashedPassword}}, {new:true})\r\n                return response.status(200).json({msg:'Password rest successful'}) */\r\n                const updatedAccount = await userModel.findOneAndUpdate({email:email}, {$set:{password:hashedPassword }}, {new:true})\r\n                return response.status(200).json({msg:'Password rest successful'})\r\n            }catch(error){\r\n                return response.status(500).json({msg:'Failed to reset password'})\r\n            }\r\n        })\r\n    }\r\n\r\n    // updat user info such as username, password, age and gender via email.\r\n    update(request, response){\r\n        const form = new IncomingForm();\r\n\r\n        form.parse(request, async (error, fields, files)=>{\r\n            if(error){\r\n                return response.status(500).json({msg:'Failed to rset password'})\r\n            }\r\n            const{ email, password, username, age, gender} = fields;\r\n\r\n            if(!email || !password || !username ||!age || !gender){\r\n                return response.status(400).json({msg:'emailpasswordusername, age and gender are required to edit '})\r\n            }\r\n            const salt = await genSalt(15);\r\n            const hashedPassword = await hash(password, salt)\r\n            const newUsername = username\r\n            const newAge = age\r\n            const newGender=  gender\r\n\r\n            try{\r\n                const user = await userModel.findOne({email:email});\r\n                if(!user){\r\n                    return response.status(404).json({msg:'Account with this email does not exist'})\r\n                }\r\n               /* const updatedAccount = await userModel.findOneAndUpdate({email:email}, {$set:{password: hashedPassword}}, {new:true})\r\n                return response.status(200).json({msg:'Password rest successful'}) */\r\n                const updatedAccount = await userModel.findOneAndUpdate({email:email}, {$set:{password:hashedPassword, username:newUsername, age: newAge, gender: newGender}}, {new:true})\r\n                return response.status(200).json({msg:'Edit successful'})\r\n            }catch(error){\r\n                return response.status(500).json({msg:'Failed to Edit'})\r\n            }\r\n        })\r\n    }\r\n   /* // updat user info such as user name via email.\r\n    update(request, response){\r\n        const form = new IncomingForm();\r\n        form.parse(request, async (error, fields, files)=>{\r\n            if(error){\r\n                return response.status(500).json({msg:'Failed to update'})\r\n            }\r\n            try{\r\n                const updatedAccount = userModel.findOneAndUpdate({email:email}, { $set:{username:username}})\r\n                return response.send(user)   \r\n                //return response.status(200).json({msg:'update successful'})\r\n            }catch(error){\r\n                return response.status(500).json({msg:'Failed to update, maybe try again later'})\r\n            }\r\n        })\r\n    } */\r\n\r\n\r\n    //delete user account\r\n    delete(request, response){\r\n        const form = new IncomingForm();\r\n        form.parse(request, async (error, fields, files) =>{\r\n            if (error){\r\n                return response.status(500).json({msg:'Failed to delete account, maybe try again later'})\r\n            }\r\n            const{ email} = fields;\r\n            try {\r\n                const user = await userModel.findOneAndDelete({email: email});\r\n                return response.status(200).json({msg:'delete successful'})\r\n\r\n            }catch(error){\r\n                return response.status(500).json({msg:'Failed to delete'})\r\n            }   \r\n        })\r\n    }\r\n\r\n    // find all user\r\n    findAllUser(request, response){\r\n        const form = new IncomingForm();      \r\n\r\n        form.parse(request, async (error, fields, files) =>{\r\n            if (error){\r\n                return response.status(500).json({msg:'Failed to delete account, maybe try again later'})\r\n            }\r\n            try {\r\n                const user = await userModel.find() \r\n                return response.send(user)          \r\n            }catch(error){\r\n                return response.status(500).json({msg:'Failed find all users'})\r\n            }   \r\n        })\r\n    }\r\n\r\n\r\n    // search for a user by request params\r\n    async searchUser (request, response){\r\n\r\n        // const name = request.params.username;\r\n        const name = request.query.username;\r\n\r\n        try {\r\n            let user = await userModel.find({username:  {$regex: name }})\r\n            return response.send(user)     \r\n        }catch(error){\r\n            return response.status(500).json({msg:'No matching user'})\r\n        }   \r\n\r\n  \r\n    \r\n    }\r\n\r\n    \r\n}"],"mappings":"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"}},"mtime":1665044544423},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"filename\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Models\\\\User.model.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.userModel = void 0;\n\nvar _mongoose = require(\"mongoose\");\n\nvar uservalidator = function uservalidator(s) {\n  return /^[a-zA-Z0-9]{1,20}$/.test(s);\n};\n\nvar emailvalidator = function emailvalidator(s) {\n  return /^[a-z0-9@.-_]{6,40}$/.test(s);\n};\n\nvar agevalidator = function agevalidator(s) {\n  return /^[0-9]{1,3}$/.test(s);\n};\n\nvar userSchema = new _mongoose.Schema({\n  username: {\n    // username should be unique and no longer than 20 characters\n    type: String,\n    reuqired: [true, 'Username is required'],\n    unique: [true, 'Usename exist'],\n    validate: [uservalidator, 'Please enter less than 20 numbers and alphabets only']\n  },\n  email: {\n    // email should be be unique\n    type: String,\n    required: [true, 'Email is required to create an account'],\n    unique: [true, 'Account with this email already exist'],\n    validate: [emailvalidator, 'Please enter numbers, alphabets, and @ . - _ only']\n  },\n  password: {\n    type: String,\n    requried: [true, 'Password is required to create account']\n  },\n  age: {\n    // age should be within 0 - 120 range\n    type: Number,\n    requried: [true, 'Age is required to create an account'],\n    validate: [agevalidator, 'Please enter a number between 0-120']\n  },\n  gender: {\n    type: String,\n    \"enum\": [\"Male\", \"Female\", \"Prefer not to say\"],\n    required: true\n  },\n  videos: [{\n    type: _mongoose.Schema.Types.ObjectId,\n    ref: 'videos'\n  }]\n});\nvar userModel = (0, _mongoose.model)('user', userSchema);\nexports.userModel = userModel;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VydmFsaWRhdG9yIiwicyIsInRlc3QiLCJlbWFpbHZhbGlkYXRvciIsImFnZXZhbGlkYXRvciIsInVzZXJTY2hlbWEiLCJTY2hlbWEiLCJ1c2VybmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXVxaXJlZCIsInVuaXF1ZSIsInZhbGlkYXRlIiwiZW1haWwiLCJyZXF1aXJlZCIsInBhc3N3b3JkIiwicmVxdXJpZWQiLCJhZ2UiLCJOdW1iZXIiLCJnZW5kZXIiLCJ2aWRlb3MiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwidXNlck1vZGVsIiwibW9kZWwiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcMTE3ODFcXERvY3VtZW50c1xcR2l0SHViXFxJVC1QUk9KRUNUXFxiYWNrZW5kM1xcc3JjXFxNb2RlbHNcXCIsInNvdXJjZXMiOlsiVXNlci5tb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnR7IFNjaGVtYSwgbW9kZWx9IGZyb20gJ21vbmdvb3NlJztcclxuY29uc3QgdXNlcnZhbGlkYXRvciA9IChzKSA9PlxyXG4gICAgL15bYS16QS1aMC05XXsxLDIwfSQvLnRlc3QocylcclxuXHJcbmNvbnN0IGVtYWlsdmFsaWRhdG9yID0gKHMpID0+XHJcbiAgICAvXlthLXowLTlALi1fXXs2LDQwfSQvLnRlc3QocylcclxuXHJcbmNvbnN0IGFnZXZhbGlkYXRvciA9IChzKSA9PlxyXG4gICAgL15bMC05XXsxLDN9JC8udGVzdChzKVxyXG5cclxuY29uc3QgdXNlclNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gICAgdXNlcm5hbWU6eyAvLyB1c2VybmFtZSBzaG91bGQgYmUgdW5pcXVlIGFuZCBubyBsb25nZXIgdGhhbiAyMCBjaGFyYWN0ZXJzXHJcbiAgICAgICAgdHlwZTpTdHJpbmcsXHJcbiAgICAgICAgcmV1cWlyZWQ6IFt0cnVlLCAnVXNlcm5hbWUgaXMgcmVxdWlyZWQnXSxcclxuICAgICAgICB1bmlxdWU6W3RydWUsICdVc2VuYW1lIGV4aXN0J10sXHJcbiAgICAgICAgdmFsaWRhdGU6IFt1c2VydmFsaWRhdG9yLCAnUGxlYXNlIGVudGVyIGxlc3MgdGhhbiAyMCBudW1iZXJzIGFuZCBhbHBoYWJldHMgb25seSddXHJcbiAgICB9LFxyXG4gICAgZW1haWw6eyAvLyBlbWFpbCBzaG91bGQgYmUgYmUgdW5pcXVlXHJcbiAgICAgICAgdHlwZTpTdHJpbmcsXHJcbiAgICAgICAgcmVxdWlyZWQ6IFt0cnVlLCAnRW1haWwgaXMgcmVxdWlyZWQgdG8gY3JlYXRlIGFuIGFjY291bnQnXSxcclxuICAgICAgICB1bmlxdWU6W3RydWUsICdBY2NvdW50IHdpdGggdGhpcyBlbWFpbCBhbHJlYWR5IGV4aXN0J10sXHJcbiAgICAgICAgdmFsaWRhdGU6IFtlbWFpbHZhbGlkYXRvciwgJ1BsZWFzZSBlbnRlciBudW1iZXJzLCBhbHBoYWJldHMsIGFuZCBAIC4gLSBfIG9ubHknXVxyXG4gICAgfSxcclxuICAgIHBhc3N3b3JkOntcclxuICAgICAgICB0eXBlOlN0cmluZyxcclxuICAgICAgICByZXF1cmllZDpbdHJ1ZSwgJ1Bhc3N3b3JkIGlzIHJlcXVpcmVkIHRvIGNyZWF0ZSBhY2NvdW50J10sXHJcblxyXG4gICAgfSxcclxuICAgIGFnZTp7IC8vIGFnZSBzaG91bGQgYmUgd2l0aGluIDAgLSAxMjAgcmFuZ2VcclxuICAgICAgICB0eXBlOk51bWJlcixcclxuICAgICAgICByZXF1cmllZDpbdHJ1ZSwgJ0FnZSBpcyByZXF1aXJlZCB0byBjcmVhdGUgYW4gYWNjb3VudCddLFxyXG4gICAgICAgIHZhbGlkYXRlOiBbYWdldmFsaWRhdG9yLCAnUGxlYXNlIGVudGVyIGEgbnVtYmVyIGJldHdlZW4gMC0xMjAnXVxyXG5cclxuICAgIH0sXHJcbiAgICBnZW5kZXI6e1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICBlbnVtOiBbXCJNYWxlXCIsIFwiRmVtYWxlXCIsIFwiUHJlZmVyIG5vdCB0byBzYXlcIl0sXHJcbiAgICAgICAgcmVxdWlyZWQ6IHRydWVcclxuICAgIH0sXHJcbiAgICB2aWRlb3M6W1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdHlwZTpTY2hlbWEuVHlwZXMuT2JqZWN0SWQsXHJcbiAgICAgICAgICAgIHJlZjondmlkZW9zJ1xyXG4gICAgICAgIH1cclxuICAgIF0sXHJcblxyXG5cclxuXHJcbiAgICAgXHJcbn0pXHJcbmV4cG9ydCBjb25zdCB1c2VyTW9kZWwgPSBtb2RlbCgndXNlcicsIHVzZXJTY2hlbWEpXHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBLElBQU1BLGFBQWEsR0FBRyxTQUFoQkEsYUFBZ0IsQ0FBQ0MsQ0FBRDtFQUFBLE9BQ2xCLHNCQUFzQkMsSUFBdEIsQ0FBMkJELENBQTNCLENBRGtCO0FBQUEsQ0FBdEI7O0FBR0EsSUFBTUUsY0FBYyxHQUFHLFNBQWpCQSxjQUFpQixDQUFDRixDQUFEO0VBQUEsT0FDbkIsdUJBQXVCQyxJQUF2QixDQUE0QkQsQ0FBNUIsQ0FEbUI7QUFBQSxDQUF2Qjs7QUFHQSxJQUFNRyxZQUFZLEdBQUcsU0FBZkEsWUFBZSxDQUFDSCxDQUFEO0VBQUEsT0FDakIsZUFBZUMsSUFBZixDQUFvQkQsQ0FBcEIsQ0FEaUI7QUFBQSxDQUFyQjs7QUFHQSxJQUFNSSxVQUFVLEdBQUcsSUFBSUMsZ0JBQUosQ0FBVztFQUMxQkMsUUFBUSxFQUFDO0lBQUU7SUFDUEMsSUFBSSxFQUFDQyxNQURBO0lBRUxDLFFBQVEsRUFBRSxDQUFDLElBQUQsRUFBTyxzQkFBUCxDQUZMO0lBR0xDLE1BQU0sRUFBQyxDQUFDLElBQUQsRUFBTyxlQUFQLENBSEY7SUFJTEMsUUFBUSxFQUFFLENBQUNaLGFBQUQsRUFBZ0Isc0RBQWhCO0VBSkwsQ0FEaUI7RUFPMUJhLEtBQUssRUFBQztJQUFFO0lBQ0pMLElBQUksRUFBQ0MsTUFESDtJQUVGSyxRQUFRLEVBQUUsQ0FBQyxJQUFELEVBQU8sd0NBQVAsQ0FGUjtJQUdGSCxNQUFNLEVBQUMsQ0FBQyxJQUFELEVBQU8sdUNBQVAsQ0FITDtJQUlGQyxRQUFRLEVBQUUsQ0FBQ1QsY0FBRCxFQUFpQixtREFBakI7RUFKUixDQVBvQjtFQWExQlksUUFBUSxFQUFDO0lBQ0xQLElBQUksRUFBQ0MsTUFEQTtJQUVMTyxRQUFRLEVBQUMsQ0FBQyxJQUFELEVBQU8sd0NBQVA7RUFGSixDQWJpQjtFQWtCMUJDLEdBQUcsRUFBQztJQUFFO0lBQ0ZULElBQUksRUFBQ1UsTUFETDtJQUVBRixRQUFRLEVBQUMsQ0FBQyxJQUFELEVBQU8sc0NBQVAsQ0FGVDtJQUdBSixRQUFRLEVBQUUsQ0FBQ1IsWUFBRCxFQUFlLHFDQUFmO0VBSFYsQ0FsQnNCO0VBd0IxQmUsTUFBTSxFQUFDO0lBQ0hYLElBQUksRUFBRUMsTUFESDtJQUVILFFBQU0sQ0FBQyxNQUFELEVBQVMsUUFBVCxFQUFtQixtQkFBbkIsQ0FGSDtJQUdISyxRQUFRLEVBQUU7RUFIUCxDQXhCbUI7RUE2QjFCTSxNQUFNLEVBQUMsQ0FDSDtJQUNJWixJQUFJLEVBQUNGLGdCQUFBLENBQU9lLEtBQVAsQ0FBYUMsUUFEdEI7SUFFSUMsR0FBRyxFQUFDO0VBRlIsQ0FERztBQTdCbUIsQ0FBWCxDQUFuQjtBQXdDTyxJQUFNQyxTQUFTLEdBQUcsSUFBQUMsZUFBQSxFQUFNLE1BQU4sRUFBY3BCLFVBQWQsQ0FBbEIifQ==","map":{"version":3,"names":["uservalidator","s","test","emailvalidator","agevalidator","userSchema","Schema","username","type","String","reuqired","unique","validate","email","required","password","requried","age","Number","gender","videos","Types","ObjectId","ref","userModel","model"],"sourceRoot":"C:\\Users\\11781\\Documents\\GitHub\\IT-PROJECT\\backend3\\src\\Models\\","sources":["User.model.js"],"sourcesContent":["import{ Schema, model} from 'mongoose';\r\nconst uservalidator = (s) =>\r\n    /^[a-zA-Z0-9]{1,20}$/.test(s)\r\n\r\nconst emailvalidator = (s) =>\r\n    /^[a-z0-9@.-_]{6,40}$/.test(s)\r\n\r\nconst agevalidator = (s) =>\r\n    /^[0-9]{1,3}$/.test(s)\r\n\r\nconst userSchema = new Schema({\r\n    username:{ // username should be unique and no longer than 20 characters\r\n        type:String,\r\n        reuqired: [true, 'Username is required'],\r\n        unique:[true, 'Usename exist'],\r\n        validate: [uservalidator, 'Please enter less than 20 numbers and alphabets only']\r\n    },\r\n    email:{ // email should be be unique\r\n        type:String,\r\n        required: [true, 'Email is required to create an account'],\r\n        unique:[true, 'Account with this email already exist'],\r\n        validate: [emailvalidator, 'Please enter numbers, alphabets, and @ . - _ only']\r\n    },\r\n    password:{\r\n        type:String,\r\n        requried:[true, 'Password is required to create account'],\r\n\r\n    },\r\n    age:{ // age should be within 0 - 120 range\r\n        type:Number,\r\n        requried:[true, 'Age is required to create an account'],\r\n        validate: [agevalidator, 'Please enter a number between 0-120']\r\n\r\n    },\r\n    gender:{\r\n        type: String,\r\n        enum: [\"Male\", \"Female\", \"Prefer not to say\"],\r\n        required: true\r\n    },\r\n    videos:[\r\n        {\r\n            type:Schema.Types.ObjectId,\r\n            ref:'videos'\r\n        }\r\n    ],\r\n\r\n\r\n\r\n     \r\n})\r\nexport const userModel = model('user', userSchema)\r\n"],"mappings":";;;;;;;AAAA;;AACA,IAAMA,aAAa,GAAG,SAAhBA,aAAgB,CAACC,CAAD;EAAA,OAClB,sBAAsBC,IAAtB,CAA2BD,CAA3B,CADkB;AAAA,CAAtB;;AAGA,IAAME,cAAc,GAAG,SAAjBA,cAAiB,CAACF,CAAD;EAAA,OACnB,uBAAuBC,IAAvB,CAA4BD,CAA5B,CADmB;AAAA,CAAvB;;AAGA,IAAMG,YAAY,GAAG,SAAfA,YAAe,CAACH,CAAD;EAAA,OACjB,eAAeC,IAAf,CAAoBD,CAApB,CADiB;AAAA,CAArB;;AAGA,IAAMI,UAAU,GAAG,IAAIC,gBAAJ,CAAW;EAC1BC,QAAQ,EAAC;IAAE;IACPC,IAAI,EAACC,MADA;IAELC,QAAQ,EAAE,CAAC,IAAD,EAAO,sBAAP,CAFL;IAGLC,MAAM,EAAC,CAAC,IAAD,EAAO,eAAP,CAHF;IAILC,QAAQ,EAAE,CAACZ,aAAD,EAAgB,sDAAhB;EAJL,CADiB;EAO1Ba,KAAK,EAAC;IAAE;IACJL,IAAI,EAACC,MADH;IAEFK,QAAQ,EAAE,CAAC,IAAD,EAAO,wCAAP,CAFR;IAGFH,MAAM,EAAC,CAAC,IAAD,EAAO,uCAAP,CAHL;IAIFC,QAAQ,EAAE,CAACT,cAAD,EAAiB,mDAAjB;EAJR,CAPoB;EAa1BY,QAAQ,EAAC;IACLP,IAAI,EAACC,MADA;IAELO,QAAQ,EAAC,CAAC,IAAD,EAAO,wCAAP;EAFJ,CAbiB;EAkB1BC,GAAG,EAAC;IAAE;IACFT,IAAI,EAACU,MADL;IAEAF,QAAQ,EAAC,CAAC,IAAD,EAAO,sCAAP,CAFT;IAGAJ,QAAQ,EAAE,CAACR,YAAD,EAAe,qCAAf;EAHV,CAlBsB;EAwB1Be,MAAM,EAAC;IACHX,IAAI,EAAEC,MADH;IAEH,QAAM,CAAC,MAAD,EAAS,QAAT,EAAmB,mBAAnB,CAFH;IAGHK,QAAQ,EAAE;EAHP,CAxBmB;EA6B1BM,MAAM,EAAC,CACH;IACIZ,IAAI,EAACF,gBAAA,CAAOe,KAAP,CAAaC,QADtB;IAEIC,GAAG,EAAC;EAFR,CADG;AA7BmB,CAAX,CAAnB;AAwCO,IAAMC,SAAS,GAAG,IAAAC,eAAA,EAAM,MAAN,EAAcpB,UAAd,CAAlB"}},"mtime":1664946132029},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"filename\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Routes\\\\Video.routes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _express = require(\"express\");\n\nvar _Authenticate = require(\"../Middlewares/Authenticate.middleware\");\n\nvar _Video = require(\"../Middlewares/Video.middleware\");\n\nvar _bodyParser = require(\"body-parser\");\n\nvar _Video2 = require(\"../Controller/Video.controller\");\n\nvar router = (0, _express.Router)();\nvar Controller = new _Video2.VideoController(); //after upload work, next step is save to mongo db\n\nrouter.post('/api/video', (0, _bodyParser.json)(), _Authenticate.Authenticate, _Video.videoUpload.single('video'), function (request, response) {\n  Controller.upload(request, response);\n}); // video stream\n\nrouter.get('/api/video/:filename', function (request, response) {\n  Controller.stream(request, response);\n}); // like a video\n\nrouter.get('/api/video-like/:id', function (request, response) {\n  Controller.like(request, response);\n}); // dislike a video\n\nrouter.get('/api/video-dislike/:id', function (request, response) {\n  Controller.dislike(request, response);\n}); // search for a video\n\nrouter.get('/api/video-search/', function (request, response) {\n  Controller.searchVideo(request, response);\n});\nrouter[\"delete\"]('/api/video/:video_id/:video_path', function (request, response) {\n  Controller[\"delete\"](request, response);\n});\nvar _default = router;\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJSb3V0ZXIiLCJDb250cm9sbGVyIiwiVmlkZW9Db250cm9sbGVyIiwicG9zdCIsImpzb24iLCJBdXRoZW50aWNhdGUiLCJ2aWRlb1VwbG9hZCIsInNpbmdsZSIsInJlcXVlc3QiLCJyZXNwb25zZSIsInVwbG9hZCIsImdldCIsInN0cmVhbSIsImxpa2UiLCJkaXNsaWtlIiwic2VhcmNoVmlkZW8iXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcMTE3ODFcXERvY3VtZW50c1xcR2l0SHViXFxJVC1QUk9KRUNUXFxiYWNrZW5kM1xcc3JjXFxSb3V0ZXNcXCIsInNvdXJjZXMiOlsiVmlkZW8ucm91dGVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7cmVzcG9uc2UsIFJvdXRlciB9IGZyb20gJ2V4cHJlc3MnO1xyXG5pbXBvcnQgeyBBdXRoZW50aWNhdGUgfSBmcm9tICcuLi9NaWRkbGV3YXJlcy9BdXRoZW50aWNhdGUubWlkZGxld2FyZSc7XHJcbmltcG9ydCB7dmlkZW9VcGxvYWR9IGZyb20gJy4uL01pZGRsZXdhcmVzL1ZpZGVvLm1pZGRsZXdhcmUnO1xyXG5pbXBvcnQge2pzb259IGZyb20gJ2JvZHktcGFyc2VyJ1xyXG5pbXBvcnR7IFZpZGVvQ29udHJvbGxlciB9IGZyb20gJy4uL0NvbnRyb2xsZXIvVmlkZW8uY29udHJvbGxlcidcclxuXHJcbmNvbnN0IHJvdXRlciA9IFJvdXRlcigpO1xyXG5jb25zdCBDb250cm9sbGVyID0gbmV3IFZpZGVvQ29udHJvbGxlcigpO1xyXG4vL2FmdGVyIHVwbG9hZCB3b3JrLCBuZXh0IHN0ZXAgaXMgc2F2ZSB0byBtb25nbyBkYlxyXG5yb3V0ZXIucG9zdCgnL2FwaS92aWRlbycsIGpzb24oKSwgQXV0aGVudGljYXRlLCB2aWRlb1VwbG9hZC5zaW5nbGUoJ3ZpZGVvJyksIChyZXF1ZXN0LCByZXNwb25zZSk9PntcclxuICAgIENvbnRyb2xsZXIudXBsb2FkKHJlcXVlc3QscmVzcG9uc2UpXHJcbn0pXHJcblxyXG4vLyB2aWRlbyBzdHJlYW1cclxucm91dGVyLmdldCgnL2FwaS92aWRlby86ZmlsZW5hbWUnLCAocmVxdWVzdCwgcmVzcG9uc2UpPT4ge1xyXG4gICAgQ29udHJvbGxlci5zdHJlYW0ocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG4vLyBsaWtlIGEgdmlkZW9cclxucm91dGVyLmdldCgnL2FwaS92aWRlby1saWtlLzppZCcsKHJlcXVlc3QsIHJlc3BvbnNlKT0+e1xyXG4gICAgQ29udHJvbGxlci5saWtlKHJlcXVlc3QsIHJlc3BvbnNlKVxyXG59KVxyXG5cclxuXHJcbi8vIGRpc2xpa2UgYSB2aWRlb1xyXG5yb3V0ZXIuZ2V0KCcvYXBpL3ZpZGVvLWRpc2xpa2UvOmlkJywocmVxdWVzdCwgcmVzcG9uc2UpPT57XHJcbiAgICBDb250cm9sbGVyLmRpc2xpa2UocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG4vLyBzZWFyY2ggZm9yIGEgdmlkZW9cclxucm91dGVyLmdldCgnL2FwaS92aWRlby1zZWFyY2gvJywocmVxdWVzdCxyZXNwb25zZSk9PntcclxuICAgIENvbnRyb2xsZXIuc2VhcmNoVmlkZW8gKHJlcXVlc3QsIHJlc3BvbnNlKVxyXG59KVxyXG5cclxucm91dGVyLmRlbGV0ZSgnL2FwaS92aWRlby86dmlkZW9faWQvOnZpZGVvX3BhdGgnLCAocmVxdWVzdCwgcmVzcG9uc2UpPT57XHJcbiAgICBDb250cm9sbGVyLmRlbGV0ZShyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFQSxJQUFNQSxNQUFNLEdBQUcsSUFBQUMsZUFBQSxHQUFmO0FBQ0EsSUFBTUMsVUFBVSxHQUFHLElBQUlDLHVCQUFKLEVBQW5CLEMsQ0FDQTs7QUFDQUgsTUFBTSxDQUFDSSxJQUFQLENBQVksWUFBWixFQUEwQixJQUFBQyxnQkFBQSxHQUExQixFQUFrQ0MsMEJBQWxDLEVBQWdEQyxrQkFBQSxDQUFZQyxNQUFaLENBQW1CLE9BQW5CLENBQWhELEVBQTZFLFVBQUNDLE9BQUQsRUFBVUMsUUFBVixFQUFxQjtFQUM5RlIsVUFBVSxDQUFDUyxNQUFYLENBQWtCRixPQUFsQixFQUEwQkMsUUFBMUI7QUFDSCxDQUZELEUsQ0FJQTs7QUFDQVYsTUFBTSxDQUFDWSxHQUFQLENBQVcsc0JBQVgsRUFBbUMsVUFBQ0gsT0FBRCxFQUFVQyxRQUFWLEVBQXNCO0VBQ3JEUixVQUFVLENBQUNXLE1BQVgsQ0FBa0JKLE9BQWxCLEVBQTJCQyxRQUEzQjtBQUNILENBRkQsRSxDQUlBOztBQUNBVixNQUFNLENBQUNZLEdBQVAsQ0FBVyxxQkFBWCxFQUFpQyxVQUFDSCxPQUFELEVBQVVDLFFBQVYsRUFBcUI7RUFDbERSLFVBQVUsQ0FBQ1ksSUFBWCxDQUFnQkwsT0FBaEIsRUFBeUJDLFFBQXpCO0FBQ0gsQ0FGRCxFLENBS0E7O0FBQ0FWLE1BQU0sQ0FBQ1ksR0FBUCxDQUFXLHdCQUFYLEVBQW9DLFVBQUNILE9BQUQsRUFBVUMsUUFBVixFQUFxQjtFQUNyRFIsVUFBVSxDQUFDYSxPQUFYLENBQW1CTixPQUFuQixFQUE0QkMsUUFBNUI7QUFDSCxDQUZELEUsQ0FJQTs7QUFDQVYsTUFBTSxDQUFDWSxHQUFQLENBQVcsb0JBQVgsRUFBZ0MsVUFBQ0gsT0FBRCxFQUFTQyxRQUFULEVBQW9CO0VBQ2hEUixVQUFVLENBQUNjLFdBQVgsQ0FBd0JQLE9BQXhCLEVBQWlDQyxRQUFqQztBQUNILENBRkQ7QUFJQVYsTUFBTSxVQUFOLENBQWMsa0NBQWQsRUFBa0QsVUFBQ1MsT0FBRCxFQUFVQyxRQUFWLEVBQXFCO0VBQ25FUixVQUFVLFVBQVYsQ0FBa0JPLE9BQWxCLEVBQTJCQyxRQUEzQjtBQUNILENBRkQ7ZUFJZVYsTSJ9","map":{"version":3,"names":["router","Router","Controller","VideoController","post","json","Authenticate","videoUpload","single","request","response","upload","get","stream","like","dislike","searchVideo"],"sourceRoot":"C:\\Users\\11781\\Documents\\GitHub\\IT-PROJECT\\backend3\\src\\Routes\\","sources":["Video.routes.js"],"sourcesContent":["import {response, Router } from 'express';\r\nimport { Authenticate } from '../Middlewares/Authenticate.middleware';\r\nimport {videoUpload} from '../Middlewares/Video.middleware';\r\nimport {json} from 'body-parser'\r\nimport{ VideoController } from '../Controller/Video.controller'\r\n\r\nconst router = Router();\r\nconst Controller = new VideoController();\r\n//after upload work, next step is save to mongo db\r\nrouter.post('/api/video', json(), Authenticate, videoUpload.single('video'), (request, response)=>{\r\n    Controller.upload(request,response)\r\n})\r\n\r\n// video stream\r\nrouter.get('/api/video/:filename', (request, response)=> {\r\n    Controller.stream(request, response)\r\n})\r\n\r\n// like a video\r\nrouter.get('/api/video-like/:id',(request, response)=>{\r\n    Controller.like(request, response)\r\n})\r\n\r\n\r\n// dislike a video\r\nrouter.get('/api/video-dislike/:id',(request, response)=>{\r\n    Controller.dislike(request, response)\r\n})\r\n\r\n// search for a video\r\nrouter.get('/api/video-search/',(request,response)=>{\r\n    Controller.searchVideo (request, response)\r\n})\r\n\r\nrouter.delete('/api/video/:video_id/:video_path', (request, response)=>{\r\n    Controller.delete(request, response)\r\n})\r\n\r\nexport default router;"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AAEA,IAAMA,MAAM,GAAG,IAAAC,eAAA,GAAf;AACA,IAAMC,UAAU,GAAG,IAAIC,uBAAJ,EAAnB,C,CACA;;AACAH,MAAM,CAACI,IAAP,CAAY,YAAZ,EAA0B,IAAAC,gBAAA,GAA1B,EAAkCC,0BAAlC,EAAgDC,kBAAA,CAAYC,MAAZ,CAAmB,OAAnB,CAAhD,EAA6E,UAACC,OAAD,EAAUC,QAAV,EAAqB;EAC9FR,UAAU,CAACS,MAAX,CAAkBF,OAAlB,EAA0BC,QAA1B;AACH,CAFD,E,CAIA;;AACAV,MAAM,CAACY,GAAP,CAAW,sBAAX,EAAmC,UAACH,OAAD,EAAUC,QAAV,EAAsB;EACrDR,UAAU,CAACW,MAAX,CAAkBJ,OAAlB,EAA2BC,QAA3B;AACH,CAFD,E,CAIA;;AACAV,MAAM,CAACY,GAAP,CAAW,qBAAX,EAAiC,UAACH,OAAD,EAAUC,QAAV,EAAqB;EAClDR,UAAU,CAACY,IAAX,CAAgBL,OAAhB,EAAyBC,QAAzB;AACH,CAFD,E,CAKA;;AACAV,MAAM,CAACY,GAAP,CAAW,wBAAX,EAAoC,UAACH,OAAD,EAAUC,QAAV,EAAqB;EACrDR,UAAU,CAACa,OAAX,CAAmBN,OAAnB,EAA4BC,QAA5B;AACH,CAFD,E,CAIA;;AACAV,MAAM,CAACY,GAAP,CAAW,oBAAX,EAAgC,UAACH,OAAD,EAASC,QAAT,EAAoB;EAChDR,UAAU,CAACc,WAAX,CAAwBP,OAAxB,EAAiCC,QAAjC;AACH,CAFD;AAIAV,MAAM,UAAN,CAAc,kCAAd,EAAkD,UAACS,OAAD,EAAUC,QAAV,EAAqB;EACnER,UAAU,UAAV,CAAkBO,OAAlB,EAA2BC,QAA3B;AACH,CAFD;eAIeV,M"}},"mtime":1664862780269},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Middlewares\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"filename\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Middlewares\\\\Authenticate.middleware.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Authenticate = void 0;\n\nvar _jsonwebtoken = require(\"jsonwebtoken\");\n\nvar _dotenv = require(\"dotenv\");\n\n(0, _dotenv.config)();\n\nvar Authenticate = function Authenticate(request, response, next) {\n  var token = request.headers['x-auth-token'];\n  (0, _jsonwebtoken.verify)(token, process.env.cookie_secret, function (error, decoded) {\n    if (error) {\n      return response.status(403).json({\n        msg: 'Signup or Login to upload video'\n      });\n    }\n\n    request.token = decoded;\n    next();\n  });\n};\n\nexports.Authenticate = Authenticate;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25maWciLCJBdXRoZW50aWNhdGUiLCJyZXF1ZXN0IiwicmVzcG9uc2UiLCJuZXh0IiwidG9rZW4iLCJoZWFkZXJzIiwidmVyaWZ5IiwicHJvY2VzcyIsImVudiIsImNvb2tpZV9zZWNyZXQiLCJlcnJvciIsImRlY29kZWQiLCJzdGF0dXMiLCJqc29uIiwibXNnIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXDExNzgxXFxEb2N1bWVudHNcXEdpdEh1YlxcSVQtUFJPSkVDVFxcYmFja2VuZDNcXHNyY1xcTWlkZGxld2FyZXNcXCIsInNvdXJjZXMiOlsiQXV0aGVudGljYXRlLm1pZGRsZXdhcmUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHt2ZXJpZnl9IGZyb20gJ2pzb253ZWJ0b2tlbic7XHJcbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gJ2RvdGVudic7XHJcbmNvbmZpZygpO1xyXG5cclxuZXhwb3J0IGNvbnN0IEF1dGhlbnRpY2F0ZSA9IChyZXF1ZXN0LCByZXNwb25zZSwgbmV4dCk9PntcclxuICAgIGNvbnN0IHRva2VuID0gcmVxdWVzdC5oZWFkZXJzWyd4LWF1dGgtdG9rZW4nXTtcclxuXHJcbiAgICB2ZXJpZnkodG9rZW4sIHByb2Nlc3MuZW52LmNvb2tpZV9zZWNyZXQsIChlcnJvciwgZGVjb2RlZCk9PntcclxuICAgICAgICBpZiAoZXJyb3Ipe1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwMykuanNvbih7bXNnOidTaWdudXAgb3IgTG9naW4gdG8gdXBsb2FkIHZpZGVvJ30pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJlcXVlc3QudG9rZW4gPSBkZWNvZGVkO1xyXG4gICAgICAgIG5leHQoKVxyXG4gICAgfSlcclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBLElBQUFBLGNBQUE7O0FBRU8sSUFBTUMsWUFBWSxHQUFHLFNBQWZBLFlBQWUsQ0FBQ0MsT0FBRCxFQUFVQyxRQUFWLEVBQW9CQyxJQUFwQixFQUEyQjtFQUNuRCxJQUFNQyxLQUFLLEdBQUdILE9BQU8sQ0FBQ0ksT0FBUixDQUFnQixjQUFoQixDQUFkO0VBRUEsSUFBQUMsb0JBQUEsRUFBT0YsS0FBUCxFQUFjRyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsYUFBMUIsRUFBeUMsVUFBQ0MsS0FBRCxFQUFRQyxPQUFSLEVBQWtCO0lBQ3ZELElBQUlELEtBQUosRUFBVTtNQUNOLE9BQU9SLFFBQVEsQ0FBQ1UsTUFBVCxDQUFnQixHQUFoQixFQUFxQkMsSUFBckIsQ0FBMEI7UUFBQ0MsR0FBRyxFQUFDO01BQUwsQ0FBMUIsQ0FBUDtJQUNIOztJQUNEYixPQUFPLENBQUNHLEtBQVIsR0FBZ0JPLE9BQWhCO0lBQ0FSLElBQUk7RUFDUCxDQU5EO0FBT0gsQ0FWTSJ9","map":{"version":3,"names":["config","Authenticate","request","response","next","token","headers","verify","process","env","cookie_secret","error","decoded","status","json","msg"],"sourceRoot":"C:\\Users\\11781\\Documents\\GitHub\\IT-PROJECT\\backend3\\src\\Middlewares\\","sources":["Authenticate.middleware.js"],"sourcesContent":["import {verify} from 'jsonwebtoken';\r\nimport { config } from 'dotenv';\r\nconfig();\r\n\r\nexport const Authenticate = (request, response, next)=>{\r\n    const token = request.headers['x-auth-token'];\r\n\r\n    verify(token, process.env.cookie_secret, (error, decoded)=>{\r\n        if (error){\r\n            return response.status(403).json({msg:'Signup or Login to upload video'})\r\n        }\r\n        request.token = decoded;\r\n        next()\r\n    })\r\n}"],"mappings":";;;;;;;AAAA;;AACA;;AACA,IAAAA,cAAA;;AAEO,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,OAAD,EAAUC,QAAV,EAAoBC,IAApB,EAA2B;EACnD,IAAMC,KAAK,GAAGH,OAAO,CAACI,OAAR,CAAgB,cAAhB,CAAd;EAEA,IAAAC,oBAAA,EAAOF,KAAP,EAAcG,OAAO,CAACC,GAAR,CAAYC,aAA1B,EAAyC,UAACC,KAAD,EAAQC,OAAR,EAAkB;IACvD,IAAID,KAAJ,EAAU;MACN,OAAOR,QAAQ,CAACU,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B;QAACC,GAAG,EAAC;MAAL,CAA1B,CAAP;IACH;;IACDb,OAAO,CAACG,KAAR,GAAgBO,OAAhB;IACAR,IAAI;EACP,CAND;AAOH,CAVM"}},"mtime":1662444717373},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Middlewares\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"filename\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Middlewares\\\\Video.middleware.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.videoUpload = void 0;\n\nvar _file = _interopRequireDefault(require(\"@babel/core/lib/transformation/file/file\"));\n\nvar _express = require(\"express\");\n\nvar _multer = _interopRequireDefault(require(\"multer\"));\n\nvar _uuid = require(\"uuid\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n// video storage\nvar videoStorage = _multer[\"default\"].diskStorage({\n  destination: \"videos\",\n  filename: function filename(request, file, cb) {\n    var id = (0, _uuid.v4)();\n    var token = request.token;\n    var filename = \"\".concat(token._id.toString(), \"-\").concat(id);\n    var username = request.username;\n    request.filename = filename;\n    cb(null, filename);\n  }\n}); //video upload\n\n\nvar videoUpload = (0, _multer[\"default\"])({\n  storage: videoStorage,\n  limits: {\n    fieldSize: 90000000 * 5 //10 MB   \n\n  },\n  fileFilter: function fileFilter(request, file, cb) {\n    if (!file.originalname.match(/\\.(mp4|MPEG-4|mkv)$/)) {\n      return cb(new Error('Video fomat nor supported'));\n    }\n\n    cb(undefined, true);\n  }\n});\nexports.videoUpload = videoUpload;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ2aWRlb1N0b3JhZ2UiLCJtdWx0ZXIiLCJkaXNrU3RvcmFnZSIsImRlc3RpbmF0aW9uIiwiZmlsZW5hbWUiLCJyZXF1ZXN0IiwiZmlsZSIsImNiIiwiaWQiLCJ1dWlkdjQiLCJ0b2tlbiIsIl9pZCIsInRvU3RyaW5nIiwidXNlcm5hbWUiLCJ2aWRlb1VwbG9hZCIsInN0b3JhZ2UiLCJsaW1pdHMiLCJmaWVsZFNpemUiLCJmaWxlRmlsdGVyIiwib3JpZ2luYWxuYW1lIiwibWF0Y2giLCJFcnJvciIsInVuZGVmaW5lZCJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFwxMTc4MVxcRG9jdW1lbnRzXFxHaXRIdWJcXElULVBST0pFQ1RcXGJhY2tlbmQzXFxzcmNcXE1pZGRsZXdhcmVzXFwiLCJzb3VyY2VzIjpbIlZpZGVvLm1pZGRsZXdhcmUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGZpbGUgZnJvbSBcIkBiYWJlbC9jb3JlL2xpYi90cmFuc2Zvcm1hdGlvbi9maWxlL2ZpbGVcIjtcclxuaW1wb3J0IHsgcmVxdWVzdCB9IGZyb20gXCJleHByZXNzXCI7XHJcbmltcG9ydCBtdWx0ZXIgZnJvbSBcIm11bHRlclwiO1xyXG5pbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tICd1dWlkJzsgXHJcblxyXG4vLyB2aWRlbyBzdG9yYWdlXHJcbmNvbnN0IHZpZGVvU3RvcmFnZSA9IG11bHRlci5kaXNrU3RvcmFnZSh7XHJcbiAgICBkZXN0aW5hdGlvbjpcInZpZGVvc1wiLFxyXG4gICAgZmlsZW5hbWU6IChyZXF1ZXN0LCBmaWxlLCBjYik9PntcclxuICAgICAgICBjb25zdCBpZCA9IHV1aWR2NCgpO1xyXG4gICAgICAgIGNvbnN0IHRva2VuID0gcmVxdWVzdC50b2tlbjtcclxuICAgICAgICBjb25zdCBmaWxlbmFtZSA9IGAke3Rva2VuLl9pZC50b1N0cmluZygpfS0ke2lkfWA7XHJcbiAgICAgICAgY29uc3QgdXNlcm5hbWUgPSByZXF1ZXN0LnVzZXJuYW1lO1xyXG4gICAgICAgIHJlcXVlc3QuZmlsZW5hbWUgPSBmaWxlbmFtZTtcclxuICAgICAgICBjYihudWxsLCBmaWxlbmFtZSlcclxuXHJcbiAgICB9XHJcblxyXG59KVxyXG5cclxuLy92aWRlbyB1cGxvYWRcclxuZXhwb3J0IGNvbnN0IHZpZGVvVXBsb2FkID0gbXVsdGVyKHtcclxuICAgIHN0b3JhZ2U6dmlkZW9TdG9yYWdlLFxyXG4gICAgbGltaXRzOntcclxuICAgICAgICBmaWVsZFNpemU6IDkwMDAwMDAwKjUgLy8xMCBNQiAgIFxyXG4gICAgfSxcclxuICAgIGZpbGVGaWx0ZXI6KHJlcXVlc3QsIGZpbGUsIGNiKT0+e1xyXG4gICAgICAgIGlmKCFmaWxlLm9yaWdpbmFsbmFtZS5tYXRjaCgvXFwuKG1wNHxNUEVHLTR8bWt2KSQvKSl7XHJcbiAgICAgICAgICAgIHJldHVybiBjYihuZXcgRXJyb3IoJ1ZpZGVvIGZvbWF0IG5vciBzdXBwb3J0ZWQnKSlcclxuICAgICAgICB9XHJcbiAgICAgICAgY2IodW5kZWZpbmVkLCB0cnVlKVxyXG4gICAgfVxyXG59KSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUE7QUFDQSxJQUFNQSxZQUFZLEdBQUdDLGtCQUFBLENBQU9DLFdBQVAsQ0FBbUI7RUFDcENDLFdBQVcsRUFBQyxRQUR3QjtFQUVwQ0MsUUFBUSxFQUFFLGtCQUFDQyxPQUFELEVBQVVDLElBQVYsRUFBZ0JDLEVBQWhCLEVBQXFCO0lBQzNCLElBQU1DLEVBQUUsR0FBRyxJQUFBQyxRQUFBLEdBQVg7SUFDQSxJQUFNQyxLQUFLLEdBQUdMLE9BQU8sQ0FBQ0ssS0FBdEI7SUFDQSxJQUFNTixRQUFRLGFBQU1NLEtBQUssQ0FBQ0MsR0FBTixDQUFVQyxRQUFWLEVBQU4sY0FBOEJKLEVBQTlCLENBQWQ7SUFDQSxJQUFNSyxRQUFRLEdBQUdSLE9BQU8sQ0FBQ1EsUUFBekI7SUFDQVIsT0FBTyxDQUFDRCxRQUFSLEdBQW1CQSxRQUFuQjtJQUNBRyxFQUFFLENBQUMsSUFBRCxFQUFPSCxRQUFQLENBQUY7RUFFSDtBQVZtQyxDQUFuQixDQUFyQixDLENBY0E7OztBQUNPLElBQU1VLFdBQVcsR0FBRyxJQUFBYixrQkFBQSxFQUFPO0VBQzlCYyxPQUFPLEVBQUNmLFlBRHNCO0VBRTlCZ0IsTUFBTSxFQUFDO0lBQ0hDLFNBQVMsRUFBRSxXQUFTLENBRGpCLENBQ21COztFQURuQixDQUZ1QjtFQUs5QkMsVUFBVSxFQUFDLG9CQUFDYixPQUFELEVBQVVDLElBQVYsRUFBZ0JDLEVBQWhCLEVBQXFCO0lBQzVCLElBQUcsQ0FBQ0QsSUFBSSxDQUFDYSxZQUFMLENBQWtCQyxLQUFsQixDQUF3QixxQkFBeEIsQ0FBSixFQUFtRDtNQUMvQyxPQUFPYixFQUFFLENBQUMsSUFBSWMsS0FBSixDQUFVLDJCQUFWLENBQUQsQ0FBVDtJQUNIOztJQUNEZCxFQUFFLENBQUNlLFNBQUQsRUFBWSxJQUFaLENBQUY7RUFDSDtBQVY2QixDQUFQLENBQXBCIn0=","map":{"version":3,"names":["videoStorage","multer","diskStorage","destination","filename","request","file","cb","id","uuidv4","token","_id","toString","username","videoUpload","storage","limits","fieldSize","fileFilter","originalname","match","Error","undefined"],"sourceRoot":"C:\\Users\\11781\\Documents\\GitHub\\IT-PROJECT\\backend3\\src\\Middlewares\\","sources":["Video.middleware.js"],"sourcesContent":["import file from \"@babel/core/lib/transformation/file/file\";\r\nimport { request } from \"express\";\r\nimport multer from \"multer\";\r\nimport { v4 as uuidv4 } from 'uuid'; \r\n\r\n// video storage\r\nconst videoStorage = multer.diskStorage({\r\n    destination:\"videos\",\r\n    filename: (request, file, cb)=>{\r\n        const id = uuidv4();\r\n        const token = request.token;\r\n        const filename = `${token._id.toString()}-${id}`;\r\n        const username = request.username;\r\n        request.filename = filename;\r\n        cb(null, filename)\r\n\r\n    }\r\n\r\n})\r\n\r\n//video upload\r\nexport const videoUpload = multer({\r\n    storage:videoStorage,\r\n    limits:{\r\n        fieldSize: 90000000*5 //10 MB   \r\n    },\r\n    fileFilter:(request, file, cb)=>{\r\n        if(!file.originalname.match(/\\.(mp4|MPEG-4|mkv)$/)){\r\n            return cb(new Error('Video fomat nor supported'))\r\n        }\r\n        cb(undefined, true)\r\n    }\r\n})"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;AAEA;AACA,IAAMA,YAAY,GAAGC,kBAAA,CAAOC,WAAP,CAAmB;EACpCC,WAAW,EAAC,QADwB;EAEpCC,QAAQ,EAAE,kBAACC,OAAD,EAAUC,IAAV,EAAgBC,EAAhB,EAAqB;IAC3B,IAAMC,EAAE,GAAG,IAAAC,QAAA,GAAX;IACA,IAAMC,KAAK,GAAGL,OAAO,CAACK,KAAtB;IACA,IAAMN,QAAQ,aAAMM,KAAK,CAACC,GAAN,CAAUC,QAAV,EAAN,cAA8BJ,EAA9B,CAAd;IACA,IAAMK,QAAQ,GAAGR,OAAO,CAACQ,QAAzB;IACAR,OAAO,CAACD,QAAR,GAAmBA,QAAnB;IACAG,EAAE,CAAC,IAAD,EAAOH,QAAP,CAAF;EAEH;AAVmC,CAAnB,CAArB,C,CAcA;;;AACO,IAAMU,WAAW,GAAG,IAAAb,kBAAA,EAAO;EAC9Bc,OAAO,EAACf,YADsB;EAE9BgB,MAAM,EAAC;IACHC,SAAS,EAAE,WAAS,CADjB,CACmB;;EADnB,CAFuB;EAK9BC,UAAU,EAAC,oBAACb,OAAD,EAAUC,IAAV,EAAgBC,EAAhB,EAAqB;IAC5B,IAAG,CAACD,IAAI,CAACa,YAAL,CAAkBC,KAAlB,CAAwB,qBAAxB,CAAJ,EAAmD;MAC/C,OAAOb,EAAE,CAAC,IAAIc,KAAJ,CAAU,2BAAV,CAAD,CAAT;IACH;;IACDd,EAAE,CAACe,SAAD,EAAY,IAAZ,CAAF;EACH;AAV6B,CAAP,CAApB"}},"mtime":1664946132027},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Controller\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"filename\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Controller\\\\Video.controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.VideoController = void 0;\n\nvar _Video = require(\"../Models/Video.model\");\n\nvar _fs = _interopRequireDefault(require(\"fs\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nvar VideoController = /*#__PURE__*/function () {\n  function VideoController() {\n    _classCallCheck(this, VideoController);\n  }\n\n  _createClass(VideoController, [{\n    key: \"upload\",\n    value: function () {\n      var _upload = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(request, response) {\n        var newVideo, saveVideo;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                newVideo = new _Video.videoModel({\n                  owner: request.token._id,\n                  username: request.username,\n                  name: request.body.name,\n                  videopath: request.filename\n                });\n                _context.prev = 1;\n                _context.next = 4;\n                return newVideo.save();\n\n              case 4:\n                saveVideo = _context.sent;\n                return _context.abrupt(\"return\", response.status(201).json({\n                  msg: 'Video uploaded successfully'\n                }));\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context[\"catch\"](1);\n                return _context.abrupt(\"return\", response.status(500).json({\n                  msg: 'Video upload failed'\n                }));\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[1, 8]]);\n      }));\n\n      function upload(_x, _x2) {\n        return _upload.apply(this, arguments);\n      }\n\n      return upload;\n    }()\n  }, {\n    key: \"like\",\n    value: function like(request, response) {\n      var video_id = request.params.id;\n\n      _Video.videoModel.findOneAndUpdate({\n        _id: video_id\n      }, {\n        $inc: {\n          likes: 1\n        }\n      }, {\n        \"new\": true\n      }, function (error, doc) {\n        if (error) {\n          return response.status(500).json({\n            msg: 'Network Error: Failed to like video'\n          });\n        }\n\n        return response.status(200).json({\n          msg: 'Video liked'\n        });\n      });\n    }\n  }, {\n    key: \"dislike\",\n    value: function dislike(request, response) {\n      var video_id = request.params.id;\n\n      _Video.videoModel.findOneAndUpdate({\n        _id: video_id\n      }, {\n        $inc: {\n          dislikes: 1\n        }\n      }, {\n        \"new\": true\n      }, function (error, doc) {\n        if (error) {\n          return response.status(500).json({\n            msg: 'Network Error: Failed to like video'\n          });\n        }\n\n        return response.status(200).json({\n          msg: 'Video disliked'\n        });\n      });\n    }\n  }, {\n    key: \"searchVideo\",\n    value: function () {\n      var _searchVideo = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(request, response) {\n        var name, video;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                name = request.query.key;\n                _context2.prev = 1;\n                _context2.next = 4;\n                return _Video.videoModel.find({\n                  name: {\n                    $regex: name.toLowerCase()\n                  }\n                });\n\n              case 4:\n                video = _context2.sent;\n                return _context2.abrupt(\"return\", response.send(video));\n\n              case 8:\n                _context2.prev = 8;\n                _context2.t0 = _context2[\"catch\"](1);\n                return _context2.abrupt(\"return\", response.status(700).json({\n                  msg: 'No matching video'\n                }));\n\n              case 11:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[1, 8]]);\n      }));\n\n      function searchVideo(_x3, _x4) {\n        return _searchVideo.apply(this, arguments);\n      }\n\n      return searchVideo;\n    }() // // search video by owner id\n    // async searchVideo (request, response){\n    //     const name = request.query.key;\n    //         try {\n    //             let video = await videoModel.find({name:  {$regex: name.toLowerCase() }  })\n    //             return response.send(video)     \n    //         }catch(error){\n    //             return response.status(700).json({msg:'No matching video'})\n    //         }   \n    // }\n    // stream video \n\n  }, {\n    key: \"stream\",\n    value: function stream(request, response) {\n      var range = request.hearders.range;\n\n      if (!range) {\n        return response.status(400).json({\n          msg: 'Range header is required to start'\n        });\n      }\n\n      var videopath = \"videos/\".concat(request.params.filename);\n\n      var videosize = _fs[\"default\"].statSync(videopath).size; // get video size\n\n\n      var start = Number(range.replace(/\\D/g, \"\")); //get start point \n\n      var chunk_size = Math.pow(10, 6); // 1 mb , chunck size\n\n      var end = Math.min(start + chunk_size, videosize - 1); //end position\n\n      var contenLength = end - start + 1; // how many  size sending\n\n      var hearders = {\n        'Content-Length': contenLength,\n        'Accept-Range': 'bytes',\n        'Content-Type': 'video/mp40',\n        'Content-Range': \"bytes \".concat(start, \" -\").concat(end, \"/\").concat(videosize) //decise how far video gone\n\n      };\n      response.writeHead(206, hearders);\n\n      var videostream = _fs[\"default\"].createReadStream(videopath, {\n        start: start,\n        end: end\n      }); // create video stream\n\n\n      videostream.pipe(response);\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete(request, response) {\n      var video_id = request.params.video_id;\n      var video_path = request.params.video_path;\n      var videopath = \"videos/\".concat(video_path);\n\n      if (_fs[\"default\"].existsSync(videopath)) {\n        _fs[\"default\"].unlink(videopath, function (error) {\n          if (error) {\n            return response.status(500).json({\n              msg: 'Network Error: Failed to delete video'\n            });\n          }\n\n          _Video.videoModel.findOneAndDelete({\n            _id: video_id\n          }, function (error) {\n            if (error) {\n              return response.status(500).json({\n                msg: 'Network Error: Failed to delete video'\n              });\n            }\n\n            return response.status(200).json({\n              msg: ' video delete'\n            });\n          });\n        });\n      }\n    }\n    /*delete(request, response){\r\n        \r\n        const video_id = request.params.video_id;\r\n        const video_path = request.params.video_path;\r\n          const videopath = `videos/${video_path}`;   \r\n        if(fs.existsSync(videopath)){\r\n            fs.unlink(videopath, (error)=>{\r\n                if(error){\r\n                    return response.status(500).json({msg:'Network Error: Failed to delete video'})\r\n                }\r\n                videoModel.findOneAndDelete({_id:video_id}, (error)=>{\r\n                    if (error){\r\n                        return response.status(500).json({msg:'Network Error: Failed to delete video'})\r\n                    }\r\n                    return response.status(200).json({msg:' video delete'})\r\n                })                \r\n            })\r\n        }\r\n    } */\n\n  }]);\n\n  return VideoController;\n}();\n\nexports.VideoController = VideoController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJWaWRlb0NvbnRyb2xsZXIiLCJyZXF1ZXN0IiwicmVzcG9uc2UiLCJuZXdWaWRlbyIsInZpZGVvTW9kZWwiLCJvd25lciIsInRva2VuIiwiX2lkIiwidXNlcm5hbWUiLCJuYW1lIiwiYm9keSIsInZpZGVvcGF0aCIsImZpbGVuYW1lIiwic2F2ZSIsInNhdmVWaWRlbyIsInN0YXR1cyIsImpzb24iLCJtc2ciLCJ2aWRlb19pZCIsInBhcmFtcyIsImlkIiwiZmluZE9uZUFuZFVwZGF0ZSIsIiRpbmMiLCJsaWtlcyIsImVycm9yIiwiZG9jIiwiZGlzbGlrZXMiLCJxdWVyeSIsImtleSIsImZpbmQiLCIkcmVnZXgiLCJ0b0xvd2VyQ2FzZSIsInZpZGVvIiwic2VuZCIsInJhbmdlIiwiaGVhcmRlcnMiLCJ2aWRlb3NpemUiLCJmcyIsInN0YXRTeW5jIiwic2l6ZSIsInN0YXJ0IiwiTnVtYmVyIiwicmVwbGFjZSIsImNodW5rX3NpemUiLCJlbmQiLCJNYXRoIiwibWluIiwiY29udGVuTGVuZ3RoIiwid3JpdGVIZWFkIiwidmlkZW9zdHJlYW0iLCJjcmVhdGVSZWFkU3RyZWFtIiwicGlwZSIsInZpZGVvX3BhdGgiLCJleGlzdHNTeW5jIiwidW5saW5rIiwiZmluZE9uZUFuZERlbGV0ZSJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFwxMTc4MVxcRG9jdW1lbnRzXFxHaXRIdWJcXElULVBST0pFQ1RcXGJhY2tlbmQzXFxzcmNcXENvbnRyb2xsZXJcXCIsInNvdXJjZXMiOlsiVmlkZW8uY29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB2aWRlb01vZGVsIH0gZnJvbSAnLi4vTW9kZWxzL1ZpZGVvLm1vZGVsJ1xyXG5pbXBvcnQgZnMgZnJvbSAnZnMnXHJcblxyXG5leHBvcnQgY2xhc3MgVmlkZW9Db250cm9sbGVye1xyXG4gICAgYXN5bmMgdXBsb2FkKHJlcXVlc3QsIHJlc3BvbnNlKXtcclxuXHJcbiAgICAgICAgY29uc3QgbmV3VmlkZW8gPSBuZXcgdmlkZW9Nb2RlbCh7XHJcbiAgICAgICAgICAgIG93bmVyOnJlcXVlc3QudG9rZW4uX2lkLFxyXG4gICAgICAgICAgICB1c2VybmFtZTpyZXF1ZXN0LnVzZXJuYW1lLFxyXG4gICAgICAgICAgICBuYW1lOnJlcXVlc3QuYm9keS5uYW1lLFxyXG4gICAgICAgICAgICB2aWRlb3BhdGg6cmVxdWVzdC5maWxlbmFtZVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNhdmVWaWRlbyA9IGF3YWl0IG5ld1ZpZGVvLnNhdmUoKVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMSkuanNvbih7bXNnOidWaWRlbyB1cGxvYWRlZCBzdWNjZXNzZnVsbHknfSlcclxuICAgICAgICB9Y2F0Y2ggKGVycm9yKXtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oe21zZzonVmlkZW8gdXBsb2FkIGZhaWxlZCd9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG5cclxuICAgIGxpa2UgKHJlcXVlc3QsIHJlc3BvbnNlKXtcclxuICAgICAgICBjb25zdCB2aWRlb19pZCA9IHJlcXVlc3QucGFyYW1zLmlkO1xyXG4gICAgICAgIHZpZGVvTW9kZWwuZmluZE9uZUFuZFVwZGF0ZSh7X2lkOnZpZGVvX2lkfSwgeyRpbmM6e2xpa2VzOjF9fSxcclxuICAgICAgICAgICAge25ldzp0cnVlfSwgKGVycm9yLGRvYyk9PntcclxuICAgICAgICAgICAgICAgIGlmIChlcnJvcil7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oe21zZzonTmV0d29yayBFcnJvcjogRmFpbGVkIHRvIGxpa2UgdmlkZW8nfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHttc2c6J1ZpZGVvIGxpa2VkJ30pXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgZGlzbGlrZSAocmVxdWVzdCwgcmVzcG9uc2Upe1xyXG4gICAgICAgIGNvbnN0IHZpZGVvX2lkID0gcmVxdWVzdC5wYXJhbXMuaWQ7XHJcbiAgICAgICAgdmlkZW9Nb2RlbC5maW5kT25lQW5kVXBkYXRlKHtfaWQ6dmlkZW9faWR9LCB7JGluYzp7ZGlzbGlrZXM6MX19LFxyXG4gICAgICAgICAgICB7bmV3OnRydWV9LCAoZXJyb3IsZG9jKT0+e1xyXG4gICAgICAgICAgICAgICAgaWYgKGVycm9yKXtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7bXNnOidOZXR3b3JrIEVycm9yOiBGYWlsZWQgdG8gbGlrZSB2aWRlbyd9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cygyMDApLmpzb24oe21zZzonVmlkZW8gZGlzbGlrZWQnfSlcclxuICAgICAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBzZWFyY2hWaWRlbyAocmVxdWVzdCwgcmVzcG9uc2Upe1xyXG4gICAgICAgIGNvbnN0IG5hbWUgPSByZXF1ZXN0LnF1ZXJ5LmtleTtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGxldCB2aWRlbyA9IGF3YWl0IHZpZGVvTW9kZWwuZmluZCh7bmFtZTogIHskcmVnZXg6IG5hbWUudG9Mb3dlckNhc2UoKSB9ICB9KVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnNlbmQodmlkZW8pICAgICBcclxuXHJcbiAgICAgICAgICAgIH1jYXRjaChlcnJvcil7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDcwMCkuanNvbih7bXNnOidObyBtYXRjaGluZyB2aWRlbyd9KVxyXG4gICAgICAgICAgICB9ICAgXHJcbiAgICB9XHJcblxyXG4gICAgLy8gLy8gc2VhcmNoIHZpZGVvIGJ5IG93bmVyIGlkXHJcbiAgICAvLyBhc3luYyBzZWFyY2hWaWRlbyAocmVxdWVzdCwgcmVzcG9uc2Upe1xyXG4gICAgLy8gICAgIGNvbnN0IG5hbWUgPSByZXF1ZXN0LnF1ZXJ5LmtleTtcclxuICAgIC8vICAgICAgICAgdHJ5IHtcclxuICAgIC8vICAgICAgICAgICAgIGxldCB2aWRlbyA9IGF3YWl0IHZpZGVvTW9kZWwuZmluZCh7bmFtZTogIHskcmVnZXg6IG5hbWUudG9Mb3dlckNhc2UoKSB9ICB9KVxyXG4gICAgLy8gICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnNlbmQodmlkZW8pICAgICBcclxuXHJcbiAgICAvLyAgICAgICAgIH1jYXRjaChlcnJvcil7XHJcbiAgICAvLyAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDcwMCkuanNvbih7bXNnOidObyBtYXRjaGluZyB2aWRlbyd9KVxyXG4gICAgLy8gICAgICAgICB9ICAgXHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gc3RyZWFtIHZpZGVvIFxyXG4gICAgc3RyZWFtKHJlcXVlc3QsIHJlc3BvbnNlKXtcclxuICAgICAgICBjb25zdCByYW5nZSA9IHJlcXVlc3QuaGVhcmRlcnMucmFuZ2VcclxuICAgICAgICBpZighcmFuZ2Upe1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwMCkuanNvbih7bXNnOidSYW5nZSBoZWFkZXIgaXMgcmVxdWlyZWQgdG8gc3RhcnQnfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgdmlkZW9wYXRoID0gYHZpZGVvcy8ke3JlcXVlc3QucGFyYW1zLmZpbGVuYW1lfWA7XHJcbiAgICAgICAgY29uc3QgdmlkZW9zaXplID0gZnMuc3RhdFN5bmModmlkZW9wYXRoKS5zaXplOyAgLy8gZ2V0IHZpZGVvIHNpemVcclxuXHJcbiAgICAgICAgY29uc3Qgc3RhcnQgPSBOdW1iZXIocmFuZ2UucmVwbGFjZSgvXFxEL2csIFwiXCIpKTsgIC8vZ2V0IHN0YXJ0IHBvaW50IFxyXG4gICAgICAgIGNvbnN0IGNodW5rX3NpemUgPSAxMCoqNiAvLyAxIG1iICwgY2h1bmNrIHNpemVcclxuICAgICAgICBjb25zdCBlbmQgPSBNYXRoLm1pbihzdGFydCArIGNodW5rX3NpemUsIHZpZGVvc2l6ZSAtIDEpOyAgIC8vZW5kIHBvc2l0aW9uXHJcblxyXG4gICAgICAgIGNvbnN0IGNvbnRlbkxlbmd0aCA9IGVuZCAtIHN0YXJ0ICsgMSAgLy8gaG93IG1hbnkgIHNpemUgc2VuZGluZ1xyXG4gICAgICAgIGNvbnN0IGhlYXJkZXJzID0ge1xyXG4gICAgICAgICAgICAnQ29udGVudC1MZW5ndGgnIDogY29udGVuTGVuZ3RoLFxyXG4gICAgICAgICAgICAnQWNjZXB0LVJhbmdlJzogJ2J5dGVzJyxcclxuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICd2aWRlby9tcDQwJyxcclxuICAgICAgICAgICAgJ0NvbnRlbnQtUmFuZ2UnOiBgYnl0ZXMgJHtzdGFydH0gLSR7ZW5kfS8ke3ZpZGVvc2l6ZX1gICAgLy9kZWNpc2UgaG93IGZhciB2aWRlbyBnb25lXHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICByZXNwb25zZS53cml0ZUhlYWQoMjA2LCBoZWFyZGVycyk7ICAgXHJcbiAgICAgICAgY29uc3QgdmlkZW9zdHJlYW0gPSBmcy5jcmVhdGVSZWFkU3RyZWFtKHZpZGVvcGF0aCwge3N0YXJ0LCBlbmR9KTsgLy8gY3JlYXRlIHZpZGVvIHN0cmVhbVxyXG4gICAgICAgIHZpZGVvc3RyZWFtLnBpcGUocmVzcG9uc2UpICAgXHJcbiAgICB9XHJcbiAgICAgXHJcbiAgICBkZWxldGUocmVxdWVzdCwgcmVzcG9uc2Upe1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IHZpZGVvX2lkID0gcmVxdWVzdC5wYXJhbXMudmlkZW9faWQ7XHJcbiAgICAgICAgY29uc3QgdmlkZW9fcGF0aCA9IHJlcXVlc3QucGFyYW1zLnZpZGVvX3BhdGg7XHJcblxyXG4gICAgICAgIGNvbnN0IHZpZGVvcGF0aCA9IGB2aWRlb3MvJHt2aWRlb19wYXRofWA7ICAgXHJcbiAgICAgICAgaWYoZnMuZXhpc3RzU3luYyh2aWRlb3BhdGgpKXtcclxuICAgICAgICAgICAgZnMudW5saW5rKHZpZGVvcGF0aCwgKGVycm9yKT0+e1xyXG4gICAgICAgICAgICAgICAgaWYoZXJyb3Ipe1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHttc2c6J05ldHdvcmsgRXJyb3I6IEZhaWxlZCB0byBkZWxldGUgdmlkZW8nfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZpZGVvTW9kZWwuZmluZE9uZUFuZERlbGV0ZSh7X2lkOnZpZGVvX2lkfSwgKGVycm9yKT0+e1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHttc2c6J05ldHdvcmsgRXJyb3I6IEZhaWxlZCB0byBkZWxldGUgdmlkZW8nfSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cygyMDApLmpzb24oe21zZzonIHZpZGVvIGRlbGV0ZSd9KVxyXG4gICAgICAgICAgICAgICAgfSkgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qZGVsZXRlKHJlcXVlc3QsIHJlc3BvbnNlKXtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCB2aWRlb19pZCA9IHJlcXVlc3QucGFyYW1zLnZpZGVvX2lkO1xyXG4gICAgICAgIGNvbnN0IHZpZGVvX3BhdGggPSByZXF1ZXN0LnBhcmFtcy52aWRlb19wYXRoO1xyXG5cclxuICAgICAgICBjb25zdCB2aWRlb3BhdGggPSBgdmlkZW9zLyR7dmlkZW9fcGF0aH1gOyAgIFxyXG4gICAgICAgIGlmKGZzLmV4aXN0c1N5bmModmlkZW9wYXRoKSl7XHJcbiAgICAgICAgICAgIGZzLnVubGluayh2aWRlb3BhdGgsIChlcnJvcik9PntcclxuICAgICAgICAgICAgICAgIGlmKGVycm9yKXtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7bXNnOidOZXR3b3JrIEVycm9yOiBGYWlsZWQgdG8gZGVsZXRlIHZpZGVvJ30pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2aWRlb01vZGVsLmZpbmRPbmVBbmREZWxldGUoe19pZDp2aWRlb19pZH0sIChlcnJvcik9PntcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3Ipe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7bXNnOidOZXR3b3JrIEVycm9yOiBGYWlsZWQgdG8gZGVsZXRlIHZpZGVvJ30pXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHttc2c6JyB2aWRlbyBkZWxldGUnfSlcclxuICAgICAgICAgICAgICAgIH0pICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH0gKi9cclxuXHJcbiAgICAgXHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOztBQUNBOzs7OytDQUFBLG9KOzs7Ozs7Ozs7Ozs7SUFFYUEsZTs7Ozs7Ozs7K0VBQ1QsaUJBQWFDLE9BQWIsRUFBc0JDLFFBQXRCO1FBQUE7UUFBQTtVQUFBO1lBQUE7Y0FBQTtnQkFFVUMsUUFGVixHQUVxQixJQUFJQyxpQkFBSixDQUFlO2tCQUM1QkMsS0FBSyxFQUFDSixPQUFPLENBQUNLLEtBQVIsQ0FBY0MsR0FEUTtr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","map":{"version":3,"names":["VideoController","request","response","newVideo","videoModel","owner","token","_id","username","name","body","videopath","filename","save","saveVideo","status","json","msg","video_id","params","id","findOneAndUpdate","$inc","likes","error","doc","dislikes","query","key","find","$regex","toLowerCase","video","send","range","hearders","videosize","fs","statSync","size","start","Number","replace","chunk_size","end","Math","min","contenLength","writeHead","videostream","createReadStream","pipe","video_path","existsSync","unlink","findOneAndDelete"],"sourceRoot":"C:\\Users\\11781\\Documents\\GitHub\\IT-PROJECT\\backend3\\src\\Controller\\","sources":["Video.controller.js"],"sourcesContent":["import { videoModel } from '../Models/Video.model'\r\nimport fs from 'fs'\r\n\r\nexport class VideoController{\r\n    async upload(request, response){\r\n\r\n        const newVideo = new videoModel({\r\n            owner:request.token._id,\r\n            username:request.username,\r\n            name:request.body.name,\r\n            videopath:request.filename\r\n        })\r\n\r\n        try {\r\n            const saveVideo = await newVideo.save()\r\n            return response.status(201).json({msg:'Video uploaded successfully'})\r\n        }catch (error){\r\n            return response.status(500).json({msg:'Video upload failed'})\r\n        }\r\n    }\r\n    \r\n\r\n    like (request, response){\r\n        const video_id = request.params.id;\r\n        videoModel.findOneAndUpdate({_id:video_id}, {$inc:{likes:1}},\r\n            {new:true}, (error,doc)=>{\r\n                if (error){\r\n                    return response.status(500).json({msg:'Network Error: Failed to like video'})\r\n                }\r\n                return response.status(200).json({msg:'Video liked'})\r\n            })\r\n    }\r\n\r\n    dislike (request, response){\r\n        const video_id = request.params.id;\r\n        videoModel.findOneAndUpdate({_id:video_id}, {$inc:{dislikes:1}},\r\n            {new:true}, (error,doc)=>{\r\n                if (error){\r\n                    return response.status(500).json({msg:'Network Error: Failed to like video'})\r\n                }\r\n                return response.status(200).json({msg:'Video disliked'})\r\n            })\r\n    }\r\n\r\n    async searchVideo (request, response){\r\n        const name = request.query.key;\r\n            try {\r\n                let video = await videoModel.find({name:  {$regex: name.toLowerCase() }  })\r\n                return response.send(video)     \r\n\r\n            }catch(error){\r\n                return response.status(700).json({msg:'No matching video'})\r\n            }   \r\n    }\r\n\r\n    // // search video by owner id\r\n    // async searchVideo (request, response){\r\n    //     const name = request.query.key;\r\n    //         try {\r\n    //             let video = await videoModel.find({name:  {$regex: name.toLowerCase() }  })\r\n    //             return response.send(video)     \r\n\r\n    //         }catch(error){\r\n    //             return response.status(700).json({msg:'No matching video'})\r\n    //         }   \r\n    // }\r\n\r\n    // stream video \r\n    stream(request, response){\r\n        const range = request.hearders.range\r\n        if(!range){\r\n            return response.status(400).json({msg:'Range header is required to start'})\r\n        }\r\n        const videopath = `videos/${request.params.filename}`;\r\n        const videosize = fs.statSync(videopath).size;  // get video size\r\n\r\n        const start = Number(range.replace(/\\D/g, \"\"));  //get start point \r\n        const chunk_size = 10**6 // 1 mb , chunck size\r\n        const end = Math.min(start + chunk_size, videosize - 1);   //end position\r\n\r\n        const contenLength = end - start + 1  // how many  size sending\r\n        const hearders = {\r\n            'Content-Length' : contenLength,\r\n            'Accept-Range': 'bytes',\r\n            'Content-Type': 'video/mp40',\r\n            'Content-Range': `bytes ${start} -${end}/${videosize}`   //decise how far video gone\r\n\r\n        }\r\n        response.writeHead(206, hearders);   \r\n        const videostream = fs.createReadStream(videopath, {start, end}); // create video stream\r\n        videostream.pipe(response)   \r\n    }\r\n     \r\n    delete(request, response){\r\n        \r\n        const video_id = request.params.video_id;\r\n        const video_path = request.params.video_path;\r\n\r\n        const videopath = `videos/${video_path}`;   \r\n        if(fs.existsSync(videopath)){\r\n            fs.unlink(videopath, (error)=>{\r\n                if(error){\r\n                    return response.status(500).json({msg:'Network Error: Failed to delete video'})\r\n                }\r\n                videoModel.findOneAndDelete({_id:video_id}, (error)=>{\r\n                    if (error){\r\n                        return response.status(500).json({msg:'Network Error: Failed to delete video'})\r\n                    }\r\n                    return response.status(200).json({msg:' video delete'})\r\n                })                \r\n            })\r\n        }\r\n    }\r\n\r\n    /*delete(request, response){\r\n        \r\n        const video_id = request.params.video_id;\r\n        const video_path = request.params.video_path;\r\n\r\n        const videopath = `videos/${video_path}`;   \r\n        if(fs.existsSync(videopath)){\r\n            fs.unlink(videopath, (error)=>{\r\n                if(error){\r\n                    return response.status(500).json({msg:'Network Error: Failed to delete video'})\r\n                }\r\n                videoModel.findOneAndDelete({_id:video_id}, (error)=>{\r\n                    if (error){\r\n                        return response.status(500).json({msg:'Network Error: Failed to delete video'})\r\n                    }\r\n                    return response.status(200).json({msg:' video delete'})\r\n                })                \r\n            })\r\n        }\r\n    } */\r\n\r\n     \r\n}"],"mappings":"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"}},"mtime":1664946132017},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"filename\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Models\\\\Video.model.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\11781\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.videoModel = void 0;\n\nvar _mongoose = require(\"mongoose\");\n\nvar videoSchema = new _mongoose.Schema({\n  owner: {\n    type: _mongoose.Schema.Types.ObjectId,\n    ref: 'user'\n  },\n  username: {\n    type: String\n  },\n  name: {\n    type: String,\n    required: [true, 'Upload video needs a video name']\n  },\n  videopath: {\n    type: String,\n    required: [true, 'Upload video needs a video path'],\n    unique: [true, 'Video path already exist']\n  },\n  likes: {\n    type: Number,\n    \"default\": 0\n  },\n  dislikes: {\n    type: Number,\n    \"default\": 0\n  },\n  views: {\n    type: Array,\n    \"default\": []\n  },\n  comments: {\n    type: Array,\n    \"default\": []\n  }\n});\nvar videoModel = (0, _mongoose.model)('video', videoSchema);\nexports.videoModel = videoModel;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ2aWRlb1NjaGVtYSIsIlNjaGVtYSIsIm93bmVyIiwidHlwZSIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJ1c2VybmFtZSIsIlN0cmluZyIsIm5hbWUiLCJyZXF1aXJlZCIsInZpZGVvcGF0aCIsInVuaXF1ZSIsImxpa2VzIiwiTnVtYmVyIiwiZGlzbGlrZXMiLCJ2aWV3cyIsIkFycmF5IiwiY29tbWVudHMiLCJ2aWRlb01vZGVsIiwibW9kZWwiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcMTE3ODFcXERvY3VtZW50c1xcR2l0SHViXFxJVC1QUk9KRUNUXFxiYWNrZW5kM1xcc3JjXFxNb2RlbHNcXCIsInNvdXJjZXMiOlsiVmlkZW8ubW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU2NoZW1hLCBtb2RlbH0gZnJvbSAnbW9uZ29vc2UnXHJcblxyXG5jb25zdCB2aWRlb1NjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gICAgb3duZXI6e1xyXG4gICAgICAgIHR5cGU6U2NoZW1hLlR5cGVzLk9iamVjdElkLFxyXG4gICAgICAgIHJlZjondXNlcidcclxuICAgIH0sXHJcbiAgICB1c2VybmFtZTp7XHJcbiAgICAgICAgdHlwZTpTdHJpbmcsXHJcbiAgICB9LFxyXG4gICAgbmFtZTp7XHJcbiAgICAgICAgdHlwZTpTdHJpbmcsXHJcbiAgICAgICAgcmVxdWlyZWQ6W3RydWUsICdVcGxvYWQgdmlkZW8gbmVlZHMgYSB2aWRlbyBuYW1lJ11cclxuICAgIH0sXHJcbiAgICB2aWRlb3BhdGg6e1xyXG4gICAgICAgIHR5cGU6U3RyaW5nLFxyXG4gICAgICAgIHJlcXVpcmVkOlt0cnVlLCAnVXBsb2FkIHZpZGVvIG5lZWRzIGEgdmlkZW8gcGF0aCddLFxyXG4gICAgICAgIHVuaXF1ZTpbdHJ1ZSwgJ1ZpZGVvIHBhdGggYWxyZWFkeSBleGlzdCddXHJcbiAgICB9LFxyXG4gICAgbGlrZXM6e1xyXG4gICAgICAgIHR5cGU6TnVtYmVyLFxyXG4gICAgICAgIGRlZmF1bHQ6MFxyXG4gICAgfSxcclxuICAgIGRpc2xpa2VzOntcclxuICAgICAgICB0eXBlOk51bWJlcixcclxuICAgICAgICBkZWZhdWx0OjBcclxuICAgIH0sXHJcbiAgICB2aWV3czp7XHJcbiAgICAgICAgdHlwZTpBcnJheSxcclxuICAgICAgICBkZWZhdWx0OltdXHJcbiAgICB9LFxyXG4gICAgY29tbWVudHM6e1xyXG4gICAgICAgIHR5cGU6IEFycmF5LFxyXG4gICAgICAgIGRlZmF1bHQ6W11cclxuICAgIH1cclxuXHJcbn0pXHJcbmV4cG9ydCBjb25zdCB2aWRlb01vZGVsID0gbW9kZWwoJ3ZpZGVvJyx2aWRlb1NjaGVtYSkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFFQSxJQUFNQSxXQUFXLEdBQUcsSUFBSUMsZ0JBQUosQ0FBVztFQUMzQkMsS0FBSyxFQUFDO0lBQ0ZDLElBQUksRUFBQ0YsZ0JBQUEsQ0FBT0csS0FBUCxDQUFhQyxRQURoQjtJQUVGQyxHQUFHLEVBQUM7RUFGRixDQURxQjtFQUszQkMsUUFBUSxFQUFDO0lBQ0xKLElBQUksRUFBQ0s7RUFEQSxDQUxrQjtFQVEzQkMsSUFBSSxFQUFDO0lBQ0ROLElBQUksRUFBQ0ssTUFESjtJQUVERSxRQUFRLEVBQUMsQ0FBQyxJQUFELEVBQU8saUNBQVA7RUFGUixDQVJzQjtFQVkzQkMsU0FBUyxFQUFDO0lBQ05SLElBQUksRUFBQ0ssTUFEQztJQUVORSxRQUFRLEVBQUMsQ0FBQyxJQUFELEVBQU8saUNBQVAsQ0FGSDtJQUdORSxNQUFNLEVBQUMsQ0FBQyxJQUFELEVBQU8sMEJBQVA7RUFIRCxDQVppQjtFQWlCM0JDLEtBQUssRUFBQztJQUNGVixJQUFJLEVBQUNXLE1BREg7SUFFRixXQUFRO0VBRk4sQ0FqQnFCO0VBcUIzQkMsUUFBUSxFQUFDO0lBQ0xaLElBQUksRUFBQ1csTUFEQTtJQUVMLFdBQVE7RUFGSCxDQXJCa0I7RUF5QjNCRSxLQUFLLEVBQUM7SUFDRmIsSUFBSSxFQUFDYyxLQURIO0lBRUYsV0FBUTtFQUZOLENBekJxQjtFQTZCM0JDLFFBQVEsRUFBQztJQUNMZixJQUFJLEVBQUVjLEtBREQ7SUFFTCxXQUFRO0VBRkg7QUE3QmtCLENBQVgsQ0FBcEI7QUFtQ08sSUFBTUUsVUFBVSxHQUFHLElBQUFDLGVBQUEsRUFBTSxPQUFOLEVBQWNwQixXQUFkLENBQW5CIn0=","map":{"version":3,"names":["videoSchema","Schema","owner","type","Types","ObjectId","ref","username","String","name","required","videopath","unique","likes","Number","dislikes","views","Array","comments","videoModel","model"],"sourceRoot":"C:\\Users\\11781\\Documents\\GitHub\\IT-PROJECT\\backend3\\src\\Models\\","sources":["Video.model.js"],"sourcesContent":["import { Schema, model} from 'mongoose'\r\n\r\nconst videoSchema = new Schema({\r\n    owner:{\r\n        type:Schema.Types.ObjectId,\r\n        ref:'user'\r\n    },\r\n    username:{\r\n        type:String,\r\n    },\r\n    name:{\r\n        type:String,\r\n        required:[true, 'Upload video needs a video name']\r\n    },\r\n    videopath:{\r\n        type:String,\r\n        required:[true, 'Upload video needs a video path'],\r\n        unique:[true, 'Video path already exist']\r\n    },\r\n    likes:{\r\n        type:Number,\r\n        default:0\r\n    },\r\n    dislikes:{\r\n        type:Number,\r\n        default:0\r\n    },\r\n    views:{\r\n        type:Array,\r\n        default:[]\r\n    },\r\n    comments:{\r\n        type: Array,\r\n        default:[]\r\n    }\r\n\r\n})\r\nexport const videoModel = model('video',videoSchema)"],"mappings":";;;;;;;AAAA;;AAEA,IAAMA,WAAW,GAAG,IAAIC,gBAAJ,CAAW;EAC3BC,KAAK,EAAC;IACFC,IAAI,EAACF,gBAAA,CAAOG,KAAP,CAAaC,QADhB;IAEFC,GAAG,EAAC;EAFF,CADqB;EAK3BC,QAAQ,EAAC;IACLJ,IAAI,EAACK;EADA,CALkB;EAQ3BC,IAAI,EAAC;IACDN,IAAI,EAACK,MADJ;IAEDE,QAAQ,EAAC,CAAC,IAAD,EAAO,iCAAP;EAFR,CARsB;EAY3BC,SAAS,EAAC;IACNR,IAAI,EAACK,MADC;IAENE,QAAQ,EAAC,CAAC,IAAD,EAAO,iCAAP,CAFH;IAGNE,MAAM,EAAC,CAAC,IAAD,EAAO,0BAAP;EAHD,CAZiB;EAiB3BC,KAAK,EAAC;IACFV,IAAI,EAACW,MADH;IAEF,WAAQ;EAFN,CAjBqB;EAqB3BC,QAAQ,EAAC;IACLZ,IAAI,EAACW,MADA;IAEL,WAAQ;EAFH,CArBkB;EAyB3BE,KAAK,EAAC;IACFb,IAAI,EAACc,KADH;IAEF,WAAQ;EAFN,CAzBqB;EA6B3BC,QAAQ,EAAC;IACLf,IAAI,EAAEc,KADD;IAEL,WAAQ;EAFH;AA7BkB,CAAX,CAApB;AAmCO,IAAME,UAAU,GAAG,IAAAC,eAAA,EAAM,OAAN,EAAcpB,WAAd,CAAnB"}},"mtime":1664946132039},"{\"assumptions\":{},\"sourceRoot\":\"E:\\\\IT-PROJECT\\\\backend3\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"E:\\\\IT-PROJECT\\\\backend3\",\"filename\":\"E:\\\\IT-PROJECT\\\\backend3\\\\src\\\\server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"E:\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _mongoose = require(\"mongoose\");\n\nvar _dotenv = require(\"dotenv\");\n\nvar _Auth = _interopRequireDefault(require(\"./Routes/Auth.routes\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _Video = _interopRequireDefault(require(\"./Routes/Video.routes\"));\n\nvar _process$env$PORT;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n(0, _dotenv.config)();\nvar server = (0, _express[\"default\"])(); //==============MiddleWares===========================================\n\nserver.use((0, _cors[\"default\"])()); //==========mongo DB connection========================================\n\nvar mongoURI = process.env.mongoURI;\n(0, _mongoose.connect)(mongoURI, function (error) {\n  if (error) {\n    return console.log(error);\n  }\n\n  console.log('connection to mongo DB successful!!!');\n}); //==============================server endpoints=============================\n\nserver.use(_Auth[\"default\"]);\nserver.use(_Video[\"default\"]);\nvar PORT = (_process$env$PORT = process.env.PORT) !== null && _process$env$PORT !== void 0 ? _process$env$PORT : 3000;\nserver.listen(PORT, function () {\n  console.log(\"Server started on PORT \".concat(PORT));\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25maWciLCJzZXJ2ZXIiLCJleHByZXNzIiwidXNlIiwiY29ycyIsIm1vbmdvVVJJIiwicHJvY2VzcyIsImVudiIsImNvbm5lY3QiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJBdXRoUm91dGVzIiwiVmlkZW9Sb3V0ZXMiLCJQT1JUIiwibGlzdGVuIl0sInNvdXJjZVJvb3QiOiJFOlxcSVQtUFJPSkVDVFxcYmFja2VuZDNcXHNyY1xcIiwic291cmNlcyI6WyJzZXJ2ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XHJcbmltcG9ydHsgY29ubmVjdCB9IGZyb20gJ21vbmdvb3NlJztcclxuaW1wb3J0eyBjb25maWcgfSBmcm9tICdkb3RlbnYnO1xyXG5pbXBvcnQgQXV0aFJvdXRlcyBmcm9tICcuL1JvdXRlcy9BdXRoLnJvdXRlcydcclxuaW1wb3J0IGNvcnMgZnJvbSAnY29ycydcclxuaW1wb3J0IFZpZGVvUm91dGVzIGZyb20gJy4vUm91dGVzL1ZpZGVvLnJvdXRlcydcclxuXHJcbmNvbmZpZygpO1xyXG5cclxuY29uc3Qgc2VydmVyID0gZXhwcmVzcygpO1xyXG4vLz09PT09PT09PT09PT09TWlkZGxlV2FyZXM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbnNlcnZlci51c2UoY29ycygpKVxyXG4vLz09PT09PT09PT1tb25nbyBEQiBjb25uZWN0aW9uPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5jb25zdCBtb25nb1VSSSA9IHByb2Nlc3MuZW52Lm1vbmdvVVJJO1xyXG5jb25uZWN0KG1vbmdvVVJJLCAoZXJyb3IpPT57XHJcbiAgICBpZihlcnJvcil7XHJcbiAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgIH1cclxuICAgIGNvbnNvbGUubG9nKCdjb25uZWN0aW9uIHRvIG1vbmdvIERCIHN1Y2Nlc3NmdWwhISEnKVxyXG59KVxyXG5cclxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1zZXJ2ZXIgZW5kcG9pbnRzPT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuc2VydmVyLnVzZShBdXRoUm91dGVzKVxyXG5zZXJ2ZXIudXNlKFZpZGVvUm91dGVzKVxyXG5cclxuY29uc3QgUE9SVCA9IHByb2Nlc3MuZW52LlBPUlQgPz8gMzAwMDtcclxuXHJcblxyXG5zZXJ2ZXIubGlzdGVuKFBPUlQsICgpPT57XHJcbiAgICBjb25zb2xlLmxvZyhgU2VydmVyIHN0YXJ0ZWQgb24gUE9SVCAke1BPUlR9YClcclxufSkiXSwibWFwcGluZ3MiOiI7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7OztBQUVBLElBQUFBLGNBQUE7QUFFQSxJQUFNQyxNQUFNLEdBQUcsSUFBQUMsbUJBQUEsR0FBZixDLENBQ0E7O0FBQ0FELE1BQU0sQ0FBQ0UsR0FBUCxDQUFXLElBQUFDLGdCQUFBLEdBQVgsRSxDQUNBOztBQUNBLElBQU1DLFFBQVEsR0FBR0MsT0FBTyxDQUFDQyxHQUFSLENBQVlGLFFBQTdCO0FBQ0EsSUFBQUcsaUJBQUEsRUFBUUgsUUFBUixFQUFrQixVQUFDSSxLQUFELEVBQVM7RUFDdkIsSUFBR0EsS0FBSCxFQUFTO0lBQ0wsT0FBT0MsT0FBTyxDQUFDQyxHQUFSLENBQVlGLEtBQVosQ0FBUDtFQUNIOztFQUNEQyxPQUFPLENBQUNDLEdBQVIsQ0FBWSxzQ0FBWjtBQUNILENBTEQsRSxDQU9BOztBQUNBVixNQUFNLENBQUNFLEdBQVAsQ0FBV1MsZ0JBQVg7QUFDQVgsTUFBTSxDQUFDRSxHQUFQLENBQVdVLGlCQUFYO0FBRUEsSUFBTUMsSUFBSSx3QkFBR1IsT0FBTyxDQUFDQyxHQUFSLENBQVlPLElBQWYsaUVBQXVCLElBQWpDO0FBR0FiLE1BQU0sQ0FBQ2MsTUFBUCxDQUFjRCxJQUFkLEVBQW9CLFlBQUk7RUFDcEJKLE9BQU8sQ0FBQ0MsR0FBUixrQ0FBc0NHLElBQXRDO0FBQ0gsQ0FGRCJ9","map":{"version":3,"names":["config","server","express","use","cors","mongoURI","process","env","connect","error","console","log","AuthRoutes","VideoRoutes","PORT","listen"],"sourceRoot":"E:\\IT-PROJECT\\backend3\\src\\","sources":["server.js"],"sourcesContent":["import express from 'express';\r\nimport{ connect } from 'mongoose';\r\nimport{ config } from 'dotenv';\r\nimport AuthRoutes from './Routes/Auth.routes'\r\nimport cors from 'cors'\r\nimport VideoRoutes from './Routes/Video.routes'\r\n\r\nconfig();\r\n\r\nconst server = express();\r\n//==============MiddleWares===========================================\r\nserver.use(cors())\r\n//==========mongo DB connection========================================\r\nconst mongoURI = process.env.mongoURI;\r\nconnect(mongoURI, (error)=>{\r\n    if(error){\r\n        return console.log(error);\r\n    }\r\n    console.log('connection to mongo DB successful!!!')\r\n})\r\n\r\n//==============================server endpoints=============================\r\nserver.use(AuthRoutes)\r\nserver.use(VideoRoutes)\r\n\r\nconst PORT = process.env.PORT ?? 3000;\r\n\r\n\r\nserver.listen(PORT, ()=>{\r\n    console.log(`Server started on PORT ${PORT}`)\r\n})"],"mappings":";;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;AAEA,IAAAA,cAAA;AAEA,IAAMC,MAAM,GAAG,IAAAC,mBAAA,GAAf,C,CACA;;AACAD,MAAM,CAACE,GAAP,CAAW,IAAAC,gBAAA,GAAX,E,CACA;;AACA,IAAMC,QAAQ,GAAGC,OAAO,CAACC,GAAR,CAAYF,QAA7B;AACA,IAAAG,iBAAA,EAAQH,QAAR,EAAkB,UAACI,KAAD,EAAS;EACvB,IAAGA,KAAH,EAAS;IACL,OAAOC,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAP;EACH;;EACDC,OAAO,CAACC,GAAR,CAAY,sCAAZ;AACH,CALD,E,CAOA;;AACAV,MAAM,CAACE,GAAP,CAAWS,gBAAX;AACAX,MAAM,CAACE,GAAP,CAAWU,iBAAX;AAEA,IAAMC,IAAI,wBAAGR,OAAO,CAACC,GAAR,CAAYO,IAAf,iEAAuB,IAAjC;AAGAb,MAAM,CAACc,MAAP,CAAcD,IAAd,EAAoB,YAAI;EACpBJ,OAAO,CAACC,GAAR,kCAAsCG,IAAtC;AACH,CAFD"}},"mtime":1665405301910},"{\"assumptions\":{},\"sourceRoot\":\"E:\\\\IT-PROJECT\\\\backend3\\\\src\\\\Routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"E:\\\\IT-PROJECT\\\\backend3\",\"filename\":\"E:\\\\IT-PROJECT\\\\backend3\\\\src\\\\Routes\\\\Auth.routes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"E:\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _express = require(\"express\");\n\nvar _Auth = require(\"../Controller/Auth.controller\");\n\nvar router = (0, _express.Router)();\nvar Controller = new _Auth.AuthController(); //router.post('/app/signup')\n\nrouter.post('/api/signup', function (request, response) {\n  Controller.signup(request, response);\n});\nrouter.post('/api/signin', function (request, response) {\n  Controller.signin(request, response);\n}); // reset password\n\nrouter.post('/api/password-reset', function (request, response) {\n  Controller.forgotPassword(request, response);\n}); // delet a user from mongo DB\n\nrouter.post('/api/delete', function (request, response) {\n  Controller[\"delete\"](request, response);\n}); //find all user and return \n\nrouter.get('/api/findall', function (request, response) {\n  Controller.findAllUser(request, response);\n}); // update user information\n\nrouter.put('/api/update/:email', function (request, response) {\n  Controller.update(request, response);\n}); // search for a user\n\nrouter.get('/api/user-search/', function (request, response) {\n  Controller.searchUser(request, response);\n}); // Update user info including  email, password, username, age and gender\n\nrouter.post('/api/update', function (request, response) {\n  Controller.update(request, response);\n});\nvar _default = router; //module.exports = router;\n\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJSb3V0ZXIiLCJDb250cm9sbGVyIiwiQXV0aENvbnRyb2xsZXIiLCJwb3N0IiwicmVxdWVzdCIsInJlc3BvbnNlIiwic2lnbnVwIiwic2lnbmluIiwiZm9yZ290UGFzc3dvcmQiLCJnZXQiLCJmaW5kQWxsVXNlciIsInB1dCIsInVwZGF0ZSIsInNlYXJjaFVzZXIiXSwic291cmNlUm9vdCI6IkU6XFxJVC1QUk9KRUNUXFxiYWNrZW5kM1xcc3JjXFxSb3V0ZXNcXCIsInNvdXJjZXMiOlsiQXV0aC5yb3V0ZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUm91dGVyIH0gZnJvbSAnZXhwcmVzcyc7XHJcbmltcG9ydCB7IEF1dGhDb250cm9sbGVyIH0gZnJvbSAnLi4vQ29udHJvbGxlci9BdXRoLmNvbnRyb2xsZXInO1xyXG5cclxuXHJcbmNvbnN0IHJvdXRlciA9IFJvdXRlcigpO1xyXG5jb25zdCBDb250cm9sbGVyID0gbmV3IEF1dGhDb250cm9sbGVyKCk7XHJcblxyXG4vL3JvdXRlci5wb3N0KCcvYXBwL3NpZ251cCcpXHJcbnJvdXRlci5wb3N0KCcvYXBpL3NpZ251cCcsIChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xyXG4gICAgQ29udHJvbGxlci5zaWdudXAocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG5yb3V0ZXIucG9zdCgnL2FwaS9zaWduaW4nLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgIENvbnRyb2xsZXIuc2lnbmluKHJlcXVlc3QsIHJlc3BvbnNlKVxyXG59KVxyXG5cclxuLy8gcmVzZXQgcGFzc3dvcmRcclxucm91dGVyLnBvc3QoJy9hcGkvcGFzc3dvcmQtcmVzZXQnLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgIENvbnRyb2xsZXIuZm9yZ290UGFzc3dvcmQocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG5cclxuLy8gZGVsZXQgYSB1c2VyIGZyb20gbW9uZ28gREJcclxucm91dGVyLnBvc3QoJy9hcGkvZGVsZXRlJywgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XHJcbiAgICBDb250cm9sbGVyLmRlbGV0ZShyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcbi8vZmluZCBhbGwgdXNlciBhbmQgcmV0dXJuIFxyXG5yb3V0ZXIuZ2V0KCcvYXBpL2ZpbmRhbGwnLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgIENvbnRyb2xsZXIuZmluZEFsbFVzZXIocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG4vLyB1cGRhdGUgdXNlciBpbmZvcm1hdGlvblxyXG5yb3V0ZXIucHV0KCcvYXBpL3VwZGF0ZS86ZW1haWwnLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgIENvbnRyb2xsZXIudXBkYXRlKHJlcXVlc3QsIHJlc3BvbnNlKVxyXG59KVxyXG5cclxuXHJcbi8vIHNlYXJjaCBmb3IgYSB1c2VyXHJcbnJvdXRlci5nZXQoJy9hcGkvdXNlci1zZWFyY2gvJywgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XHJcbiAgICBDb250cm9sbGVyLnNlYXJjaFVzZXIocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG4vLyBVcGRhdGUgdXNlciBpbmZvIGluY2x1ZGluZyAgZW1haWwsIHBhc3N3b3JkLCB1c2VybmFtZSwgYWdlIGFuZCBnZW5kZXJcclxucm91dGVyLnBvc3QoJy9hcGkvdXBkYXRlJywgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XHJcbiAgICBDb250cm9sbGVyLnVwZGF0ZShyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xyXG4vL21vZHVsZS5leHBvcnRzID0gcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUdBLElBQU1BLE1BQU0sR0FBRyxJQUFBQyxlQUFBLEdBQWY7QUFDQSxJQUFNQyxVQUFVLEdBQUcsSUFBSUMsb0JBQUosRUFBbkIsQyxDQUVBOztBQUNBSCxNQUFNLENBQUNJLElBQVAsQ0FBWSxhQUFaLEVBQTJCLFVBQUNDLE9BQUQsRUFBVUMsUUFBVixFQUF1QjtFQUM5Q0osVUFBVSxDQUFDSyxNQUFYLENBQWtCRixPQUFsQixFQUEyQkMsUUFBM0I7QUFDSCxDQUZEO0FBSUFOLE1BQU0sQ0FBQ0ksSUFBUCxDQUFZLGFBQVosRUFBMkIsVUFBQ0MsT0FBRCxFQUFVQyxRQUFWLEVBQXVCO0VBQzlDSixVQUFVLENBQUNNLE1BQVgsQ0FBa0JILE9BQWxCLEVBQTJCQyxRQUEzQjtBQUNILENBRkQsRSxDQUlBOztBQUNBTixNQUFNLENBQUNJLElBQVAsQ0FBWSxxQkFBWixFQUFtQyxVQUFDQyxPQUFELEVBQVVDLFFBQVYsRUFBdUI7RUFDdERKLFVBQVUsQ0FBQ08sY0FBWCxDQUEwQkosT0FBMUIsRUFBbUNDLFFBQW5DO0FBQ0gsQ0FGRCxFLENBS0E7O0FBQ0FOLE1BQU0sQ0FBQ0ksSUFBUCxDQUFZLGFBQVosRUFBMkIsVUFBQ0MsT0FBRCxFQUFVQyxRQUFWLEVBQXVCO0VBQzlDSixVQUFVLFVBQVYsQ0FBa0JHLE9BQWxCLEVBQTJCQyxRQUEzQjtBQUNILENBRkQsRSxDQUlBOztBQUNBTixNQUFNLENBQUNVLEdBQVAsQ0FBVyxjQUFYLEVBQTJCLFVBQUNMLE9BQUQsRUFBVUMsUUFBVixFQUF1QjtFQUM5Q0osVUFBVSxDQUFDUyxXQUFYLENBQXVCTixPQUF2QixFQUFnQ0MsUUFBaEM7QUFDSCxDQUZELEUsQ0FJQTs7QUFDQU4sTUFBTSxDQUFDWSxHQUFQLENBQVcsb0JBQVgsRUFBaUMsVUFBQ1AsT0FBRCxFQUFVQyxRQUFWLEVBQXVCO0VBQ3BESixVQUFVLENBQUNXLE1BQVgsQ0FBa0JSLE9BQWxCLEVBQTJCQyxRQUEzQjtBQUNILENBRkQsRSxDQUtBOztBQUNBTixNQUFNLENBQUNVLEdBQVAsQ0FBVyxtQkFBWCxFQUFnQyxVQUFDTCxPQUFELEVBQVVDLFFBQVYsRUFBdUI7RUFDbkRKLFVBQVUsQ0FBQ1ksVUFBWCxDQUFzQlQsT0FBdEIsRUFBK0JDLFFBQS9CO0FBQ0gsQ0FGRCxFLENBSUE7O0FBQ0FOLE1BQU0sQ0FBQ0ksSUFBUCxDQUFZLGFBQVosRUFBMkIsVUFBQ0MsT0FBRCxFQUFVQyxRQUFWLEVBQXVCO0VBQzlDSixVQUFVLENBQUNXLE1BQVgsQ0FBa0JSLE9BQWxCLEVBQTJCQyxRQUEzQjtBQUNILENBRkQ7ZUFTZU4sTSxFQUNmIn0=","map":{"version":3,"names":["router","Router","Controller","AuthController","post","request","response","signup","signin","forgotPassword","get","findAllUser","put","update","searchUser"],"sourceRoot":"E:\\IT-PROJECT\\backend3\\src\\Routes\\","sources":["Auth.routes.js"],"sourcesContent":["import { Router } from 'express';\r\nimport { AuthController } from '../Controller/Auth.controller';\r\n\r\n\r\nconst router = Router();\r\nconst Controller = new AuthController();\r\n\r\n//router.post('/app/signup')\r\nrouter.post('/api/signup', (request, response) => {\r\n    Controller.signup(request, response)\r\n})\r\n\r\nrouter.post('/api/signin', (request, response) => {\r\n    Controller.signin(request, response)\r\n})\r\n\r\n// reset password\r\nrouter.post('/api/password-reset', (request, response) => {\r\n    Controller.forgotPassword(request, response)\r\n})\r\n\r\n\r\n// delet a user from mongo DB\r\nrouter.post('/api/delete', (request, response) => {\r\n    Controller.delete(request, response)\r\n})\r\n\r\n//find all user and return \r\nrouter.get('/api/findall', (request, response) => {\r\n    Controller.findAllUser(request, response)\r\n})\r\n\r\n// update user information\r\nrouter.put('/api/update/:email', (request, response) => {\r\n    Controller.update(request, response)\r\n})\r\n\r\n\r\n// search for a user\r\nrouter.get('/api/user-search/', (request, response) => {\r\n    Controller.searchUser(request, response)\r\n})\r\n\r\n// Update user info including  email, password, username, age and gender\r\nrouter.post('/api/update', (request, response) => {\r\n    Controller.update(request, response)\r\n})\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default router;\r\n//module.exports = router;"],"mappings":";;;;;;;AAAA;;AACA;;AAGA,IAAMA,MAAM,GAAG,IAAAC,eAAA,GAAf;AACA,IAAMC,UAAU,GAAG,IAAIC,oBAAJ,EAAnB,C,CAEA;;AACAH,MAAM,CAACI,IAAP,CAAY,aAAZ,EAA2B,UAACC,OAAD,EAAUC,QAAV,EAAuB;EAC9CJ,UAAU,CAACK,MAAX,CAAkBF,OAAlB,EAA2BC,QAA3B;AACH,CAFD;AAIAN,MAAM,CAACI,IAAP,CAAY,aAAZ,EAA2B,UAACC,OAAD,EAAUC,QAAV,EAAuB;EAC9CJ,UAAU,CAACM,MAAX,CAAkBH,OAAlB,EAA2BC,QAA3B;AACH,CAFD,E,CAIA;;AACAN,MAAM,CAACI,IAAP,CAAY,qBAAZ,EAAmC,UAACC,OAAD,EAAUC,QAAV,EAAuB;EACtDJ,UAAU,CAACO,cAAX,CAA0BJ,OAA1B,EAAmCC,QAAnC;AACH,CAFD,E,CAKA;;AACAN,MAAM,CAACI,IAAP,CAAY,aAAZ,EAA2B,UAACC,OAAD,EAAUC,QAAV,EAAuB;EAC9CJ,UAAU,UAAV,CAAkBG,OAAlB,EAA2BC,QAA3B;AACH,CAFD,E,CAIA;;AACAN,MAAM,CAACU,GAAP,CAAW,cAAX,EAA2B,UAACL,OAAD,EAAUC,QAAV,EAAuB;EAC9CJ,UAAU,CAACS,WAAX,CAAuBN,OAAvB,EAAgCC,QAAhC;AACH,CAFD,E,CAIA;;AACAN,MAAM,CAACY,GAAP,CAAW,oBAAX,EAAiC,UAACP,OAAD,EAAUC,QAAV,EAAuB;EACpDJ,UAAU,CAACW,MAAX,CAAkBR,OAAlB,EAA2BC,QAA3B;AACH,CAFD,E,CAKA;;AACAN,MAAM,CAACU,GAAP,CAAW,mBAAX,EAAgC,UAACL,OAAD,EAAUC,QAAV,EAAuB;EACnDJ,UAAU,CAACY,UAAX,CAAsBT,OAAtB,EAA+BC,QAA/B;AACH,CAFD,E,CAIA;;AACAN,MAAM,CAACI,IAAP,CAAY,aAAZ,EAA2B,UAACC,OAAD,EAAUC,QAAV,EAAuB;EAC9CJ,UAAU,CAACW,MAAX,CAAkBR,OAAlB,EAA2BC,QAA3B;AACH,CAFD;eASeN,M,EACf"}},"mtime":1665921866346},"{\"assumptions\":{},\"sourceRoot\":\"E:\\\\IT-PROJECT\\\\backend3\\\\src\\\\Controller\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"E:\\\\IT-PROJECT\\\\backend3\",\"filename\":\"E:\\\\IT-PROJECT\\\\backend3\\\\src\\\\Controller\\\\Auth.controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"E:\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AuthController = void 0;\n\nvar _formidable = require(\"formidable\");\n\nvar _bcrypt = require(\"bcrypt\");\n\nvar _dotenv = require(\"dotenv\");\n\nvar _jsonwebtoken = require(\"jsonwebtoken\");\n\nvar _User = require(\"../Models/User.model\");\n\nvar _Video = require(\"../Models/Video.model\");\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n(0, _dotenv.config)();\n\nvar AuthController = /*#__PURE__*/function () {\n  function AuthController() {\n    _classCallCheck(this, AuthController);\n  }\n\n  _createClass(AuthController, [{\n    key: \"signup\",\n    value: //signup method\n    function signup(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(error, fields, files) {\n          var username, email, password, age, gender, salt, hashedPassword, newAccount, savedAccount;\n          return _regeneratorRuntime().wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  if (!error) {\n                    _context.next = 2;\n                    break;\n                  }\n\n                  return _context.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to create account, maybe try again later'\n                  }));\n\n                case 2:\n                  username = fields.username, email = fields.email, password = fields.password, age = fields.age, gender = fields.gender;\n\n                  if (!(password.length > 20 || password.length < 6)) {\n                    _context.next = 5;\n                    break;\n                  }\n\n                  return _context.abrupt(\"return\", response.status(503).json({\n                    msg: 'Password length need to be 6-20 range'\n                  }));\n\n                case 5:\n                  if (!(age > 150 || age < 0)) {\n                    _context.next = 7;\n                    break;\n                  }\n\n                  return _context.abrupt(\"return\", response.status(502).json({\n                    msg: 'Invalid age'\n                  }));\n\n                case 7:\n                  _context.next = 9;\n                  return (0, _bcrypt.genSalt)(15);\n\n                case 9:\n                  salt = _context.sent;\n                  _context.next = 12;\n                  return (0, _bcrypt.hash)(password, salt);\n\n                case 12:\n                  hashedPassword = _context.sent;\n                  newAccount = new _User.userModel({\n                    username: username,\n                    email: email,\n                    password: hashedPassword,\n                    age: age,\n                    gender: gender\n                  }); // create an account successful or failed\n\n                  _context.prev = 14;\n                  _context.next = 17;\n                  return newAccount.save();\n\n                case 17:\n                  savedAccount = _context.sent;\n                  return _context.abrupt(\"return\", response.status(201).json({\n                    msg: 'Account created successfully'\n                  }));\n\n                case 21:\n                  _context.prev = 21;\n                  _context.t0 = _context[\"catch\"](14);\n                  console.log(_context.t0);\n                  return _context.abrupt(\"return\", response.status(501).json({\n                    msg: 'This account has been registered. Change email or username'\n                  }));\n\n                case 25:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, null, [[14, 21]]);\n        }));\n\n        return function (_x, _x2, _x3) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n    } // sign in\n\n  }, {\n    key: \"signin\",\n    value: function signin(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(error, fields, files) {\n          var account, password, isAccountEmail, _user, _isPasswordValid, _token_payload, _token, _username, user, isPasswordValid, token_payload, token, username;\n\n          return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  if (!error) {\n                    _context2.next = 2;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to signin'\n                  }));\n\n                case 2:\n                  account = fields.account, password = fields.password; // email log in \n\n                  isAccountEmail = account.includes('@');\n\n                  if (!isAccountEmail) {\n                    _context2.next = 19;\n                    break;\n                  }\n\n                  _context2.next = 7;\n                  return _User.userModel.findOne({\n                    email: account\n                  });\n\n                case 7:\n                  _user = _context2.sent;\n\n                  if (_user) {\n                    _context2.next = 10;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\", response.status(404).json({\n                    msg: 'Email of this account does not exist'\n                  }));\n\n                case 10:\n                  _context2.next = 12;\n                  return (0, _bcrypt.compare)(password, _user.password);\n\n                case 12:\n                  _isPasswordValid = _context2.sent;\n\n                  if (_isPasswordValid) {\n                    _context2.next = 15;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\", response.status(400).json({\n                    msg: 'Invalid password'\n                  }));\n\n                case 15:\n                  _token_payload = {\n                    _id: _user._id,\n                    email: _user.email,\n                    username: _user.username\n                  };\n                  _token = (0, _jsonwebtoken.sign)(_token_payload, process.env.cookie_secret, {\n                    expiresIn: '365d'\n                  });\n                  _username = _token_payload.username;\n                  return _context2.abrupt(\"return\", response.status(200).json({\n                    token: _token,\n                    username: _username\n                  }));\n\n                case 19:\n                  _context2.next = 21;\n                  return _User.userModel.findOne({\n                    username: account\n                  });\n\n                case 21:\n                  user = _context2.sent;\n\n                  if (user) {\n                    _context2.next = 24;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\", response.status(404).json({\n                    msg: 'username of this account does not exist'\n                  }));\n\n                case 24:\n                  _context2.next = 26;\n                  return (0, _bcrypt.compare)(password, user.password);\n\n                case 26:\n                  isPasswordValid = _context2.sent;\n\n                  if (isPasswordValid) {\n                    _context2.next = 29;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\", response.status(400).json({\n                    msg: 'Invalid password'\n                  }));\n\n                case 29:\n                  token_payload = {\n                    _id: user._id,\n                    email: user.email,\n                    username: user.username\n                  };\n                  token = (0, _jsonwebtoken.sign)(token_payload, process.env.cookie_secret, {\n                    expiresIn: '365d'\n                  });\n                  username = token_payload.username;\n                  return _context2.abrupt(\"return\", response.status(200).json({\n                    token: token,\n                    username: username\n                  }));\n\n                case 33:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2);\n        }));\n\n        return function (_x4, _x5, _x6) {\n          return _ref2.apply(this, arguments);\n        };\n      }());\n    } // forgot password and reset\n\n  }, {\n    key: \"forgotPassword\",\n    value: function forgotPassword(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(error, fields, files) {\n          var email, password, salt, hashedPassword, user, updatedAccount;\n          return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n            while (1) {\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  if (!error) {\n                    _context3.next = 2;\n                    break;\n                  }\n\n                  return _context3.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to rset password'\n                  }));\n\n                case 2:\n                  email = fields.email, password = fields.password;\n\n                  if (!(!email || !password)) {\n                    _context3.next = 5;\n                    break;\n                  }\n\n                  return _context3.abrupt(\"return\", response.status(400).json({\n                    msg: 'email and password are required to reset password '\n                  }));\n\n                case 5:\n                  _context3.next = 7;\n                  return (0, _bcrypt.genSalt)(15);\n\n                case 7:\n                  salt = _context3.sent;\n                  _context3.next = 10;\n                  return (0, _bcrypt.hash)(password, salt);\n\n                case 10:\n                  hashedPassword = _context3.sent;\n                  _context3.prev = 11;\n                  _context3.next = 14;\n                  return _User.userModel.findOne({\n                    email: email\n                  });\n\n                case 14:\n                  user = _context3.sent;\n\n                  if (user) {\n                    _context3.next = 17;\n                    break;\n                  }\n\n                  return _context3.abrupt(\"return\", response.status(404).json({\n                    msg: 'Account with this email does not exist'\n                  }));\n\n                case 17:\n                  _context3.next = 19;\n                  return _User.userModel.findOneAndUpdate({\n                    email: email\n                  }, {\n                    $set: {\n                      password: hashedPassword\n                    }\n                  }, {\n                    \"new\": true\n                  });\n\n                case 19:\n                  updatedAccount = _context3.sent;\n                  return _context3.abrupt(\"return\", response.status(200).json({\n                    msg: 'Password rest successful'\n                  }));\n\n                case 23:\n                  _context3.prev = 23;\n                  _context3.t0 = _context3[\"catch\"](11);\n                  return _context3.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to reset password'\n                  }));\n\n                case 26:\n                case \"end\":\n                  return _context3.stop();\n              }\n            }\n          }, _callee3, null, [[11, 23]]);\n        }));\n\n        return function (_x7, _x8, _x9) {\n          return _ref3.apply(this, arguments);\n        };\n      }());\n    } // updat user info such as username, password, age and gender via email.\n\n  }, {\n    key: \"update\",\n    value: function update(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(error, fields, files) {\n          var email, username, age, gender, newUsername, newAge, newGender, user, updatedAccount, updatedVideo_username;\n          return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n            while (1) {\n              switch (_context4.prev = _context4.next) {\n                case 0:\n                  if (!error) {\n                    _context4.next = 2;\n                    break;\n                  }\n\n                  return _context4.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to update. Try again later'\n                  }));\n\n                case 2:\n                  email = fields.email, username = fields.username, age = fields.age, gender = fields.gender;\n                  newUsername = username;\n                  newAge = age;\n                  newGender = gender;\n                  _context4.prev = 6;\n                  _context4.next = 9;\n                  return _User.userModel.findOne({\n                    email: email\n                  });\n\n                case 9:\n                  user = _context4.sent;\n\n                  if (user) {\n                    _context4.next = 12;\n                    break;\n                  }\n\n                  return _context4.abrupt(\"return\", response.status(404).json({\n                    msg: 'Account with this email does not exist'\n                  }));\n\n                case 12:\n                  _context4.next = 14;\n                  return _User.userModel.findOneAndUpdate({\n                    email: email\n                  }, {\n                    $set: {\n                      username: newUsername,\n                      age: newAge,\n                      gender: newGender\n                    }\n                  }, {\n                    \"new\": true\n                  });\n\n                case 14:\n                  updatedAccount = _context4.sent;\n                  _context4.next = 17;\n                  return _Video.videoModel.updateMany({\n                    email: email\n                  }, {\n                    $set: {\n                      username: newUsername\n                    }\n                  }, {\n                    \"new\": true\n                  });\n\n                case 17:\n                  updatedVideo_username = _context4.sent;\n                  return _context4.abrupt(\"return\", response.status(200).json({\n                    msg: 'Edit successful'\n                  }));\n\n                case 21:\n                  _context4.prev = 21;\n                  _context4.t0 = _context4[\"catch\"](6);\n                  return _context4.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to update. Change email or username and try again'\n                  }));\n\n                case 24:\n                case \"end\":\n                  return _context4.stop();\n              }\n            }\n          }, _callee4, null, [[6, 21]]);\n        }));\n\n        return function (_x10, _x11, _x12) {\n          return _ref4.apply(this, arguments);\n        };\n      }());\n    } //delete user account\n\n  }, {\n    key: \"delete\",\n    value: function _delete(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(error, fields, files) {\n          var email, user;\n          return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n            while (1) {\n              switch (_context5.prev = _context5.next) {\n                case 0:\n                  if (!error) {\n                    _context5.next = 2;\n                    break;\n                  }\n\n                  return _context5.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to delete account, maybe try again later'\n                  }));\n\n                case 2:\n                  email = fields.email;\n                  _context5.prev = 3;\n                  _context5.next = 6;\n                  return _User.userModel.findOneAndDelete({\n                    email: email\n                  });\n\n                case 6:\n                  user = _context5.sent;\n                  return _context5.abrupt(\"return\", response.status(200).json({\n                    msg: 'delete successful'\n                  }));\n\n                case 10:\n                  _context5.prev = 10;\n                  _context5.t0 = _context5[\"catch\"](3);\n                  return _context5.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to delete'\n                  }));\n\n                case 13:\n                case \"end\":\n                  return _context5.stop();\n              }\n            }\n          }, _callee5, null, [[3, 10]]);\n        }));\n\n        return function (_x13, _x14, _x15) {\n          return _ref5.apply(this, arguments);\n        };\n      }());\n    } // find all user\n\n  }, {\n    key: \"findAllUser\",\n    value: function findAllUser(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(error, fields, files) {\n          var user;\n          return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n            while (1) {\n              switch (_context6.prev = _context6.next) {\n                case 0:\n                  if (!error) {\n                    _context6.next = 2;\n                    break;\n                  }\n\n                  return _context6.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to delete account, maybe try again later'\n                  }));\n\n                case 2:\n                  _context6.prev = 2;\n                  _context6.next = 5;\n                  return _User.userModel.find();\n\n                case 5:\n                  user = _context6.sent;\n                  return _context6.abrupt(\"return\", response.send(user));\n\n                case 9:\n                  _context6.prev = 9;\n                  _context6.t0 = _context6[\"catch\"](2);\n                  return _context6.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed find all users'\n                  }));\n\n                case 12:\n                case \"end\":\n                  return _context6.stop();\n              }\n            }\n          }, _callee6, null, [[2, 9]]);\n        }));\n\n        return function (_x16, _x17, _x18) {\n          return _ref6.apply(this, arguments);\n        };\n      }());\n    } // search for a user by request \n\n  }, {\n    key: \"searchUser\",\n    value: function () {\n      var _searchUser = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(request, response) {\n        var name, user;\n        return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                name = request.query.username;\n                _context7.prev = 1;\n                _context7.next = 4;\n                return _User.userModel.find({\n                  username: {\n                    $regex: name\n                  }\n                });\n\n              case 4:\n                user = _context7.sent;\n                return _context7.abrupt(\"return\", response.send(user));\n\n              case 8:\n                _context7.prev = 8;\n                _context7.t0 = _context7[\"catch\"](1);\n                return _context7.abrupt(\"return\", response.status(500).json({\n                  msg: 'No matching user'\n                }));\n\n              case 11:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, null, [[1, 8]]);\n      }));\n\n      function searchUser(_x19, _x20) {\n        return _searchUser.apply(this, arguments);\n      }\n\n      return searchUser;\n    }()\n  }]);\n\n  return AuthController;\n}();\n\nexports.AuthController = AuthController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25maWciLCJBdXRoQ29udHJvbGxlciIsInJlcXVlc3QiLCJyZXNwb25zZSIsImZvcm0iLCJJbmNvbWluZ0Zvcm0iLCJwYXJzZSIsImVycm9yIiwiZmllbGRzIiwiZmlsZXMiLCJzdGF0dXMiLCJqc29uIiwibXNnIiwidXNlcm5hbWUiLCJlbWFpbCIsInBhc3N3b3JkIiwiYWdlIiwiZ2VuZGVyIiwibGVuZ3RoIiwiZ2VuU2FsdCIsInNhbHQiLCJoYXNoIiwiaGFzaGVkUGFzc3dvcmQiLCJuZXdBY2NvdW50IiwidXNlck1vZGVsIiwic2F2ZSIsInNhdmVkQWNjb3VudCIsImNvbnNvbGUiLCJsb2ciLCJhY2NvdW50IiwiaXNBY2NvdW50RW1haWwiLCJpbmNsdWRlcyIsImZpbmRPbmUiLCJ1c2VyIiwiY29tcGFyZSIsImlzUGFzc3dvcmRWYWxpZCIsInRva2VuX3BheWxvYWQiLCJfaWQiLCJ0b2tlbiIsInNpZ24iLCJwcm9jZXNzIiwiZW52IiwiY29va2llX3NlY3JldCIsImV4cGlyZXNJbiIsImZpbmRPbmVBbmRVcGRhdGUiLCIkc2V0IiwidXBkYXRlZEFjY291bnQiLCJuZXdVc2VybmFtZSIsIm5ld0FnZSIsIm5ld0dlbmRlciIsInZpZGVvTW9kZWwiLCJ1cGRhdGVNYW55IiwidXBkYXRlZFZpZGVvX3VzZXJuYW1lIiwiZmluZE9uZUFuZERlbGV0ZSIsImZpbmQiLCJzZW5kIiwibmFtZSIsInF1ZXJ5IiwiJHJlZ2V4Il0sInNvdXJjZVJvb3QiOiJFOlxcSVQtUFJPSkVDVFxcYmFja2VuZDNcXHNyY1xcQ29udHJvbGxlclxcIiwic291cmNlcyI6WyJBdXRoLmNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5jb21pbmdGb3JtIH0gZnJvbSAnZm9ybWlkYWJsZSc7XHJcbmltcG9ydCB7IGdlblNhbHQsIGhhc2gsIGNvbXBhcmUgfSBmcm9tICdiY3J5cHQnO1xyXG5pbXBvcnQgeyBjb25maWcgfSBmcm9tICdkb3RlbnYnO1xyXG5pbXBvcnQgeyB2ZXJpZnksIHNpZ24gfSBmcm9tICdqc29ud2VidG9rZW4nO1xyXG5pbXBvcnQgeyB1c2VyTW9kZWwgfSBmcm9tICcuLi9Nb2RlbHMvVXNlci5tb2RlbCdcclxuaW1wb3J0IHsgdmlkZW9Nb2RlbCB9IGZyb20gJy4uL01vZGVscy9WaWRlby5tb2RlbCdcclxuY29uZmlnKClcclxuXHJcbmV4cG9ydCBjbGFzcyBBdXRoQ29udHJvbGxlciB7XHJcbiAgICAvL3NpZ251cCBtZXRob2RcclxuICAgIHNpZ251cChyZXF1ZXN0LCByZXNwb25zZSkge1xyXG4gICAgICAgIGNvbnN0IGZvcm0gPSBuZXcgSW5jb21pbmdGb3JtKCk7XHJcblxyXG4gICAgICAgIGZvcm0ucGFyc2UocmVxdWVzdCwgYXN5bmMgKGVycm9yLCBmaWVsZHMsIGZpbGVzKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oeyBtc2c6ICdGYWlsZWQgdG8gY3JlYXRlIGFjY291bnQsIG1heWJlIHRyeSBhZ2FpbiBsYXRlcicgfSlcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc3QgeyB1c2VybmFtZSwgZW1haWwsIHBhc3N3b3JkLCBhZ2UsIGdlbmRlciB9ID0gZmllbGRzO1xyXG4gICAgICAgICAgICBpZiAocGFzc3dvcmQubGVuZ3RoID4gMjAgfHwgcGFzc3dvcmQubGVuZ3RoIDwgNikgeyAgLy8gcGFzc3dvcmQgbWluaW11bSBsZW5ndGggPSA2LCBtYXhpbXVtIGxlbmd0aCA9IDIwXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMykuanNvbih7IG1zZzogJ1Bhc3N3b3JkIGxlbmd0aCBuZWVkIHRvIGJlIDYtMjAgcmFuZ2UnIH0pXHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChhZ2UgPiAxNTAgfHwgYWdlIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDIpLmpzb24oeyBtc2c6ICdJbnZhbGlkIGFnZScgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBzYWx0ID0gYXdhaXQgZ2VuU2FsdCgxNSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGhhc2hlZFBhc3N3b3JkID0gYXdhaXQgaGFzaChwYXNzd29yZCwgc2FsdCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld0FjY291bnQgPSBuZXcgdXNlck1vZGVsKHtcclxuICAgICAgICAgICAgICAgIHVzZXJuYW1lLFxyXG4gICAgICAgICAgICAgICAgZW1haWwsXHJcbiAgICAgICAgICAgICAgICBwYXNzd29yZDogaGFzaGVkUGFzc3dvcmQsXHJcbiAgICAgICAgICAgICAgICBhZ2UsXHJcbiAgICAgICAgICAgICAgICBnZW5kZXJcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLy8gY3JlYXRlIGFuIGFjY291bnQgc3VjY2Vzc2Z1bCBvciBmYWlsZWRcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNhdmVkQWNjb3VudCA9IGF3YWl0IG5ld0FjY291bnQuc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cygyMDEpLmpzb24oeyBtc2c6ICdBY2NvdW50IGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5JyB9KVxyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMSkuanNvbih7IG1zZzogJ1RoaXMgYWNjb3VudCBoYXMgYmVlbiByZWdpc3RlcmVkLiBDaGFuZ2UgZW1haWwgb3IgdXNlcm5hbWUnIH0pXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICAvLyBzaWduIGluXHJcbiAgICBzaWduaW4ocmVxdWVzdCwgcmVzcG9uc2UpIHtcclxuICAgICAgICBjb25zdCBmb3JtID0gbmV3IEluY29taW5nRm9ybSgpO1xyXG5cclxuICAgICAgICBmb3JtLnBhcnNlKHJlcXVlc3QsIGFzeW5jIChlcnJvciwgZmllbGRzLCBmaWxlcykgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAnRmFpbGVkIHRvIHNpZ25pbicgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB7IGFjY291bnQsIHBhc3N3b3JkIH0gPSBmaWVsZHM7XHJcbiAgICAgICAgICAgIC8vIGVtYWlsIGxvZyBpbiBcclxuICAgICAgICAgICAgY29uc3QgaXNBY2NvdW50RW1haWwgPSBhY2NvdW50LmluY2x1ZGVzKCdAJyk7XHJcbiAgICAgICAgICAgIGlmIChpc0FjY291bnRFbWFpbCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IHVzZXJNb2RlbC5maW5kT25lKHsgZW1haWw6IGFjY291bnQgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCF1c2VyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg0MDQpLmpzb24oeyBtc2c6ICdFbWFpbCBvZiB0aGlzIGFjY291bnQgZG9lcyBub3QgZXhpc3QnIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpc1Bhc3N3b3JkVmFsaWQgPSBhd2FpdCBjb21wYXJlKHBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKTsgIC8vIGhhc2hlZCBwYXNzd29yZFxyXG4gICAgICAgICAgICAgICAgaWYgKCFpc1Bhc3N3b3JkVmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwMCkuanNvbih7IG1zZzogJ0ludmFsaWQgcGFzc3dvcmQnIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0b2tlbl9wYXlsb2FkID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIF9pZDogdXNlci5faWQsXHJcbiAgICAgICAgICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXHJcbiAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWVcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IHRva2VuID0gc2lnbih0b2tlbl9wYXlsb2FkLCBwcm9jZXNzLmVudi5jb29raWVfc2VjcmV0LCB7IGV4cGlyZXNJbjogJzM2NWQnIH0pXHJcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VybmFtZSA9IHRva2VuX3BheWxvYWQudXNlcm5hbWU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7IHRva2VuLCB1c2VybmFtZSB9KVxyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgdXNlck1vZGVsLmZpbmRPbmUoeyB1c2VybmFtZTogYWNjb3VudCB9KTtcclxuXHJcbiAgICAgICAgICAgIGlmICghdXNlcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg0MDQpLmpzb24oeyBtc2c6ICd1c2VybmFtZSBvZiB0aGlzIGFjY291bnQgZG9lcyBub3QgZXhpc3QnIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgaXNQYXNzd29yZFZhbGlkID0gYXdhaXQgY29tcGFyZShwYXNzd29yZCwgdXNlci5wYXNzd29yZCk7ICAvLyBoYXNoZWQgcGFzc3dvcmRcclxuICAgICAgICAgICAgaWYgKCFpc1Bhc3N3b3JkVmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNDAwKS5qc29uKHsgbXNnOiAnSW52YWxpZCBwYXNzd29yZCcgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB0b2tlbl9wYXlsb2FkID0ge1xyXG4gICAgICAgICAgICAgICAgX2lkOiB1c2VyLl9pZCxcclxuICAgICAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxyXG4gICAgICAgICAgICAgICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB0b2tlbiA9IHNpZ24odG9rZW5fcGF5bG9hZCwgcHJvY2Vzcy5lbnYuY29va2llX3NlY3JldCwgeyBleHBpcmVzSW46ICczNjVkJyB9KVxyXG4gICAgICAgICAgICBjb25zdCB1c2VybmFtZSA9IHRva2VuX3BheWxvYWQudXNlcm5hbWU7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHsgdG9rZW4sIHVzZXJuYW1lIH0pXHJcblxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLy8gZm9yZ290IHBhc3N3b3JkIGFuZCByZXNldFxyXG4gICAgZm9yZ290UGFzc3dvcmQocmVxdWVzdCwgcmVzcG9uc2UpIHtcclxuICAgICAgICBjb25zdCBmb3JtID0gbmV3IEluY29taW5nRm9ybSgpO1xyXG5cclxuICAgICAgICBmb3JtLnBhcnNlKHJlcXVlc3QsIGFzeW5jIChlcnJvciwgZmllbGRzLCBmaWxlcykgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAnRmFpbGVkIHRvIHJzZXQgcGFzc3dvcmQnIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQgfSA9IGZpZWxkcztcclxuXHJcbiAgICAgICAgICAgIGlmICghZW1haWwgfHwgIXBhc3N3b3JkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwMCkuanNvbih7IG1zZzogJ2VtYWlsIGFuZCBwYXNzd29yZCBhcmUgcmVxdWlyZWQgdG8gcmVzZXQgcGFzc3dvcmQgJyB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHNhbHQgPSBhd2FpdCBnZW5TYWx0KDE1KTtcclxuICAgICAgICAgICAgY29uc3QgaGFzaGVkUGFzc3dvcmQgPSBhd2FpdCBoYXNoKHBhc3N3b3JkLCBzYWx0KVxyXG5cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB1c2VyTW9kZWwuZmluZE9uZSh7IGVtYWlsOiBlbWFpbCB9KTtcclxuICAgICAgICAgICAgICAgIGlmICghdXNlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNDA0KS5qc29uKHsgbXNnOiAnQWNjb3VudCB3aXRoIHRoaXMgZW1haWwgZG9lcyBub3QgZXhpc3QnIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvKiBjb25zdCB1cGRhdGVkQWNjb3VudCA9IGF3YWl0IHVzZXJNb2RlbC5maW5kT25lQW5kVXBkYXRlKHtlbWFpbDplbWFpbH0sIHskc2V0OntwYXNzd29yZDogaGFzaGVkUGFzc3dvcmR9fSwge25ldzp0cnVlfSlcclxuICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7bXNnOidQYXNzd29yZCByZXN0IHN1Y2Nlc3NmdWwnfSkgKi9cclxuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRBY2NvdW50ID0gYXdhaXQgdXNlck1vZGVsLmZpbmRPbmVBbmRVcGRhdGUoeyBlbWFpbDogZW1haWwgfSwgeyAkc2V0OiB7IHBhc3N3b3JkOiBoYXNoZWRQYXNzd29yZCB9IH0sIHsgbmV3OiB0cnVlIH0pXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7IG1zZzogJ1Bhc3N3b3JkIHJlc3Qgc3VjY2Vzc2Z1bCcgfSlcclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAnRmFpbGVkIHRvIHJlc2V0IHBhc3N3b3JkJyB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICAvLyB1cGRhdCB1c2VyIGluZm8gc3VjaCBhcyB1c2VybmFtZSwgcGFzc3dvcmQsIGFnZSBhbmQgZ2VuZGVyIHZpYSBlbWFpbC5cclxuICAgIHVwZGF0ZShyZXF1ZXN0LCByZXNwb25zZSkge1xyXG4gICAgICAgIGNvbnN0IGZvcm0gPSBuZXcgSW5jb21pbmdGb3JtKCk7XHJcblxyXG4gICAgICAgIGZvcm0ucGFyc2UocmVxdWVzdCwgYXN5bmMgKGVycm9yLCBmaWVsZHMsIGZpbGVzKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oeyBtc2c6ICdGYWlsZWQgdG8gdXBkYXRlLiBUcnkgYWdhaW4gbGF0ZXInIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgeyBlbWFpbCwgdXNlcm5hbWUsIGFnZSwgZ2VuZGVyIH0gPSBmaWVsZHM7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1VzZXJuYW1lID0gdXNlcm5hbWVcclxuICAgICAgICAgICAgY29uc3QgbmV3QWdlID0gYWdlXHJcbiAgICAgICAgICAgIGNvbnN0IG5ld0dlbmRlciA9IGdlbmRlclxyXG5cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB1c2VyTW9kZWwuZmluZE9uZSh7IGVtYWlsOiBlbWFpbCB9KTtcclxuICAgICAgICAgICAgICAgIGlmICghdXNlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNDA0KS5qc29uKHsgbXNnOiAnQWNjb3VudCB3aXRoIHRoaXMgZW1haWwgZG9lcyBub3QgZXhpc3QnIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvKiBjb25zdCB1cGRhdGVkQWNjb3VudCA9IGF3YWl0IHVzZXJNb2RlbC5maW5kT25lQW5kVXBkYXRlKHtlbWFpbDplbWFpbH0sIHskc2V0OntwYXNzd29yZDogaGFzaGVkUGFzc3dvcmR9fSwge25ldzp0cnVlfSlcclxuICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7bXNnOidQYXNzd29yZCByZXN0IHN1Y2Nlc3NmdWwnfSkgKi9cclxuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRBY2NvdW50ID0gYXdhaXQgdXNlck1vZGVsLmZpbmRPbmVBbmRVcGRhdGUoeyBlbWFpbDogZW1haWwgfSwgeyAkc2V0OiB7IHVzZXJuYW1lOiBuZXdVc2VybmFtZSwgYWdlOiBuZXdBZ2UsIGdlbmRlcjogbmV3R2VuZGVyIH0gfSwgeyBuZXc6IHRydWUgfSlcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRWaWRlb191c2VybmFtZSA9IGF3YWl0IHZpZGVvTW9kZWwudXBkYXRlTWFueSh7IGVtYWlsOiBlbWFpbCB9LCB7ICRzZXQ6IHsgdXNlcm5hbWU6IG5ld1VzZXJuYW1lIH0gfSwgeyBuZXc6IHRydWUgfSlcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHsgbXNnOiAnRWRpdCBzdWNjZXNzZnVsJyB9KVxyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oeyBtc2c6ICdGYWlsZWQgdG8gdXBkYXRlLiBDaGFuZ2UgZW1haWwgb3IgdXNlcm5hbWUgYW5kIHRyeSBhZ2FpbicgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLy9kZWxldGUgdXNlciBhY2NvdW50XHJcbiAgICBkZWxldGUocmVxdWVzdCwgcmVzcG9uc2UpIHtcclxuICAgICAgICBjb25zdCBmb3JtID0gbmV3IEluY29taW5nRm9ybSgpO1xyXG4gICAgICAgIGZvcm0ucGFyc2UocmVxdWVzdCwgYXN5bmMgKGVycm9yLCBmaWVsZHMsIGZpbGVzKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oeyBtc2c6ICdGYWlsZWQgdG8gZGVsZXRlIGFjY291bnQsIG1heWJlIHRyeSBhZ2FpbiBsYXRlcicgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB7IGVtYWlsIH0gPSBmaWVsZHM7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgdXNlck1vZGVsLmZpbmRPbmVBbmREZWxldGUoeyBlbWFpbDogZW1haWwgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7IG1zZzogJ2RlbGV0ZSBzdWNjZXNzZnVsJyB9KVxyXG5cclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAnRmFpbGVkIHRvIGRlbGV0ZScgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLy8gZmluZCBhbGwgdXNlclxyXG4gICAgZmluZEFsbFVzZXIocmVxdWVzdCwgcmVzcG9uc2UpIHtcclxuICAgICAgICBjb25zdCBmb3JtID0gbmV3IEluY29taW5nRm9ybSgpO1xyXG5cclxuICAgICAgICBmb3JtLnBhcnNlKHJlcXVlc3QsIGFzeW5jIChlcnJvciwgZmllbGRzLCBmaWxlcykgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAnRmFpbGVkIHRvIGRlbGV0ZSBhY2NvdW50LCBtYXliZSB0cnkgYWdhaW4gbGF0ZXInIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB1c2VyTW9kZWwuZmluZCgpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc2VuZCh1c2VyKVxyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oeyBtc2c6ICdGYWlsZWQgZmluZCBhbGwgdXNlcnMnIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvLyBzZWFyY2ggZm9yIGEgdXNlciBieSByZXF1ZXN0IFxyXG4gICAgYXN5bmMgc2VhcmNoVXNlcihyZXF1ZXN0LCByZXNwb25zZSkge1xyXG4gICAgICAgIGNvbnN0IG5hbWUgPSByZXF1ZXN0LnF1ZXJ5LnVzZXJuYW1lO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCB1c2VyID0gYXdhaXQgdXNlck1vZGVsLmZpbmQoeyB1c2VybmFtZTogeyAkcmVnZXg6IG5hbWUgfSB9KVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc2VuZCh1c2VyKVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAn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","map":{"version":3,"names":["config","AuthController","request","response","form","IncomingForm","parse","error","fields","files","status","json","msg","username","email","password","age","gender","length","genSalt","salt","hash","hashedPassword","newAccount","userModel","save","savedAccount","console","log","account","isAccountEmail","includes","findOne","user","compare","isPasswordValid","token_payload","_id","token","sign","process","env","cookie_secret","expiresIn","findOneAndUpdate","$set","updatedAccount","newUsername","newAge","newGender","videoModel","updateMany","updatedVideo_username","findOneAndDelete","find","send","name","query","$regex"],"sourceRoot":"E:\\IT-PROJECT\\backend3\\src\\Controller\\","sources":["Auth.controller.js"],"sourcesContent":["import { IncomingForm } from 'formidable';\r\nimport { genSalt, hash, compare } from 'bcrypt';\r\nimport { config } from 'dotenv';\r\nimport { verify, sign } from 'jsonwebtoken';\r\nimport { userModel } from '../Models/User.model'\r\nimport { videoModel } from '../Models/Video.model'\r\nconfig()\r\n\r\nexport class AuthController {\r\n    //signup method\r\n    signup(request, response) {\r\n        const form = new IncomingForm();\r\n\r\n        form.parse(request, async (error, fields, files) => {\r\n            if (error) {\r\n                return response.status(500).json({ msg: 'Failed to create account, maybe try again later' })\r\n            }\r\n\r\n            const { username, email, password, age, gender } = fields;\r\n            if (password.length > 20 || password.length < 6) {  // password minimum length = 6, maximum length = 20\r\n                return response.status(503).json({ msg: 'Password length need to be 6-20 range' })\r\n\r\n            }\r\n            if (age > 150 || age < 0) {\r\n                return response.status(502).json({ msg: 'Invalid age' })\r\n            }\r\n            const salt = await genSalt(15);\r\n            const hashedPassword = await hash(password, salt);\r\n            const newAccount = new userModel({\r\n                username,\r\n                email,\r\n                password: hashedPassword,\r\n                age,\r\n                gender\r\n            })\r\n            // create an account successful or failed\r\n            try {\r\n                const savedAccount = await newAccount.save();\r\n                return response.status(201).json({ msg: 'Account created successfully' })\r\n            } catch (error) {\r\n                console.log(error)\r\n                return response.status(501).json({ msg: 'This account has been registered. Change email or username' })\r\n            }\r\n\r\n        })\r\n    }\r\n\r\n    // sign in\r\n    signin(request, response) {\r\n        const form = new IncomingForm();\r\n\r\n        form.parse(request, async (error, fields, files) => {\r\n            if (error) {\r\n                return response.status(500).json({ msg: 'Failed to signin' })\r\n            }\r\n            const { account, password } = fields;\r\n            // email log in \r\n            const isAccountEmail = account.includes('@');\r\n            if (isAccountEmail) {\r\n                const user = await userModel.findOne({ email: account });\r\n\r\n                if (!user) {\r\n                    return response.status(404).json({ msg: 'Email of this account does not exist' })\r\n                }\r\n                const isPasswordValid = await compare(password, user.password);  // hashed password\r\n                if (!isPasswordValid) {\r\n                    return response.status(400).json({ msg: 'Invalid password' })\r\n                }\r\n                const token_payload = {\r\n                    _id: user._id,\r\n                    email: user.email,\r\n                    username: user.username\r\n                }\r\n                const token = sign(token_payload, process.env.cookie_secret, { expiresIn: '365d' })\r\n                const username = token_payload.username;\r\n                return response.status(200).json({ token, username })\r\n\r\n            }\r\n            const user = await userModel.findOne({ username: account });\r\n\r\n            if (!user) {\r\n                return response.status(404).json({ msg: 'username of this account does not exist' })\r\n            }\r\n            const isPasswordValid = await compare(password, user.password);  // hashed password\r\n            if (!isPasswordValid) {\r\n                return response.status(400).json({ msg: 'Invalid password' })\r\n            }\r\n            const token_payload = {\r\n                _id: user._id,\r\n                email: user.email,\r\n                username: user.username\r\n            }\r\n            const token = sign(token_payload, process.env.cookie_secret, { expiresIn: '365d' })\r\n            const username = token_payload.username;\r\n            return response.status(200).json({ token, username })\r\n\r\n        })\r\n    }\r\n\r\n    // forgot password and reset\r\n    forgotPassword(request, response) {\r\n        const form = new IncomingForm();\r\n\r\n        form.parse(request, async (error, fields, files) => {\r\n            if (error) {\r\n                return response.status(500).json({ msg: 'Failed to rset password' })\r\n            }\r\n            const { email, password } = fields;\r\n\r\n            if (!email || !password) {\r\n                return response.status(400).json({ msg: 'email and password are required to reset password ' })\r\n            }\r\n            const salt = await genSalt(15);\r\n            const hashedPassword = await hash(password, salt)\r\n\r\n            try {\r\n                const user = await userModel.findOne({ email: email });\r\n                if (!user) {\r\n                    return response.status(404).json({ msg: 'Account with this email does not exist' })\r\n                }\r\n                /* const updatedAccount = await userModel.findOneAndUpdate({email:email}, {$set:{password: hashedPassword}}, {new:true})\r\n                 return response.status(200).json({msg:'Password rest successful'}) */\r\n                const updatedAccount = await userModel.findOneAndUpdate({ email: email }, { $set: { password: hashedPassword } }, { new: true })\r\n                return response.status(200).json({ msg: 'Password rest successful' })\r\n            } catch (error) {\r\n                return response.status(500).json({ msg: 'Failed to reset password' })\r\n            }\r\n        })\r\n    }\r\n\r\n    // updat user info such as username, password, age and gender via email.\r\n    update(request, response) {\r\n        const form = new IncomingForm();\r\n\r\n        form.parse(request, async (error, fields, files) => {\r\n            if (error) {\r\n                return response.status(500).json({ msg: 'Failed to update. Try again later' })\r\n            }\r\n            const { email, username, age, gender } = fields;\r\n            const newUsername = username\r\n            const newAge = age\r\n            const newGender = gender\r\n\r\n            try {\r\n                const user = await userModel.findOne({ email: email });\r\n                if (!user) {\r\n                    return response.status(404).json({ msg: 'Account with this email does not exist' })\r\n                }\r\n                /* const updatedAccount = await userModel.findOneAndUpdate({email:email}, {$set:{password: hashedPassword}}, {new:true})\r\n                 return response.status(200).json({msg:'Password rest successful'}) */\r\n                const updatedAccount = await userModel.findOneAndUpdate({ email: email }, { $set: { username: newUsername, age: newAge, gender: newGender } }, { new: true })\r\n                const updatedVideo_username = await videoModel.updateMany({ email: email }, { $set: { username: newUsername } }, { new: true })\r\n                return response.status(200).json({ msg: 'Edit successful' })\r\n            } catch (error) {\r\n                return response.status(500).json({ msg: 'Failed to update. Change email or username and try again' })\r\n            }\r\n        })\r\n    }\r\n\r\n    //delete user account\r\n    delete(request, response) {\r\n        const form = new IncomingForm();\r\n        form.parse(request, async (error, fields, files) => {\r\n            if (error) {\r\n                return response.status(500).json({ msg: 'Failed to delete account, maybe try again later' })\r\n            }\r\n            const { email } = fields;\r\n            try {\r\n                const user = await userModel.findOneAndDelete({ email: email });\r\n                return response.status(200).json({ msg: 'delete successful' })\r\n\r\n            } catch (error) {\r\n                return response.status(500).json({ msg: 'Failed to delete' })\r\n            }\r\n        })\r\n    }\r\n\r\n    // find all user\r\n    findAllUser(request, response) {\r\n        const form = new IncomingForm();\r\n\r\n        form.parse(request, async (error, fields, files) => {\r\n            if (error) {\r\n                return response.status(500).json({ msg: 'Failed to delete account, maybe try again later' })\r\n            }\r\n            try {\r\n                const user = await userModel.find()\r\n                return response.send(user)\r\n            } catch (error) {\r\n                return response.status(500).json({ msg: 'Failed find all users' })\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    // search for a user by request \r\n    async searchUser(request, response) {\r\n        const name = request.query.username;\r\n        try {\r\n            let user = await userModel.find({ username: { $regex: name } })\r\n            return response.send(user)\r\n        } catch (error) {\r\n            return response.status(500).json({ msg: 'No matching user' })\r\n        }\r\n    }\r\n\r\n\r\n}"],"mappings":"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"}},"mtime":1665921866344},"{\"assumptions\":{},\"sourceRoot\":\"E:\\\\IT-PROJECT\\\\backend3\\\\src\\\\Models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"E:\\\\IT-PROJECT\\\\backend3\",\"filename\":\"E:\\\\IT-PROJECT\\\\backend3\\\\src\\\\Models\\\\User.model.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"E:\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.userModel = void 0;\n\nvar _mongoose = require(\"mongoose\");\n\nvar uservalidator = function uservalidator(s) {\n  return /^[a-zA-Z0-9]{1,20}$/.test(s);\n};\n\nvar emailvalidator = function emailvalidator(s) {\n  return /^[a-z0-9@.-_]{6,40}$/.test(s);\n};\n\nvar agevalidator = function agevalidator(s) {\n  return /^[0-9]{1,3}$/.test(s);\n};\n\nvar userSchema = new _mongoose.Schema({\n  username: {\n    // username should be unique and no longer than 20 characters\n    type: String,\n    reuqired: [true, 'Username is required'],\n    unique: [true, 'Usename exist'],\n    validate: [uservalidator, 'Please enter less than 20 numbers and alphabets only']\n  },\n  email: {\n    // email should be be unique\n    type: String,\n    required: [true, 'Email is required to create an account'],\n    unique: [true, 'Account with this email already exist'],\n    validate: [emailvalidator, 'Please enter numbers, alphabets, and @ . - _ only']\n  },\n  password: {\n    type: String,\n    requried: [true, 'Password is required to create account']\n  },\n  age: {\n    // age should be within 0 - 120 range\n    type: Number,\n    requried: [true, 'Age is required to create an account'],\n    validate: [agevalidator, 'Please enter a number between 0-120']\n  },\n  gender: {\n    type: String,\n    \"enum\": [\"Male\", \"Female\", \"Prefer not to say\"],\n    required: true\n  },\n  videos: [{\n    type: _mongoose.Schema.Types.ObjectId,\n    ref: 'videos'\n  }]\n});\nvar userModel = (0, _mongoose.model)('user', userSchema);\nexports.userModel = userModel;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VydmFsaWRhdG9yIiwicyIsInRlc3QiLCJlbWFpbHZhbGlkYXRvciIsImFnZXZhbGlkYXRvciIsInVzZXJTY2hlbWEiLCJTY2hlbWEiLCJ1c2VybmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXVxaXJlZCIsInVuaXF1ZSIsInZhbGlkYXRlIiwiZW1haWwiLCJyZXF1aXJlZCIsInBhc3N3b3JkIiwicmVxdXJpZWQiLCJhZ2UiLCJOdW1iZXIiLCJnZW5kZXIiLCJ2aWRlb3MiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwidXNlck1vZGVsIiwibW9kZWwiXSwic291cmNlUm9vdCI6IkU6XFxJVC1QUk9KRUNUXFxiYWNrZW5kM1xcc3JjXFxNb2RlbHNcXCIsInNvdXJjZXMiOlsiVXNlci5tb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnR7IFNjaGVtYSwgbW9kZWx9IGZyb20gJ21vbmdvb3NlJztcclxuY29uc3QgdXNlcnZhbGlkYXRvciA9IChzKSA9PlxyXG4gICAgL15bYS16QS1aMC05XXsxLDIwfSQvLnRlc3QocylcclxuXHJcbmNvbnN0IGVtYWlsdmFsaWRhdG9yID0gKHMpID0+XHJcbiAgICAvXlthLXowLTlALi1fXXs2LDQwfSQvLnRlc3QocylcclxuXHJcbmNvbnN0IGFnZXZhbGlkYXRvciA9IChzKSA9PlxyXG4gICAgL15bMC05XXsxLDN9JC8udGVzdChzKVxyXG5cclxuY29uc3QgdXNlclNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gICAgdXNlcm5hbWU6eyAvLyB1c2VybmFtZSBzaG91bGQgYmUgdW5pcXVlIGFuZCBubyBsb25nZXIgdGhhbiAyMCBjaGFyYWN0ZXJzXHJcbiAgICAgICAgdHlwZTpTdHJpbmcsXHJcbiAgICAgICAgcmV1cWlyZWQ6IFt0cnVlLCAnVXNlcm5hbWUgaXMgcmVxdWlyZWQnXSxcclxuICAgICAgICB1bmlxdWU6W3RydWUsICdVc2VuYW1lIGV4aXN0J10sXHJcbiAgICAgICAgdmFsaWRhdGU6IFt1c2VydmFsaWRhdG9yLCAnUGxlYXNlIGVudGVyIGxlc3MgdGhhbiAyMCBudW1iZXJzIGFuZCBhbHBoYWJldHMgb25seSddXHJcbiAgICB9LFxyXG4gICAgZW1haWw6eyAvLyBlbWFpbCBzaG91bGQgYmUgYmUgdW5pcXVlXHJcbiAgICAgICAgdHlwZTpTdHJpbmcsXHJcbiAgICAgICAgcmVxdWlyZWQ6IFt0cnVlLCAnRW1haWwgaXMgcmVxdWlyZWQgdG8gY3JlYXRlIGFuIGFjY291bnQnXSxcclxuICAgICAgICB1bmlxdWU6W3RydWUsICdBY2NvdW50IHdpdGggdGhpcyBlbWFpbCBhbHJlYWR5IGV4aXN0J10sXHJcbiAgICAgICAgdmFsaWRhdGU6IFtlbWFpbHZhbGlkYXRvciwgJ1BsZWFzZSBlbnRlciBudW1iZXJzLCBhbHBoYWJldHMsIGFuZCBAIC4gLSBfIG9ubHknXVxyXG4gICAgfSxcclxuICAgIHBhc3N3b3JkOntcclxuICAgICAgICB0eXBlOlN0cmluZyxcclxuICAgICAgICByZXF1cmllZDpbdHJ1ZSwgJ1Bhc3N3b3JkIGlzIHJlcXVpcmVkIHRvIGNyZWF0ZSBhY2NvdW50J10sXHJcblxyXG4gICAgfSxcclxuICAgIGFnZTp7IC8vIGFnZSBzaG91bGQgYmUgd2l0aGluIDAgLSAxMjAgcmFuZ2VcclxuICAgICAgICB0eXBlOk51bWJlcixcclxuICAgICAgICByZXF1cmllZDpbdHJ1ZSwgJ0FnZSBpcyByZXF1aXJlZCB0byBjcmVhdGUgYW4gYWNjb3VudCddLFxyXG4gICAgICAgIHZhbGlkYXRlOiBbYWdldmFsaWRhdG9yLCAnUGxlYXNlIGVudGVyIGEgbnVtYmVyIGJldHdlZW4gMC0xMjAnXVxyXG5cclxuICAgIH0sXHJcbiAgICBnZW5kZXI6e1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICBlbnVtOiBbXCJNYWxlXCIsIFwiRmVtYWxlXCIsIFwiUHJlZmVyIG5vdCB0byBzYXlcIl0sXHJcbiAgICAgICAgcmVxdWlyZWQ6IHRydWVcclxuICAgIH0sXHJcbiAgICB2aWRlb3M6W1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdHlwZTpTY2hlbWEuVHlwZXMuT2JqZWN0SWQsXHJcbiAgICAgICAgICAgIHJlZjondmlkZW9zJ1xyXG4gICAgICAgIH1cclxuICAgIF0sXHJcblxyXG5cclxuXHJcbiAgICAgXHJcbn0pXHJcbmV4cG9ydCBjb25zdCB1c2VyTW9kZWwgPSBtb2RlbCgndXNlcicsIHVzZXJTY2hlbWEpXHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBLElBQU1BLGFBQWEsR0FBRyxTQUFoQkEsYUFBZ0IsQ0FBQ0MsQ0FBRDtFQUFBLE9BQ2xCLHNCQUFzQkMsSUFBdEIsQ0FBMkJELENBQTNCLENBRGtCO0FBQUEsQ0FBdEI7O0FBR0EsSUFBTUUsY0FBYyxHQUFHLFNBQWpCQSxjQUFpQixDQUFDRixDQUFEO0VBQUEsT0FDbkIsdUJBQXVCQyxJQUF2QixDQUE0QkQsQ0FBNUIsQ0FEbUI7QUFBQSxDQUF2Qjs7QUFHQSxJQUFNRyxZQUFZLEdBQUcsU0FBZkEsWUFBZSxDQUFDSCxDQUFEO0VBQUEsT0FDakIsZUFBZUMsSUFBZixDQUFvQkQsQ0FBcEIsQ0FEaUI7QUFBQSxDQUFyQjs7QUFHQSxJQUFNSSxVQUFVLEdBQUcsSUFBSUMsZ0JBQUosQ0FBVztFQUMxQkMsUUFBUSxFQUFDO0lBQUU7SUFDUEMsSUFBSSxFQUFDQyxNQURBO0lBRUxDLFFBQVEsRUFBRSxDQUFDLElBQUQsRUFBTyxzQkFBUCxDQUZMO0lBR0xDLE1BQU0sRUFBQyxDQUFDLElBQUQsRUFBTyxlQUFQLENBSEY7SUFJTEMsUUFBUSxFQUFFLENBQUNaLGFBQUQsRUFBZ0Isc0RBQWhCO0VBSkwsQ0FEaUI7RUFPMUJhLEtBQUssRUFBQztJQUFFO0lBQ0pMLElBQUksRUFBQ0MsTUFESDtJQUVGSyxRQUFRLEVBQUUsQ0FBQyxJQUFELEVBQU8sd0NBQVAsQ0FGUjtJQUdGSCxNQUFNLEVBQUMsQ0FBQyxJQUFELEVBQU8sdUNBQVAsQ0FITDtJQUlGQyxRQUFRLEVBQUUsQ0FBQ1QsY0FBRCxFQUFpQixtREFBakI7RUFKUixDQVBvQjtFQWExQlksUUFBUSxFQUFDO0lBQ0xQLElBQUksRUFBQ0MsTUFEQTtJQUVMTyxRQUFRLEVBQUMsQ0FBQyxJQUFELEVBQU8sd0NBQVA7RUFGSixDQWJpQjtFQWtCMUJDLEdBQUcsRUFBQztJQUFFO0lBQ0ZULElBQUksRUFBQ1UsTUFETDtJQUVBRixRQUFRLEVBQUMsQ0FBQyxJQUFELEVBQU8sc0NBQVAsQ0FGVDtJQUdBSixRQUFRLEVBQUUsQ0FBQ1IsWUFBRCxFQUFlLHFDQUFmO0VBSFYsQ0FsQnNCO0VBd0IxQmUsTUFBTSxFQUFDO0lBQ0hYLElBQUksRUFBRUMsTUFESDtJQUVILFFBQU0sQ0FBQyxNQUFELEVBQVMsUUFBVCxFQUFtQixtQkFBbkIsQ0FGSDtJQUdISyxRQUFRLEVBQUU7RUFIUCxDQXhCbUI7RUE2QjFCTSxNQUFNLEVBQUMsQ0FDSDtJQUNJWixJQUFJLEVBQUNGLGdCQUFBLENBQU9lLEtBQVAsQ0FBYUMsUUFEdEI7SUFFSUMsR0FBRyxFQUFDO0VBRlIsQ0FERztBQTdCbUIsQ0FBWCxDQUFuQjtBQXdDTyxJQUFNQyxTQUFTLEdBQUcsSUFBQUMsZUFBQSxFQUFNLE1BQU4sRUFBY3BCLFVBQWQsQ0FBbEIifQ==","map":{"version":3,"names":["uservalidator","s","test","emailvalidator","agevalidator","userSchema","Schema","username","type","String","reuqired","unique","validate","email","required","password","requried","age","Number","gender","videos","Types","ObjectId","ref","userModel","model"],"sourceRoot":"E:\\IT-PROJECT\\backend3\\src\\Models\\","sources":["User.model.js"],"sourcesContent":["import{ Schema, model} from 'mongoose';\r\nconst uservalidator = (s) =>\r\n    /^[a-zA-Z0-9]{1,20}$/.test(s)\r\n\r\nconst emailvalidator = (s) =>\r\n    /^[a-z0-9@.-_]{6,40}$/.test(s)\r\n\r\nconst agevalidator = (s) =>\r\n    /^[0-9]{1,3}$/.test(s)\r\n\r\nconst userSchema = new Schema({\r\n    username:{ // username should be unique and no longer than 20 characters\r\n        type:String,\r\n        reuqired: [true, 'Username is required'],\r\n        unique:[true, 'Usename exist'],\r\n        validate: [uservalidator, 'Please enter less than 20 numbers and alphabets only']\r\n    },\r\n    email:{ // email should be be unique\r\n        type:String,\r\n        required: [true, 'Email is required to create an account'],\r\n        unique:[true, 'Account with this email already exist'],\r\n        validate: [emailvalidator, 'Please enter numbers, alphabets, and @ . - _ only']\r\n    },\r\n    password:{\r\n        type:String,\r\n        requried:[true, 'Password is required to create account'],\r\n\r\n    },\r\n    age:{ // age should be within 0 - 120 range\r\n        type:Number,\r\n        requried:[true, 'Age is required to create an account'],\r\n        validate: [agevalidator, 'Please enter a number between 0-120']\r\n\r\n    },\r\n    gender:{\r\n        type: String,\r\n        enum: [\"Male\", \"Female\", \"Prefer not to say\"],\r\n        required: true\r\n    },\r\n    videos:[\r\n        {\r\n            type:Schema.Types.ObjectId,\r\n            ref:'videos'\r\n        }\r\n    ],\r\n\r\n\r\n\r\n     \r\n})\r\nexport const userModel = model('user', userSchema)\r\n"],"mappings":";;;;;;;AAAA;;AACA,IAAMA,aAAa,GAAG,SAAhBA,aAAgB,CAACC,CAAD;EAAA,OAClB,sBAAsBC,IAAtB,CAA2BD,CAA3B,CADkB;AAAA,CAAtB;;AAGA,IAAME,cAAc,GAAG,SAAjBA,cAAiB,CAACF,CAAD;EAAA,OACnB,uBAAuBC,IAAvB,CAA4BD,CAA5B,CADmB;AAAA,CAAvB;;AAGA,IAAMG,YAAY,GAAG,SAAfA,YAAe,CAACH,CAAD;EAAA,OACjB,eAAeC,IAAf,CAAoBD,CAApB,CADiB;AAAA,CAArB;;AAGA,IAAMI,UAAU,GAAG,IAAIC,gBAAJ,CAAW;EAC1BC,QAAQ,EAAC;IAAE;IACPC,IAAI,EAACC,MADA;IAELC,QAAQ,EAAE,CAAC,IAAD,EAAO,sBAAP,CAFL;IAGLC,MAAM,EAAC,CAAC,IAAD,EAAO,eAAP,CAHF;IAILC,QAAQ,EAAE,CAACZ,aAAD,EAAgB,sDAAhB;EAJL,CADiB;EAO1Ba,KAAK,EAAC;IAAE;IACJL,IAAI,EAACC,MADH;IAEFK,QAAQ,EAAE,CAAC,IAAD,EAAO,wCAAP,CAFR;IAGFH,MAAM,EAAC,CAAC,IAAD,EAAO,uCAAP,CAHL;IAIFC,QAAQ,EAAE,CAACT,cAAD,EAAiB,mDAAjB;EAJR,CAPoB;EAa1BY,QAAQ,EAAC;IACLP,IAAI,EAACC,MADA;IAELO,QAAQ,EAAC,CAAC,IAAD,EAAO,wCAAP;EAFJ,CAbiB;EAkB1BC,GAAG,EAAC;IAAE;IACFT,IAAI,EAACU,MADL;IAEAF,QAAQ,EAAC,CAAC,IAAD,EAAO,sCAAP,CAFT;IAGAJ,QAAQ,EAAE,CAACR,YAAD,EAAe,qCAAf;EAHV,CAlBsB;EAwB1Be,MAAM,EAAC;IACHX,IAAI,EAAEC,MADH;IAEH,QAAM,CAAC,MAAD,EAAS,QAAT,EAAmB,mBAAnB,CAFH;IAGHK,QAAQ,EAAE;EAHP,CAxBmB;EA6B1BM,MAAM,EAAC,CACH;IACIZ,IAAI,EAACF,gBAAA,CAAOe,KAAP,CAAaC,QADtB;IAEIC,GAAG,EAAC;EAFR,CADG;AA7BmB,CAAX,CAAnB;AAwCO,IAAMC,SAAS,GAAG,IAAAC,eAAA,EAAM,MAAN,EAAcpB,UAAd,CAAlB"}},"mtime":1665405301909},"{\"assumptions\":{},\"sourceRoot\":\"E:\\\\IT-PROJECT\\\\backend3\\\\src\\\\Models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"E:\\\\IT-PROJECT\\\\backend3\",\"filename\":\"E:\\\\IT-PROJECT\\\\backend3\\\\src\\\\Models\\\\Video.model.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"E:\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.videoModel = void 0;\n\nvar _mongoose = require(\"mongoose\");\n\nvar videoSchema = new _mongoose.Schema({\n  owner: {\n    type: _mongoose.Schema.Types.ObjectId,\n    ref: 'user'\n  },\n  username: {\n    type: String\n  },\n  name: {\n    type: String,\n    required: [true, 'Upload video needs a video name']\n  },\n  videopath: {\n    type: String,\n    required: [true, 'Upload video needs a video path'],\n    unique: [true, 'Video path already exist']\n  },\n  category: {\n    type: String,\n    \"enum\": [\"Sports\", \"News\", \"Technology\", \"Music\", \"Games\", \"Fashion\", \"Pet\", \"Travel\", \"Others\"],\n    required: true\n  },\n  likes: {\n    type: Number,\n    \"default\": 0\n  },\n  dislikes: {\n    type: Number,\n    \"default\": 0\n  },\n  views: {\n    type: Array,\n    \"default\": []\n  },\n  comments: {\n    type: Array,\n    \"default\": []\n  }\n});\nvar videoModel = (0, _mongoose.model)('video', videoSchema);\nexports.videoModel = videoModel;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ2aWRlb1NjaGVtYSIsIlNjaGVtYSIsIm93bmVyIiwidHlwZSIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJ1c2VybmFtZSIsIlN0cmluZyIsIm5hbWUiLCJyZXF1aXJlZCIsInZpZGVvcGF0aCIsInVuaXF1ZSIsImNhdGVnb3J5IiwibGlrZXMiLCJOdW1iZXIiLCJkaXNsaWtlcyIsInZpZXdzIiwiQXJyYXkiLCJjb21tZW50cyIsInZpZGVvTW9kZWwiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiRTpcXElULVBST0pFQ1RcXGJhY2tlbmQzXFxzcmNcXE1vZGVsc1xcIiwic291cmNlcyI6WyJWaWRlby5tb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTY2hlbWEsIG1vZGVsIH0gZnJvbSAnbW9uZ29vc2UnXHJcblxyXG5jb25zdCB2aWRlb1NjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gICAgb3duZXI6IHtcclxuICAgICAgICB0eXBlOiBTY2hlbWEuVHlwZXMuT2JqZWN0SWQsXHJcbiAgICAgICAgcmVmOiAndXNlcidcclxuICAgIH0sXHJcbiAgICB1c2VybmFtZToge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgIH0sXHJcbiAgICBuYW1lOiB7XHJcbiAgICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICAgIHJlcXVpcmVkOiBbdHJ1ZSwgJ1VwbG9hZCB2aWRlbyBuZWVkcyBhIHZpZGVvIG5hbWUnXVxyXG4gICAgfSxcclxuICAgIHZpZGVvcGF0aDoge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICByZXF1aXJlZDogW3RydWUsICdVcGxvYWQgdmlkZW8gbmVlZHMgYSB2aWRlbyBwYXRoJ10sXHJcbiAgICAgICAgdW5pcXVlOiBbdHJ1ZSwgJ1ZpZGVvIHBhdGggYWxyZWFkeSBleGlzdCddXHJcbiAgICB9LFxyXG4gICAgY2F0ZWdvcnk6IHtcclxuICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgZW51bTogW1wiU3BvcnRzXCIsIFwiTmV3c1wiLCBcIlRlY2hub2xvZ3lcIiwgXCJNdXNpY1wiLCBcIkdhbWVzXCIsIFwiRmFzaGlvblwiLCBcIlBldFwiLCBcIlRyYXZlbFwiLCBcIk90aGVyc1wiXSxcclxuICAgICAgICByZXF1aXJlZDogdHJ1ZVxyXG4gICAgfSxcclxuICAgIGxpa2VzOiB7XHJcbiAgICAgICAgdHlwZTogTnVtYmVyLFxyXG4gICAgICAgIGRlZmF1bHQ6IDBcclxuICAgIH0sXHJcbiAgICBkaXNsaWtlczoge1xyXG4gICAgICAgIHR5cGU6IE51bWJlcixcclxuICAgICAgICBkZWZhdWx0OiAwXHJcbiAgICB9LFxyXG4gICAgdmlld3M6IHtcclxuICAgICAgICB0eXBlOiBBcnJheSxcclxuICAgICAgICBkZWZhdWx0OiBbXVxyXG4gICAgfSxcclxuICAgIGNvbW1lbnRzOiB7XHJcbiAgICAgICAgdHlwZTogQXJyYXksXHJcbiAgICAgICAgZGVmYXVsdDogW11cclxuICAgIH1cclxuXHJcbn0pXHJcbmV4cG9ydCBjb25zdCB2aWRlb01vZGVsID0gbW9kZWwoJ3ZpZGVvJywgdmlkZW9TY2hlbWEpIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBRUEsSUFBTUEsV0FBVyxHQUFHLElBQUlDLGdCQUFKLENBQVc7RUFDM0JDLEtBQUssRUFBRTtJQUNIQyxJQUFJLEVBQUVGLGdCQUFBLENBQU9HLEtBQVAsQ0FBYUMsUUFEaEI7SUFFSEMsR0FBRyxFQUFFO0VBRkYsQ0FEb0I7RUFLM0JDLFFBQVEsRUFBRTtJQUNOSixJQUFJLEVBQUVLO0VBREEsQ0FMaUI7RUFRM0JDLElBQUksRUFBRTtJQUNGTixJQUFJLEVBQUVLLE1BREo7SUFFRkUsUUFBUSxFQUFFLENBQUMsSUFBRCxFQUFPLGlDQUFQO0VBRlIsQ0FScUI7RUFZM0JDLFNBQVMsRUFBRTtJQUNQUixJQUFJLEVBQUVLLE1BREM7SUFFUEUsUUFBUSxFQUFFLENBQUMsSUFBRCxFQUFPLGlDQUFQLENBRkg7SUFHUEUsTUFBTSxFQUFFLENBQUMsSUFBRCxFQUFPLDBCQUFQO0VBSEQsQ0FaZ0I7RUFpQjNCQyxRQUFRLEVBQUU7SUFDTlYsSUFBSSxFQUFFSyxNQURBO0lBRU4sUUFBTSxDQUFDLFFBQUQsRUFBVyxNQUFYLEVBQW1CLFlBQW5CLEVBQWlDLE9BQWpDLEVBQTBDLE9BQTFDLEVBQW1ELFNBQW5ELEVBQThELEtBQTlELEVBQXFFLFFBQXJFLEVBQStFLFFBQS9FLENBRkE7SUFHTkUsUUFBUSxFQUFFO0VBSEosQ0FqQmlCO0VBc0IzQkksS0FBSyxFQUFFO0lBQ0hYLElBQUksRUFBRVksTUFESDtJQUVILFdBQVM7RUFGTixDQXRCb0I7RUEwQjNCQyxRQUFRLEVBQUU7SUFDTmIsSUFBSSxFQUFFWSxNQURBO0lBRU4sV0FBUztFQUZILENBMUJpQjtFQThCM0JFLEtBQUssRUFBRTtJQUNIZCxJQUFJLEVBQUVlLEtBREg7SUFFSCxXQUFTO0VBRk4sQ0E5Qm9CO0VBa0MzQkMsUUFBUSxFQUFFO0lBQ05oQixJQUFJLEVBQUVlLEtBREE7SUFFTixXQUFTO0VBRkg7QUFsQ2lCLENBQVgsQ0FBcEI7QUF3Q08sSUFBTUUsVUFBVSxHQUFHLElBQUFDLGVBQUEsRUFBTSxPQUFOLEVBQWVyQixXQUFmLENBQW5CIn0=","map":{"version":3,"names":["videoSchema","Schema","owner","type","Types","ObjectId","ref","username","String","name","required","videopath","unique","category","likes","Number","dislikes","views","Array","comments","videoModel","model"],"sourceRoot":"E:\\IT-PROJECT\\backend3\\src\\Models\\","sources":["Video.model.js"],"sourcesContent":["import { Schema, model } from 'mongoose'\r\n\r\nconst videoSchema = new Schema({\r\n    owner: {\r\n        type: Schema.Types.ObjectId,\r\n        ref: 'user'\r\n    },\r\n    username: {\r\n        type: String,\r\n    },\r\n    name: {\r\n        type: String,\r\n        required: [true, 'Upload video needs a video name']\r\n    },\r\n    videopath: {\r\n        type: String,\r\n        required: [true, 'Upload video needs a video path'],\r\n        unique: [true, 'Video path already exist']\r\n    },\r\n    category: {\r\n        type: String,\r\n        enum: [\"Sports\", \"News\", \"Technology\", \"Music\", \"Games\", \"Fashion\", \"Pet\", \"Travel\", \"Others\"],\r\n        required: true\r\n    },\r\n    likes: {\r\n        type: Number,\r\n        default: 0\r\n    },\r\n    dislikes: {\r\n        type: Number,\r\n        default: 0\r\n    },\r\n    views: {\r\n        type: Array,\r\n        default: []\r\n    },\r\n    comments: {\r\n        type: Array,\r\n        default: []\r\n    }\r\n\r\n})\r\nexport const videoModel = model('video', videoSchema)"],"mappings":";;;;;;;AAAA;;AAEA,IAAMA,WAAW,GAAG,IAAIC,gBAAJ,CAAW;EAC3BC,KAAK,EAAE;IACHC,IAAI,EAAEF,gBAAA,CAAOG,KAAP,CAAaC,QADhB;IAEHC,GAAG,EAAE;EAFF,CADoB;EAK3BC,QAAQ,EAAE;IACNJ,IAAI,EAAEK;EADA,CALiB;EAQ3BC,IAAI,EAAE;IACFN,IAAI,EAAEK,MADJ;IAEFE,QAAQ,EAAE,CAAC,IAAD,EAAO,iCAAP;EAFR,CARqB;EAY3BC,SAAS,EAAE;IACPR,IAAI,EAAEK,MADC;IAEPE,QAAQ,EAAE,CAAC,IAAD,EAAO,iCAAP,CAFH;IAGPE,MAAM,EAAE,CAAC,IAAD,EAAO,0BAAP;EAHD,CAZgB;EAiB3BC,QAAQ,EAAE;IACNV,IAAI,EAAEK,MADA;IAEN,QAAM,CAAC,QAAD,EAAW,MAAX,EAAmB,YAAnB,EAAiC,OAAjC,EAA0C,OAA1C,EAAmD,SAAnD,EAA8D,KAA9D,EAAqE,QAArE,EAA+E,QAA/E,CAFA;IAGNE,QAAQ,EAAE;EAHJ,CAjBiB;EAsB3BI,KAAK,EAAE;IACHX,IAAI,EAAEY,MADH;IAEH,WAAS;EAFN,CAtBoB;EA0B3BC,QAAQ,EAAE;IACNb,IAAI,EAAEY,MADA;IAEN,WAAS;EAFH,CA1BiB;EA8B3BE,KAAK,EAAE;IACHd,IAAI,EAAEe,KADH;IAEH,WAAS;EAFN,CA9BoB;EAkC3BC,QAAQ,EAAE;IACNhB,IAAI,EAAEe,KADA;IAEN,WAAS;EAFH;AAlCiB,CAAX,CAApB;AAwCO,IAAME,UAAU,GAAG,IAAAC,eAAA,EAAM,OAAN,EAAerB,WAAf,CAAnB"}},"mtime":1665921866345},"{\"assumptions\":{},\"sourceRoot\":\"E:\\\\IT-PROJECT\\\\backend3\\\\src\\\\Routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"E:\\\\IT-PROJECT\\\\backend3\",\"filename\":\"E:\\\\IT-PROJECT\\\\backend3\\\\src\\\\Routes\\\\Video.routes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"E:\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _express = require(\"express\");\n\nvar _Authenticate = require(\"../Middlewares/Authenticate.middleware\");\n\nvar _Video = require(\"../Middlewares/Video.middleware\");\n\nvar _bodyParser = require(\"body-parser\");\n\nvar _Video2 = require(\"../Controller/Video.controller\");\n\nvar router = (0, _express.Router)();\nvar Controller = new _Video2.VideoController(); //after upload work, next step is save to mongo db\n\nrouter.post('/api/video', (0, _bodyParser.json)(), _Authenticate.Authenticate, _Video.videoUpload.single('video'), function (request, response) {\n  Controller.upload(request, response);\n}); // video stream\n\nrouter.get('/api/video/:filename', function (request, response) {\n  Controller.stream(request, response);\n}); // like a video\n\nrouter.get('/api/video-like/', function (request, response) {\n  Controller.like(request, response);\n}); // dislike a video\n\nrouter.get('/api/video-dislike/', function (request, response) {\n  Controller.dislike(request, response);\n}); // search for a video\n\nrouter.get('/api/video-search/', function (request, response) {\n  Controller.searchVideo(request, response);\n}); // delete a video\n\nrouter[\"delete\"]('/api/video/', function (request, response) {\n  Controller[\"delete\"](request, response);\n}); // search for video under certain user\n\nrouter.get('/api/user-video-search/', function (request, response) {\n  Controller.searchUVideo(request, response);\n}); // search for video under certain category\n\nrouter.get('/api/cat-search/', function (request, response) {\n  Controller.searchCat(request, response);\n}); //find all videos and return \n\nrouter.get('/api/findallV', function (request, response) {\n  Controller.findAllVideo(request, response);\n});\nrouter[\"delete\"]('/api/user-video-delete/', function (request, response) {\n  Controller.delete_user_all_videos(request, response);\n});\nvar _default = router;\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJSb3V0ZXIiLCJDb250cm9sbGVyIiwiVmlkZW9Db250cm9sbGVyIiwicG9zdCIsImpzb24iLCJBdXRoZW50aWNhdGUiLCJ2aWRlb1VwbG9hZCIsInNpbmdsZSIsInJlcXVlc3QiLCJyZXNwb25zZSIsInVwbG9hZCIsImdldCIsInN0cmVhbSIsImxpa2UiLCJkaXNsaWtlIiwic2VhcmNoVmlkZW8iLCJzZWFyY2hVVmlkZW8iLCJzZWFyY2hDYXQiLCJmaW5kQWxsVmlkZW8iLCJkZWxldGVfdXNlcl9hbGxfdmlkZW9zIl0sInNvdXJjZVJvb3QiOiJFOlxcSVQtUFJPSkVDVFxcYmFja2VuZDNcXHNyY1xcUm91dGVzXFwiLCJzb3VyY2VzIjpbIlZpZGVvLnJvdXRlcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByZXNwb25zZSwgUm91dGVyIH0gZnJvbSAnZXhwcmVzcyc7XHJcbmltcG9ydCB7IEF1dGhlbnRpY2F0ZSB9IGZyb20gJy4uL01pZGRsZXdhcmVzL0F1dGhlbnRpY2F0ZS5taWRkbGV3YXJlJztcclxuaW1wb3J0IHsgdmlkZW9VcGxvYWQgfSBmcm9tICcuLi9NaWRkbGV3YXJlcy9WaWRlby5taWRkbGV3YXJlJztcclxuaW1wb3J0IHsganNvbiB9IGZyb20gJ2JvZHktcGFyc2VyJ1xyXG5pbXBvcnQgeyBWaWRlb0NvbnRyb2xsZXIgfSBmcm9tICcuLi9Db250cm9sbGVyL1ZpZGVvLmNvbnRyb2xsZXInXHJcblxyXG5jb25zdCByb3V0ZXIgPSBSb3V0ZXIoKTtcclxuY29uc3QgQ29udHJvbGxlciA9IG5ldyBWaWRlb0NvbnRyb2xsZXIoKTtcclxuLy9hZnRlciB1cGxvYWQgd29yaywgbmV4dCBzdGVwIGlzIHNhdmUgdG8gbW9uZ28gZGJcclxucm91dGVyLnBvc3QoJy9hcGkvdmlkZW8nLCBqc29uKCksIEF1dGhlbnRpY2F0ZSwgdmlkZW9VcGxvYWQuc2luZ2xlKCd2aWRlbycpLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgIENvbnRyb2xsZXIudXBsb2FkKHJlcXVlc3QsIHJlc3BvbnNlKVxyXG59KVxyXG5cclxuLy8gdmlkZW8gc3RyZWFtXHJcbnJvdXRlci5nZXQoJy9hcGkvdmlkZW8vOmZpbGVuYW1lJywgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XHJcbiAgICBDb250cm9sbGVyLnN0cmVhbShyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcbi8vIGxpa2UgYSB2aWRlb1xyXG5yb3V0ZXIuZ2V0KCcvYXBpL3ZpZGVvLWxpa2UvJywgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XHJcbiAgICBDb250cm9sbGVyLmxpa2UocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG5cclxuLy8gZGlzbGlrZSBhIHZpZGVvXHJcbnJvdXRlci5nZXQoJy9hcGkvdmlkZW8tZGlzbGlrZS8nLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgIENvbnRyb2xsZXIuZGlzbGlrZShyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcbi8vIHNlYXJjaCBmb3IgYSB2aWRlb1xyXG5yb3V0ZXIuZ2V0KCcvYXBpL3ZpZGVvLXNlYXJjaC8nLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgIENvbnRyb2xsZXIuc2VhcmNoVmlkZW8ocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG4vLyBkZWxldGUgYSB2aWRlb1xyXG5yb3V0ZXIuZGVsZXRlKCcvYXBpL3ZpZGVvLycsIChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xyXG4gICAgQ29udHJvbGxlci5kZWxldGUocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG4vLyBzZWFyY2ggZm9yIHZpZGVvIHVuZGVyIGNlcnRhaW4gdXNlclxyXG5yb3V0ZXIuZ2V0KCcvYXBpL3VzZXItdmlkZW8tc2VhcmNoLycsIChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xyXG4gICAgQ29udHJvbGxlci5zZWFyY2hVVmlkZW8ocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG4vLyBzZWFyY2ggZm9yIHZpZGVvIHVuZGVyIGNlcnRhaW4gY2F0ZWdvcnlcclxucm91dGVyLmdldCgnL2FwaS9jYXQtc2VhcmNoLycsIChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xyXG4gICAgQ29udHJvbGxlci5zZWFyY2hDYXQocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG4vL2ZpbmQgYWxsIHZpZGVvcyBhbmQgcmV0dXJuIFxyXG5yb3V0ZXIuZ2V0KCcvYXBpL2ZpbmRhbGxWJywgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XHJcbiAgICBDb250cm9sbGVyLmZpbmRBbGxWaWRlbyhyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcbnJvdXRlci5kZWxldGUoJy9hcGkvdXNlci12aWRlby1kZWxldGUvJywgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XHJcbiAgICBDb250cm9sbGVyLmRlbGV0ZV91c2VyX2FsbF92aWRlb3MocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBRUEsSUFBTUEsTUFBTSxHQUFHLElBQUFDLGVBQUEsR0FBZjtBQUNBLElBQU1DLFVBQVUsR0FBRyxJQUFJQyx1QkFBSixFQUFuQixDLENBQ0E7O0FBQ0FILE1BQU0sQ0FBQ0ksSUFBUCxDQUFZLFlBQVosRUFBMEIsSUFBQUMsZ0JBQUEsR0FBMUIsRUFBa0NDLDBCQUFsQyxFQUFnREMsa0JBQUEsQ0FBWUMsTUFBWixDQUFtQixPQUFuQixDQUFoRCxFQUE2RSxVQUFDQyxPQUFELEVBQVVDLFFBQVYsRUFBdUI7RUFDaEdSLFVBQVUsQ0FBQ1MsTUFBWCxDQUFrQkYsT0FBbEIsRUFBMkJDLFFBQTNCO0FBQ0gsQ0FGRCxFLENBSUE7O0FBQ0FWLE1BQU0sQ0FBQ1ksR0FBUCxDQUFXLHNCQUFYLEVBQW1DLFVBQUNILE9BQUQsRUFBVUMsUUFBVixFQUF1QjtFQUN0RFIsVUFBVSxDQUFDVyxNQUFYLENBQWtCSixPQUFsQixFQUEyQkMsUUFBM0I7QUFDSCxDQUZELEUsQ0FJQTs7QUFDQVYsTUFBTSxDQUFDWSxHQUFQLENBQVcsa0JBQVgsRUFBK0IsVUFBQ0gsT0FBRCxFQUFVQyxRQUFWLEVBQXVCO0VBQ2xEUixVQUFVLENBQUNZLElBQVgsQ0FBZ0JMLE9BQWhCLEVBQXlCQyxRQUF6QjtBQUNILENBRkQsRSxDQUtBOztBQUNBVixNQUFNLENBQUNZLEdBQVAsQ0FBVyxxQkFBWCxFQUFrQyxVQUFDSCxPQUFELEVBQVVDLFFBQVYsRUFBdUI7RUFDckRSLFVBQVUsQ0FBQ2EsT0FBWCxDQUFtQk4sT0FBbkIsRUFBNEJDLFFBQTVCO0FBQ0gsQ0FGRCxFLENBSUE7O0FBQ0FWLE1BQU0sQ0FBQ1ksR0FBUCxDQUFXLG9CQUFYLEVBQWlDLFVBQUNILE9BQUQsRUFBVUMsUUFBVixFQUF1QjtFQUNwRFIsVUFBVSxDQUFDYyxXQUFYLENBQXVCUCxPQUF2QixFQUFnQ0MsUUFBaEM7QUFDSCxDQUZELEUsQ0FJQTs7QUFDQVYsTUFBTSxVQUFOLENBQWMsYUFBZCxFQUE2QixVQUFDUyxPQUFELEVBQVVDLFFBQVYsRUFBdUI7RUFDaERSLFVBQVUsVUFBVixDQUFrQk8sT0FBbEIsRUFBMkJDLFFBQTNCO0FBQ0gsQ0FGRCxFLENBSUE7O0FBQ0FWLE1BQU0sQ0FBQ1ksR0FBUCxDQUFXLHlCQUFYLEVBQXNDLFVBQUNILE9BQUQsRUFBVUMsUUFBVixFQUF1QjtFQUN6RFIsVUFBVSxDQUFDZSxZQUFYLENBQXdCUixPQUF4QixFQUFpQ0MsUUFBakM7QUFDSCxDQUZELEUsQ0FJQTs7QUFDQVYsTUFBTSxDQUFDWSxHQUFQLENBQVcsa0JBQVgsRUFBK0IsVUFBQ0gsT0FBRCxFQUFVQyxRQUFWLEVBQXVCO0VBQ2xEUixVQUFVLENBQUNnQixTQUFYLENBQXFCVCxPQUFyQixFQUE4QkMsUUFBOUI7QUFDSCxDQUZELEUsQ0FJQTs7QUFDQVYsTUFBTSxDQUFDWSxHQUFQLENBQVcsZUFBWCxFQUE0QixVQUFDSCxPQUFELEVBQVVDLFFBQVYsRUFBdUI7RUFDL0NSLFVBQVUsQ0FBQ2lCLFlBQVgsQ0FBd0JWLE9BQXhCLEVBQWlDQyxRQUFqQztBQUNILENBRkQ7QUFJQVYsTUFBTSxVQUFOLENBQWMseUJBQWQsRUFBeUMsVUFBQ1MsT0FBRCxFQUFVQyxRQUFWLEVBQXVCO0VBQzVEUixVQUFVLENBQUNrQixzQkFBWCxDQUFrQ1gsT0FBbEMsRUFBMkNDLFFBQTNDO0FBQ0gsQ0FGRDtlQUllVixNIn0=","map":{"version":3,"names":["router","Router","Controller","VideoController","post","json","Authenticate","videoUpload","single","request","response","upload","get","stream","like","dislike","searchVideo","searchUVideo","searchCat","findAllVideo","delete_user_all_videos"],"sourceRoot":"E:\\IT-PROJECT\\backend3\\src\\Routes\\","sources":["Video.routes.js"],"sourcesContent":["import { response, Router } from 'express';\r\nimport { Authenticate } from '../Middlewares/Authenticate.middleware';\r\nimport { videoUpload } from '../Middlewares/Video.middleware';\r\nimport { json } from 'body-parser'\r\nimport { VideoController } from '../Controller/Video.controller'\r\n\r\nconst router = Router();\r\nconst Controller = new VideoController();\r\n//after upload work, next step is save to mongo db\r\nrouter.post('/api/video', json(), Authenticate, videoUpload.single('video'), (request, response) => {\r\n    Controller.upload(request, response)\r\n})\r\n\r\n// video stream\r\nrouter.get('/api/video/:filename', (request, response) => {\r\n    Controller.stream(request, response)\r\n})\r\n\r\n// like a video\r\nrouter.get('/api/video-like/', (request, response) => {\r\n    Controller.like(request, response)\r\n})\r\n\r\n\r\n// dislike a video\r\nrouter.get('/api/video-dislike/', (request, response) => {\r\n    Controller.dislike(request, response)\r\n})\r\n\r\n// search for a video\r\nrouter.get('/api/video-search/', (request, response) => {\r\n    Controller.searchVideo(request, response)\r\n})\r\n\r\n// delete a video\r\nrouter.delete('/api/video/', (request, response) => {\r\n    Controller.delete(request, response)\r\n})\r\n\r\n// search for video under certain user\r\nrouter.get('/api/user-video-search/', (request, response) => {\r\n    Controller.searchUVideo(request, response)\r\n})\r\n\r\n// search for video under certain category\r\nrouter.get('/api/cat-search/', (request, response) => {\r\n    Controller.searchCat(request, response)\r\n})\r\n\r\n//find all videos and return \r\nrouter.get('/api/findallV', (request, response) => {\r\n    Controller.findAllVideo(request, response)\r\n})\r\n\r\nrouter.delete('/api/user-video-delete/', (request, response) => {\r\n    Controller.delete_user_all_videos(request, response)\r\n})\r\n\r\nexport default router;"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AAEA,IAAMA,MAAM,GAAG,IAAAC,eAAA,GAAf;AACA,IAAMC,UAAU,GAAG,IAAIC,uBAAJ,EAAnB,C,CACA;;AACAH,MAAM,CAACI,IAAP,CAAY,YAAZ,EAA0B,IAAAC,gBAAA,GAA1B,EAAkCC,0BAAlC,EAAgDC,kBAAA,CAAYC,MAAZ,CAAmB,OAAnB,CAAhD,EAA6E,UAACC,OAAD,EAAUC,QAAV,EAAuB;EAChGR,UAAU,CAACS,MAAX,CAAkBF,OAAlB,EAA2BC,QAA3B;AACH,CAFD,E,CAIA;;AACAV,MAAM,CAACY,GAAP,CAAW,sBAAX,EAAmC,UAACH,OAAD,EAAUC,QAAV,EAAuB;EACtDR,UAAU,CAACW,MAAX,CAAkBJ,OAAlB,EAA2BC,QAA3B;AACH,CAFD,E,CAIA;;AACAV,MAAM,CAACY,GAAP,CAAW,kBAAX,EAA+B,UAACH,OAAD,EAAUC,QAAV,EAAuB;EAClDR,UAAU,CAACY,IAAX,CAAgBL,OAAhB,EAAyBC,QAAzB;AACH,CAFD,E,CAKA;;AACAV,MAAM,CAACY,GAAP,CAAW,qBAAX,EAAkC,UAACH,OAAD,EAAUC,QAAV,EAAuB;EACrDR,UAAU,CAACa,OAAX,CAAmBN,OAAnB,EAA4BC,QAA5B;AACH,CAFD,E,CAIA;;AACAV,MAAM,CAACY,GAAP,CAAW,oBAAX,EAAiC,UAACH,OAAD,EAAUC,QAAV,EAAuB;EACpDR,UAAU,CAACc,WAAX,CAAuBP,OAAvB,EAAgCC,QAAhC;AACH,CAFD,E,CAIA;;AACAV,MAAM,UAAN,CAAc,aAAd,EAA6B,UAACS,OAAD,EAAUC,QAAV,EAAuB;EAChDR,UAAU,UAAV,CAAkBO,OAAlB,EAA2BC,QAA3B;AACH,CAFD,E,CAIA;;AACAV,MAAM,CAACY,GAAP,CAAW,yBAAX,EAAsC,UAACH,OAAD,EAAUC,QAAV,EAAuB;EACzDR,UAAU,CAACe,YAAX,CAAwBR,OAAxB,EAAiCC,QAAjC;AACH,CAFD,E,CAIA;;AACAV,MAAM,CAACY,GAAP,CAAW,kBAAX,EAA+B,UAACH,OAAD,EAAUC,QAAV,EAAuB;EAClDR,UAAU,CAACgB,SAAX,CAAqBT,OAArB,EAA8BC,QAA9B;AACH,CAFD,E,CAIA;;AACAV,MAAM,CAACY,GAAP,CAAW,eAAX,EAA4B,UAACH,OAAD,EAAUC,QAAV,EAAuB;EAC/CR,UAAU,CAACiB,YAAX,CAAwBV,OAAxB,EAAiCC,QAAjC;AACH,CAFD;AAIAV,MAAM,UAAN,CAAc,yBAAd,EAAyC,UAACS,OAAD,EAAUC,QAAV,EAAuB;EAC5DR,UAAU,CAACkB,sBAAX,CAAkCX,OAAlC,EAA2CC,QAA3C;AACH,CAFD;eAIeV,M"}},"mtime":1665921866346},"{\"assumptions\":{},\"sourceRoot\":\"E:\\\\IT-PROJECT\\\\backend3\\\\src\\\\Middlewares\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"E:\\\\IT-PROJECT\\\\backend3\",\"filename\":\"E:\\\\IT-PROJECT\\\\backend3\\\\src\\\\Middlewares\\\\Authenticate.middleware.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"E:\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Authenticate = void 0;\n\nvar _jsonwebtoken = require(\"jsonwebtoken\");\n\nvar _dotenv = require(\"dotenv\");\n\n(0, _dotenv.config)();\n\nvar Authenticate = function Authenticate(request, response, next) {\n  var token = request.headers['x-auth-token'];\n  (0, _jsonwebtoken.verify)(token, process.env.cookie_secret, function (error, decoded) {\n    if (error) {\n      return response.status(403).json({\n        msg: 'Signup or Login to upload video'\n      });\n    }\n\n    request.token = decoded;\n    next();\n  });\n};\n\nexports.Authenticate = Authenticate;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25maWciLCJBdXRoZW50aWNhdGUiLCJyZXF1ZXN0IiwicmVzcG9uc2UiLCJuZXh0IiwidG9rZW4iLCJoZWFkZXJzIiwidmVyaWZ5IiwicHJvY2VzcyIsImVudiIsImNvb2tpZV9zZWNyZXQiLCJlcnJvciIsImRlY29kZWQiLCJzdGF0dXMiLCJqc29uIiwibXNnIl0sInNvdXJjZVJvb3QiOiJFOlxcSVQtUFJPSkVDVFxcYmFja2VuZDNcXHNyY1xcTWlkZGxld2FyZXNcXCIsInNvdXJjZXMiOlsiQXV0aGVudGljYXRlLm1pZGRsZXdhcmUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHt2ZXJpZnl9IGZyb20gJ2pzb253ZWJ0b2tlbic7XHJcbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gJ2RvdGVudic7XHJcbmNvbmZpZygpO1xyXG5cclxuZXhwb3J0IGNvbnN0IEF1dGhlbnRpY2F0ZSA9IChyZXF1ZXN0LCByZXNwb25zZSwgbmV4dCk9PntcclxuICAgIGNvbnN0IHRva2VuID0gcmVxdWVzdC5oZWFkZXJzWyd4LWF1dGgtdG9rZW4nXTtcclxuXHJcbiAgICB2ZXJpZnkodG9rZW4sIHByb2Nlc3MuZW52LmNvb2tpZV9zZWNyZXQsIChlcnJvciwgZGVjb2RlZCk9PntcclxuICAgICAgICBpZiAoZXJyb3Ipe1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwMykuanNvbih7bXNnOidTaWdudXAgb3IgTG9naW4gdG8gdXBsb2FkIHZpZGVvJ30pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJlcXVlc3QudG9rZW4gPSBkZWNvZGVkO1xyXG4gICAgICAgIG5leHQoKVxyXG4gICAgfSlcclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBLElBQUFBLGNBQUE7O0FBRU8sSUFBTUMsWUFBWSxHQUFHLFNBQWZBLFlBQWUsQ0FBQ0MsT0FBRCxFQUFVQyxRQUFWLEVBQW9CQyxJQUFwQixFQUEyQjtFQUNuRCxJQUFNQyxLQUFLLEdBQUdILE9BQU8sQ0FBQ0ksT0FBUixDQUFnQixjQUFoQixDQUFkO0VBRUEsSUFBQUMsb0JBQUEsRUFBT0YsS0FBUCxFQUFjRyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsYUFBMUIsRUFBeUMsVUFBQ0MsS0FBRCxFQUFRQyxPQUFSLEVBQWtCO0lBQ3ZELElBQUlELEtBQUosRUFBVTtNQUNOLE9BQU9SLFFBQVEsQ0FBQ1UsTUFBVCxDQUFnQixHQUFoQixFQUFxQkMsSUFBckIsQ0FBMEI7UUFBQ0MsR0FBRyxFQUFDO01BQUwsQ0FBMUIsQ0FBUDtJQUNIOztJQUNEYixPQUFPLENBQUNHLEtBQVIsR0FBZ0JPLE9BQWhCO0lBQ0FSLElBQUk7RUFDUCxDQU5EO0FBT0gsQ0FWTSJ9","map":{"version":3,"names":["config","Authenticate","request","response","next","token","headers","verify","process","env","cookie_secret","error","decoded","status","json","msg"],"sourceRoot":"E:\\IT-PROJECT\\backend3\\src\\Middlewares\\","sources":["Authenticate.middleware.js"],"sourcesContent":["import {verify} from 'jsonwebtoken';\r\nimport { config } from 'dotenv';\r\nconfig();\r\n\r\nexport const Authenticate = (request, response, next)=>{\r\n    const token = request.headers['x-auth-token'];\r\n\r\n    verify(token, process.env.cookie_secret, (error, decoded)=>{\r\n        if (error){\r\n            return response.status(403).json({msg:'Signup or Login to upload video'})\r\n        }\r\n        request.token = decoded;\r\n        next()\r\n    })\r\n}"],"mappings":";;;;;;;AAAA;;AACA;;AACA,IAAAA,cAAA;;AAEO,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,OAAD,EAAUC,QAAV,EAAoBC,IAApB,EAA2B;EACnD,IAAMC,KAAK,GAAGH,OAAO,CAACI,OAAR,CAAgB,cAAhB,CAAd;EAEA,IAAAC,oBAAA,EAAOF,KAAP,EAAcG,OAAO,CAACC,GAAR,CAAYC,aAA1B,EAAyC,UAACC,KAAD,EAAQC,OAAR,EAAkB;IACvD,IAAID,KAAJ,EAAU;MACN,OAAOR,QAAQ,CAACU,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B;QAACC,GAAG,EAAC;MAAL,CAA1B,CAAP;IACH;;IACDb,OAAO,CAACG,KAAR,GAAgBO,OAAhB;IACAR,IAAI;EACP,CAND;AAOH,CAVM"}},"mtime":1665405301908},"{\"assumptions\":{},\"sourceRoot\":\"E:\\\\IT-PROJECT\\\\backend3\\\\src\\\\Middlewares\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"E:\\\\IT-PROJECT\\\\backend3\",\"filename\":\"E:\\\\IT-PROJECT\\\\backend3\\\\src\\\\Middlewares\\\\Video.middleware.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"E:\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.videoUpload = void 0;\n\nvar _file = _interopRequireDefault(require(\"@babel/core/lib/transformation/file/file\"));\n\nvar _express = require(\"express\");\n\nvar _multer = _interopRequireDefault(require(\"multer\"));\n\nvar _uuid = require(\"uuid\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n// video storage\nvar videoStorage = _multer[\"default\"].diskStorage({\n  destination: \"videos\",\n  filename: function filename(request, file, cb) {\n    var id = (0, _uuid.v4)();\n    var token = request.token;\n    var filename = \"\".concat(token._id.toString(), \"-\").concat(id);\n    request.filename = filename;\n    cb(null, filename);\n  }\n}); //video upload\n\n\nvar videoUpload = (0, _multer[\"default\"])({\n  storage: videoStorage,\n  limits: {\n    fieldSize: 90000000 * 5 //10 MB   \n\n  },\n  fileFilter: function fileFilter(request, file, cb) {\n    if (!file.originalname.match(/\\.(mp4|MPEG-4|mkv)$/)) {\n      return cb(new Error('Video fomat nor supported'));\n    }\n\n    cb(undefined, true);\n  }\n});\nexports.videoUpload = videoUpload;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ2aWRlb1N0b3JhZ2UiLCJtdWx0ZXIiLCJkaXNrU3RvcmFnZSIsImRlc3RpbmF0aW9uIiwiZmlsZW5hbWUiLCJyZXF1ZXN0IiwiZmlsZSIsImNiIiwiaWQiLCJ1dWlkdjQiLCJ0b2tlbiIsIl9pZCIsInRvU3RyaW5nIiwidmlkZW9VcGxvYWQiLCJzdG9yYWdlIiwibGltaXRzIiwiZmllbGRTaXplIiwiZmlsZUZpbHRlciIsIm9yaWdpbmFsbmFtZSIsIm1hdGNoIiwiRXJyb3IiLCJ1bmRlZmluZWQiXSwic291cmNlUm9vdCI6IkU6XFxJVC1QUk9KRUNUXFxiYWNrZW5kM1xcc3JjXFxNaWRkbGV3YXJlc1xcIiwic291cmNlcyI6WyJWaWRlby5taWRkbGV3YXJlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBmaWxlIGZyb20gXCJAYmFiZWwvY29yZS9saWIvdHJhbnNmb3JtYXRpb24vZmlsZS9maWxlXCI7XHJcbmltcG9ydCB7IHJlcXVlc3QgfSBmcm9tIFwiZXhwcmVzc1wiO1xyXG5pbXBvcnQgbXVsdGVyIGZyb20gXCJtdWx0ZXJcIjtcclxuaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSAndXVpZCc7XHJcblxyXG4vLyB2aWRlbyBzdG9yYWdlXHJcbmNvbnN0IHZpZGVvU3RvcmFnZSA9IG11bHRlci5kaXNrU3RvcmFnZSh7XHJcbiAgICBkZXN0aW5hdGlvbjogXCJ2aWRlb3NcIixcclxuICAgIGZpbGVuYW1lOiAocmVxdWVzdCwgZmlsZSwgY2IpID0+IHtcclxuICAgICAgICBjb25zdCBpZCA9IHV1aWR2NCgpO1xyXG4gICAgICAgIGNvbnN0IHRva2VuID0gcmVxdWVzdC50b2tlbjtcclxuICAgICAgICBjb25zdCBmaWxlbmFtZSA9IGAke3Rva2VuLl9pZC50b1N0cmluZygpfS0ke2lkfWA7XHJcbiAgICAgICAgcmVxdWVzdC5maWxlbmFtZSA9IGZpbGVuYW1lO1xyXG4gICAgICAgIGNiKG51bGwsIGZpbGVuYW1lKVxyXG4gICAgfVxyXG5cclxufSlcclxuXHJcbi8vdmlkZW8gdXBsb2FkXHJcbmV4cG9ydCBjb25zdCB2aWRlb1VwbG9hZCA9IG11bHRlcih7XHJcbiAgICBzdG9yYWdlOiB2aWRlb1N0b3JhZ2UsXHJcbiAgICBsaW1pdHM6IHtcclxuICAgICAgICBmaWVsZFNpemU6IDkwMDAwMDAwICogNSAvLzEwIE1CICAgXHJcbiAgICB9LFxyXG4gICAgZmlsZUZpbHRlcjogKHJlcXVlc3QsIGZpbGUsIGNiKSA9PiB7XHJcbiAgICAgICAgaWYgKCFmaWxlLm9yaWdpbmFsbmFtZS5tYXRjaCgvXFwuKG1wNHxNUEVHLTR8bWt2KSQvKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY2IobmV3IEVycm9yKCdWaWRlbyBmb21hdCBub3Igc3VwcG9ydGVkJykpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNiKHVuZGVmaW5lZCwgdHJ1ZSlcclxuICAgIH1cclxufSkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUVBO0FBQ0EsSUFBTUEsWUFBWSxHQUFHQyxrQkFBQSxDQUFPQyxXQUFQLENBQW1CO0VBQ3BDQyxXQUFXLEVBQUUsUUFEdUI7RUFFcENDLFFBQVEsRUFBRSxrQkFBQ0MsT0FBRCxFQUFVQyxJQUFWLEVBQWdCQyxFQUFoQixFQUF1QjtJQUM3QixJQUFNQyxFQUFFLEdBQUcsSUFBQUMsUUFBQSxHQUFYO0lBQ0EsSUFBTUMsS0FBSyxHQUFHTCxPQUFPLENBQUNLLEtBQXRCO0lBQ0EsSUFBTU4sUUFBUSxhQUFNTSxLQUFLLENBQUNDLEdBQU4sQ0FBVUMsUUFBVixFQUFOLGNBQThCSixFQUE5QixDQUFkO0lBQ0FILE9BQU8sQ0FBQ0QsUUFBUixHQUFtQkEsUUFBbkI7SUFDQUcsRUFBRSxDQUFDLElBQUQsRUFBT0gsUUFBUCxDQUFGO0VBQ0g7QUFSbUMsQ0FBbkIsQ0FBckIsQyxDQVlBOzs7QUFDTyxJQUFNUyxXQUFXLEdBQUcsSUFBQVosa0JBQUEsRUFBTztFQUM5QmEsT0FBTyxFQUFFZCxZQURxQjtFQUU5QmUsTUFBTSxFQUFFO0lBQ0pDLFNBQVMsRUFBRSxXQUFXLENBRGxCLENBQ29COztFQURwQixDQUZzQjtFQUs5QkMsVUFBVSxFQUFFLG9CQUFDWixPQUFELEVBQVVDLElBQVYsRUFBZ0JDLEVBQWhCLEVBQXVCO0lBQy9CLElBQUksQ0FBQ0QsSUFBSSxDQUFDWSxZQUFMLENBQWtCQyxLQUFsQixDQUF3QixxQkFBeEIsQ0FBTCxFQUFxRDtNQUNqRCxPQUFPWixFQUFFLENBQUMsSUFBSWEsS0FBSixDQUFVLDJCQUFWLENBQUQsQ0FBVDtJQUNIOztJQUNEYixFQUFFLENBQUNjLFNBQUQsRUFBWSxJQUFaLENBQUY7RUFDSDtBQVY2QixDQUFQLENBQXBCIn0=","map":{"version":3,"names":["videoStorage","multer","diskStorage","destination","filename","request","file","cb","id","uuidv4","token","_id","toString","videoUpload","storage","limits","fieldSize","fileFilter","originalname","match","Error","undefined"],"sourceRoot":"E:\\IT-PROJECT\\backend3\\src\\Middlewares\\","sources":["Video.middleware.js"],"sourcesContent":["import file from \"@babel/core/lib/transformation/file/file\";\r\nimport { request } from \"express\";\r\nimport multer from \"multer\";\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\n// video storage\r\nconst videoStorage = multer.diskStorage({\r\n    destination: \"videos\",\r\n    filename: (request, file, cb) => {\r\n        const id = uuidv4();\r\n        const token = request.token;\r\n        const filename = `${token._id.toString()}-${id}`;\r\n        request.filename = filename;\r\n        cb(null, filename)\r\n    }\r\n\r\n})\r\n\r\n//video upload\r\nexport const videoUpload = multer({\r\n    storage: videoStorage,\r\n    limits: {\r\n        fieldSize: 90000000 * 5 //10 MB   \r\n    },\r\n    fileFilter: (request, file, cb) => {\r\n        if (!file.originalname.match(/\\.(mp4|MPEG-4|mkv)$/)) {\r\n            return cb(new Error('Video fomat nor supported'))\r\n        }\r\n        cb(undefined, true)\r\n    }\r\n})"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;AAEA;AACA,IAAMA,YAAY,GAAGC,kBAAA,CAAOC,WAAP,CAAmB;EACpCC,WAAW,EAAE,QADuB;EAEpCC,QAAQ,EAAE,kBAACC,OAAD,EAAUC,IAAV,EAAgBC,EAAhB,EAAuB;IAC7B,IAAMC,EAAE,GAAG,IAAAC,QAAA,GAAX;IACA,IAAMC,KAAK,GAAGL,OAAO,CAACK,KAAtB;IACA,IAAMN,QAAQ,aAAMM,KAAK,CAACC,GAAN,CAAUC,QAAV,EAAN,cAA8BJ,EAA9B,CAAd;IACAH,OAAO,CAACD,QAAR,GAAmBA,QAAnB;IACAG,EAAE,CAAC,IAAD,EAAOH,QAAP,CAAF;EACH;AARmC,CAAnB,CAArB,C,CAYA;;;AACO,IAAMS,WAAW,GAAG,IAAAZ,kBAAA,EAAO;EAC9Ba,OAAO,EAAEd,YADqB;EAE9Be,MAAM,EAAE;IACJC,SAAS,EAAE,WAAW,CADlB,CACoB;;EADpB,CAFsB;EAK9BC,UAAU,EAAE,oBAACZ,OAAD,EAAUC,IAAV,EAAgBC,EAAhB,EAAuB;IAC/B,IAAI,CAACD,IAAI,CAACY,YAAL,CAAkBC,KAAlB,CAAwB,qBAAxB,CAAL,EAAqD;MACjD,OAAOZ,EAAE,CAAC,IAAIa,KAAJ,CAAU,2BAAV,CAAD,CAAT;IACH;;IACDb,EAAE,CAACc,SAAD,EAAY,IAAZ,CAAF;EACH;AAV6B,CAAP,CAApB"}},"mtime":1665921866345},"{\"assumptions\":{},\"sourceRoot\":\"E:\\\\IT-PROJECT\\\\backend3\\\\src\\\\Controller\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"E:\\\\IT-PROJECT\\\\backend3\",\"filename\":\"E:\\\\IT-PROJECT\\\\backend3\\\\src\\\\Controller\\\\Video.controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"E:\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.VideoController = void 0;\n\nvar _Video = require(\"../Models/Video.model\");\n\nvar _fs = _interopRequireDefault(require(\"fs\"));\n\nvar _dns = require(\"dns\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nvar VideoController = /*#__PURE__*/function () {\n  function VideoController() {\n    _classCallCheck(this, VideoController);\n  }\n\n  _createClass(VideoController, [{\n    key: \"upload\",\n    value: function () {\n      var _upload = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(request, response) {\n        var newVideo, saveVideo;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                newVideo = new _Video.videoModel({\n                  owner: request.token._id,\n                  username: request.body.username,\n                  category: request.body.category,\n                  name: request.body.name,\n                  videopath: request.filename\n                });\n                _context.prev = 1;\n                _context.next = 4;\n                return newVideo.save();\n\n              case 4:\n                saveVideo = _context.sent;\n                return _context.abrupt(\"return\", response.status(201).json({\n                  msg: 'Video uploaded successfully'\n                }));\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context[\"catch\"](1);\n                return _context.abrupt(\"return\", response.status(500).json({\n                  msg: 'Video upload failed'\n                }));\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[1, 8]]);\n      }));\n\n      function upload(_x, _x2) {\n        return _upload.apply(this, arguments);\n      }\n\n      return upload;\n    }()\n  }, {\n    key: \"like\",\n    value: function like(request, response) {\n      var video_id = request.query.id;\n      var operation = request.query.operation;\n\n      if (operation === 'false') {\n        _Video.videoModel.findOneAndUpdate({\n          _id: video_id\n        }, {\n          $inc: {\n            likes: -1\n          }\n        }, {\n          \"new\": true\n        }, function (error, doc) {\n          if (error) {\n            return response.status(500).json({\n              msg: 'Network Error: Failed to cancel like video'\n            });\n          }\n\n          return response.status(200).json({\n            msg: 'Video like cancelled'\n          });\n        });\n      } else {\n        _Video.videoModel.findOneAndUpdate({\n          _id: video_id\n        }, {\n          $inc: {\n            likes: 1\n          }\n        }, {\n          \"new\": true\n        }, function (error, doc) {\n          if (error) {\n            return response.status(500).json({\n              msg: 'Network Error: Failed to like video'\n            });\n          }\n\n          return response.status(200).json({\n            msg: 'Video liked'\n          });\n        });\n      }\n    }\n  }, {\n    key: \"dislike\",\n    value: function dislike(request, response) {\n      var video_id = request.query.id;\n      var operation = request.query.operation;\n\n      if (operation === 'false') {\n        _Video.videoModel.findOneAndUpdate({\n          _id: video_id\n        }, {\n          $inc: {\n            dislikes: -1\n          }\n        }, {\n          \"new\": true\n        }, function (error, doc) {\n          if (error) {\n            return response.status(500).json({\n              msg: 'Network Error: Failed to cancel dislike video'\n            });\n          }\n\n          return response.status(200).json({\n            msg: 'Video dislike cancelled'\n          });\n        });\n      } else {\n        _Video.videoModel.findOneAndUpdate({\n          _id: video_id\n        }, {\n          $inc: {\n            dislikes: 1\n          }\n        }, {\n          \"new\": true\n        }, function (error, doc) {\n          if (error) {\n            return response.status(500).json({\n              msg: 'Network Error: Failed to dislike video'\n            });\n          }\n\n          return response.status(200).json({\n            msg: 'Video disliked'\n          });\n        });\n      }\n    }\n  }, {\n    key: \"searchVideo\",\n    value: function () {\n      var _searchVideo = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(request, response) {\n        var name, video;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                name = request.query.key;\n                _context2.prev = 1;\n                _context2.next = 4;\n                return _Video.videoModel.find({\n                  name: {\n                    $regex: name.toLowerCase()\n                  }\n                });\n\n              case 4:\n                video = _context2.sent;\n                return _context2.abrupt(\"return\", response.send(video));\n\n              case 8:\n                _context2.prev = 8;\n                _context2.t0 = _context2[\"catch\"](1);\n                return _context2.abrupt(\"return\", response.status(700).json({\n                  msg: 'No matching video'\n                }));\n\n              case 11:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[1, 8]]);\n      }));\n\n      function searchVideo(_x3, _x4) {\n        return _searchVideo.apply(this, arguments);\n      }\n\n      return searchVideo;\n    }() // search all videos and display\n\n  }, {\n    key: \"findAllVideo\",\n    value: function () {\n      var _findAllVideo = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(request, response) {\n        var video;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                _context3.next = 3;\n                return _Video.videoModel.find();\n\n              case 3:\n                video = _context3.sent;\n                return _context3.abrupt(\"return\", response.send(video));\n\n              case 7:\n                _context3.prev = 7;\n                _context3.t0 = _context3[\"catch\"](0);\n                return _context3.abrupt(\"return\", response.status(700).json({\n                  msg: 'No videos'\n                }));\n\n              case 10:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, null, [[0, 7]]);\n      }));\n\n      function findAllVideo(_x5, _x6) {\n        return _findAllVideo.apply(this, arguments);\n      }\n\n      return findAllVideo;\n    }() // search video by username\n\n  }, {\n    key: \"searchUVideo\",\n    value: function () {\n      var _searchUVideo = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(request, response) {\n        var name, video;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                name = request.query.key;\n                _context4.prev = 1;\n                _context4.next = 4;\n                return _Video.videoModel.find({\n                  username: {\n                    $regex: name\n                  }\n                });\n\n              case 4:\n                video = _context4.sent;\n                return _context4.abrupt(\"return\", response.send(video));\n\n              case 8:\n                _context4.prev = 8;\n                _context4.t0 = _context4[\"catch\"](1);\n                return _context4.abrupt(\"return\", response.status(700).json({\n                  msg: 'No matching video'\n                }));\n\n              case 11:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, null, [[1, 8]]);\n      }));\n\n      function searchUVideo(_x7, _x8) {\n        return _searchUVideo.apply(this, arguments);\n      }\n\n      return searchUVideo;\n    }() // search video by category\n\n  }, {\n    key: \"searchCat\",\n    value: function () {\n      var _searchCat = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(request, response) {\n        var cat, video;\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                cat = request.query.key;\n                _context5.prev = 1;\n                _context5.next = 4;\n                return _Video.videoModel.find({\n                  category: {\n                    $regex: cat\n                  }\n                });\n\n              case 4:\n                video = _context5.sent;\n                return _context5.abrupt(\"return\", response.send(video));\n\n              case 8:\n                _context5.prev = 8;\n                _context5.t0 = _context5[\"catch\"](1);\n                return _context5.abrupt(\"return\", response.status(700).json({\n                  msg: 'No matching video'\n                }));\n\n              case 11:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, null, [[1, 8]]);\n      }));\n\n      function searchCat(_x9, _x10) {\n        return _searchCat.apply(this, arguments);\n      }\n\n      return searchCat;\n    }() // stream video \n\n  }, {\n    key: \"stream\",\n    value: function stream(request, response) {\n      var range = request.headers.range;\n\n      if (!range) {\n        return response.status(400).json({\n          msg: 'Range header is required to start'\n        });\n      }\n\n      var videopath = \"videos/\".concat(request.params.filename);\n\n      var videosize = _fs[\"default\"].statSync(videopath).size; // get video size\n\n\n      var start = Number(range.replace(/\\D/g, \"\")); //get start point \n\n      var chunk_size = Math.pow(10, 6); // 1 mb , chunck size\n\n      var end = Math.min(start + chunk_size, videosize - 1); //end position\n\n      var contenLength = end - start + 1; // how many  size sending\n\n      var hearders = {\n        'Content-Length': contenLength,\n        'Accept-Range': 'bytes',\n        'Content-Type': 'video/mp40',\n        'Content-Range': \"bytes \".concat(start, \" -\").concat(end, \"/\").concat(videosize) //decise how far video gone\n\n      };\n      response.writeHead(206, hearders);\n\n      var videostream = _fs[\"default\"].createReadStream(videopath, {\n        start: start,\n        end: end\n      }); // create video stream\n\n\n      videostream.pipe(response);\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete(request, response) {\n      var video_id = request.query.video_id;\n      var video_path = request.query.video_path;\n      var videopath = \"videos/\".concat(video_path);\n\n      if (_fs[\"default\"].existsSync(videopath)) {\n        _fs[\"default\"].unlink(videopath, function (error) {\n          if (error) {\n            return response.status(500).json({\n              msg: 'Network Error: Failed to delete video'\n            });\n          }\n\n          _Video.videoModel.findOneAndDelete({\n            _id: video_id\n          }, function (error) {\n            if (error) {\n              return response.status(500).json({\n                msg: 'Network Error: Failed to delete video'\n              });\n            }\n\n            return response.status(200).json({\n              msg: ' video delete'\n            });\n          });\n        });\n      }\n    }\n  }, {\n    key: \"delete_user_all_videos\",\n    value: function () {\n      var _delete_user_all_videos = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(request, response) {\n        var delete_username, user_video_list, i, videopath;\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                delete_username = request.query.username;\n                user_video_list = request.query.video_list;\n\n                if (!(user_video_list !== undefined)) {\n                  _context6.next = 6;\n                  break;\n                }\n\n                for (i = 0; i < user_video_list.length; i++) {\n                  videopath = \"videos/\".concat(user_video_list[i]);\n\n                  if (_fs[\"default\"].existsSync(videopath)) {\n                    _fs[\"default\"].unlink(videopath, function (error) {\n                      if (error) {\n                        return response.status(500).json({\n                          msg: 'Network Error: Failed to delete video'\n                        });\n                      }\n                    });\n                  }\n                }\n\n                _context6.next = 6;\n                return _Video.videoModel.deleteMany({\n                  username: delete_username\n                });\n\n              case 6:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6);\n      }));\n\n      function delete_user_all_videos(_x11, _x12) {\n        return _delete_user_all_videos.apply(this, arguments);\n      }\n\n      return delete_user_all_videos;\n    }()\n  }]);\n\n  return VideoController;\n}();\n\nexports.VideoController = VideoController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJWaWRlb0NvbnRyb2xsZXIiLCJyZXF1ZXN0IiwicmVzcG9uc2UiLCJuZXdWaWRlbyIsInZpZGVvTW9kZWwiLCJvd25lciIsInRva2VuIiwiX2lkIiwidXNlcm5hbWUiLCJib2R5IiwiY2F0ZWdvcnkiLCJuYW1lIiwidmlkZW9wYXRoIiwiZmlsZW5hbWUiLCJzYXZlIiwic2F2ZVZpZGVvIiwic3RhdHVzIiwianNvbiIsIm1zZyIsInZpZGVvX2lkIiwicXVlcnkiLCJpZCIsIm9wZXJhdGlvbiIsImZpbmRPbmVBbmRVcGRhdGUiLCIkaW5jIiwibGlrZXMiLCJlcnJvciIsImRvYyIsImRpc2xpa2VzIiwia2V5IiwiZmluZCIsIiRyZWdleCIsInRvTG93ZXJDYXNlIiwidmlkZW8iLCJzZW5kIiwiY2F0IiwicmFuZ2UiLCJoZWFkZXJzIiwicGFyYW1zIiwidmlkZW9zaXplIiwiZnMiLCJzdGF0U3luYyIsInNpemUiLCJzdGFydCIsIk51bWJlciIsInJlcGxhY2UiLCJjaHVua19zaXplIiwiZW5kIiwiTWF0aCIsIm1pbiIsImNvbnRlbkxlbmd0aCIsImhlYXJkZXJzIiwid3JpdGVIZWFkIiwidmlkZW9zdHJlYW0iLCJjcmVhdGVSZWFkU3RyZWFtIiwicGlwZSIsInZpZGVvX3BhdGgiLCJleGlzdHNTeW5jIiwidW5saW5rIiwiZmluZE9uZUFuZERlbGV0ZSIsImRlbGV0ZV91c2VybmFtZSIsInVzZXJfdmlkZW9fbGlzdCIsInZpZGVvX2xpc3QiLCJ1bmRlZmluZWQiLCJpIiwibGVuZ3RoIiwiZGVsZXRlTWFueSJdLCJzb3VyY2VSb290IjoiRTpcXElULVBST0pFQ1RcXGJhY2tlbmQzXFxzcmNcXENvbnRyb2xsZXJcXCIsInNvdXJjZXMiOlsiVmlkZW8uY29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB2aWRlb01vZGVsIH0gZnJvbSAnLi4vTW9kZWxzL1ZpZGVvLm1vZGVsJ1xyXG5pbXBvcnQgZnMgZnJvbSAnZnMnXHJcbmltcG9ydCB7IE5PTkFNRSB9IGZyb20gJ2RucydcclxuXHJcbmV4cG9ydCBjbGFzcyBWaWRlb0NvbnRyb2xsZXIge1xyXG4gICAgYXN5bmMgdXBsb2FkKHJlcXVlc3QsIHJlc3BvbnNlKSB7XHJcblxyXG4gICAgICAgIGNvbnN0IG5ld1ZpZGVvID0gbmV3IHZpZGVvTW9kZWwoe1xyXG4gICAgICAgICAgICBvd25lcjogcmVxdWVzdC50b2tlbi5faWQsXHJcbiAgICAgICAgICAgIHVzZXJuYW1lOiByZXF1ZXN0LmJvZHkudXNlcm5hbWUsXHJcbiAgICAgICAgICAgIGNhdGVnb3J5OiByZXF1ZXN0LmJvZHkuY2F0ZWdvcnksXHJcbiAgICAgICAgICAgIG5hbWU6IHJlcXVlc3QuYm9keS5uYW1lLFxyXG4gICAgICAgICAgICB2aWRlb3BhdGg6IHJlcXVlc3QuZmlsZW5hbWVcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBzYXZlVmlkZW8gPSBhd2FpdCBuZXdWaWRlby5zYXZlKClcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cygyMDEpLmpzb24oeyBtc2c6ICdWaWRlbyB1cGxvYWRlZCBzdWNjZXNzZnVsbHknIH0pXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oeyBtc2c6ICdWaWRlbyB1cGxvYWQgZmFpbGVkJyB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgbGlrZShyZXF1ZXN0LCByZXNwb25zZSkge1xyXG4gICAgICAgIGNvbnN0IHZpZGVvX2lkID0gcmVxdWVzdC5xdWVyeS5pZDtcclxuICAgICAgICBjb25zdCBvcGVyYXRpb24gPSByZXF1ZXN0LnF1ZXJ5Lm9wZXJhdGlvblxyXG4gICAgICAgIGlmIChvcGVyYXRpb24gPT09ICdmYWxzZScpIHtcclxuICAgICAgICAgICAgdmlkZW9Nb2RlbC5maW5kT25lQW5kVXBkYXRlKHsgX2lkOiB2aWRlb19pZCB9LCB7ICRpbmM6IHsgbGlrZXM6IC0xIH0gfSxcclxuICAgICAgICAgICAgICAgIHsgbmV3OiB0cnVlIH0sIChlcnJvciwgZG9jKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAnTmV0d29yayBFcnJvcjogRmFpbGVkIHRvIGNhbmNlbCBsaWtlIHZpZGVvJyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7IG1zZzogJ1ZpZGVvIGxpa2UgY2FuY2VsbGVkJyB9KVxyXG4gICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdmlkZW9Nb2RlbC5maW5kT25lQW5kVXBkYXRlKHsgX2lkOiB2aWRlb19pZCB9LCB7ICRpbmM6IHsgbGlrZXM6IDEgfSB9LFxyXG4gICAgICAgICAgICAgICAgeyBuZXc6IHRydWUgfSwgKGVycm9yLCBkb2MpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oeyBtc2c6ICdOZXR3b3JrIEVycm9yOiBGYWlsZWQgdG8gbGlrZSB2aWRlbycgfSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cygyMDApLmpzb24oeyBtc2c6ICdWaWRlbyBsaWtlZCcgfSlcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRpc2xpa2UocmVxdWVzdCwgcmVzcG9uc2UpIHtcclxuICAgICAgICBjb25zdCB2aWRlb19pZCA9IHJlcXVlc3QucXVlcnkuaWQ7XHJcbiAgICAgICAgY29uc3Qgb3BlcmF0aW9uID0gcmVxdWVzdC5xdWVyeS5vcGVyYXRpb25cclxuICAgICAgICBpZiAob3BlcmF0aW9uID09PSAnZmFsc2UnKSB7XHJcbiAgICAgICAgICAgIHZpZGVvTW9kZWwuZmluZE9uZUFuZFVwZGF0ZSh7IF9pZDogdmlkZW9faWQgfSwgeyAkaW5jOiB7IGRpc2xpa2VzOiAtMSB9IH0sXHJcbiAgICAgICAgICAgICAgICB7IG5ldzogdHJ1ZSB9LCAoZXJyb3IsIGRvYykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7IG1zZzogJ05ldHdvcmsgRXJyb3I6IEZhaWxlZCB0byBjYW5jZWwgZGlzbGlrZSB2aWRlbycgfSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cygyMDApLmpzb24oeyBtc2c6ICdWaWRlbyBkaXNsaWtlIGNhbmNlbGxlZCcgfSlcclxuICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHZpZGVvTW9kZWwuZmluZE9uZUFuZFVwZGF0ZSh7IF9pZDogdmlkZW9faWQgfSwgeyAkaW5jOiB7IGRpc2xpa2VzOiAxIH0gfSxcclxuICAgICAgICAgICAgICAgIHsgbmV3OiB0cnVlIH0sIChlcnJvciwgZG9jKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAnTmV0d29yayBFcnJvcjogRmFpbGVkIHRvIGRpc2xpa2UgdmlkZW8nIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHsgbXNnOiAnVmlkZW8gZGlzbGlrZWQnIH0pXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBzZWFyY2hWaWRlbyhyZXF1ZXN0LCByZXNwb25zZSkge1xyXG4gICAgICAgIGNvbnN0IG5hbWUgPSByZXF1ZXN0LnF1ZXJ5LmtleTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgdmlkZW8gPSBhd2FpdCB2aWRlb01vZGVsLmZpbmQoeyBuYW1lOiB7ICRyZWdleDogbmFtZS50b0xvd2VyQ2FzZSgpIH0gfSlcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnNlbmQodmlkZW8pXHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNzAwKS5qc29uKHsgbXNnOiAnTm8gbWF0Y2hpbmcgdmlkZW8nIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIHNlYXJjaCBhbGwgdmlkZW9zIGFuZCBkaXNwbGF5XHJcbiAgICBhc3luYyBmaW5kQWxsVmlkZW8ocmVxdWVzdCwgcmVzcG9uc2UpIHtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IHZpZGVvID0gYXdhaXQgdmlkZW9Nb2RlbC5maW5kKClcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnNlbmQodmlkZW8pXHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNzAwKS5qc29uKHsgbXNnOiAnTm8gdmlkZW9zJyB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIHNlYXJjaCB2aWRlbyBieSB1c2VybmFtZVxyXG4gICAgYXN5bmMgc2VhcmNoVVZpZGVvKHJlcXVlc3QsIHJlc3BvbnNlKSB7XHJcbiAgICAgICAgY29uc3QgbmFtZSA9IHJlcXVlc3QucXVlcnkua2V5O1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCB2aWRlbyA9IGF3YWl0IHZpZGVvTW9kZWwuZmluZCh7IHVzZXJuYW1lOiB7ICRyZWdleDogbmFtZSB9IH0pXHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zZW5kKHZpZGVvKVxyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDcwMCkuanNvbih7IG1zZzogJ05vIG1hdGNoaW5nIHZpZGVvJyB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBzZWFyY2ggdmlkZW8gYnkgY2F0ZWdvcnlcclxuICAgIGFzeW5jIHNlYXJjaENhdChyZXF1ZXN0LCByZXNwb25zZSkge1xyXG4gICAgICAgIGNvbnN0IGNhdCA9IHJlcXVlc3QucXVlcnkua2V5O1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCB2aWRlbyA9IGF3YWl0IHZpZGVvTW9kZWwuZmluZCh7IGNhdGVnb3J5OiB7ICRyZWdleDogY2F0IH0gfSlcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnNlbmQodmlkZW8pXHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNzAwKS5qc29uKHsgbXNnOiAnTm8gbWF0Y2hpbmcgdmlkZW8nIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIHN0cmVhbSB2aWRlbyBcclxuICAgIHN0cmVhbShyZXF1ZXN0LCByZXNwb25zZSkge1xyXG4gICAgICAgIGNvbnN0IHJhbmdlID0gcmVxdWVzdC5oZWFkZXJzLnJhbmdlXHJcbiAgICAgICAgaWYgKCFyYW5nZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwMCkuanNvbih7IG1zZzogJ1JhbmdlIGhlYWRlciBpcyByZXF1aXJlZCB0byBzdGFydCcgfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgdmlkZW9wYXRoID0gYHZpZGVvcy8ke3JlcXVlc3QucGFyYW1zLmZpbGVuYW1lfWA7XHJcbiAgICAgICAgY29uc3QgdmlkZW9zaXplID0gZnMuc3RhdFN5bmModmlkZW9wYXRoKS5zaXplOyAgLy8gZ2V0IHZpZGVvIHNpemVcclxuXHJcbiAgICAgICAgY29uc3Qgc3RhcnQgPSBOdW1iZXIocmFuZ2UucmVwbGFjZSgvXFxEL2csIFwiXCIpKTsgIC8vZ2V0IHN0YXJ0IHBvaW50IFxyXG4gICAgICAgIGNvbnN0IGNodW5rX3NpemUgPSAxMCAqKiA2IC8vIDEgbWIgLCBjaHVuY2sgc2l6ZVxyXG4gICAgICAgIGNvbnN0IGVuZCA9IE1hdGgubWluKHN0YXJ0ICsgY2h1bmtfc2l6ZSwgdmlkZW9zaXplIC0gMSk7ICAgLy9lbmQgcG9zaXRpb25cclxuXHJcbiAgICAgICAgY29uc3QgY29udGVuTGVuZ3RoID0gZW5kIC0gc3RhcnQgKyAxICAvLyBob3cgbWFueSAgc2l6ZSBzZW5kaW5nXHJcbiAgICAgICAgY29uc3QgaGVhcmRlcnMgPSB7XHJcbiAgICAgICAgICAgICdDb250ZW50LUxlbmd0aCc6IGNvbnRlbkxlbmd0aCxcclxuICAgICAgICAgICAgJ0FjY2VwdC1SYW5nZSc6ICdieXRlcycsXHJcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAndmlkZW8vbXA0MCcsXHJcbiAgICAgICAgICAgICdDb250ZW50LVJhbmdlJzogYGJ5dGVzICR7c3RhcnR9IC0ke2VuZH0vJHt2aWRlb3NpemV9YCAgIC8vZGVjaXNlIGhvdyBmYXIgdmlkZW8gZ29uZVxyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgcmVzcG9uc2Uud3JpdGVIZWFkKDIwNiwgaGVhcmRlcnMpO1xyXG4gICAgICAgIGNvbnN0IHZpZGVvc3RyZWFtID0gZnMuY3JlYXRlUmVhZFN0cmVhbSh2aWRlb3BhdGgsIHsgc3RhcnQsIGVuZCB9KTsgLy8gY3JlYXRlIHZpZGVvIHN0cmVhbVxyXG4gICAgICAgIHZpZGVvc3RyZWFtLnBpcGUocmVzcG9uc2UpXHJcbiAgICB9XHJcblxyXG4gICAgZGVsZXRlKHJlcXVlc3QsIHJlc3BvbnNlKSB7XHJcblxyXG4gICAgICAgIGNvbnN0IHZpZGVvX2lkID0gcmVxdWVzdC5xdWVyeS52aWRlb19pZDtcclxuICAgICAgICBjb25zdCB2aWRlb19wYXRoID0gcmVxdWVzdC5xdWVyeS52aWRlb19wYXRoO1xyXG4gICAgICAgIGNvbnN0IHZpZGVvcGF0aCA9IGB2aWRlb3MvJHt2aWRlb19wYXRofWA7XHJcbiAgICAgICAgaWYgKGZzLmV4aXN0c1N5bmModmlkZW9wYXRoKSkge1xyXG4gICAgICAgICAgICBmcy51bmxpbmsodmlkZW9wYXRoLCAoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAnTmV0d29yayBFcnJvcjogRmFpbGVkIHRvIGRlbGV0ZSB2aWRlbycgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZpZGVvTW9kZWwuZmluZE9uZUFuZERlbGV0ZSh7IF9pZDogdmlkZW9faWQgfSwgKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAnTmV0d29yayBFcnJvcjogRmFpbGVkIHRvIGRlbGV0ZSB2aWRlbycgfSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cygyMDApLmpzb24oeyBtc2c6ICcgdmlkZW8gZGVsZXRlJyB9KVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgZGVsZXRlX3VzZXJfYWxsX3ZpZGVvcyhyZXF1ZXN0LCByZXNwb25zZSkge1xyXG4gICAgICAgIGNvbnN0IGRlbGV0ZV91c2VybmFtZSA9IHJlcXVlc3QucXVlcnkudXNlcm5hbWU7XHJcbiAgICAgICAgY29uc3QgdXNlcl92aWRlb19saXN0ID0gcmVxdWVzdC5xdWVyeS52aWRlb19saXN0O1xyXG4gICAgICAgIGlmICh1c2VyX3ZpZGVvX2xpc3QgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHVzZXJfdmlkZW9fbGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHZpZGVvcGF0aCA9IGB2aWRlb3MvJHt1c2VyX3ZpZGVvX2xpc3RbaV19YDtcclxuICAgICAgICAgICAgICAgIGlmIChmcy5leGlzdHNTeW5jKHZpZGVvcGF0aCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBmcy51bmxpbmsodmlkZW9wYXRoLCAoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7IG1zZzogJ05ldHdvcmsgRXJyb3I6IEZhaWxlZCB0byBkZWxldGUgdmlkZW8nIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBhd2FpdCB2aWRlb01vZGVsLmRlbGV0ZU1hbnkoeyB1c2VybmFtZTogZGVsZXRlX3VzZXJuYW1lIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7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","map":{"version":3,"names":["VideoController","request","response","newVideo","videoModel","owner","token","_id","username","body","category","name","videopath","filename","save","saveVideo","status","json","msg","video_id","query","id","operation","findOneAndUpdate","$inc","likes","error","doc","dislikes","key","find","$regex","toLowerCase","video","send","cat","range","headers","params","videosize","fs","statSync","size","start","Number","replace","chunk_size","end","Math","min","contenLength","hearders","writeHead","videostream","createReadStream","pipe","video_path","existsSync","unlink","findOneAndDelete","delete_username","user_video_list","video_list","undefined","i","length","deleteMany"],"sourceRoot":"E:\\IT-PROJECT\\backend3\\src\\Controller\\","sources":["Video.controller.js"],"sourcesContent":["import { videoModel } from '../Models/Video.model'\r\nimport fs from 'fs'\r\nimport { NONAME } from 'dns'\r\n\r\nexport class VideoController {\r\n    async upload(request, response) {\r\n\r\n        const newVideo = new videoModel({\r\n            owner: request.token._id,\r\n            username: request.body.username,\r\n            category: request.body.category,\r\n            name: request.body.name,\r\n            videopath: request.filename\r\n        })\r\n\r\n        try {\r\n            const saveVideo = await newVideo.save()\r\n            return response.status(201).json({ msg: 'Video uploaded successfully' })\r\n        } catch (error) {\r\n            return response.status(500).json({ msg: 'Video upload failed' })\r\n        }\r\n    }\r\n\r\n\r\n    like(request, response) {\r\n        const video_id = request.query.id;\r\n        const operation = request.query.operation\r\n        if (operation === 'false') {\r\n            videoModel.findOneAndUpdate({ _id: video_id }, { $inc: { likes: -1 } },\r\n                { new: true }, (error, doc) => {\r\n                    if (error) {\r\n                        return response.status(500).json({ msg: 'Network Error: Failed to cancel like video' })\r\n                    }\r\n                    return response.status(200).json({ msg: 'Video like cancelled' })\r\n                })\r\n\r\n        } else {\r\n            videoModel.findOneAndUpdate({ _id: video_id }, { $inc: { likes: 1 } },\r\n                { new: true }, (error, doc) => {\r\n                    if (error) {\r\n                        return response.status(500).json({ msg: 'Network Error: Failed to like video' })\r\n                    }\r\n                    return response.status(200).json({ msg: 'Video liked' })\r\n                })\r\n        }\r\n    }\r\n\r\n    dislike(request, response) {\r\n        const video_id = request.query.id;\r\n        const operation = request.query.operation\r\n        if (operation === 'false') {\r\n            videoModel.findOneAndUpdate({ _id: video_id }, { $inc: { dislikes: -1 } },\r\n                { new: true }, (error, doc) => {\r\n                    if (error) {\r\n                        return response.status(500).json({ msg: 'Network Error: Failed to cancel dislike video' })\r\n                    }\r\n                    return response.status(200).json({ msg: 'Video dislike cancelled' })\r\n                })\r\n\r\n        } else {\r\n            videoModel.findOneAndUpdate({ _id: video_id }, { $inc: { dislikes: 1 } },\r\n                { new: true }, (error, doc) => {\r\n                    if (error) {\r\n                        return response.status(500).json({ msg: 'Network Error: Failed to dislike video' })\r\n                    }\r\n                    return response.status(200).json({ msg: 'Video disliked' })\r\n                })\r\n        }\r\n    }\r\n\r\n    async searchVideo(request, response) {\r\n        const name = request.query.key;\r\n        try {\r\n            let video = await videoModel.find({ name: { $regex: name.toLowerCase() } })\r\n            return response.send(video)\r\n\r\n        } catch (error) {\r\n            return response.status(700).json({ msg: 'No matching video' })\r\n        }\r\n    }\r\n\r\n    // search all videos and display\r\n    async findAllVideo(request, response) {\r\n\r\n        try {\r\n            let video = await videoModel.find()\r\n            return response.send(video)\r\n\r\n        } catch (error) {\r\n            return response.status(700).json({ msg: 'No videos' })\r\n        }\r\n    }\r\n    // search video by username\r\n    async searchUVideo(request, response) {\r\n        const name = request.query.key;\r\n        try {\r\n            let video = await videoModel.find({ username: { $regex: name } })\r\n            return response.send(video)\r\n\r\n        } catch (error) {\r\n            return response.status(700).json({ msg: 'No matching video' })\r\n        }\r\n    }\r\n\r\n    // search video by category\r\n    async searchCat(request, response) {\r\n        const cat = request.query.key;\r\n        try {\r\n            let video = await videoModel.find({ category: { $regex: cat } })\r\n            return response.send(video)\r\n\r\n        } catch (error) {\r\n            return response.status(700).json({ msg: 'No matching video' })\r\n        }\r\n    }\r\n\r\n    // stream video \r\n    stream(request, response) {\r\n        const range = request.headers.range\r\n        if (!range) {\r\n            return response.status(400).json({ msg: 'Range header is required to start' })\r\n        }\r\n        const videopath = `videos/${request.params.filename}`;\r\n        const videosize = fs.statSync(videopath).size;  // get video size\r\n\r\n        const start = Number(range.replace(/\\D/g, \"\"));  //get start point \r\n        const chunk_size = 10 ** 6 // 1 mb , chunck size\r\n        const end = Math.min(start + chunk_size, videosize - 1);   //end position\r\n\r\n        const contenLength = end - start + 1  // how many  size sending\r\n        const hearders = {\r\n            'Content-Length': contenLength,\r\n            'Accept-Range': 'bytes',\r\n            'Content-Type': 'video/mp40',\r\n            'Content-Range': `bytes ${start} -${end}/${videosize}`   //decise how far video gone\r\n\r\n        }\r\n        response.writeHead(206, hearders);\r\n        const videostream = fs.createReadStream(videopath, { start, end }); // create video stream\r\n        videostream.pipe(response)\r\n    }\r\n\r\n    delete(request, response) {\r\n\r\n        const video_id = request.query.video_id;\r\n        const video_path = request.query.video_path;\r\n        const videopath = `videos/${video_path}`;\r\n        if (fs.existsSync(videopath)) {\r\n            fs.unlink(videopath, (error) => {\r\n                if (error) {\r\n                    return response.status(500).json({ msg: 'Network Error: Failed to delete video' })\r\n                }\r\n                videoModel.findOneAndDelete({ _id: video_id }, (error) => {\r\n                    if (error) {\r\n                        return response.status(500).json({ msg: 'Network Error: Failed to delete video' })\r\n                    }\r\n                    return response.status(200).json({ msg: ' video delete' })\r\n                })\r\n            })\r\n        }\r\n    }\r\n\r\n    async delete_user_all_videos(request, response) {\r\n        const delete_username = request.query.username;\r\n        const user_video_list = request.query.video_list;\r\n        if (user_video_list !== undefined) {\r\n            for (let i = 0; i < user_video_list.length; i++) {\r\n                var videopath = `videos/${user_video_list[i]}`;\r\n                if (fs.existsSync(videopath)) {\r\n                    fs.unlink(videopath, (error) => {\r\n                        if (error) {\r\n                            return response.status(500).json({ msg: 'Network Error: Failed to delete video' })\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n\r\n            await videoModel.deleteMany({ username: delete_username });\r\n        }\r\n    }\r\n}"],"mappings":"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"}},"mtime":1665921866344},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"filename\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _mongoose = require(\"mongoose\");\n\nvar _dotenv = require(\"dotenv\");\n\nvar _Auth = _interopRequireDefault(require(\"./Routes/Auth.routes\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _Video = _interopRequireDefault(require(\"./Routes/Video.routes\"));\n\nvar _process$env$PORT;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n(0, _dotenv.config)();\nvar server = (0, _express[\"default\"])(); //==============MiddleWares===========================================\n\nserver.use((0, _cors[\"default\"])()); //==========mongo DB connection========================================\n\nvar mongoURI = process.env.mongoURI;\n(0, _mongoose.connect)(mongoURI, function (error) {\n  if (error) {\n    return console.log(error);\n  }\n\n  console.log('connection to mongo DB successful!!!');\n}); //==============================server endpoints=============================\n\nserver.use(_Auth[\"default\"]);\nserver.use(_Video[\"default\"]);\nvar PORT = (_process$env$PORT = process.env.PORT) !== null && _process$env$PORT !== void 0 ? _process$env$PORT : 3000;\nserver.listen(PORT, function () {\n  console.log(\"Server started on PORT \".concat(PORT));\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25maWciLCJzZXJ2ZXIiLCJleHByZXNzIiwidXNlIiwiY29ycyIsIm1vbmdvVVJJIiwicHJvY2VzcyIsImVudiIsImNvbm5lY3QiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJBdXRoUm91dGVzIiwiVmlkZW9Sb3V0ZXMiLCJQT1JUIiwibGlzdGVuIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXDMyMTA4XFxEb2N1bWVudHNcXEdpdEh1YlxcSVQtUFJPSkVDVFxcYmFja2VuZDNcXHNyY1xcIiwic291cmNlcyI6WyJzZXJ2ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XHJcbmltcG9ydHsgY29ubmVjdCB9IGZyb20gJ21vbmdvb3NlJztcclxuaW1wb3J0eyBjb25maWcgfSBmcm9tICdkb3RlbnYnO1xyXG5pbXBvcnQgQXV0aFJvdXRlcyBmcm9tICcuL1JvdXRlcy9BdXRoLnJvdXRlcydcclxuaW1wb3J0IGNvcnMgZnJvbSAnY29ycydcclxuaW1wb3J0IFZpZGVvUm91dGVzIGZyb20gJy4vUm91dGVzL1ZpZGVvLnJvdXRlcydcclxuXHJcbmNvbmZpZygpO1xyXG5cclxuY29uc3Qgc2VydmVyID0gZXhwcmVzcygpO1xyXG4vLz09PT09PT09PT09PT09TWlkZGxlV2FyZXM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbnNlcnZlci51c2UoY29ycygpKVxyXG4vLz09PT09PT09PT1tb25nbyBEQiBjb25uZWN0aW9uPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5jb25zdCBtb25nb1VSSSA9IHByb2Nlc3MuZW52Lm1vbmdvVVJJO1xyXG5jb25uZWN0KG1vbmdvVVJJLCAoZXJyb3IpPT57XHJcbiAgICBpZihlcnJvcil7XHJcbiAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgIH1cclxuICAgIGNvbnNvbGUubG9nKCdjb25uZWN0aW9uIHRvIG1vbmdvIERCIHN1Y2Nlc3NmdWwhISEnKVxyXG59KVxyXG5cclxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1zZXJ2ZXIgZW5kcG9pbnRzPT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuc2VydmVyLnVzZShBdXRoUm91dGVzKVxyXG5zZXJ2ZXIudXNlKFZpZGVvUm91dGVzKVxyXG5cclxuY29uc3QgUE9SVCA9IHByb2Nlc3MuZW52LlBPUlQgPz8gMzAwMDtcclxuXHJcblxyXG5zZXJ2ZXIubGlzdGVuKFBPUlQsICgpPT57XHJcbiAgICBjb25zb2xlLmxvZyhgU2VydmVyIHN0YXJ0ZWQgb24gUE9SVCAke1BPUlR9YClcclxufSkiXSwibWFwcGluZ3MiOiI7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7OztBQUVBLElBQUFBLGNBQUE7QUFFQSxJQUFNQyxNQUFNLEdBQUcsSUFBQUMsbUJBQUEsR0FBZixDLENBQ0E7O0FBQ0FELE1BQU0sQ0FBQ0UsR0FBUCxDQUFXLElBQUFDLGdCQUFBLEdBQVgsRSxDQUNBOztBQUNBLElBQU1DLFFBQVEsR0FBR0MsT0FBTyxDQUFDQyxHQUFSLENBQVlGLFFBQTdCO0FBQ0EsSUFBQUcsaUJBQUEsRUFBUUgsUUFBUixFQUFrQixVQUFDSSxLQUFELEVBQVM7RUFDdkIsSUFBR0EsS0FBSCxFQUFTO0lBQ0wsT0FBT0MsT0FBTyxDQUFDQyxHQUFSLENBQVlGLEtBQVosQ0FBUDtFQUNIOztFQUNEQyxPQUFPLENBQUNDLEdBQVIsQ0FBWSxzQ0FBWjtBQUNILENBTEQsRSxDQU9BOztBQUNBVixNQUFNLENBQUNFLEdBQVAsQ0FBV1MsZ0JBQVg7QUFDQVgsTUFBTSxDQUFDRSxHQUFQLENBQVdVLGlCQUFYO0FBRUEsSUFBTUMsSUFBSSx3QkFBR1IsT0FBTyxDQUFDQyxHQUFSLENBQVlPLElBQWYsaUVBQXVCLElBQWpDO0FBR0FiLE1BQU0sQ0FBQ2MsTUFBUCxDQUFjRCxJQUFkLEVBQW9CLFlBQUk7RUFDcEJKLE9BQU8sQ0FBQ0MsR0FBUixrQ0FBc0NHLElBQXRDO0FBQ0gsQ0FGRCJ9","map":{"version":3,"names":["config","server","express","use","cors","mongoURI","process","env","connect","error","console","log","AuthRoutes","VideoRoutes","PORT","listen"],"sourceRoot":"C:\\Users\\32108\\Documents\\GitHub\\IT-PROJECT\\backend3\\src\\","sources":["server.js"],"sourcesContent":["import express from 'express';\r\nimport{ connect } from 'mongoose';\r\nimport{ config } from 'dotenv';\r\nimport AuthRoutes from './Routes/Auth.routes'\r\nimport cors from 'cors'\r\nimport VideoRoutes from './Routes/Video.routes'\r\n\r\nconfig();\r\n\r\nconst server = express();\r\n//==============MiddleWares===========================================\r\nserver.use(cors())\r\n//==========mongo DB connection========================================\r\nconst mongoURI = process.env.mongoURI;\r\nconnect(mongoURI, (error)=>{\r\n    if(error){\r\n        return console.log(error);\r\n    }\r\n    console.log('connection to mongo DB successful!!!')\r\n})\r\n\r\n//==============================server endpoints=============================\r\nserver.use(AuthRoutes)\r\nserver.use(VideoRoutes)\r\n\r\nconst PORT = process.env.PORT ?? 3000;\r\n\r\n\r\nserver.listen(PORT, ()=>{\r\n    console.log(`Server started on PORT ${PORT}`)\r\n})"],"mappings":";;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;AAEA,IAAAA,cAAA;AAEA,IAAMC,MAAM,GAAG,IAAAC,mBAAA,GAAf,C,CACA;;AACAD,MAAM,CAACE,GAAP,CAAW,IAAAC,gBAAA,GAAX,E,CACA;;AACA,IAAMC,QAAQ,GAAGC,OAAO,CAACC,GAAR,CAAYF,QAA7B;AACA,IAAAG,iBAAA,EAAQH,QAAR,EAAkB,UAACI,KAAD,EAAS;EACvB,IAAGA,KAAH,EAAS;IACL,OAAOC,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAP;EACH;;EACDC,OAAO,CAACC,GAAR,CAAY,sCAAZ;AACH,CALD,E,CAOA;;AACAV,MAAM,CAACE,GAAP,CAAWS,gBAAX;AACAX,MAAM,CAACE,GAAP,CAAWU,iBAAX;AAEA,IAAMC,IAAI,wBAAGR,OAAO,CAACC,GAAR,CAAYO,IAAf,iEAAuB,IAAjC;AAGAb,MAAM,CAACc,MAAP,CAAcD,IAAd,EAAoB,YAAI;EACpBJ,OAAO,CAACC,GAAR,kCAAsCG,IAAtC;AACH,CAFD"}},"mtime":1665917347954},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"filename\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Routes\\\\Auth.routes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _express = require(\"express\");\n\nvar _Auth = require(\"../Controller/Auth.controller\");\n\nvar router = (0, _express.Router)();\nvar Controller = new _Auth.AuthController(); //router.post('/app/signup')\n\nrouter.post('/api/signup', function (request, response) {\n  Controller.signup(request, response);\n});\nrouter.post('/api/signin', function (request, response) {\n  Controller.signin(request, response);\n}); // reset password\n\nrouter.post('/api/password-reset', function (request, response) {\n  Controller.forgotPassword(request, response);\n}); // delet a user from mongo DB\n\nrouter.post('/api/delete', function (request, response) {\n  Controller[\"delete\"](request, response);\n}); //find all user and return \n\nrouter.get('/api/findall', function (request, response) {\n  Controller.findAllUser(request, response);\n}); // update user information\n\nrouter.put('/api/update/:email', function (request, response) {\n  Controller.update(request, response);\n}); // search for a user\n\nrouter.get('/api/user-search/', function (request, response) {\n  Controller.searchUser(request, response);\n}); // Update user info including  email, password, username, age and gender\n\nrouter.post('/api/update', function (request, response) {\n  Controller.update(request, response);\n});\nvar _default = router; //module.exports = router;\n\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJSb3V0ZXIiLCJDb250cm9sbGVyIiwiQXV0aENvbnRyb2xsZXIiLCJwb3N0IiwicmVxdWVzdCIsInJlc3BvbnNlIiwic2lnbnVwIiwic2lnbmluIiwiZm9yZ290UGFzc3dvcmQiLCJnZXQiLCJmaW5kQWxsVXNlciIsInB1dCIsInVwZGF0ZSIsInNlYXJjaFVzZXIiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcMzIxMDhcXERvY3VtZW50c1xcR2l0SHViXFxJVC1QUk9KRUNUXFxiYWNrZW5kM1xcc3JjXFxSb3V0ZXNcXCIsInNvdXJjZXMiOlsiQXV0aC5yb3V0ZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUm91dGVyIH0gZnJvbSAnZXhwcmVzcyc7XHJcbmltcG9ydCB7IEF1dGhDb250cm9sbGVyIH0gZnJvbSAnLi4vQ29udHJvbGxlci9BdXRoLmNvbnRyb2xsZXInO1xyXG5cclxuXHJcbmNvbnN0IHJvdXRlciA9IFJvdXRlcigpO1xyXG5jb25zdCBDb250cm9sbGVyID0gbmV3IEF1dGhDb250cm9sbGVyKCk7XHJcblxyXG4vL3JvdXRlci5wb3N0KCcvYXBwL3NpZ251cCcpXHJcbnJvdXRlci5wb3N0KCcvYXBpL3NpZ251cCcsIChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xyXG4gICAgQ29udHJvbGxlci5zaWdudXAocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG5yb3V0ZXIucG9zdCgnL2FwaS9zaWduaW4nLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgIENvbnRyb2xsZXIuc2lnbmluKHJlcXVlc3QsIHJlc3BvbnNlKVxyXG59KVxyXG5cclxuLy8gcmVzZXQgcGFzc3dvcmRcclxucm91dGVyLnBvc3QoJy9hcGkvcGFzc3dvcmQtcmVzZXQnLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgIENvbnRyb2xsZXIuZm9yZ290UGFzc3dvcmQocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG5cclxuLy8gZGVsZXQgYSB1c2VyIGZyb20gbW9uZ28gREJcclxucm91dGVyLnBvc3QoJy9hcGkvZGVsZXRlJywgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XHJcbiAgICBDb250cm9sbGVyLmRlbGV0ZShyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcbi8vZmluZCBhbGwgdXNlciBhbmQgcmV0dXJuIFxyXG5yb3V0ZXIuZ2V0KCcvYXBpL2ZpbmRhbGwnLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgIENvbnRyb2xsZXIuZmluZEFsbFVzZXIocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG4vLyB1cGRhdGUgdXNlciBpbmZvcm1hdGlvblxyXG5yb3V0ZXIucHV0KCcvYXBpL3VwZGF0ZS86ZW1haWwnLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgIENvbnRyb2xsZXIudXBkYXRlKHJlcXVlc3QsIHJlc3BvbnNlKVxyXG59KVxyXG5cclxuXHJcbi8vIHNlYXJjaCBmb3IgYSB1c2VyXHJcbnJvdXRlci5nZXQoJy9hcGkvdXNlci1zZWFyY2gvJywgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XHJcbiAgICBDb250cm9sbGVyLnNlYXJjaFVzZXIocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG4vLyBVcGRhdGUgdXNlciBpbmZvIGluY2x1ZGluZyAgZW1haWwsIHBhc3N3b3JkLCB1c2VybmFtZSwgYWdlIGFuZCBnZW5kZXJcclxucm91dGVyLnBvc3QoJy9hcGkvdXBkYXRlJywgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XHJcbiAgICBDb250cm9sbGVyLnVwZGF0ZShyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xyXG4vL21vZHVsZS5leHBvcnRzID0gcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUdBLElBQU1BLE1BQU0sR0FBRyxJQUFBQyxlQUFBLEdBQWY7QUFDQSxJQUFNQyxVQUFVLEdBQUcsSUFBSUMsb0JBQUosRUFBbkIsQyxDQUVBOztBQUNBSCxNQUFNLENBQUNJLElBQVAsQ0FBWSxhQUFaLEVBQTJCLFVBQUNDLE9BQUQsRUFBVUMsUUFBVixFQUF1QjtFQUM5Q0osVUFBVSxDQUFDSyxNQUFYLENBQWtCRixPQUFsQixFQUEyQkMsUUFBM0I7QUFDSCxDQUZEO0FBSUFOLE1BQU0sQ0FBQ0ksSUFBUCxDQUFZLGFBQVosRUFBMkIsVUFBQ0MsT0FBRCxFQUFVQyxRQUFWLEVBQXVCO0VBQzlDSixVQUFVLENBQUNNLE1BQVgsQ0FBa0JILE9BQWxCLEVBQTJCQyxRQUEzQjtBQUNILENBRkQsRSxDQUlBOztBQUNBTixNQUFNLENBQUNJLElBQVAsQ0FBWSxxQkFBWixFQUFtQyxVQUFDQyxPQUFELEVBQVVDLFFBQVYsRUFBdUI7RUFDdERKLFVBQVUsQ0FBQ08sY0FBWCxDQUEwQkosT0FBMUIsRUFBbUNDLFFBQW5DO0FBQ0gsQ0FGRCxFLENBS0E7O0FBQ0FOLE1BQU0sQ0FBQ0ksSUFBUCxDQUFZLGFBQVosRUFBMkIsVUFBQ0MsT0FBRCxFQUFVQyxRQUFWLEVBQXVCO0VBQzlDSixVQUFVLFVBQVYsQ0FBa0JHLE9BQWxCLEVBQTJCQyxRQUEzQjtBQUNILENBRkQsRSxDQUlBOztBQUNBTixNQUFNLENBQUNVLEdBQVAsQ0FBVyxjQUFYLEVBQTJCLFVBQUNMLE9BQUQsRUFBVUMsUUFBVixFQUF1QjtFQUM5Q0osVUFBVSxDQUFDUyxXQUFYLENBQXVCTixPQUF2QixFQUFnQ0MsUUFBaEM7QUFDSCxDQUZELEUsQ0FJQTs7QUFDQU4sTUFBTSxDQUFDWSxHQUFQLENBQVcsb0JBQVgsRUFBaUMsVUFBQ1AsT0FBRCxFQUFVQyxRQUFWLEVBQXVCO0VBQ3BESixVQUFVLENBQUNXLE1BQVgsQ0FBa0JSLE9BQWxCLEVBQTJCQyxRQUEzQjtBQUNILENBRkQsRSxDQUtBOztBQUNBTixNQUFNLENBQUNVLEdBQVAsQ0FBVyxtQkFBWCxFQUFnQyxVQUFDTCxPQUFELEVBQVVDLFFBQVYsRUFBdUI7RUFDbkRKLFVBQVUsQ0FBQ1ksVUFBWCxDQUFzQlQsT0FBdEIsRUFBK0JDLFFBQS9CO0FBQ0gsQ0FGRCxFLENBSUE7O0FBQ0FOLE1BQU0sQ0FBQ0ksSUFBUCxDQUFZLGFBQVosRUFBMkIsVUFBQ0MsT0FBRCxFQUFVQyxRQUFWLEVBQXVCO0VBQzlDSixVQUFVLENBQUNXLE1BQVgsQ0FBa0JSLE9BQWxCLEVBQTJCQyxRQUEzQjtBQUNILENBRkQ7ZUFTZU4sTSxFQUNmIn0=","map":{"version":3,"names":["router","Router","Controller","AuthController","post","request","response","signup","signin","forgotPassword","get","findAllUser","put","update","searchUser"],"sourceRoot":"C:\\Users\\32108\\Documents\\GitHub\\IT-PROJECT\\backend3\\src\\Routes\\","sources":["Auth.routes.js"],"sourcesContent":["import { Router } from 'express';\r\nimport { AuthController } from '../Controller/Auth.controller';\r\n\r\n\r\nconst router = Router();\r\nconst Controller = new AuthController();\r\n\r\n//router.post('/app/signup')\r\nrouter.post('/api/signup', (request, response) => {\r\n    Controller.signup(request, response)\r\n})\r\n\r\nrouter.post('/api/signin', (request, response) => {\r\n    Controller.signin(request, response)\r\n})\r\n\r\n// reset password\r\nrouter.post('/api/password-reset', (request, response) => {\r\n    Controller.forgotPassword(request, response)\r\n})\r\n\r\n\r\n// delet a user from mongo DB\r\nrouter.post('/api/delete', (request, response) => {\r\n    Controller.delete(request, response)\r\n})\r\n\r\n//find all user and return \r\nrouter.get('/api/findall', (request, response) => {\r\n    Controller.findAllUser(request, response)\r\n})\r\n\r\n// update user information\r\nrouter.put('/api/update/:email', (request, response) => {\r\n    Controller.update(request, response)\r\n})\r\n\r\n\r\n// search for a user\r\nrouter.get('/api/user-search/', (request, response) => {\r\n    Controller.searchUser(request, response)\r\n})\r\n\r\n// Update user info including  email, password, username, age and gender\r\nrouter.post('/api/update', (request, response) => {\r\n    Controller.update(request, response)\r\n})\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default router;\r\n//module.exports = router;"],"mappings":";;;;;;;AAAA;;AACA;;AAGA,IAAMA,MAAM,GAAG,IAAAC,eAAA,GAAf;AACA,IAAMC,UAAU,GAAG,IAAIC,oBAAJ,EAAnB,C,CAEA;;AACAH,MAAM,CAACI,IAAP,CAAY,aAAZ,EAA2B,UAACC,OAAD,EAAUC,QAAV,EAAuB;EAC9CJ,UAAU,CAACK,MAAX,CAAkBF,OAAlB,EAA2BC,QAA3B;AACH,CAFD;AAIAN,MAAM,CAACI,IAAP,CAAY,aAAZ,EAA2B,UAACC,OAAD,EAAUC,QAAV,EAAuB;EAC9CJ,UAAU,CAACM,MAAX,CAAkBH,OAAlB,EAA2BC,QAA3B;AACH,CAFD,E,CAIA;;AACAN,MAAM,CAACI,IAAP,CAAY,qBAAZ,EAAmC,UAACC,OAAD,EAAUC,QAAV,EAAuB;EACtDJ,UAAU,CAACO,cAAX,CAA0BJ,OAA1B,EAAmCC,QAAnC;AACH,CAFD,E,CAKA;;AACAN,MAAM,CAACI,IAAP,CAAY,aAAZ,EAA2B,UAACC,OAAD,EAAUC,QAAV,EAAuB;EAC9CJ,UAAU,UAAV,CAAkBG,OAAlB,EAA2BC,QAA3B;AACH,CAFD,E,CAIA;;AACAN,MAAM,CAACU,GAAP,CAAW,cAAX,EAA2B,UAACL,OAAD,EAAUC,QAAV,EAAuB;EAC9CJ,UAAU,CAACS,WAAX,CAAuBN,OAAvB,EAAgCC,QAAhC;AACH,CAFD,E,CAIA;;AACAN,MAAM,CAACY,GAAP,CAAW,oBAAX,EAAiC,UAACP,OAAD,EAAUC,QAAV,EAAuB;EACpDJ,UAAU,CAACW,MAAX,CAAkBR,OAAlB,EAA2BC,QAA3B;AACH,CAFD,E,CAKA;;AACAN,MAAM,CAACU,GAAP,CAAW,mBAAX,EAAgC,UAACL,OAAD,EAAUC,QAAV,EAAuB;EACnDJ,UAAU,CAACY,UAAX,CAAsBT,OAAtB,EAA+BC,QAA/B;AACH,CAFD,E,CAIA;;AACAN,MAAM,CAACI,IAAP,CAAY,aAAZ,EAA2B,UAACC,OAAD,EAAUC,QAAV,EAAuB;EAC9CJ,UAAU,CAACW,MAAX,CAAkBR,OAAlB,EAA2BC,QAA3B;AACH,CAFD;eASeN,M,EACf"}},"mtime":1666071604609},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Controller\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"filename\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Controller\\\\Auth.controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AuthController = void 0;\n\nvar _formidable = require(\"formidable\");\n\nvar _bcrypt = require(\"bcrypt\");\n\nvar _dotenv = require(\"dotenv\");\n\nvar _jsonwebtoken = require(\"jsonwebtoken\");\n\nvar _User = require(\"../Models/User.model\");\n\nvar _Video = require(\"../Models/Video.model\");\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n(0, _dotenv.config)();\n\nvar AuthController = /*#__PURE__*/function () {\n  function AuthController() {\n    _classCallCheck(this, AuthController);\n  }\n\n  _createClass(AuthController, [{\n    key: \"signup\",\n    value: //signup method\n    function signup(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(error, fields, files) {\n          var username, email, password, age, gender, salt, hashedPassword, newAccount, savedAccount;\n          return _regeneratorRuntime().wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  if (!error) {\n                    _context.next = 2;\n                    break;\n                  }\n\n                  return _context.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to create account, maybe try again later'\n                  }));\n\n                case 2:\n                  username = fields.username, email = fields.email, password = fields.password, age = fields.age, gender = fields.gender;\n\n                  if (!(password.length > 20 || password.length < 6)) {\n                    _context.next = 5;\n                    break;\n                  }\n\n                  return _context.abrupt(\"return\", response.status(503).json({\n                    msg: 'Password length need to be 6-20 range'\n                  }));\n\n                case 5:\n                  if (!(age > 150 || age < 0)) {\n                    _context.next = 7;\n                    break;\n                  }\n\n                  return _context.abrupt(\"return\", response.status(502).json({\n                    msg: 'Invalid age'\n                  }));\n\n                case 7:\n                  _context.next = 9;\n                  return (0, _bcrypt.genSalt)(15);\n\n                case 9:\n                  salt = _context.sent;\n                  _context.next = 12;\n                  return (0, _bcrypt.hash)(password, salt);\n\n                case 12:\n                  hashedPassword = _context.sent;\n                  newAccount = new _User.userModel({\n                    username: username,\n                    email: email,\n                    password: hashedPassword,\n                    age: age,\n                    gender: gender\n                  }); // create an account successful or failed\n\n                  _context.prev = 14;\n                  _context.next = 17;\n                  return newAccount.save();\n\n                case 17:\n                  savedAccount = _context.sent;\n                  return _context.abrupt(\"return\", response.status(201).json({\n                    msg: 'Account created successfully'\n                  }));\n\n                case 21:\n                  _context.prev = 21;\n                  _context.t0 = _context[\"catch\"](14);\n                  console.log(_context.t0);\n                  return _context.abrupt(\"return\", response.status(501).json({\n                    msg: 'This account has been registered. Change email or username'\n                  }));\n\n                case 25:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, null, [[14, 21]]);\n        }));\n\n        return function (_x, _x2, _x3) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n    } // sign in\n\n  }, {\n    key: \"signin\",\n    value: function signin(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(error, fields, files) {\n          var account, password, isAccountEmail, _user, _isPasswordValid, _token_payload, _token, _username, user, isPasswordValid, token_payload, token, username;\n\n          return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  if (!error) {\n                    _context2.next = 2;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to signin'\n                  }));\n\n                case 2:\n                  account = fields.account, password = fields.password; // email log in \n\n                  isAccountEmail = account.includes('@');\n\n                  if (!isAccountEmail) {\n                    _context2.next = 19;\n                    break;\n                  }\n\n                  _context2.next = 7;\n                  return _User.userModel.findOne({\n                    email: account\n                  });\n\n                case 7:\n                  _user = _context2.sent;\n\n                  if (_user) {\n                    _context2.next = 10;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\", response.status(404).json({\n                    msg: 'Email of this account does not exist'\n                  }));\n\n                case 10:\n                  _context2.next = 12;\n                  return (0, _bcrypt.compare)(password, _user.password);\n\n                case 12:\n                  _isPasswordValid = _context2.sent;\n\n                  if (_isPasswordValid) {\n                    _context2.next = 15;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\", response.status(400).json({\n                    msg: 'Invalid password'\n                  }));\n\n                case 15:\n                  _token_payload = {\n                    _id: _user._id,\n                    email: _user.email,\n                    username: _user.username\n                  };\n                  _token = (0, _jsonwebtoken.sign)(_token_payload, process.env.cookie_secret, {\n                    expiresIn: '365d'\n                  });\n                  _username = _token_payload.username;\n                  return _context2.abrupt(\"return\", response.status(200).json({\n                    token: _token,\n                    username: _username\n                  }));\n\n                case 19:\n                  _context2.next = 21;\n                  return _User.userModel.findOne({\n                    username: account\n                  });\n\n                case 21:\n                  user = _context2.sent;\n\n                  if (user) {\n                    _context2.next = 24;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\", response.status(404).json({\n                    msg: 'username of this account does not exist'\n                  }));\n\n                case 24:\n                  _context2.next = 26;\n                  return (0, _bcrypt.compare)(password, user.password);\n\n                case 26:\n                  isPasswordValid = _context2.sent;\n\n                  if (isPasswordValid) {\n                    _context2.next = 29;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\", response.status(400).json({\n                    msg: 'Invalid password'\n                  }));\n\n                case 29:\n                  token_payload = {\n                    _id: user._id,\n                    email: user.email,\n                    username: user.username\n                  };\n                  token = (0, _jsonwebtoken.sign)(token_payload, process.env.cookie_secret, {\n                    expiresIn: '365d'\n                  });\n                  username = token_payload.username;\n                  return _context2.abrupt(\"return\", response.status(200).json({\n                    token: token,\n                    username: username\n                  }));\n\n                case 33:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2);\n        }));\n\n        return function (_x4, _x5, _x6) {\n          return _ref2.apply(this, arguments);\n        };\n      }());\n    } // forgot password and reset\n\n  }, {\n    key: \"forgotPassword\",\n    value: function forgotPassword(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(error, fields, files) {\n          var email, password, salt, hashedPassword, user, updatedAccount;\n          return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n            while (1) {\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  if (!error) {\n                    _context3.next = 2;\n                    break;\n                  }\n\n                  return _context3.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to rset password'\n                  }));\n\n                case 2:\n                  email = fields.email, password = fields.password;\n\n                  if (!(!email || !password)) {\n                    _context3.next = 5;\n                    break;\n                  }\n\n                  return _context3.abrupt(\"return\", response.status(400).json({\n                    msg: 'email and password are required to reset password '\n                  }));\n\n                case 5:\n                  _context3.next = 7;\n                  return (0, _bcrypt.genSalt)(15);\n\n                case 7:\n                  salt = _context3.sent;\n                  _context3.next = 10;\n                  return (0, _bcrypt.hash)(password, salt);\n\n                case 10:\n                  hashedPassword = _context3.sent;\n                  _context3.prev = 11;\n                  _context3.next = 14;\n                  return _User.userModel.findOne({\n                    email: email\n                  });\n\n                case 14:\n                  user = _context3.sent;\n\n                  if (user) {\n                    _context3.next = 17;\n                    break;\n                  }\n\n                  return _context3.abrupt(\"return\", response.status(404).json({\n                    msg: 'Account with this email does not exist'\n                  }));\n\n                case 17:\n                  _context3.next = 19;\n                  return _User.userModel.findOneAndUpdate({\n                    email: email\n                  }, {\n                    $set: {\n                      password: hashedPassword\n                    }\n                  }, {\n                    \"new\": true\n                  });\n\n                case 19:\n                  updatedAccount = _context3.sent;\n                  return _context3.abrupt(\"return\", response.status(200).json({\n                    msg: 'Password rest successful'\n                  }));\n\n                case 23:\n                  _context3.prev = 23;\n                  _context3.t0 = _context3[\"catch\"](11);\n                  return _context3.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to reset password'\n                  }));\n\n                case 26:\n                case \"end\":\n                  return _context3.stop();\n              }\n            }\n          }, _callee3, null, [[11, 23]]);\n        }));\n\n        return function (_x7, _x8, _x9) {\n          return _ref3.apply(this, arguments);\n        };\n      }());\n    } // updat user info such as username, password, age and gender via email.\n\n  }, {\n    key: \"update\",\n    value: function update(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(error, fields, files) {\n          var email, username, age, gender, newUsername, newAge, newGender, user, updatedAccount, updatedVideo_username;\n          return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n            while (1) {\n              switch (_context4.prev = _context4.next) {\n                case 0:\n                  if (!error) {\n                    _context4.next = 2;\n                    break;\n                  }\n\n                  return _context4.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to update. Try again later'\n                  }));\n\n                case 2:\n                  email = fields.email, username = fields.username, age = fields.age, gender = fields.gender;\n                  newUsername = username;\n                  newAge = age;\n                  newGender = gender;\n                  _context4.prev = 6;\n                  _context4.next = 9;\n                  return _User.userModel.findOne({\n                    email: email\n                  });\n\n                case 9:\n                  user = _context4.sent;\n\n                  if (user) {\n                    _context4.next = 12;\n                    break;\n                  }\n\n                  return _context4.abrupt(\"return\", response.status(404).json({\n                    msg: 'Account with this email does not exist'\n                  }));\n\n                case 12:\n                  _context4.next = 14;\n                  return _User.userModel.findOneAndUpdate({\n                    email: email\n                  }, {\n                    $set: {\n                      username: newUsername,\n                      age: newAge,\n                      gender: newGender\n                    }\n                  }, {\n                    \"new\": true\n                  });\n\n                case 14:\n                  updatedAccount = _context4.sent;\n                  _context4.next = 17;\n                  return _Video.videoModel.updateMany({\n                    email: email\n                  }, {\n                    $set: {\n                      username: newUsername\n                    }\n                  }, {\n                    \"new\": true\n                  });\n\n                case 17:\n                  updatedVideo_username = _context4.sent;\n                  return _context4.abrupt(\"return\", response.status(200).json({\n                    msg: 'Edit successful'\n                  }));\n\n                case 21:\n                  _context4.prev = 21;\n                  _context4.t0 = _context4[\"catch\"](6);\n                  return _context4.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to update. Change email or username and try again'\n                  }));\n\n                case 24:\n                case \"end\":\n                  return _context4.stop();\n              }\n            }\n          }, _callee4, null, [[6, 21]]);\n        }));\n\n        return function (_x10, _x11, _x12) {\n          return _ref4.apply(this, arguments);\n        };\n      }());\n    } //delete user account\n\n  }, {\n    key: \"delete\",\n    value: function _delete(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(error, fields, files) {\n          var email, user;\n          return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n            while (1) {\n              switch (_context5.prev = _context5.next) {\n                case 0:\n                  if (!error) {\n                    _context5.next = 2;\n                    break;\n                  }\n\n                  return _context5.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to delete account, maybe try again later'\n                  }));\n\n                case 2:\n                  email = fields.email;\n                  _context5.prev = 3;\n                  _context5.next = 6;\n                  return _User.userModel.findOneAndDelete({\n                    email: email\n                  });\n\n                case 6:\n                  user = _context5.sent;\n                  return _context5.abrupt(\"return\", response.status(200).json({\n                    msg: 'delete successful'\n                  }));\n\n                case 10:\n                  _context5.prev = 10;\n                  _context5.t0 = _context5[\"catch\"](3);\n                  return _context5.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to delete'\n                  }));\n\n                case 13:\n                case \"end\":\n                  return _context5.stop();\n              }\n            }\n          }, _callee5, null, [[3, 10]]);\n        }));\n\n        return function (_x13, _x14, _x15) {\n          return _ref5.apply(this, arguments);\n        };\n      }());\n    } // find all user\n\n  }, {\n    key: \"findAllUser\",\n    value: function findAllUser(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(error, fields, files) {\n          var user;\n          return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n            while (1) {\n              switch (_context6.prev = _context6.next) {\n                case 0:\n                  if (!error) {\n                    _context6.next = 2;\n                    break;\n                  }\n\n                  return _context6.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to delete account, maybe try again later'\n                  }));\n\n                case 2:\n                  _context6.prev = 2;\n                  _context6.next = 5;\n                  return _User.userModel.find();\n\n                case 5:\n                  user = _context6.sent;\n                  return _context6.abrupt(\"return\", response.send(user));\n\n                case 9:\n                  _context6.prev = 9;\n                  _context6.t0 = _context6[\"catch\"](2);\n                  return _context6.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed find all users'\n                  }));\n\n                case 12:\n                case \"end\":\n                  return _context6.stop();\n              }\n            }\n          }, _callee6, null, [[2, 9]]);\n        }));\n\n        return function (_x16, _x17, _x18) {\n          return _ref6.apply(this, arguments);\n        };\n      }());\n    } // search for a user by request \n\n  }, {\n    key: \"searchUser\",\n    value: function () {\n      var _searchUser = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(request, response) {\n        var name, user;\n        return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                name = request.query.username;\n                _context7.prev = 1;\n                _context7.next = 4;\n                return _User.userModel.find({\n                  username: {\n                    $regex: name\n                  }\n                });\n\n              case 4:\n                user = _context7.sent;\n                return _context7.abrupt(\"return\", response.send(user));\n\n              case 8:\n                _context7.prev = 8;\n                _context7.t0 = _context7[\"catch\"](1);\n                return _context7.abrupt(\"return\", response.status(500).json({\n                  msg: 'No matching user'\n                }));\n\n              case 11:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, null, [[1, 8]]);\n      }));\n\n      function searchUser(_x19, _x20) {\n        return _searchUser.apply(this, arguments);\n      }\n\n      return searchUser;\n    }()\n  }]);\n\n  return AuthController;\n}();\n\nexports.AuthController = AuthController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25maWciLCJBdXRoQ29udHJvbGxlciIsInJlcXVlc3QiLCJyZXNwb25zZSIsImZvcm0iLCJJbmNvbWluZ0Zvcm0iLCJwYXJzZSIsImVycm9yIiwiZmllbGRzIiwiZmlsZXMiLCJzdGF0dXMiLCJqc29uIiwibXNnIiwidXNlcm5hbWUiLCJlbWFpbCIsInBhc3N3b3JkIiwiYWdlIiwiZ2VuZGVyIiwibGVuZ3RoIiwiZ2VuU2FsdCIsInNhbHQiLCJoYXNoIiwiaGFzaGVkUGFzc3dvcmQiLCJuZXdBY2NvdW50IiwidXNlck1vZGVsIiwic2F2ZSIsInNhdmVkQWNjb3VudCIsImNvbnNvbGUiLCJsb2ciLCJhY2NvdW50IiwiaXNBY2NvdW50RW1haWwiLCJpbmNsdWRlcyIsImZpbmRPbmUiLCJ1c2VyIiwiY29tcGFyZSIsImlzUGFzc3dvcmRWYWxpZCIsInRva2VuX3BheWxvYWQiLCJfaWQiLCJ0b2tlbiIsInNpZ24iLCJwcm9jZXNzIiwiZW52IiwiY29va2llX3NlY3JldCIsImV4cGlyZXNJbiIsImZpbmRPbmVBbmRVcGRhdGUiLCIkc2V0IiwidXBkYXRlZEFjY291bnQiLCJuZXdVc2VybmFtZSIsIm5ld0FnZSIsIm5ld0dlbmRlciIsInZpZGVvTW9kZWwiLCJ1cGRhdGVNYW55IiwidXBkYXRlZFZpZGVvX3VzZXJuYW1lIiwiZmluZE9uZUFuZERlbGV0ZSIsImZpbmQiLCJzZW5kIiwibmFtZSIsInF1ZXJ5IiwiJHJlZ2V4Il0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXDMyMTA4XFxEb2N1bWVudHNcXEdpdEh1YlxcSVQtUFJPSkVDVFxcYmFja2VuZDNcXHNyY1xcQ29udHJvbGxlclxcIiwic291cmNlcyI6WyJBdXRoLmNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5jb21pbmdGb3JtIH0gZnJvbSAnZm9ybWlkYWJsZSc7XHJcbmltcG9ydCB7IGdlblNhbHQsIGhhc2gsIGNvbXBhcmUgfSBmcm9tICdiY3J5cHQnO1xyXG5pbXBvcnQgeyBjb25maWcgfSBmcm9tICdkb3RlbnYnO1xyXG5pbXBvcnQgeyB2ZXJpZnksIHNpZ24gfSBmcm9tICdqc29ud2VidG9rZW4nO1xyXG5pbXBvcnQgeyB1c2VyTW9kZWwgfSBmcm9tICcuLi9Nb2RlbHMvVXNlci5tb2RlbCdcclxuaW1wb3J0IHsgdmlkZW9Nb2RlbCB9IGZyb20gJy4uL01vZGVscy9WaWRlby5tb2RlbCdcclxuY29uZmlnKClcclxuXHJcbmV4cG9ydCBjbGFzcyBBdXRoQ29udHJvbGxlciB7XHJcbiAgICAvL3NpZ251cCBtZXRob2RcclxuICAgIHNpZ251cChyZXF1ZXN0LCByZXNwb25zZSkge1xyXG4gICAgICAgIGNvbnN0IGZvcm0gPSBuZXcgSW5jb21pbmdGb3JtKCk7XHJcblxyXG4gICAgICAgIGZvcm0ucGFyc2UocmVxdWVzdCwgYXN5bmMgKGVycm9yLCBmaWVsZHMsIGZpbGVzKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oeyBtc2c6ICdGYWlsZWQgdG8gY3JlYXRlIGFjY291bnQsIG1heWJlIHRyeSBhZ2FpbiBsYXRlcicgfSlcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc3QgeyB1c2VybmFtZSwgZW1haWwsIHBhc3N3b3JkLCBhZ2UsIGdlbmRlciB9ID0gZmllbGRzO1xyXG4gICAgICAgICAgICBpZiAocGFzc3dvcmQubGVuZ3RoID4gMjAgfHwgcGFzc3dvcmQubGVuZ3RoIDwgNikgeyAgLy8gcGFzc3dvcmQgbWluaW11bSBsZW5ndGggPSA2LCBtYXhpbXVtIGxlbmd0aCA9IDIwXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMykuanNvbih7IG1zZzogJ1Bhc3N3b3JkIGxlbmd0aCBuZWVkIHRvIGJlIDYtMjAgcmFuZ2UnIH0pXHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChhZ2UgPiAxNTAgfHwgYWdlIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDIpLmpzb24oeyBtc2c6ICdJbnZhbGlkIGFnZScgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBzYWx0ID0gYXdhaXQgZ2VuU2FsdCgxNSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGhhc2hlZFBhc3N3b3JkID0gYXdhaXQgaGFzaChwYXNzd29yZCwgc2FsdCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld0FjY291bnQgPSBuZXcgdXNlck1vZGVsKHtcclxuICAgICAgICAgICAgICAgIHVzZXJuYW1lLFxyXG4gICAgICAgICAgICAgICAgZW1haWwsXHJcbiAgICAgICAgICAgICAgICBwYXNzd29yZDogaGFzaGVkUGFzc3dvcmQsXHJcbiAgICAgICAgICAgICAgICBhZ2UsXHJcbiAgICAgICAgICAgICAgICBnZW5kZXJcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLy8gY3JlYXRlIGFuIGFjY291bnQgc3VjY2Vzc2Z1bCBvciBmYWlsZWRcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNhdmVkQWNjb3VudCA9IGF3YWl0IG5ld0FjY291bnQuc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cygyMDEpLmpzb24oeyBtc2c6ICdBY2NvdW50IGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5JyB9KVxyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMSkuanNvbih7IG1zZzogJ1RoaXMgYWNjb3VudCBoYXMgYmVlbiByZWdpc3RlcmVkLiBDaGFuZ2UgZW1haWwgb3IgdXNlcm5hbWUnIH0pXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICAvLyBzaWduIGluXHJcbiAgICBzaWduaW4ocmVxdWVzdCwgcmVzcG9uc2UpIHtcclxuICAgICAgICBjb25zdCBmb3JtID0gbmV3IEluY29taW5nRm9ybSgpO1xyXG5cclxuICAgICAgICBmb3JtLnBhcnNlKHJlcXVlc3QsIGFzeW5jIChlcnJvciwgZmllbGRzLCBmaWxlcykgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAnRmFpbGVkIHRvIHNpZ25pbicgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB7IGFjY291bnQsIHBhc3N3b3JkIH0gPSBmaWVsZHM7XHJcbiAgICAgICAgICAgIC8vIGVtYWlsIGxvZyBpbiBcclxuICAgICAgICAgICAgY29uc3QgaXNBY2NvdW50RW1haWwgPSBhY2NvdW50LmluY2x1ZGVzKCdAJyk7XHJcbiAgICAgICAgICAgIGlmIChpc0FjY291bnRFbWFpbCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IHVzZXJNb2RlbC5maW5kT25lKHsgZW1haWw6IGFjY291bnQgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCF1c2VyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg0MDQpLmpzb24oeyBtc2c6ICdFbWFpbCBvZiB0aGlzIGFjY291bnQgZG9lcyBub3QgZXhpc3QnIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpc1Bhc3N3b3JkVmFsaWQgPSBhd2FpdCBjb21wYXJlKHBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKTsgIC8vIGhhc2hlZCBwYXNzd29yZFxyXG4gICAgICAgICAgICAgICAgaWYgKCFpc1Bhc3N3b3JkVmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwMCkuanNvbih7IG1zZzogJ0ludmFsaWQgcGFzc3dvcmQnIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0b2tlbl9wYXlsb2FkID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIF9pZDogdXNlci5faWQsXHJcbiAgICAgICAgICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXHJcbiAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWVcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IHRva2VuID0gc2lnbih0b2tlbl9wYXlsb2FkLCBwcm9jZXNzLmVudi5jb29raWVfc2VjcmV0LCB7IGV4cGlyZXNJbjogJzM2NWQnIH0pXHJcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VybmFtZSA9IHRva2VuX3BheWxvYWQudXNlcm5hbWU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7IHRva2VuLCB1c2VybmFtZSB9KVxyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgdXNlck1vZGVsLmZpbmRPbmUoeyB1c2VybmFtZTogYWNjb3VudCB9KTtcclxuXHJcbiAgICAgICAgICAgIGlmICghdXNlcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg0MDQpLmpzb24oeyBtc2c6ICd1c2VybmFtZSBvZiB0aGlzIGFjY291bnQgZG9lcyBub3QgZXhpc3QnIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgaXNQYXNzd29yZFZhbGlkID0gYXdhaXQgY29tcGFyZShwYXNzd29yZCwgdXNlci5wYXNzd29yZCk7ICAvLyBoYXNoZWQgcGFzc3dvcmRcclxuICAgICAgICAgICAgaWYgKCFpc1Bhc3N3b3JkVmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNDAwKS5qc29uKHsgbXNnOiAnSW52YWxpZCBwYXNzd29yZCcgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB0b2tlbl9wYXlsb2FkID0ge1xyXG4gICAgICAgICAgICAgICAgX2lkOiB1c2VyLl9pZCxcclxuICAgICAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxyXG4gICAgICAgICAgICAgICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB0b2tlbiA9IHNpZ24odG9rZW5fcGF5bG9hZCwgcHJvY2Vzcy5lbnYuY29va2llX3NlY3JldCwgeyBleHBpcmVzSW46ICczNjVkJyB9KVxyXG4gICAgICAgICAgICBjb25zdCB1c2VybmFtZSA9IHRva2VuX3BheWxvYWQudXNlcm5hbWU7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHsgdG9rZW4sIHVzZXJuYW1lIH0pXHJcblxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLy8gZm9yZ290IHBhc3N3b3JkIGFuZCByZXNldFxyXG4gICAgZm9yZ290UGFzc3dvcmQocmVxdWVzdCwgcmVzcG9uc2UpIHtcclxuICAgICAgICBjb25zdCBmb3JtID0gbmV3IEluY29taW5nRm9ybSgpO1xyXG5cclxuICAgICAgICBmb3JtLnBhcnNlKHJlcXVlc3QsIGFzeW5jIChlcnJvciwgZmllbGRzLCBmaWxlcykgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAnRmFpbGVkIHRvIHJzZXQgcGFzc3dvcmQnIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQgfSA9IGZpZWxkcztcclxuXHJcbiAgICAgICAgICAgIGlmICghZW1haWwgfHwgIXBhc3N3b3JkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwMCkuanNvbih7IG1zZzogJ2VtYWlsIGFuZCBwYXNzd29yZCBhcmUgcmVxdWlyZWQgdG8gcmVzZXQgcGFzc3dvcmQgJyB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHNhbHQgPSBhd2FpdCBnZW5TYWx0KDE1KTtcclxuICAgICAgICAgICAgY29uc3QgaGFzaGVkUGFzc3dvcmQgPSBhd2FpdCBoYXNoKHBhc3N3b3JkLCBzYWx0KVxyXG5cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB1c2VyTW9kZWwuZmluZE9uZSh7IGVtYWlsOiBlbWFpbCB9KTtcclxuICAgICAgICAgICAgICAgIGlmICghdXNlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNDA0KS5qc29uKHsgbXNnOiAnQWNjb3VudCB3aXRoIHRoaXMgZW1haWwgZG9lcyBub3QgZXhpc3QnIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvKiBjb25zdCB1cGRhdGVkQWNjb3VudCA9IGF3YWl0IHVzZXJNb2RlbC5maW5kT25lQW5kVXBkYXRlKHtlbWFpbDplbWFpbH0sIHskc2V0OntwYXNzd29yZDogaGFzaGVkUGFzc3dvcmR9fSwge25ldzp0cnVlfSlcclxuICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7bXNnOidQYXNzd29yZCByZXN0IHN1Y2Nlc3NmdWwnfSkgKi9cclxuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRBY2NvdW50ID0gYXdhaXQgdXNlck1vZGVsLmZpbmRPbmVBbmRVcGRhdGUoeyBlbWFpbDogZW1haWwgfSwgeyAkc2V0OiB7IHBhc3N3b3JkOiBoYXNoZWRQYXNzd29yZCB9IH0sIHsgbmV3OiB0cnVlIH0pXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7IG1zZzogJ1Bhc3N3b3JkIHJlc3Qgc3VjY2Vzc2Z1bCcgfSlcclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAnRmFpbGVkIHRvIHJlc2V0IHBhc3N3b3JkJyB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICAvLyB1cGRhdCB1c2VyIGluZm8gc3VjaCBhcyB1c2VybmFtZSwgcGFzc3dvcmQsIGFnZSBhbmQgZ2VuZGVyIHZpYSBlbWFpbC5cclxuICAgIHVwZGF0ZShyZXF1ZXN0LCByZXNwb25zZSkge1xyXG4gICAgICAgIGNvbnN0IGZvcm0gPSBuZXcgSW5jb21pbmdGb3JtKCk7XHJcblxyXG4gICAgICAgIGZvcm0ucGFyc2UocmVxdWVzdCwgYXN5bmMgKGVycm9yLCBmaWVsZHMsIGZpbGVzKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oeyBtc2c6ICdGYWlsZWQgdG8gdXBkYXRlLiBUcnkgYWdhaW4gbGF0ZXInIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgeyBlbWFpbCwgdXNlcm5hbWUsIGFnZSwgZ2VuZGVyIH0gPSBmaWVsZHM7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1VzZXJuYW1lID0gdXNlcm5hbWVcclxuICAgICAgICAgICAgY29uc3QgbmV3QWdlID0gYWdlXHJcbiAgICAgICAgICAgIGNvbnN0IG5ld0dlbmRlciA9IGdlbmRlclxyXG5cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB1c2VyTW9kZWwuZmluZE9uZSh7IGVtYWlsOiBlbWFpbCB9KTtcclxuICAgICAgICAgICAgICAgIGlmICghdXNlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNDA0KS5qc29uKHsgbXNnOiAnQWNjb3VudCB3aXRoIHRoaXMgZW1haWwgZG9lcyBub3QgZXhpc3QnIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvKiBjb25zdCB1cGRhdGVkQWNjb3VudCA9IGF3YWl0IHVzZXJNb2RlbC5maW5kT25lQW5kVXBkYXRlKHtlbWFpbDplbWFpbH0sIHskc2V0OntwYXNzd29yZDogaGFzaGVkUGFzc3dvcmR9fSwge25ldzp0cnVlfSlcclxuICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7bXNnOidQYXNzd29yZCByZXN0IHN1Y2Nlc3NmdWwnfSkgKi9cclxuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRBY2NvdW50ID0gYXdhaXQgdXNlck1vZGVsLmZpbmRPbmVBbmRVcGRhdGUoeyBlbWFpbDogZW1haWwgfSwgeyAkc2V0OiB7IHVzZXJuYW1lOiBuZXdVc2VybmFtZSwgYWdlOiBuZXdBZ2UsIGdlbmRlcjogbmV3R2VuZGVyIH0gfSwgeyBuZXc6IHRydWUgfSlcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRWaWRlb191c2VybmFtZSA9IGF3YWl0IHZpZGVvTW9kZWwudXBkYXRlTWFueSh7IGVtYWlsOiBlbWFpbCB9LCB7ICRzZXQ6IHsgdXNlcm5hbWU6IG5ld1VzZXJuYW1lIH0gfSwgeyBuZXc6IHRydWUgfSlcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHsgbXNnOiAnRWRpdCBzdWNjZXNzZnVsJyB9KVxyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oeyBtc2c6ICdGYWlsZWQgdG8gdXBkYXRlLiBDaGFuZ2UgZW1haWwgb3IgdXNlcm5hbWUgYW5kIHRyeSBhZ2FpbicgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLy9kZWxldGUgdXNlciBhY2NvdW50XHJcbiAgICBkZWxldGUocmVxdWVzdCwgcmVzcG9uc2UpIHtcclxuICAgICAgICBjb25zdCBmb3JtID0gbmV3IEluY29taW5nRm9ybSgpO1xyXG4gICAgICAgIGZvcm0ucGFyc2UocmVxdWVzdCwgYXN5bmMgKGVycm9yLCBmaWVsZHMsIGZpbGVzKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oeyBtc2c6ICdGYWlsZWQgdG8gZGVsZXRlIGFjY291bnQsIG1heWJlIHRyeSBhZ2FpbiBsYXRlcicgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB7IGVtYWlsIH0gPSBmaWVsZHM7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgdXNlck1vZGVsLmZpbmRPbmVBbmREZWxldGUoeyBlbWFpbDogZW1haWwgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7IG1zZzogJ2RlbGV0ZSBzdWNjZXNzZnVsJyB9KVxyXG5cclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAnRmFpbGVkIHRvIGRlbGV0ZScgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLy8gZmluZCBhbGwgdXNlclxyXG4gICAgZmluZEFsbFVzZXIocmVxdWVzdCwgcmVzcG9uc2UpIHtcclxuICAgICAgICBjb25zdCBmb3JtID0gbmV3IEluY29taW5nRm9ybSgpO1xyXG5cclxuICAgICAgICBmb3JtLnBhcnNlKHJlcXVlc3QsIGFzeW5jIChlcnJvciwgZmllbGRzLCBmaWxlcykgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAnRmFpbGVkIHRvIGRlbGV0ZSBhY2NvdW50LCBtYXliZSB0cnkgYWdhaW4gbGF0ZXInIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB1c2VyTW9kZWwuZmluZCgpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc2VuZCh1c2VyKVxyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oeyBtc2c6ICdGYWlsZWQgZmluZCBhbGwgdXNlcnMnIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvLyBzZWFyY2ggZm9yIGEgdXNlciBieSByZXF1ZXN0IFxyXG4gICAgYXN5bmMgc2VhcmNoVXNlcihyZXF1ZXN0LCByZXNwb25zZSkge1xyXG4gICAgICAgIGNvbnN0IG5hbWUgPSByZXF1ZXN0LnF1ZXJ5LnVzZXJuYW1lO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCB1c2VyID0gYXdhaXQgdXNlck1vZGVsLmZpbmQoeyB1c2VybmFtZTogeyAkcmVnZXg6IG5hbWUgfSB9KVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc2VuZCh1c2VyKVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAnTm8gbWF0Y2hpbmcgdXNlcicgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7OytDQUpBLG9KOzs7Ozs7Ozs7Ozs7QUFLQSxJQUFBQSxjQUFBOztJQUVhQyxjOzs7Ozs7O1dBQ1Q7SUFDQSxnQkFBT0MsT0FBUCxFQUFnQkMsUUFBaEIsRUFBMEI7TUFDdEIsSUFBTUMsSUFBSSxHQUFHLElBQUlDLHdCQUFKLEVBQWI7TUFFQUQsSUFBSSxDQUFDRSxLQUFMLENBQVdKLE9BQVg7UUFBQSxzRUFBb0IsaUJBQU9LLEtBQVAsRUFBY0MsTUFBZCxFQUFzQkMsS0FBdEI7VUFBQTtVQUFBO1lBQUE7Y0FBQTtnQkFBQTtrQkFBQSxLQUNaRixLQURZO29CQUFBO29CQUFBO2tCQUFBOztrQkFBQSxpQ0FFTEosUUFBUSxDQUFDTyxNQUFULENBQWdCLEdBQWhCLEVBQXFCQyxJQUFyQixDQUEwQjtvQkFBRUMsR0FBRyxFQUFFO2tCQUFQLENBQTFCLENBRks7O2dCQUFBO2tCQUtSQyxRQUxRLEdBS21DTCxNQUxuQyxDQUtSSyxRQUxRLEVBS0VDLEtBTEYsR0FLbUNOLE1BTG5DLENBS0VNLEtBTEYsRUFLU0MsUUFMVCxHQUttQ1AsTUFMbkMsQ0FLU08sUUFMVCxFQUttQkMsR0FMbkIsR0FLbUNSLE1BTG5DLENBS21CUSxHQUxuQixFQUt3QkMsTUFMeEIsR0FLbUNULE1BTG5DLENBS3dCUyxNQUx4Qjs7a0JBQUEsTUFNWkYsUUFBUSxDQUFDRyxNQUFULEdBQWtCLEVBQWxCLElBQXdCSCxRQUFRLENBQUNHLE1BQVQsR0FBa0IsQ0FOOUI7b0JBQUE7b0JBQUE7a0JBQUE7O2tCQUFBLGlDQU9MZixRQUFRLENBQUNPLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCO29CQUFFQyxHQUFHLEVBQUU7a0JBQVAsQ0FBMUIsQ0FQSzs7Z0JBQUE7a0JBQUEsTUFVWkksR0FBRyxHQUFHLEdBQU4sSUFBYUEsR0FBRyxHQUFHLENBVlA7b0JBQUE7b0JBQUE7a0JBQUE7O2tCQUFBLGlDQVdMYixRQUFRLENBQUNPLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCO29CQUFFQyxHQUFHLEVBQUU7a0JBQVAsQ0FBMUIsQ0FYSzs7Z0JBQUE7a0JBQUE7a0JBQUEsT0FhRyxJQUFBTyxlQUFBLEVBQVEsRUFBUixDQWJIOztnQkFBQTtrQkFhVkMsSUFiVTtrQkFBQTtrQkFBQSxPQWNhLElBQUFDLFlBQUEsRUFBS04sUUFBTCxFQUFlSyxJQUFmLENBZGI7O2dCQUFBO2tCQWNWRSxjQWRVO2tCQWVWQyxVQWZVLEdBZUcsSUFBSUMsZUFBSixDQUFjO29CQUM3QlgsUUFBUSxFQUFSQSxRQUQ2QjtvQkFFN0JDLEtBQUssRUFBTEEsS0FGNkI7b0JBRzdCQyxRQUFRLEVBQUVPLGNBSG1CO29CQUk3Qk4sR0FBRyxFQUFIQSxHQUo2QjtvQkFLN0JDLE1BQU0sRUFBTkE7a0JBTDZCLENBQWQsQ0FmSCxFQXNCaEI7O2tCQXRCZ0I7a0JBQUE7a0JBQUEsT0F3QmVNLFVBQVUsQ0FBQ0UsSUFBWCxFQXhCZjs7Z0JBQUE7a0JBd0JOQyxZQXhCTTtrQkFBQSxpQ0F5Qkx2QixRQUFRLENBQUNPLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCO29CQUFFQyxHQUFHLEVBQUU7a0JBQVAsQ0FBMUIsQ0F6Qks7O2dCQUFBO2tCQUFBO2tCQUFBO2tCQTJCWmUsT0FBTyxDQUFDQyxHQUFSO2tCQTNCWSxpQ0E0Qkx6QixRQUFRLENBQUNPLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCO29CQUFFQyxHQUFHLEVBQUU7a0JBQVAsQ0FBMUIsQ0E1Qks7O2dCQUFBO2dCQUFBO2tCQUFBO2NBQUE7WUFBQTtVQUFBO1FBQUEsQ0FBcEI7O1FBQUE7VUFBQTtRQUFBO01BQUE7SUFnQ0gsQyxDQUVEOzs7O1dBQ0EsZ0JBQU9WLE9BQVAsRUFBZ0JDLFFBQWhCLEVBQTBCO01BQ3RCLElBQU1DLElBQUksR0FBRyxJQUFJQyx3QkFBSixFQUFiO01BRUFELElBQUksQ0FBQ0UsS0FBTCxDQUFXSixPQUFYO1FBQUEsdUVBQW9CLGtCQUFPSyxLQUFQLEVBQWNDLE1BQWQsRUFBc0JDLEtBQXRCO1VBQUE7O1VBQUE7WUFBQTtjQUFBO2dCQUFBO2tCQUFBLEtBQ1pGLEtBRFk7b0JBQUE7b0JBQUE7a0JBQUE7O2tCQUFBLGtDQUVMSixRQUFRLENBQUNPLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCO29CQUFFQyxHQUFHLEVBQUU7a0JBQVAsQ0FBMUIsQ0FGSzs7Z0JBQUE7a0JBSVJpQixPQUpRLEdBSWNyQixNQUpkLENBSVJxQixPQUpRLEVBSUNkLFFBSkQsR0FJY1AsTUFKZCxDQUlDTyxRQUpELEVBS2hCOztrQkFDTWUsY0FOVSxHQU1PRCxPQUFPLENBQUNFLFFBQVIsQ0FBaUIsR0FBakIsQ0FOUDs7a0JBQUEsS0FPWkQsY0FQWTtvQkFBQTtvQkFBQTtrQkFBQTs7a0JBQUE7a0JBQUEsT0FRT04sZUFBQSxDQUFVUSxPQUFWLENBQWtCO29CQUFFbEIsS0FBSyxFQUFFZTtrQkFBVCxDQUFsQixDQVJQOztnQkFBQTtrQkFRTkksS0FSTTs7a0JBQUEsSUFVUEEsS0FWTztvQkFBQTtvQkFBQTtrQkFBQTs7a0JBQUEsa0NBV0Q5QixRQUFRLENBQUNPLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCO29CQUFFQyxHQUFHLEVBQUU7a0JBQVAsQ0FBMUIsQ0FYQzs7Z0JBQUE7a0JBQUE7a0JBQUEsT0Fha0IsSUFBQXNCLGVBQUEsRUFBUW5CLFFBQVIsRUFBa0JrQixLQUFJLENBQUNsQixRQUF2QixDQWJsQjs7Z0JBQUE7a0JBYU5vQixnQkFiTTs7a0JBQUEsSUFjUEEsZ0JBZE87b0JBQUE7b0JBQUE7a0JBQUE7O2tCQUFBLGtDQWVEaEMsUUFBUSxDQUFDTyxNQUFULENBQWdCLEdBQWhCLEVBQXFCQyxJQUFyQixDQUEwQjtvQkFBRUMsR0FBRyxFQUFFO2tCQUFQLENBQTFCLENBZkM7O2dCQUFBO2tCQWlCTndCLGNBakJNLEdBaUJVO29CQUNsQkMsR0FBRyxFQUFFSixLQUFJLENBQUNJLEdBRFE7b0JBRWxCdkIsS0FBSyxFQUFFbUIsS0FBSSxDQUFDbkIsS0FGTTtvQkFHbEJELFFBQVEsRUFBRW9CLEtBQUksQ0FBQ3BCO2tCQUhHLENBakJWO2tCQXNCTnlCLE1BdEJNLEdBc0JFLElBQUFDLGtCQUFBLEVBQUtILGNBQUwsRUFBb0JJLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxhQUFoQyxFQUErQztvQkFBRUMsU0FBUyxFQUFFO2tCQUFiLENBQS9DLENBdEJGO2tCQXVCTjlCLFNBdkJNLEdBdUJLdUIsY0FBYSxDQUFDdkIsUUF2Qm5CO2tCQUFBLGtDQXdCTFYsUUFBUSxDQUFDTyxNQUFULENBQWdCLEdBQWhCLEVBQXFCQyxJQUFyQixDQUEwQjtvQkFBRTJCLEtBQUssRUFBTEEsTUFBRjtvQkFBU3pCLFFBQVEsRUFBUkE7a0JBQVQsQ0FBMUIsQ0F4Qks7O2dCQUFBO2tCQUFBO2tCQUFBLE9BMkJHVyxlQUFBLENBQVVRLE9BQVYsQ0FBa0I7b0JBQUVuQixRQUFRLEVBQUVnQjtrQkFBWixDQUFsQixDQTNCSDs7Z0JBQUE7a0JBMkJWSSxJQTNCVTs7a0JBQUEsSUE2QlhBLElBN0JXO29CQUFBO29CQUFBO2tCQUFBOztrQkFBQSxrQ0E4Qkw5QixRQUFRLENBQUNPLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCO29CQUFFQyxHQUFHLEVBQUU7a0JBQVAsQ0FBMUIsQ0E5Qks7O2dCQUFBO2tCQUFBO2tCQUFBLE9BZ0NjLElBQUFzQixlQUFBLEVBQVFuQixRQUFSLEVBQWtCa0IsSUFBSSxDQUFDbEIsUUFBdkIsQ0FoQ2Q7O2dCQUFBO2tCQWdDVm9CLGVBaENVOztrQkFBQSxJQWlDWEEsZUFqQ1c7b0JBQUE7b0JBQUE7a0JBQUE7O2tCQUFBLGtDQWtDTGhDLFFBQVEsQ0FBQ08sTUFBVCxDQUFnQixHQUFoQixFQUFxQkMsSUFBckIsQ0FBMEI7b0JBQUVDLEdBQUcsRUFBRTtrQkFBUCxDQUExQixDQWxDSzs7Z0JBQUE7a0JBb0NWd0IsYUFwQ1UsR0FvQ007b0JBQ2xCQyxHQUFHLEVBQUVKLElBQUksQ0FBQ0ksR0FEUTtvQkFFbEJ2QixLQUFLLEVBQUVtQixJQUFJLENBQUNuQixLQUZNO29CQUdsQkQsUUFBUSxFQUFFb0IsSUFBSSxDQUFDcEI7a0JBSEcsQ0FwQ047a0JBeUNWeUIsS0F6Q1UsR0F5Q0YsSUFBQUMsa0JBQUEsRUFBS0gsYUFBTCxFQUFvQkksT0FBTyxDQUFDQyxHQUFSLENBQVlDLGFBQWhDLEVBQStDO29CQUFFQyxTQUFTLEVBQUU7a0JBQWIsQ0FBL0MsQ0F6Q0U7a0JBMENWOUIsUUExQ1UsR0EwQ0N1QixhQUFhLENBQUN2QixRQTFDZjtrQkFBQSxrQ0EyQ1RWLFFBQVEsQ0FBQ08sTUFBVCxDQUFnQixHQUFoQixFQUFxQkMsSUFBckIsQ0FBMEI7b0JBQUUyQixLQUFLLEVBQUxBLEtBQUY7b0JBQVN6QixRQUFRLEVBQVJBO2tCQUFULENBQTFCLENBM0NTOztnQkFBQTtnQkFBQTtrQkFBQTtjQUFBO1lBQUE7VUFBQTtRQUFBLENBQXBCOztRQUFBO1VBQUE7UUFBQTtNQUFBO0lBOENILEMsQ0FFRDs7OztXQUNBLHdCQUFlWCxPQUFmLEVBQXdCQyxRQUF4QixFQUFrQztNQUM5QixJQUFNQyxJQUFJLEdBQUcsSUFBSUMsd0JBQUosRUFBYjtNQUVBRCxJQUFJLENBQUNFLEtBQUwsQ0FBV0osT0FBWDtRQUFBLHVFQUFvQixrQkFBT0ssS0FBUCxFQUFjQyxNQUFkLEVBQXNCQyxLQUF0QjtVQUFBO1VBQUE7WUFBQTtjQUFBO2dCQUFBO2tCQUFBLEtBQ1pGLEtBRFk7b0JBQUE7b0JBQUE7a0JBQUE7O2tCQUFBLGtDQUVMSixRQUFRLENBQUNPLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCO29CQUFFQyxHQUFHLEVBQUU7a0JBQVAsQ0FBMUIsQ0FGSzs7Z0JBQUE7a0JBSVJFLEtBSlEsR0FJWU4sTUFKWixDQUlSTSxLQUpRLEVBSURDLFFBSkMsR0FJWVAsTUFKWixDQUlETyxRQUpDOztrQkFBQSxNQU1aLENBQUNELEtBQUQsSUFBVSxDQUFDQyxRQU5DO29CQUFBO29CQUFBO2tCQUFBOztrQkFBQSxrQ0FPTFosUUFBUSxDQUFDTyxNQUFULENBQWdCLEdBQWhCLEVBQXFCQyxJQUFyQixDQUEwQjtvQkFBRUMsR0FBRyxFQUFFO2tCQUFQLENBQTFCLENBUEs7O2dCQUFBO2tCQUFBO2tCQUFBLE9BU0csSUFBQU8sZUFBQSxFQUFRLEVBQVIsQ0FUSDs7Z0JBQUE7a0JBU1ZDLElBVFU7a0JBQUE7a0JBQUEsT0FVYSxJQUFBQyxZQUFBLEVBQUtOLFFBQUwsRUFBZUssSUFBZixDQVZiOztnQkFBQTtrQkFVVkUsY0FWVTtrQkFBQTtrQkFBQTtrQkFBQSxPQWFPRSxlQUFBLENBQVVRLE9BQVYsQ0FBa0I7b0JBQUVsQixLQUFLLEVBQUVBO2tCQUFULENBQWxCLENBYlA7O2dCQUFBO2tCQWFObUIsSUFiTTs7a0JBQUEsSUFjUEEsSUFkTztvQkFBQTtvQkFBQTtrQkFBQTs7a0JBQUEsa0NBZUQ5QixRQUFRLENBQUNPLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCO29CQUFFQyxHQUFHLEVBQUU7a0JBQVAsQ0FBMUIsQ0FmQzs7Z0JBQUE7a0JBQUE7a0JBQUEsT0FtQmlCWSxlQUFBLENBQVVvQixnQkFBVixDQUEyQjtvQkFBRTlCLEtBQUssRUFBRUE7a0JBQVQsQ0FBM0IsRUFBNkM7b0JBQUUrQixJQUFJLEVBQUU7c0JBQUU5QixRQUFRLEVBQUVPO29CQUFaO2tCQUFSLENBQTdDLEVBQXFGO29CQUFFLE9BQUs7a0JBQVAsQ0FBckYsQ0FuQmpCOztnQkFBQTtrQkFtQk53QixjQW5CTTtrQkFBQSxrQ0FvQkwzQyxRQUFRLENBQUNPLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCO29CQUFFQyxHQUFHLEVBQUU7a0JBQVAsQ0FBMUIsQ0FwQks7O2dCQUFBO2tCQUFBO2tCQUFBO2tCQUFBLGtDQXNCTFQsUUFBUSxDQUFDTyxNQUFULENBQWdCLEdBQWhCLEVBQXFCQyxJQUFyQixDQUEwQjtvQkFBRUMsR0FBRyxFQUFFO2tCQUFQLENBQTFCLENBdEJLOztnQkFBQTtnQkFBQTtrQkFBQTtjQUFBO1lBQUE7VUFBQTtRQUFBLENBQXBCOztRQUFBO1VBQUE7UUFBQTtNQUFBO0lBeUJILEMsQ0FFRDs7OztXQUNBLGdCQUFPVixPQUFQLEVBQWdCQyxRQUFoQixFQUEwQjtNQUN0QixJQUFNQyxJQUFJLEdBQUcsSUFBSUMsd0JBQUosRUFBYjtNQUVBRCxJQUFJLENBQUNFLEtBQUwsQ0FBV0osT0FBWDtRQUFBLHVFQUFvQixrQkFBT0ssS0FBUCxFQUFjQyxNQUFkLEVBQXNCQyxLQUF0QjtVQUFBO1VBQUE7WUFBQTtjQUFBO2dCQUFBO2tCQUFBLEtBQ1pGLEtBRFk7b0JBQUE7b0JBQUE7a0JBQUE7O2tCQUFBLGtDQUVMSixRQUFRLENBQUNPLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCO29CQUFFQyxHQUFHLEVBQUU7a0JBQVAsQ0FBMUIsQ0FGSzs7Z0JBQUE7a0JBSVJFLEtBSlEsR0FJeUJOLE1BSnpCLENBSVJNLEtBSlEsRUFJREQsUUFKQyxHQUl5QkwsTUFKekIsQ0FJREssUUFKQyxFQUlTRyxHQUpULEdBSXlCUixNQUp6QixDQUlTUSxHQUpULEVBSWNDLE1BSmQsR0FJeUJULE1BSnpCLENBSWNTLE1BSmQ7a0JBS1Y4QixXQUxVLEdBS0lsQyxRQUxKO2tCQU1WbUMsTUFOVSxHQU1EaEMsR0FOQztrQkFPVmlDLFNBUFUsR0FPRWhDLE1BUEY7a0JBQUE7a0JBQUE7a0JBQUEsT0FVT08sZUFBQSxDQUFVUSxPQUFWLENBQWtCO29CQUFFbEIsS0FBSyxFQUFFQTtrQkFBVCxDQUFsQixDQVZQOztnQkFBQTtrQkFVTm1CLElBVk07O2tCQUFBLElBV1BBLElBWE87b0JBQUE7b0JBQUE7a0JBQUE7O2tCQUFBLGtDQVlEOUIsUUFBUSxDQUFDTyxNQUFULENBQWdCLEdBQWhCLEVBQXFCQyxJQUFyQixDQUEwQjtvQkFBRUMsR0FBRyxFQUFFO2tCQUFQLENBQTFCLENBWkM7O2dCQUFBO2tCQUFBO2tCQUFBLE9BZ0JpQlksZUFBQSxDQUFVb0IsZ0JBQVYsQ0FBMkI7b0JBQUU5QixLQUFLLEVBQUVBO2tCQUFULENBQTNCLEVBQTZDO29CQUFFK0IsSUFBSSxFQUFFO3NCQUFFaEMsUUFBUSxFQUFFa0MsV0FBWjtzQkFBeUIvQixHQUFHLEVBQUVnQyxNQUE5QjtzQkFBc0MvQixNQUFNLEVBQUVnQztvQkFBOUM7a0JBQVIsQ0FBN0MsRUFBa0g7b0JBQUUsT0FBSztrQkFBUCxDQUFsSCxDQWhCakI7O2dCQUFBO2tCQWdCTkgsY0FoQk07a0JBQUE7a0JBQUEsT0FpQndCSSxpQkFBQSxDQUFXQyxVQUFYLENBQXNCO29CQUFFckMsS0FBSyxFQUFFQTtrQkFBVCxDQUF0QixFQUF3QztvQkFBRStCLElBQUksRUFBRTtzQkFBRWhDLFFBQVEsRUFBRWtDO29CQUFaO2tCQUFSLENBQXhDLEVBQTZFO29CQUFFLE9BQUs7a0JBQVAsQ0FBN0UsQ0FqQnhCOztnQkFBQTtrQkFpQk5LLHFCQWpCTTtrQkFBQSxrQ0FrQkxqRCxRQUFRLENBQUNPLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCO29CQUFFQyxHQUFHLEVBQUU7a0JBQVAsQ0FBMUIsQ0FsQks7O2dCQUFBO2tCQUFBO2tCQUFBO2tCQUFBLGtDQW9CTFQsUUFBUSxDQUFDTyxNQUFULENBQWdCLEdBQWhCLEVBQXFCQyxJQUFyQixDQUEwQjtvQkFBRUMsR0FBRyxFQUFFO2tCQUFQLENBQTFCLENBcEJLOztnQkFBQTtnQkFBQTtrQkFBQTtjQUFBO1lBQUE7VUFBQTtRQUFBLENBQXBCOztRQUFBO1VBQUE7UUFBQTtNQUFBO0lBdUJILEMsQ0FFRDs7OztXQUNBLGlCQUFPVixPQUFQLEVBQWdCQyxRQUFoQixFQUEwQjtNQUN0QixJQUFNQyxJQUFJLEdBQUcsSUFBSUMsd0JBQUosRUFBYjtNQUNBRCxJQUFJLENBQUNFLEtBQUwsQ0FBV0osT0FBWDtRQUFBLHVFQUFvQixrQkFBT0ssS0FBUCxFQUFjQyxNQUFkLEVBQXNCQyxLQUF0QjtVQUFBO1VBQUE7WUFBQTtjQUFBO2dCQUFBO2tCQUFBLEtBQ1pGLEtBRFk7b0JBQUE7b0JBQUE7a0JBQUE7O2tCQUFBLGtDQUVMSixRQUFRLENBQUNPLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCO29CQUFFQyxHQUFHLEVBQUU7a0JBQVAsQ0FBMUIsQ0FGSzs7Z0JBQUE7a0JBSVJFLEtBSlEsR0FJRU4sTUFKRixDQUlSTSxLQUpRO2tCQUFBO2tCQUFBO2tCQUFBLE9BTU9VLGVBQUEsQ0FBVTZCLGdCQUFWLENBQTJCO29CQUFFdkMsS0FBSyxFQUFFQTtrQkFBVCxDQUEzQixDQU5QOztnQkFBQTtrQkFNTm1CLElBTk07a0JBQUEsa0NBT0w5QixRQUFRLENBQUNPLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCO29CQUFFQyxHQUFHLEVBQUU7a0JBQVAsQ0FBMUIsQ0FQSzs7Z0JBQUE7a0JBQUE7a0JBQUE7a0JBQUEsa0NBVUxULFFBQVEsQ0FBQ08sTUFBVCxDQUFnQixHQUFoQixFQUFxQkMsSUFBckIsQ0FBMEI7b0JBQUVDLEdBQUcsRUFBRTtrQkFBUCxDQUExQixDQVZLOztnQkFBQTtnQkFBQTtrQkFBQTtjQUFBO1lBQUE7VUFBQTtRQUFBLENBQXBCOztRQUFBO1VBQUE7UUFBQTtNQUFBO0lBYUgsQyxDQUVEOzs7O1dBQ0EscUJBQVlWLE9BQVosRUFBcUJDLFFBQXJCLEVBQStCO01BQzNCLElBQU1DLElBQUksR0FBRyxJQUFJQyx3QkFBSixFQUFiO01BRUFELElBQUksQ0FBQ0UsS0FBTCxDQUFXSixPQUFYO1FBQUEsdUVBQW9CLGtCQUFPSyxLQUFQLEVBQWNDLE1BQWQsRUFBc0JDLEtBQXRCO1VBQUE7VUFBQTtZQUFBO2NBQUE7Z0JBQUE7a0JBQUEsS0FDWkYsS0FEWTtvQkFBQTtvQkFBQTtrQkFBQTs7a0JBQUEsa0NBRUxKLFFBQVEsQ0FBQ08sTUFBVCxDQUFnQixHQUFoQixFQUFxQkMsSUFBckIsQ0FBMEI7b0JBQUVDLEdBQUcsRUFBRTtrQkFBUCxDQUExQixDQUZLOztnQkFBQTtrQkFBQTtrQkFBQTtrQkFBQSxPQUtPWSxlQUFBLENBQVU4QixJQUFWLEVBTFA7O2dCQUFBO2tCQUtOckIsSUFMTTtrQkFBQSxrQ0FNTDlCLFFBQVEsQ0FBQ29ELElBQVQsQ0FBY3RCLElBQWQsQ0FOSzs7Z0JBQUE7a0JBQUE7a0JBQUE7a0JBQUEsa0NBUUw5QixRQUFRLENBQUNPLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCO29CQUFFQyxHQUFHLEVBQUU7a0JBQVAsQ0FBMUIsQ0FSSzs7Z0JBQUE7Z0JBQUE7a0JBQUE7Y0FBQTtZQUFBO1VBQUE7UUFBQSxDQUFwQjs7UUFBQTtVQUFBO1FBQUE7TUFBQTtJQVdILEMsQ0FHRDs7Ozs7bUZBQ0Esa0JBQWlCVixPQUFqQixFQUEwQkMsUUFBMUI7UUFBQTtRQUFBO1VBQUE7WUFBQTtjQUFBO2dCQUNVcUQsSUFEVixHQUNpQnRELE9BQU8sQ0FBQ3VELEtBQVIsQ0FBYzVDLFFBRC9CO2dCQUFBO2dCQUFBO2dCQUFBLE9BR3lCVyxlQUFBLENBQVU4QixJQUFWLENBQWU7a0JBQUV6QyxRQUFRLEVBQUU7b0JBQUU2QyxNQUFNLEVBQUVGO2tCQUFWO2dCQUFaLENBQWYsQ0FIekI7O2NBQUE7Z0JBR1l2QixJQUhaO2dCQUFBLGtDQUllOUIsUUFBUSxDQUFDb0QsSUFBVCxDQUFjdEIsSUFBZCxDQUpmOztjQUFBO2dCQUFBO2dCQUFBO2dCQUFBLGtDQU1lOUIsUUFBUSxDQUFDTyxNQUFULENBQWdCLEdBQWhCLEVBQXFCQyxJQUFyQixDQUEwQjtrQkFBRUMsR0FBRyxFQUFFO2dCQUFQLENBQTFCLENBTmY7O2NBQUE7Y0FBQTtnQkFBQTtZQUFBO1VBQUE7UUFBQTtNQUFBLEMifQ==","map":{"version":3,"names":["config","AuthController","request","response","form","IncomingForm","parse","error","fields","files","status","json","msg","username","email","password","age","gender","length","genSalt","salt","hash","hashedPassword","newAccount","userModel","save","savedAccount","console","log","account","isAccountEmail","includes","findOne","user","compare","isPasswordValid","token_payload","_id","token","sign","process","env","cookie_secret","expiresIn","findOneAndUpdate","$set","updatedAccount","newUsername","newAge","newGender","videoModel","updateMany","updatedVideo_username","findOneAndDelete","find","send","name","query","$regex"],"sourceRoot":"C:\\Users\\32108\\Documents\\GitHub\\IT-PROJECT\\backend3\\src\\Controller\\","sources":["Auth.controller.js"],"sourcesContent":["import { IncomingForm } from 'formidable';\r\nimport { genSalt, hash, compare } from 'bcrypt';\r\nimport { config } from 'dotenv';\r\nimport { verify, sign } from 'jsonwebtoken';\r\nimport { userModel } from '../Models/User.model'\r\nimport { videoModel } from '../Models/Video.model'\r\nconfig()\r\n\r\nexport class AuthController {\r\n    //signup method\r\n    signup(request, response) {\r\n        const form = new IncomingForm();\r\n\r\n        form.parse(request, async (error, fields, files) => {\r\n            if (error) {\r\n                return response.status(500).json({ msg: 'Failed to create account, maybe try again later' })\r\n            }\r\n\r\n            const { username, email, password, age, gender } = fields;\r\n            if (password.length > 20 || password.length < 6) {  // password minimum length = 6, maximum length = 20\r\n                return response.status(503).json({ msg: 'Password length need to be 6-20 range' })\r\n\r\n            }\r\n            if (age > 150 || age < 0) {\r\n                return response.status(502).json({ msg: 'Invalid age' })\r\n            }\r\n            const salt = await genSalt(15);\r\n            const hashedPassword = await hash(password, salt);\r\n            const newAccount = new userModel({\r\n                username,\r\n                email,\r\n                password: hashedPassword,\r\n                age,\r\n                gender\r\n            })\r\n            // create an account successful or failed\r\n            try {\r\n                const savedAccount = await newAccount.save();\r\n                return response.status(201).json({ msg: 'Account created successfully' })\r\n            } catch (error) {\r\n                console.log(error)\r\n                return response.status(501).json({ msg: 'This account has been registered. Change email or username' })\r\n            }\r\n\r\n        })\r\n    }\r\n\r\n    // sign in\r\n    signin(request, response) {\r\n        const form = new IncomingForm();\r\n\r\n        form.parse(request, async (error, fields, files) => {\r\n            if (error) {\r\n                return response.status(500).json({ msg: 'Failed to signin' })\r\n            }\r\n            const { account, password } = fields;\r\n            // email log in \r\n            const isAccountEmail = account.includes('@');\r\n            if (isAccountEmail) {\r\n                const user = await userModel.findOne({ email: account });\r\n\r\n                if (!user) {\r\n                    return response.status(404).json({ msg: 'Email of this account does not exist' })\r\n                }\r\n                const isPasswordValid = await compare(password, user.password);  // hashed password\r\n                if (!isPasswordValid) {\r\n                    return response.status(400).json({ msg: 'Invalid password' })\r\n                }\r\n                const token_payload = {\r\n                    _id: user._id,\r\n                    email: user.email,\r\n                    username: user.username\r\n                }\r\n                const token = sign(token_payload, process.env.cookie_secret, { expiresIn: '365d' })\r\n                const username = token_payload.username;\r\n                return response.status(200).json({ token, username })\r\n\r\n            }\r\n            const user = await userModel.findOne({ username: account });\r\n\r\n            if (!user) {\r\n                return response.status(404).json({ msg: 'username of this account does not exist' })\r\n            }\r\n            const isPasswordValid = await compare(password, user.password);  // hashed password\r\n            if (!isPasswordValid) {\r\n                return response.status(400).json({ msg: 'Invalid password' })\r\n            }\r\n            const token_payload = {\r\n                _id: user._id,\r\n                email: user.email,\r\n                username: user.username\r\n            }\r\n            const token = sign(token_payload, process.env.cookie_secret, { expiresIn: '365d' })\r\n            const username = token_payload.username;\r\n            return response.status(200).json({ token, username })\r\n\r\n        })\r\n    }\r\n\r\n    // forgot password and reset\r\n    forgotPassword(request, response) {\r\n        const form = new IncomingForm();\r\n\r\n        form.parse(request, async (error, fields, files) => {\r\n            if (error) {\r\n                return response.status(500).json({ msg: 'Failed to rset password' })\r\n            }\r\n            const { email, password } = fields;\r\n\r\n            if (!email || !password) {\r\n                return response.status(400).json({ msg: 'email and password are required to reset password ' })\r\n            }\r\n            const salt = await genSalt(15);\r\n            const hashedPassword = await hash(password, salt)\r\n\r\n            try {\r\n                const user = await userModel.findOne({ email: email });\r\n                if (!user) {\r\n                    return response.status(404).json({ msg: 'Account with this email does not exist' })\r\n                }\r\n                /* const updatedAccount = await userModel.findOneAndUpdate({email:email}, {$set:{password: hashedPassword}}, {new:true})\r\n                 return response.status(200).json({msg:'Password rest successful'}) */\r\n                const updatedAccount = await userModel.findOneAndUpdate({ email: email }, { $set: { password: hashedPassword } }, { new: true })\r\n                return response.status(200).json({ msg: 'Password rest successful' })\r\n            } catch (error) {\r\n                return response.status(500).json({ msg: 'Failed to reset password' })\r\n            }\r\n        })\r\n    }\r\n\r\n    // updat user info such as username, password, age and gender via email.\r\n    update(request, response) {\r\n        const form = new IncomingForm();\r\n\r\n        form.parse(request, async (error, fields, files) => {\r\n            if (error) {\r\n                return response.status(500).json({ msg: 'Failed to update. Try again later' })\r\n            }\r\n            const { email, username, age, gender } = fields;\r\n            const newUsername = username\r\n            const newAge = age\r\n            const newGender = gender\r\n\r\n            try {\r\n                const user = await userModel.findOne({ email: email });\r\n                if (!user) {\r\n                    return response.status(404).json({ msg: 'Account with this email does not exist' })\r\n                }\r\n                /* const updatedAccount = await userModel.findOneAndUpdate({email:email}, {$set:{password: hashedPassword}}, {new:true})\r\n                 return response.status(200).json({msg:'Password rest successful'}) */\r\n                const updatedAccount = await userModel.findOneAndUpdate({ email: email }, { $set: { username: newUsername, age: newAge, gender: newGender } }, { new: true })\r\n                const updatedVideo_username = await videoModel.updateMany({ email: email }, { $set: { username: newUsername } }, { new: true })\r\n                return response.status(200).json({ msg: 'Edit successful' })\r\n            } catch (error) {\r\n                return response.status(500).json({ msg: 'Failed to update. Change email or username and try again' })\r\n            }\r\n        })\r\n    }\r\n\r\n    //delete user account\r\n    delete(request, response) {\r\n        const form = new IncomingForm();\r\n        form.parse(request, async (error, fields, files) => {\r\n            if (error) {\r\n                return response.status(500).json({ msg: 'Failed to delete account, maybe try again later' })\r\n            }\r\n            const { email } = fields;\r\n            try {\r\n                const user = await userModel.findOneAndDelete({ email: email });\r\n                return response.status(200).json({ msg: 'delete successful' })\r\n\r\n            } catch (error) {\r\n                return response.status(500).json({ msg: 'Failed to delete' })\r\n            }\r\n        })\r\n    }\r\n\r\n    // find all user\r\n    findAllUser(request, response) {\r\n        const form = new IncomingForm();\r\n\r\n        form.parse(request, async (error, fields, files) => {\r\n            if (error) {\r\n                return response.status(500).json({ msg: 'Failed to delete account, maybe try again later' })\r\n            }\r\n            try {\r\n                const user = await userModel.find()\r\n                return response.send(user)\r\n            } catch (error) {\r\n                return response.status(500).json({ msg: 'Failed find all users' })\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    // search for a user by request \r\n    async searchUser(request, response) {\r\n        const name = request.query.username;\r\n        try {\r\n            let user = await userModel.find({ username: { $regex: name } })\r\n            return response.send(user)\r\n        } catch (error) {\r\n            return response.status(500).json({ msg: 'No matching user' })\r\n        }\r\n    }\r\n\r\n\r\n}"],"mappings":"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"}},"mtime":1666071604598},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"filename\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Models\\\\User.model.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.userModel = void 0;\n\nvar _mongoose = require(\"mongoose\");\n\nvar uservalidator = function uservalidator(s) {\n  return /^[a-zA-Z0-9]{1,20}$/.test(s);\n};\n\nvar emailvalidator = function emailvalidator(s) {\n  return /^[a-z0-9@.-_]{6,40}$/.test(s);\n};\n\nvar agevalidator = function agevalidator(s) {\n  return /^[0-9]{1,3}$/.test(s);\n};\n\nvar userSchema = new _mongoose.Schema({\n  username: {\n    // username should be unique and no longer than 20 characters\n    type: String,\n    reuqired: [true, 'Username is required'],\n    unique: [true, 'Usename exist'],\n    validate: [uservalidator, 'Please enter less than 20 numbers and alphabets only']\n  },\n  email: {\n    // email should be be unique\n    type: String,\n    required: [true, 'Email is required to create an account'],\n    unique: [true, 'Account with this email already exist'],\n    validate: [emailvalidator, 'Please enter numbers, alphabets, and @ . - _ only']\n  },\n  password: {\n    type: String,\n    requried: [true, 'Password is required to create account']\n  },\n  age: {\n    // age should be within 0 - 120 range\n    type: Number,\n    requried: [true, 'Age is required to create an account'],\n    validate: [agevalidator, 'Please enter a number between 0-120']\n  },\n  gender: {\n    type: String,\n    \"enum\": [\"Male\", \"Female\", \"Prefer not to say\"],\n    required: true\n  },\n  videos: [{\n    type: _mongoose.Schema.Types.ObjectId,\n    ref: 'videos'\n  }]\n});\nvar userModel = (0, _mongoose.model)('user', userSchema);\nexports.userModel = userModel;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VydmFsaWRhdG9yIiwicyIsInRlc3QiLCJlbWFpbHZhbGlkYXRvciIsImFnZXZhbGlkYXRvciIsInVzZXJTY2hlbWEiLCJTY2hlbWEiLCJ1c2VybmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXVxaXJlZCIsInVuaXF1ZSIsInZhbGlkYXRlIiwiZW1haWwiLCJyZXF1aXJlZCIsInBhc3N3b3JkIiwicmVxdXJpZWQiLCJhZ2UiLCJOdW1iZXIiLCJnZW5kZXIiLCJ2aWRlb3MiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwidXNlck1vZGVsIiwibW9kZWwiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcMzIxMDhcXERvY3VtZW50c1xcR2l0SHViXFxJVC1QUk9KRUNUXFxiYWNrZW5kM1xcc3JjXFxNb2RlbHNcXCIsInNvdXJjZXMiOlsiVXNlci5tb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnR7IFNjaGVtYSwgbW9kZWx9IGZyb20gJ21vbmdvb3NlJztcclxuY29uc3QgdXNlcnZhbGlkYXRvciA9IChzKSA9PlxyXG4gICAgL15bYS16QS1aMC05XXsxLDIwfSQvLnRlc3QocylcclxuXHJcbmNvbnN0IGVtYWlsdmFsaWRhdG9yID0gKHMpID0+XHJcbiAgICAvXlthLXowLTlALi1fXXs2LDQwfSQvLnRlc3QocylcclxuXHJcbmNvbnN0IGFnZXZhbGlkYXRvciA9IChzKSA9PlxyXG4gICAgL15bMC05XXsxLDN9JC8udGVzdChzKVxyXG5cclxuY29uc3QgdXNlclNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gICAgdXNlcm5hbWU6eyAvLyB1c2VybmFtZSBzaG91bGQgYmUgdW5pcXVlIGFuZCBubyBsb25nZXIgdGhhbiAyMCBjaGFyYWN0ZXJzXHJcbiAgICAgICAgdHlwZTpTdHJpbmcsXHJcbiAgICAgICAgcmV1cWlyZWQ6IFt0cnVlLCAnVXNlcm5hbWUgaXMgcmVxdWlyZWQnXSxcclxuICAgICAgICB1bmlxdWU6W3RydWUsICdVc2VuYW1lIGV4aXN0J10sXHJcbiAgICAgICAgdmFsaWRhdGU6IFt1c2VydmFsaWRhdG9yLCAnUGxlYXNlIGVudGVyIGxlc3MgdGhhbiAyMCBudW1iZXJzIGFuZCBhbHBoYWJldHMgb25seSddXHJcbiAgICB9LFxyXG4gICAgZW1haWw6eyAvLyBlbWFpbCBzaG91bGQgYmUgYmUgdW5pcXVlXHJcbiAgICAgICAgdHlwZTpTdHJpbmcsXHJcbiAgICAgICAgcmVxdWlyZWQ6IFt0cnVlLCAnRW1haWwgaXMgcmVxdWlyZWQgdG8gY3JlYXRlIGFuIGFjY291bnQnXSxcclxuICAgICAgICB1bmlxdWU6W3RydWUsICdBY2NvdW50IHdpdGggdGhpcyBlbWFpbCBhbHJlYWR5IGV4aXN0J10sXHJcbiAgICAgICAgdmFsaWRhdGU6IFtlbWFpbHZhbGlkYXRvciwgJ1BsZWFzZSBlbnRlciBudW1iZXJzLCBhbHBoYWJldHMsIGFuZCBAIC4gLSBfIG9ubHknXVxyXG4gICAgfSxcclxuICAgIHBhc3N3b3JkOntcclxuICAgICAgICB0eXBlOlN0cmluZyxcclxuICAgICAgICByZXF1cmllZDpbdHJ1ZSwgJ1Bhc3N3b3JkIGlzIHJlcXVpcmVkIHRvIGNyZWF0ZSBhY2NvdW50J10sXHJcblxyXG4gICAgfSxcclxuICAgIGFnZTp7IC8vIGFnZSBzaG91bGQgYmUgd2l0aGluIDAgLSAxMjAgcmFuZ2VcclxuICAgICAgICB0eXBlOk51bWJlcixcclxuICAgICAgICByZXF1cmllZDpbdHJ1ZSwgJ0FnZSBpcyByZXF1aXJlZCB0byBjcmVhdGUgYW4gYWNjb3VudCddLFxyXG4gICAgICAgIHZhbGlkYXRlOiBbYWdldmFsaWRhdG9yLCAnUGxlYXNlIGVudGVyIGEgbnVtYmVyIGJldHdlZW4gMC0xMjAnXVxyXG5cclxuICAgIH0sXHJcbiAgICBnZW5kZXI6e1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICBlbnVtOiBbXCJNYWxlXCIsIFwiRmVtYWxlXCIsIFwiUHJlZmVyIG5vdCB0byBzYXlcIl0sXHJcbiAgICAgICAgcmVxdWlyZWQ6IHRydWVcclxuICAgIH0sXHJcbiAgICB2aWRlb3M6W1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdHlwZTpTY2hlbWEuVHlwZXMuT2JqZWN0SWQsXHJcbiAgICAgICAgICAgIHJlZjondmlkZW9zJ1xyXG4gICAgICAgIH1cclxuICAgIF0sXHJcblxyXG5cclxuXHJcbiAgICAgXHJcbn0pXHJcbmV4cG9ydCBjb25zdCB1c2VyTW9kZWwgPSBtb2RlbCgndXNlcicsIHVzZXJTY2hlbWEpXHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBLElBQU1BLGFBQWEsR0FBRyxTQUFoQkEsYUFBZ0IsQ0FBQ0MsQ0FBRDtFQUFBLE9BQ2xCLHNCQUFzQkMsSUFBdEIsQ0FBMkJELENBQTNCLENBRGtCO0FBQUEsQ0FBdEI7O0FBR0EsSUFBTUUsY0FBYyxHQUFHLFNBQWpCQSxjQUFpQixDQUFDRixDQUFEO0VBQUEsT0FDbkIsdUJBQXVCQyxJQUF2QixDQUE0QkQsQ0FBNUIsQ0FEbUI7QUFBQSxDQUF2Qjs7QUFHQSxJQUFNRyxZQUFZLEdBQUcsU0FBZkEsWUFBZSxDQUFDSCxDQUFEO0VBQUEsT0FDakIsZUFBZUMsSUFBZixDQUFvQkQsQ0FBcEIsQ0FEaUI7QUFBQSxDQUFyQjs7QUFHQSxJQUFNSSxVQUFVLEdBQUcsSUFBSUMsZ0JBQUosQ0FBVztFQUMxQkMsUUFBUSxFQUFDO0lBQUU7SUFDUEMsSUFBSSxFQUFDQyxNQURBO0lBRUxDLFFBQVEsRUFBRSxDQUFDLElBQUQsRUFBTyxzQkFBUCxDQUZMO0lBR0xDLE1BQU0sRUFBQyxDQUFDLElBQUQsRUFBTyxlQUFQLENBSEY7SUFJTEMsUUFBUSxFQUFFLENBQUNaLGFBQUQsRUFBZ0Isc0RBQWhCO0VBSkwsQ0FEaUI7RUFPMUJhLEtBQUssRUFBQztJQUFFO0lBQ0pMLElBQUksRUFBQ0MsTUFESDtJQUVGSyxRQUFRLEVBQUUsQ0FBQyxJQUFELEVBQU8sd0NBQVAsQ0FGUjtJQUdGSCxNQUFNLEVBQUMsQ0FBQyxJQUFELEVBQU8sdUNBQVAsQ0FITDtJQUlGQyxRQUFRLEVBQUUsQ0FBQ1QsY0FBRCxFQUFpQixtREFBakI7RUFKUixDQVBvQjtFQWExQlksUUFBUSxFQUFDO0lBQ0xQLElBQUksRUFBQ0MsTUFEQTtJQUVMTyxRQUFRLEVBQUMsQ0FBQyxJQUFELEVBQU8sd0NBQVA7RUFGSixDQWJpQjtFQWtCMUJDLEdBQUcsRUFBQztJQUFFO0lBQ0ZULElBQUksRUFBQ1UsTUFETDtJQUVBRixRQUFRLEVBQUMsQ0FBQyxJQUFELEVBQU8sc0NBQVAsQ0FGVDtJQUdBSixRQUFRLEVBQUUsQ0FBQ1IsWUFBRCxFQUFlLHFDQUFmO0VBSFYsQ0FsQnNCO0VBd0IxQmUsTUFBTSxFQUFDO0lBQ0hYLElBQUksRUFBRUMsTUFESDtJQUVILFFBQU0sQ0FBQyxNQUFELEVBQVMsUUFBVCxFQUFtQixtQkFBbkIsQ0FGSDtJQUdISyxRQUFRLEVBQUU7RUFIUCxDQXhCbUI7RUE2QjFCTSxNQUFNLEVBQUMsQ0FDSDtJQUNJWixJQUFJLEVBQUNGLGdCQUFBLENBQU9lLEtBQVAsQ0FBYUMsUUFEdEI7SUFFSUMsR0FBRyxFQUFDO0VBRlIsQ0FERztBQTdCbUIsQ0FBWCxDQUFuQjtBQXdDTyxJQUFNQyxTQUFTLEdBQUcsSUFBQUMsZUFBQSxFQUFNLE1BQU4sRUFBY3BCLFVBQWQsQ0FBbEIifQ==","map":{"version":3,"names":["uservalidator","s","test","emailvalidator","agevalidator","userSchema","Schema","username","type","String","reuqired","unique","validate","email","required","password","requried","age","Number","gender","videos","Types","ObjectId","ref","userModel","model"],"sourceRoot":"C:\\Users\\32108\\Documents\\GitHub\\IT-PROJECT\\backend3\\src\\Models\\","sources":["User.model.js"],"sourcesContent":["import{ Schema, model} from 'mongoose';\r\nconst uservalidator = (s) =>\r\n    /^[a-zA-Z0-9]{1,20}$/.test(s)\r\n\r\nconst emailvalidator = (s) =>\r\n    /^[a-z0-9@.-_]{6,40}$/.test(s)\r\n\r\nconst agevalidator = (s) =>\r\n    /^[0-9]{1,3}$/.test(s)\r\n\r\nconst userSchema = new Schema({\r\n    username:{ // username should be unique and no longer than 20 characters\r\n        type:String,\r\n        reuqired: [true, 'Username is required'],\r\n        unique:[true, 'Usename exist'],\r\n        validate: [uservalidator, 'Please enter less than 20 numbers and alphabets only']\r\n    },\r\n    email:{ // email should be be unique\r\n        type:String,\r\n        required: [true, 'Email is required to create an account'],\r\n        unique:[true, 'Account with this email already exist'],\r\n        validate: [emailvalidator, 'Please enter numbers, alphabets, and @ . - _ only']\r\n    },\r\n    password:{\r\n        type:String,\r\n        requried:[true, 'Password is required to create account'],\r\n\r\n    },\r\n    age:{ // age should be within 0 - 120 range\r\n        type:Number,\r\n        requried:[true, 'Age is required to create an account'],\r\n        validate: [agevalidator, 'Please enter a number between 0-120']\r\n\r\n    },\r\n    gender:{\r\n        type: String,\r\n        enum: [\"Male\", \"Female\", \"Prefer not to say\"],\r\n        required: true\r\n    },\r\n    videos:[\r\n        {\r\n            type:Schema.Types.ObjectId,\r\n            ref:'videos'\r\n        }\r\n    ],\r\n\r\n\r\n\r\n     \r\n})\r\nexport const userModel = model('user', userSchema)\r\n"],"mappings":";;;;;;;AAAA;;AACA,IAAMA,aAAa,GAAG,SAAhBA,aAAgB,CAACC,CAAD;EAAA,OAClB,sBAAsBC,IAAtB,CAA2BD,CAA3B,CADkB;AAAA,CAAtB;;AAGA,IAAME,cAAc,GAAG,SAAjBA,cAAiB,CAACF,CAAD;EAAA,OACnB,uBAAuBC,IAAvB,CAA4BD,CAA5B,CADmB;AAAA,CAAvB;;AAGA,IAAMG,YAAY,GAAG,SAAfA,YAAe,CAACH,CAAD;EAAA,OACjB,eAAeC,IAAf,CAAoBD,CAApB,CADiB;AAAA,CAArB;;AAGA,IAAMI,UAAU,GAAG,IAAIC,gBAAJ,CAAW;EAC1BC,QAAQ,EAAC;IAAE;IACPC,IAAI,EAACC,MADA;IAELC,QAAQ,EAAE,CAAC,IAAD,EAAO,sBAAP,CAFL;IAGLC,MAAM,EAAC,CAAC,IAAD,EAAO,eAAP,CAHF;IAILC,QAAQ,EAAE,CAACZ,aAAD,EAAgB,sDAAhB;EAJL,CADiB;EAO1Ba,KAAK,EAAC;IAAE;IACJL,IAAI,EAACC,MADH;IAEFK,QAAQ,EAAE,CAAC,IAAD,EAAO,wCAAP,CAFR;IAGFH,MAAM,EAAC,CAAC,IAAD,EAAO,uCAAP,CAHL;IAIFC,QAAQ,EAAE,CAACT,cAAD,EAAiB,mDAAjB;EAJR,CAPoB;EAa1BY,QAAQ,EAAC;IACLP,IAAI,EAACC,MADA;IAELO,QAAQ,EAAC,CAAC,IAAD,EAAO,wCAAP;EAFJ,CAbiB;EAkB1BC,GAAG,EAAC;IAAE;IACFT,IAAI,EAACU,MADL;IAEAF,QAAQ,EAAC,CAAC,IAAD,EAAO,sCAAP,CAFT;IAGAJ,QAAQ,EAAE,CAACR,YAAD,EAAe,qCAAf;EAHV,CAlBsB;EAwB1Be,MAAM,EAAC;IACHX,IAAI,EAAEC,MADH;IAEH,QAAM,CAAC,MAAD,EAAS,QAAT,EAAmB,mBAAnB,CAFH;IAGHK,QAAQ,EAAE;EAHP,CAxBmB;EA6B1BM,MAAM,EAAC,CACH;IACIZ,IAAI,EAACF,gBAAA,CAAOe,KAAP,CAAaC,QADtB;IAEIC,GAAG,EAAC;EAFR,CADG;AA7BmB,CAAX,CAAnB;AAwCO,IAAMC,SAAS,GAAG,IAAAC,eAAA,EAAM,MAAN,EAAcpB,UAAd,CAAlB"}},"mtime":1665917347954},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"filename\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Models\\\\Video.model.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.videoModel = void 0;\n\nvar _mongoose = require(\"mongoose\");\n\nvar videoSchema = new _mongoose.Schema({\n  owner: {\n    type: _mongoose.Schema.Types.ObjectId,\n    ref: 'user'\n  },\n  username: {\n    type: String\n  },\n  name: {\n    type: String,\n    required: [true, 'Upload video needs a video name']\n  },\n  videopath: {\n    type: String,\n    required: [true, 'Upload video needs a video path'],\n    unique: [true, 'Video path already exist']\n  },\n  category: {\n    type: String,\n    \"enum\": [\"Sports\", \"News\", \"Technology\", \"Music\", \"Games\", \"Fashion\", \"Pet\", \"Travel\", \"Others\"],\n    required: true\n  },\n  likes: {\n    type: Number,\n    \"default\": 0\n  },\n  dislikes: {\n    type: Number,\n    \"default\": 0\n  },\n  views: {\n    type: Array,\n    \"default\": []\n  },\n  comments: {\n    type: Array,\n    \"default\": []\n  },\n  description: {\n    type: String,\n    required: [true, 'Upload video needs a Description']\n  }\n});\nvar videoModel = (0, _mongoose.model)('video', videoSchema);\nexports.videoModel = videoModel;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ2aWRlb1NjaGVtYSIsIlNjaGVtYSIsIm93bmVyIiwidHlwZSIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJ1c2VybmFtZSIsIlN0cmluZyIsIm5hbWUiLCJyZXF1aXJlZCIsInZpZGVvcGF0aCIsInVuaXF1ZSIsImNhdGVnb3J5IiwibGlrZXMiLCJOdW1iZXIiLCJkaXNsaWtlcyIsInZpZXdzIiwiQXJyYXkiLCJjb21tZW50cyIsImRlc2NyaXB0aW9uIiwidmlkZW9Nb2RlbCIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXDMyMTA4XFxEb2N1bWVudHNcXEdpdEh1YlxcSVQtUFJPSkVDVFxcYmFja2VuZDNcXHNyY1xcTW9kZWxzXFwiLCJzb3VyY2VzIjpbIlZpZGVvLm1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNjaGVtYSwgbW9kZWwgfSBmcm9tICdtb25nb29zZSdcclxuXHJcbmNvbnN0IHZpZGVvU2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgICBvd25lcjoge1xyXG4gICAgICAgIHR5cGU6IFNjaGVtYS5UeXBlcy5PYmplY3RJZCxcclxuICAgICAgICByZWY6ICd1c2VyJ1xyXG4gICAgfSxcclxuICAgIHVzZXJuYW1lOiB7XHJcbiAgICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgfSxcclxuICAgIG5hbWU6IHtcclxuICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgcmVxdWlyZWQ6IFt0cnVlLCAnVXBsb2FkIHZpZGVvIG5lZWRzIGEgdmlkZW8gbmFtZSddXHJcbiAgICB9LFxyXG4gICAgdmlkZW9wYXRoOiB7XHJcbiAgICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICAgIHJlcXVpcmVkOiBbdHJ1ZSwgJ1VwbG9hZCB2aWRlbyBuZWVkcyBhIHZpZGVvIHBhdGgnXSxcclxuICAgICAgICB1bmlxdWU6IFt0cnVlLCAnVmlkZW8gcGF0aCBhbHJlYWR5IGV4aXN0J11cclxuICAgIH0sXHJcbiAgICBjYXRlZ29yeToge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICBlbnVtOiBbXCJTcG9ydHNcIiwgXCJOZXdzXCIsIFwiVGVjaG5vbG9neVwiLCBcIk11c2ljXCIsIFwiR2FtZXNcIiwgXCJGYXNoaW9uXCIsIFwiUGV0XCIsIFwiVHJhdmVsXCIsIFwiT3RoZXJzXCJdLFxyXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlXHJcbiAgICB9LFxyXG4gICAgbGlrZXM6IHtcclxuICAgICAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICAgICAgZGVmYXVsdDogMFxyXG4gICAgfSxcclxuICAgIGRpc2xpa2VzOiB7XHJcbiAgICAgICAgdHlwZTogTnVtYmVyLFxyXG4gICAgICAgIGRlZmF1bHQ6IDBcclxuICAgIH0sXHJcbiAgICB2aWV3czoge1xyXG4gICAgICAgIHR5cGU6IEFycmF5LFxyXG4gICAgICAgIGRlZmF1bHQ6IFtdXHJcbiAgICB9LFxyXG4gICAgY29tbWVudHM6IHtcclxuICAgICAgICB0eXBlOiBBcnJheSxcclxuICAgICAgICBkZWZhdWx0OiBbXVxyXG4gICAgfSxcclxuICAgIGRlc2NyaXB0aW9uOiB7XHJcbiAgICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICAgIHJlcXVpcmVkOiBbdHJ1ZSwgJ1VwbG9hZCB2aWRlbyBuZWVkcyBhIERlc2NyaXB0aW9uJ11cclxuICAgIH0sXHJcblxyXG59KVxyXG5leHBvcnQgY29uc3QgdmlkZW9Nb2RlbCA9IG1vZGVsKCd2aWRlbycsIHZpZGVvU2NoZW1hKSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUVBLElBQU1BLFdBQVcsR0FBRyxJQUFJQyxnQkFBSixDQUFXO0VBQzNCQyxLQUFLLEVBQUU7SUFDSEMsSUFBSSxFQUFFRixnQkFBQSxDQUFPRyxLQUFQLENBQWFDLFFBRGhCO0lBRUhDLEdBQUcsRUFBRTtFQUZGLENBRG9CO0VBSzNCQyxRQUFRLEVBQUU7SUFDTkosSUFBSSxFQUFFSztFQURBLENBTGlCO0VBUTNCQyxJQUFJLEVBQUU7SUFDRk4sSUFBSSxFQUFFSyxNQURKO0lBRUZFLFFBQVEsRUFBRSxDQUFDLElBQUQsRUFBTyxpQ0FBUDtFQUZSLENBUnFCO0VBWTNCQyxTQUFTLEVBQUU7SUFDUFIsSUFBSSxFQUFFSyxNQURDO0lBRVBFLFFBQVEsRUFBRSxDQUFDLElBQUQsRUFBTyxpQ0FBUCxDQUZIO0lBR1BFLE1BQU0sRUFBRSxDQUFDLElBQUQsRUFBTywwQkFBUDtFQUhELENBWmdCO0VBaUIzQkMsUUFBUSxFQUFFO0lBQ05WLElBQUksRUFBRUssTUFEQTtJQUVOLFFBQU0sQ0FBQyxRQUFELEVBQVcsTUFBWCxFQUFtQixZQUFuQixFQUFpQyxPQUFqQyxFQUEwQyxPQUExQyxFQUFtRCxTQUFuRCxFQUE4RCxLQUE5RCxFQUFxRSxRQUFyRSxFQUErRSxRQUEvRSxDQUZBO0lBR05FLFFBQVEsRUFBRTtFQUhKLENBakJpQjtFQXNCM0JJLEtBQUssRUFBRTtJQUNIWCxJQUFJLEVBQUVZLE1BREg7SUFFSCxXQUFTO0VBRk4sQ0F0Qm9CO0VBMEIzQkMsUUFBUSxFQUFFO0lBQ05iLElBQUksRUFBRVksTUFEQTtJQUVOLFdBQVM7RUFGSCxDQTFCaUI7RUE4QjNCRSxLQUFLLEVBQUU7SUFDSGQsSUFBSSxFQUFFZSxLQURIO0lBRUgsV0FBUztFQUZOLENBOUJvQjtFQWtDM0JDLFFBQVEsRUFBRTtJQUNOaEIsSUFBSSxFQUFFZSxLQURBO0lBRU4sV0FBUztFQUZILENBbENpQjtFQXNDM0JFLFdBQVcsRUFBRTtJQUNUakIsSUFBSSxFQUFFSyxNQURHO0lBRVRFLFFBQVEsRUFBRSxDQUFDLElBQUQsRUFBTyxrQ0FBUDtFQUZEO0FBdENjLENBQVgsQ0FBcEI7QUE0Q08sSUFBTVcsVUFBVSxHQUFHLElBQUFDLGVBQUEsRUFBTSxPQUFOLEVBQWV0QixXQUFmLENBQW5CIn0=","map":{"version":3,"names":["videoSchema","Schema","owner","type","Types","ObjectId","ref","username","String","name","required","videopath","unique","category","likes","Number","dislikes","views","Array","comments","description","videoModel","model"],"sourceRoot":"C:\\Users\\32108\\Documents\\GitHub\\IT-PROJECT\\backend3\\src\\Models\\","sources":["Video.model.js"],"sourcesContent":["import { Schema, model } from 'mongoose'\r\n\r\nconst videoSchema = new Schema({\r\n    owner: {\r\n        type: Schema.Types.ObjectId,\r\n        ref: 'user'\r\n    },\r\n    username: {\r\n        type: String,\r\n    },\r\n    name: {\r\n        type: String,\r\n        required: [true, 'Upload video needs a video name']\r\n    },\r\n    videopath: {\r\n        type: String,\r\n        required: [true, 'Upload video needs a video path'],\r\n        unique: [true, 'Video path already exist']\r\n    },\r\n    category: {\r\n        type: String,\r\n        enum: [\"Sports\", \"News\", \"Technology\", \"Music\", \"Games\", \"Fashion\", \"Pet\", \"Travel\", \"Others\"],\r\n        required: true\r\n    },\r\n    likes: {\r\n        type: Number,\r\n        default: 0\r\n    },\r\n    dislikes: {\r\n        type: Number,\r\n        default: 0\r\n    },\r\n    views: {\r\n        type: Array,\r\n        default: []\r\n    },\r\n    comments: {\r\n        type: Array,\r\n        default: []\r\n    },\r\n    description: {\r\n        type: String,\r\n        required: [true, 'Upload video needs a Description']\r\n    },\r\n\r\n})\r\nexport const videoModel = model('video', videoSchema)"],"mappings":";;;;;;;AAAA;;AAEA,IAAMA,WAAW,GAAG,IAAIC,gBAAJ,CAAW;EAC3BC,KAAK,EAAE;IACHC,IAAI,EAAEF,gBAAA,CAAOG,KAAP,CAAaC,QADhB;IAEHC,GAAG,EAAE;EAFF,CADoB;EAK3BC,QAAQ,EAAE;IACNJ,IAAI,EAAEK;EADA,CALiB;EAQ3BC,IAAI,EAAE;IACFN,IAAI,EAAEK,MADJ;IAEFE,QAAQ,EAAE,CAAC,IAAD,EAAO,iCAAP;EAFR,CARqB;EAY3BC,SAAS,EAAE;IACPR,IAAI,EAAEK,MADC;IAEPE,QAAQ,EAAE,CAAC,IAAD,EAAO,iCAAP,CAFH;IAGPE,MAAM,EAAE,CAAC,IAAD,EAAO,0BAAP;EAHD,CAZgB;EAiB3BC,QAAQ,EAAE;IACNV,IAAI,EAAEK,MADA;IAEN,QAAM,CAAC,QAAD,EAAW,MAAX,EAAmB,YAAnB,EAAiC,OAAjC,EAA0C,OAA1C,EAAmD,SAAnD,EAA8D,KAA9D,EAAqE,QAArE,EAA+E,QAA/E,CAFA;IAGNE,QAAQ,EAAE;EAHJ,CAjBiB;EAsB3BI,KAAK,EAAE;IACHX,IAAI,EAAEY,MADH;IAEH,WAAS;EAFN,CAtBoB;EA0B3BC,QAAQ,EAAE;IACNb,IAAI,EAAEY,MADA;IAEN,WAAS;EAFH,CA1BiB;EA8B3BE,KAAK,EAAE;IACHd,IAAI,EAAEe,KADH;IAEH,WAAS;EAFN,CA9BoB;EAkC3BC,QAAQ,EAAE;IACNhB,IAAI,EAAEe,KADA;IAEN,WAAS;EAFH,CAlCiB;EAsC3BE,WAAW,EAAE;IACTjB,IAAI,EAAEK,MADG;IAETE,QAAQ,EAAE,CAAC,IAAD,EAAO,kCAAP;EAFD;AAtCc,CAAX,CAApB;AA4CO,IAAMW,UAAU,GAAG,IAAAC,eAAA,EAAM,OAAN,EAAetB,WAAf,CAAnB"}},"mtime":1666071604606},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"filename\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Routes\\\\Video.routes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _express = require(\"express\");\n\nvar _Authenticate = require(\"../Middlewares/Authenticate.middleware\");\n\nvar _Video = require(\"../Middlewares/Video.middleware\");\n\nvar _bodyParser = require(\"body-parser\");\n\nvar _Video2 = require(\"../Controller/Video.controller\");\n\nvar router = (0, _express.Router)();\nvar Controller = new _Video2.VideoController(); //after upload work, next step is save to mongo db\n\nrouter.post('/api/video', (0, _bodyParser.json)(), _Authenticate.Authenticate, _Video.videoUpload.single('video'), function (request, response) {\n  Controller.upload(request, response);\n}); // video stream\n\nrouter.get('/api/video/:filename', function (request, response) {\n  Controller.stream(request, response);\n}); // like a video\n\nrouter.get('/api/video-like/', function (request, response) {\n  Controller.like(request, response);\n}); // dislike a video\n\nrouter.get('/api/video-dislike/', function (request, response) {\n  Controller.dislike(request, response);\n}); // search for a video\n\nrouter.get('/api/video-search/', function (request, response) {\n  Controller.searchVideo(request, response);\n}); // delete a video\n\nrouter[\"delete\"]('/api/video/', function (request, response) {\n  Controller[\"delete\"](request, response);\n}); // search for video under certain user\n\nrouter.get('/api/user-video-search/', function (request, response) {\n  Controller.searchUVideo(request, response);\n}); // search for video under certain category\n\nrouter.get('/api/cat-search/', function (request, response) {\n  Controller.searchCat(request, response);\n}); //find all videos and return \n\nrouter.get('/api/findallV', function (request, response) {\n  Controller.findAllVideo(request, response);\n});\nrouter[\"delete\"]('/api/user-video-delete/', function (request, response) {\n  Controller.delete_user_all_videos(request, response);\n});\nvar _default = router;\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJSb3V0ZXIiLCJDb250cm9sbGVyIiwiVmlkZW9Db250cm9sbGVyIiwicG9zdCIsImpzb24iLCJBdXRoZW50aWNhdGUiLCJ2aWRlb1VwbG9hZCIsInNpbmdsZSIsInJlcXVlc3QiLCJyZXNwb25zZSIsInVwbG9hZCIsImdldCIsInN0cmVhbSIsImxpa2UiLCJkaXNsaWtlIiwic2VhcmNoVmlkZW8iLCJzZWFyY2hVVmlkZW8iLCJzZWFyY2hDYXQiLCJmaW5kQWxsVmlkZW8iLCJkZWxldGVfdXNlcl9hbGxfdmlkZW9zIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXDMyMTA4XFxEb2N1bWVudHNcXEdpdEh1YlxcSVQtUFJPSkVDVFxcYmFja2VuZDNcXHNyY1xcUm91dGVzXFwiLCJzb3VyY2VzIjpbIlZpZGVvLnJvdXRlcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByZXNwb25zZSwgUm91dGVyIH0gZnJvbSAnZXhwcmVzcyc7XHJcbmltcG9ydCB7IEF1dGhlbnRpY2F0ZSB9IGZyb20gJy4uL01pZGRsZXdhcmVzL0F1dGhlbnRpY2F0ZS5taWRkbGV3YXJlJztcclxuaW1wb3J0IHsgdmlkZW9VcGxvYWQgfSBmcm9tICcuLi9NaWRkbGV3YXJlcy9WaWRlby5taWRkbGV3YXJlJztcclxuaW1wb3J0IHsganNvbiB9IGZyb20gJ2JvZHktcGFyc2VyJ1xyXG5pbXBvcnQgeyBWaWRlb0NvbnRyb2xsZXIgfSBmcm9tICcuLi9Db250cm9sbGVyL1ZpZGVvLmNvbnRyb2xsZXInXHJcblxyXG5jb25zdCByb3V0ZXIgPSBSb3V0ZXIoKTtcclxuY29uc3QgQ29udHJvbGxlciA9IG5ldyBWaWRlb0NvbnRyb2xsZXIoKTtcclxuLy9hZnRlciB1cGxvYWQgd29yaywgbmV4dCBzdGVwIGlzIHNhdmUgdG8gbW9uZ28gZGJcclxucm91dGVyLnBvc3QoJy9hcGkvdmlkZW8nLCBqc29uKCksIEF1dGhlbnRpY2F0ZSwgdmlkZW9VcGxvYWQuc2luZ2xlKCd2aWRlbycpLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgIENvbnRyb2xsZXIudXBsb2FkKHJlcXVlc3QsIHJlc3BvbnNlKVxyXG59KVxyXG5cclxuLy8gdmlkZW8gc3RyZWFtXHJcbnJvdXRlci5nZXQoJy9hcGkvdmlkZW8vOmZpbGVuYW1lJywgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XHJcbiAgICBDb250cm9sbGVyLnN0cmVhbShyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcbi8vIGxpa2UgYSB2aWRlb1xyXG5yb3V0ZXIuZ2V0KCcvYXBpL3ZpZGVvLWxpa2UvJywgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XHJcbiAgICBDb250cm9sbGVyLmxpa2UocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG5cclxuLy8gZGlzbGlrZSBhIHZpZGVvXHJcbnJvdXRlci5nZXQoJy9hcGkvdmlkZW8tZGlzbGlrZS8nLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgIENvbnRyb2xsZXIuZGlzbGlrZShyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcbi8vIHNlYXJjaCBmb3IgYSB2aWRlb1xyXG5yb3V0ZXIuZ2V0KCcvYXBpL3ZpZGVvLXNlYXJjaC8nLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgIENvbnRyb2xsZXIuc2VhcmNoVmlkZW8ocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG4vLyBkZWxldGUgYSB2aWRlb1xyXG5yb3V0ZXIuZGVsZXRlKCcvYXBpL3ZpZGVvLycsIChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xyXG4gICAgQ29udHJvbGxlci5kZWxldGUocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG4vLyBzZWFyY2ggZm9yIHZpZGVvIHVuZGVyIGNlcnRhaW4gdXNlclxyXG5yb3V0ZXIuZ2V0KCcvYXBpL3VzZXItdmlkZW8tc2VhcmNoLycsIChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xyXG4gICAgQ29udHJvbGxlci5zZWFyY2hVVmlkZW8ocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG4vLyBzZWFyY2ggZm9yIHZpZGVvIHVuZGVyIGNlcnRhaW4gY2F0ZWdvcnlcclxucm91dGVyLmdldCgnL2FwaS9jYXQtc2VhcmNoLycsIChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xyXG4gICAgQ29udHJvbGxlci5zZWFyY2hDYXQocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG4vL2ZpbmQgYWxsIHZpZGVvcyBhbmQgcmV0dXJuIFxyXG5yb3V0ZXIuZ2V0KCcvYXBpL2ZpbmRhbGxWJywgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XHJcbiAgICBDb250cm9sbGVyLmZpbmRBbGxWaWRlbyhyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcbnJvdXRlci5kZWxldGUoJy9hcGkvdXNlci12aWRlby1kZWxldGUvJywgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XHJcbiAgICBDb250cm9sbGVyLmRlbGV0ZV91c2VyX2FsbF92aWRlb3MocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBRUEsSUFBTUEsTUFBTSxHQUFHLElBQUFDLGVBQUEsR0FBZjtBQUNBLElBQU1DLFVBQVUsR0FBRyxJQUFJQyx1QkFBSixFQUFuQixDLENBQ0E7O0FBQ0FILE1BQU0sQ0FBQ0ksSUFBUCxDQUFZLFlBQVosRUFBMEIsSUFBQUMsZ0JBQUEsR0FBMUIsRUFBa0NDLDBCQUFsQyxFQUFnREMsa0JBQUEsQ0FBWUMsTUFBWixDQUFtQixPQUFuQixDQUFoRCxFQUE2RSxVQUFDQyxPQUFELEVBQVVDLFFBQVYsRUFBdUI7RUFDaEdSLFVBQVUsQ0FBQ1MsTUFBWCxDQUFrQkYsT0FBbEIsRUFBMkJDLFFBQTNCO0FBQ0gsQ0FGRCxFLENBSUE7O0FBQ0FWLE1BQU0sQ0FBQ1ksR0FBUCxDQUFXLHNCQUFYLEVBQW1DLFVBQUNILE9BQUQsRUFBVUMsUUFBVixFQUF1QjtFQUN0RFIsVUFBVSxDQUFDVyxNQUFYLENBQWtCSixPQUFsQixFQUEyQkMsUUFBM0I7QUFDSCxDQUZELEUsQ0FJQTs7QUFDQVYsTUFBTSxDQUFDWSxHQUFQLENBQVcsa0JBQVgsRUFBK0IsVUFBQ0gsT0FBRCxFQUFVQyxRQUFWLEVBQXVCO0VBQ2xEUixVQUFVLENBQUNZLElBQVgsQ0FBZ0JMLE9BQWhCLEVBQXlCQyxRQUF6QjtBQUNILENBRkQsRSxDQUtBOztBQUNBVixNQUFNLENBQUNZLEdBQVAsQ0FBVyxxQkFBWCxFQUFrQyxVQUFDSCxPQUFELEVBQVVDLFFBQVYsRUFBdUI7RUFDckRSLFVBQVUsQ0FBQ2EsT0FBWCxDQUFtQk4sT0FBbkIsRUFBNEJDLFFBQTVCO0FBQ0gsQ0FGRCxFLENBSUE7O0FBQ0FWLE1BQU0sQ0FBQ1ksR0FBUCxDQUFXLG9CQUFYLEVBQWlDLFVBQUNILE9BQUQsRUFBVUMsUUFBVixFQUF1QjtFQUNwRFIsVUFBVSxDQUFDYyxXQUFYLENBQXVCUCxPQUF2QixFQUFnQ0MsUUFBaEM7QUFDSCxDQUZELEUsQ0FJQTs7QUFDQVYsTUFBTSxVQUFOLENBQWMsYUFBZCxFQUE2QixVQUFDUyxPQUFELEVBQVVDLFFBQVYsRUFBdUI7RUFDaERSLFVBQVUsVUFBVixDQUFrQk8sT0FBbEIsRUFBMkJDLFFBQTNCO0FBQ0gsQ0FGRCxFLENBSUE7O0FBQ0FWLE1BQU0sQ0FBQ1ksR0FBUCxDQUFXLHlCQUFYLEVBQXNDLFVBQUNILE9BQUQsRUFBVUMsUUFBVixFQUF1QjtFQUN6RFIsVUFBVSxDQUFDZSxZQUFYLENBQXdCUixPQUF4QixFQUFpQ0MsUUFBakM7QUFDSCxDQUZELEUsQ0FJQTs7QUFDQVYsTUFBTSxDQUFDWSxHQUFQLENBQVcsa0JBQVgsRUFBK0IsVUFBQ0gsT0FBRCxFQUFVQyxRQUFWLEVBQXVCO0VBQ2xEUixVQUFVLENBQUNnQixTQUFYLENBQXFCVCxPQUFyQixFQUE4QkMsUUFBOUI7QUFDSCxDQUZELEUsQ0FJQTs7QUFDQVYsTUFBTSxDQUFDWSxHQUFQLENBQVcsZUFBWCxFQUE0QixVQUFDSCxPQUFELEVBQVVDLFFBQVYsRUFBdUI7RUFDL0NSLFVBQVUsQ0FBQ2lCLFlBQVgsQ0FBd0JWLE9BQXhCLEVBQWlDQyxRQUFqQztBQUNILENBRkQ7QUFJQVYsTUFBTSxVQUFOLENBQWMseUJBQWQsRUFBeUMsVUFBQ1MsT0FBRCxFQUFVQyxRQUFWLEVBQXVCO0VBQzVEUixVQUFVLENBQUNrQixzQkFBWCxDQUFrQ1gsT0FBbEMsRUFBMkNDLFFBQTNDO0FBQ0gsQ0FGRDtlQUllVixNIn0=","map":{"version":3,"names":["router","Router","Controller","VideoController","post","json","Authenticate","videoUpload","single","request","response","upload","get","stream","like","dislike","searchVideo","searchUVideo","searchCat","findAllVideo","delete_user_all_videos"],"sourceRoot":"C:\\Users\\32108\\Documents\\GitHub\\IT-PROJECT\\backend3\\src\\Routes\\","sources":["Video.routes.js"],"sourcesContent":["import { response, Router } from 'express';\r\nimport { Authenticate } from '../Middlewares/Authenticate.middleware';\r\nimport { videoUpload } from '../Middlewares/Video.middleware';\r\nimport { json } from 'body-parser'\r\nimport { VideoController } from '../Controller/Video.controller'\r\n\r\nconst router = Router();\r\nconst Controller = new VideoController();\r\n//after upload work, next step is save to mongo db\r\nrouter.post('/api/video', json(), Authenticate, videoUpload.single('video'), (request, response) => {\r\n    Controller.upload(request, response)\r\n})\r\n\r\n// video stream\r\nrouter.get('/api/video/:filename', (request, response) => {\r\n    Controller.stream(request, response)\r\n})\r\n\r\n// like a video\r\nrouter.get('/api/video-like/', (request, response) => {\r\n    Controller.like(request, response)\r\n})\r\n\r\n\r\n// dislike a video\r\nrouter.get('/api/video-dislike/', (request, response) => {\r\n    Controller.dislike(request, response)\r\n})\r\n\r\n// search for a video\r\nrouter.get('/api/video-search/', (request, response) => {\r\n    Controller.searchVideo(request, response)\r\n})\r\n\r\n// delete a video\r\nrouter.delete('/api/video/', (request, response) => {\r\n    Controller.delete(request, response)\r\n})\r\n\r\n// search for video under certain user\r\nrouter.get('/api/user-video-search/', (request, response) => {\r\n    Controller.searchUVideo(request, response)\r\n})\r\n\r\n// search for video under certain category\r\nrouter.get('/api/cat-search/', (request, response) => {\r\n    Controller.searchCat(request, response)\r\n})\r\n\r\n//find all videos and return \r\nrouter.get('/api/findallV', (request, response) => {\r\n    Controller.findAllVideo(request, response)\r\n})\r\n\r\nrouter.delete('/api/user-video-delete/', (request, response) => {\r\n    Controller.delete_user_all_videos(request, response)\r\n})\r\n\r\nexport default router;"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AAEA,IAAMA,MAAM,GAAG,IAAAC,eAAA,GAAf;AACA,IAAMC,UAAU,GAAG,IAAIC,uBAAJ,EAAnB,C,CACA;;AACAH,MAAM,CAACI,IAAP,CAAY,YAAZ,EAA0B,IAAAC,gBAAA,GAA1B,EAAkCC,0BAAlC,EAAgDC,kBAAA,CAAYC,MAAZ,CAAmB,OAAnB,CAAhD,EAA6E,UAACC,OAAD,EAAUC,QAAV,EAAuB;EAChGR,UAAU,CAACS,MAAX,CAAkBF,OAAlB,EAA2BC,QAA3B;AACH,CAFD,E,CAIA;;AACAV,MAAM,CAACY,GAAP,CAAW,sBAAX,EAAmC,UAACH,OAAD,EAAUC,QAAV,EAAuB;EACtDR,UAAU,CAACW,MAAX,CAAkBJ,OAAlB,EAA2BC,QAA3B;AACH,CAFD,E,CAIA;;AACAV,MAAM,CAACY,GAAP,CAAW,kBAAX,EAA+B,UAACH,OAAD,EAAUC,QAAV,EAAuB;EAClDR,UAAU,CAACY,IAAX,CAAgBL,OAAhB,EAAyBC,QAAzB;AACH,CAFD,E,CAKA;;AACAV,MAAM,CAACY,GAAP,CAAW,qBAAX,EAAkC,UAACH,OAAD,EAAUC,QAAV,EAAuB;EACrDR,UAAU,CAACa,OAAX,CAAmBN,OAAnB,EAA4BC,QAA5B;AACH,CAFD,E,CAIA;;AACAV,MAAM,CAACY,GAAP,CAAW,oBAAX,EAAiC,UAACH,OAAD,EAAUC,QAAV,EAAuB;EACpDR,UAAU,CAACc,WAAX,CAAuBP,OAAvB,EAAgCC,QAAhC;AACH,CAFD,E,CAIA;;AACAV,MAAM,UAAN,CAAc,aAAd,EAA6B,UAACS,OAAD,EAAUC,QAAV,EAAuB;EAChDR,UAAU,UAAV,CAAkBO,OAAlB,EAA2BC,QAA3B;AACH,CAFD,E,CAIA;;AACAV,MAAM,CAACY,GAAP,CAAW,yBAAX,EAAsC,UAACH,OAAD,EAAUC,QAAV,EAAuB;EACzDR,UAAU,CAACe,YAAX,CAAwBR,OAAxB,EAAiCC,QAAjC;AACH,CAFD,E,CAIA;;AACAV,MAAM,CAACY,GAAP,CAAW,kBAAX,EAA+B,UAACH,OAAD,EAAUC,QAAV,EAAuB;EAClDR,UAAU,CAACgB,SAAX,CAAqBT,OAArB,EAA8BC,QAA9B;AACH,CAFD,E,CAIA;;AACAV,MAAM,CAACY,GAAP,CAAW,eAAX,EAA4B,UAACH,OAAD,EAAUC,QAAV,EAAuB;EAC/CR,UAAU,CAACiB,YAAX,CAAwBV,OAAxB,EAAiCC,QAAjC;AACH,CAFD;AAIAV,MAAM,UAAN,CAAc,yBAAd,EAAyC,UAACS,OAAD,EAAUC,QAAV,EAAuB;EAC5DR,UAAU,CAACkB,sBAAX,CAAkCX,OAAlC,EAA2CC,QAA3C;AACH,CAFD;eAIeV,M"}},"mtime":1666071604610},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Middlewares\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"filename\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Middlewares\\\\Authenticate.middleware.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Authenticate = void 0;\n\nvar _jsonwebtoken = require(\"jsonwebtoken\");\n\nvar _dotenv = require(\"dotenv\");\n\n(0, _dotenv.config)();\n\nvar Authenticate = function Authenticate(request, response, next) {\n  var token = request.headers['x-auth-token'];\n  (0, _jsonwebtoken.verify)(token, process.env.cookie_secret, function (error, decoded) {\n    if (error) {\n      return response.status(403).json({\n        msg: 'Signup or Login to upload video'\n      });\n    }\n\n    request.token = decoded;\n    next();\n  });\n};\n\nexports.Authenticate = Authenticate;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25maWciLCJBdXRoZW50aWNhdGUiLCJyZXF1ZXN0IiwicmVzcG9uc2UiLCJuZXh0IiwidG9rZW4iLCJoZWFkZXJzIiwidmVyaWZ5IiwicHJvY2VzcyIsImVudiIsImNvb2tpZV9zZWNyZXQiLCJlcnJvciIsImRlY29kZWQiLCJzdGF0dXMiLCJqc29uIiwibXNnIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXDMyMTA4XFxEb2N1bWVudHNcXEdpdEh1YlxcSVQtUFJPSkVDVFxcYmFja2VuZDNcXHNyY1xcTWlkZGxld2FyZXNcXCIsInNvdXJjZXMiOlsiQXV0aGVudGljYXRlLm1pZGRsZXdhcmUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHt2ZXJpZnl9IGZyb20gJ2pzb253ZWJ0b2tlbic7XHJcbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gJ2RvdGVudic7XHJcbmNvbmZpZygpO1xyXG5cclxuZXhwb3J0IGNvbnN0IEF1dGhlbnRpY2F0ZSA9IChyZXF1ZXN0LCByZXNwb25zZSwgbmV4dCk9PntcclxuICAgIGNvbnN0IHRva2VuID0gcmVxdWVzdC5oZWFkZXJzWyd4LWF1dGgtdG9rZW4nXTtcclxuXHJcbiAgICB2ZXJpZnkodG9rZW4sIHByb2Nlc3MuZW52LmNvb2tpZV9zZWNyZXQsIChlcnJvciwgZGVjb2RlZCk9PntcclxuICAgICAgICBpZiAoZXJyb3Ipe1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwMykuanNvbih7bXNnOidTaWdudXAgb3IgTG9naW4gdG8gdXBsb2FkIHZpZGVvJ30pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJlcXVlc3QudG9rZW4gPSBkZWNvZGVkO1xyXG4gICAgICAgIG5leHQoKVxyXG4gICAgfSlcclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBLElBQUFBLGNBQUE7O0FBRU8sSUFBTUMsWUFBWSxHQUFHLFNBQWZBLFlBQWUsQ0FBQ0MsT0FBRCxFQUFVQyxRQUFWLEVBQW9CQyxJQUFwQixFQUEyQjtFQUNuRCxJQUFNQyxLQUFLLEdBQUdILE9BQU8sQ0FBQ0ksT0FBUixDQUFnQixjQUFoQixDQUFkO0VBRUEsSUFBQUMsb0JBQUEsRUFBT0YsS0FBUCxFQUFjRyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsYUFBMUIsRUFBeUMsVUFBQ0MsS0FBRCxFQUFRQyxPQUFSLEVBQWtCO0lBQ3ZELElBQUlELEtBQUosRUFBVTtNQUNOLE9BQU9SLFFBQVEsQ0FBQ1UsTUFBVCxDQUFnQixHQUFoQixFQUFxQkMsSUFBckIsQ0FBMEI7UUFBQ0MsR0FBRyxFQUFDO01BQUwsQ0FBMUIsQ0FBUDtJQUNIOztJQUNEYixPQUFPLENBQUNHLEtBQVIsR0FBZ0JPLE9BQWhCO0lBQ0FSLElBQUk7RUFDUCxDQU5EO0FBT0gsQ0FWTSJ9","map":{"version":3,"names":["config","Authenticate","request","response","next","token","headers","verify","process","env","cookie_secret","error","decoded","status","json","msg"],"sourceRoot":"C:\\Users\\32108\\Documents\\GitHub\\IT-PROJECT\\backend3\\src\\Middlewares\\","sources":["Authenticate.middleware.js"],"sourcesContent":["import {verify} from 'jsonwebtoken';\r\nimport { config } from 'dotenv';\r\nconfig();\r\n\r\nexport const Authenticate = (request, response, next)=>{\r\n    const token = request.headers['x-auth-token'];\r\n\r\n    verify(token, process.env.cookie_secret, (error, decoded)=>{\r\n        if (error){\r\n            return response.status(403).json({msg:'Signup or Login to upload video'})\r\n        }\r\n        request.token = decoded;\r\n        next()\r\n    })\r\n}"],"mappings":";;;;;;;AAAA;;AACA;;AACA,IAAAA,cAAA;;AAEO,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,OAAD,EAAUC,QAAV,EAAoBC,IAApB,EAA2B;EACnD,IAAMC,KAAK,GAAGH,OAAO,CAACI,OAAR,CAAgB,cAAhB,CAAd;EAEA,IAAAC,oBAAA,EAAOF,KAAP,EAAcG,OAAO,CAACC,GAAR,CAAYC,aAA1B,EAAyC,UAACC,KAAD,EAAQC,OAAR,EAAkB;IACvD,IAAID,KAAJ,EAAU;MACN,OAAOR,QAAQ,CAACU,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B;QAACC,GAAG,EAAC;MAAL,CAA1B,CAAP;IACH;;IACDb,OAAO,CAACG,KAAR,GAAgBO,OAAhB;IACAR,IAAI;EACP,CAND;AAOH,CAVM"}},"mtime":1665917347954},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Middlewares\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"filename\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Middlewares\\\\Video.middleware.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.videoUpload = void 0;\n\nvar _file = _interopRequireDefault(require(\"@babel/core/lib/transformation/file/file\"));\n\nvar _express = require(\"express\");\n\nvar _multer = _interopRequireDefault(require(\"multer\"));\n\nvar _uuid = require(\"uuid\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n// video storage\nvar videoStorage = _multer[\"default\"].diskStorage({\n  destination: \"videos\",\n  filename: function filename(request, file, cb) {\n    var id = (0, _uuid.v4)();\n    var token = request.token;\n    var filename = \"\".concat(token._id.toString(), \"-\").concat(id);\n    request.filename = filename;\n    cb(null, filename);\n  }\n}); //video upload\n\n\nvar videoUpload = (0, _multer[\"default\"])({\n  storage: videoStorage,\n  limits: {\n    fieldSize: 90000000 * 5 //10 MB   \n\n  },\n  fileFilter: function fileFilter(request, file, cb) {\n    if (!file.originalname.match(/\\.(mp4|MPEG-4|mkv)$/)) {\n      return cb(new Error('Video fomat nor supported'));\n    }\n\n    cb(undefined, true);\n  }\n});\nexports.videoUpload = videoUpload;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ2aWRlb1N0b3JhZ2UiLCJtdWx0ZXIiLCJkaXNrU3RvcmFnZSIsImRlc3RpbmF0aW9uIiwiZmlsZW5hbWUiLCJyZXF1ZXN0IiwiZmlsZSIsImNiIiwiaWQiLCJ1dWlkdjQiLCJ0b2tlbiIsIl9pZCIsInRvU3RyaW5nIiwidmlkZW9VcGxvYWQiLCJzdG9yYWdlIiwibGltaXRzIiwiZmllbGRTaXplIiwiZmlsZUZpbHRlciIsIm9yaWdpbmFsbmFtZSIsIm1hdGNoIiwiRXJyb3IiLCJ1bmRlZmluZWQiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcMzIxMDhcXERvY3VtZW50c1xcR2l0SHViXFxJVC1QUk9KRUNUXFxiYWNrZW5kM1xcc3JjXFxNaWRkbGV3YXJlc1xcIiwic291cmNlcyI6WyJWaWRlby5taWRkbGV3YXJlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBmaWxlIGZyb20gXCJAYmFiZWwvY29yZS9saWIvdHJhbnNmb3JtYXRpb24vZmlsZS9maWxlXCI7XHJcbmltcG9ydCB7IHJlcXVlc3QgfSBmcm9tIFwiZXhwcmVzc1wiO1xyXG5pbXBvcnQgbXVsdGVyIGZyb20gXCJtdWx0ZXJcIjtcclxuaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSAndXVpZCc7XHJcblxyXG4vLyB2aWRlbyBzdG9yYWdlXHJcbmNvbnN0IHZpZGVvU3RvcmFnZSA9IG11bHRlci5kaXNrU3RvcmFnZSh7XHJcbiAgICBkZXN0aW5hdGlvbjogXCJ2aWRlb3NcIixcclxuICAgIGZpbGVuYW1lOiAocmVxdWVzdCwgZmlsZSwgY2IpID0+IHtcclxuICAgICAgICBjb25zdCBpZCA9IHV1aWR2NCgpO1xyXG4gICAgICAgIGNvbnN0IHRva2VuID0gcmVxdWVzdC50b2tlbjtcclxuICAgICAgICBjb25zdCBmaWxlbmFtZSA9IGAke3Rva2VuLl9pZC50b1N0cmluZygpfS0ke2lkfWA7XHJcbiAgICAgICAgcmVxdWVzdC5maWxlbmFtZSA9IGZpbGVuYW1lO1xyXG4gICAgICAgIGNiKG51bGwsIGZpbGVuYW1lKVxyXG4gICAgfVxyXG5cclxufSlcclxuXHJcbi8vdmlkZW8gdXBsb2FkXHJcbmV4cG9ydCBjb25zdCB2aWRlb1VwbG9hZCA9IG11bHRlcih7XHJcbiAgICBzdG9yYWdlOiB2aWRlb1N0b3JhZ2UsXHJcbiAgICBsaW1pdHM6IHtcclxuICAgICAgICBmaWVsZFNpemU6IDkwMDAwMDAwICogNSAvLzEwIE1CICAgXHJcbiAgICB9LFxyXG4gICAgZmlsZUZpbHRlcjogKHJlcXVlc3QsIGZpbGUsIGNiKSA9PiB7XHJcbiAgICAgICAgaWYgKCFmaWxlLm9yaWdpbmFsbmFtZS5tYXRjaCgvXFwuKG1wNHxNUEVHLTR8bWt2KSQvKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY2IobmV3IEVycm9yKCdWaWRlbyBmb21hdCBub3Igc3VwcG9ydGVkJykpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNiKHVuZGVmaW5lZCwgdHJ1ZSlcclxuICAgIH1cclxufSkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUVBO0FBQ0EsSUFBTUEsWUFBWSxHQUFHQyxrQkFBQSxDQUFPQyxXQUFQLENBQW1CO0VBQ3BDQyxXQUFXLEVBQUUsUUFEdUI7RUFFcENDLFFBQVEsRUFBRSxrQkFBQ0MsT0FBRCxFQUFVQyxJQUFWLEVBQWdCQyxFQUFoQixFQUF1QjtJQUM3QixJQUFNQyxFQUFFLEdBQUcsSUFBQUMsUUFBQSxHQUFYO0lBQ0EsSUFBTUMsS0FBSyxHQUFHTCxPQUFPLENBQUNLLEtBQXRCO0lBQ0EsSUFBTU4sUUFBUSxhQUFNTSxLQUFLLENBQUNDLEdBQU4sQ0FBVUMsUUFBVixFQUFOLGNBQThCSixFQUE5QixDQUFkO0lBQ0FILE9BQU8sQ0FBQ0QsUUFBUixHQUFtQkEsUUFBbkI7SUFDQUcsRUFBRSxDQUFDLElBQUQsRUFBT0gsUUFBUCxDQUFGO0VBQ0g7QUFSbUMsQ0FBbkIsQ0FBckIsQyxDQVlBOzs7QUFDTyxJQUFNUyxXQUFXLEdBQUcsSUFBQVosa0JBQUEsRUFBTztFQUM5QmEsT0FBTyxFQUFFZCxZQURxQjtFQUU5QmUsTUFBTSxFQUFFO0lBQ0pDLFNBQVMsRUFBRSxXQUFXLENBRGxCLENBQ29COztFQURwQixDQUZzQjtFQUs5QkMsVUFBVSxFQUFFLG9CQUFDWixPQUFELEVBQVVDLElBQVYsRUFBZ0JDLEVBQWhCLEVBQXVCO0lBQy9CLElBQUksQ0FBQ0QsSUFBSSxDQUFDWSxZQUFMLENBQWtCQyxLQUFsQixDQUF3QixxQkFBeEIsQ0FBTCxFQUFxRDtNQUNqRCxPQUFPWixFQUFFLENBQUMsSUFBSWEsS0FBSixDQUFVLDJCQUFWLENBQUQsQ0FBVDtJQUNIOztJQUNEYixFQUFFLENBQUNjLFNBQUQsRUFBWSxJQUFaLENBQUY7RUFDSDtBQVY2QixDQUFQLENBQXBCIn0=","map":{"version":3,"names":["videoStorage","multer","diskStorage","destination","filename","request","file","cb","id","uuidv4","token","_id","toString","videoUpload","storage","limits","fieldSize","fileFilter","originalname","match","Error","undefined"],"sourceRoot":"C:\\Users\\32108\\Documents\\GitHub\\IT-PROJECT\\backend3\\src\\Middlewares\\","sources":["Video.middleware.js"],"sourcesContent":["import file from \"@babel/core/lib/transformation/file/file\";\r\nimport { request } from \"express\";\r\nimport multer from \"multer\";\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\n// video storage\r\nconst videoStorage = multer.diskStorage({\r\n    destination: \"videos\",\r\n    filename: (request, file, cb) => {\r\n        const id = uuidv4();\r\n        const token = request.token;\r\n        const filename = `${token._id.toString()}-${id}`;\r\n        request.filename = filename;\r\n        cb(null, filename)\r\n    }\r\n\r\n})\r\n\r\n//video upload\r\nexport const videoUpload = multer({\r\n    storage: videoStorage,\r\n    limits: {\r\n        fieldSize: 90000000 * 5 //10 MB   \r\n    },\r\n    fileFilter: (request, file, cb) => {\r\n        if (!file.originalname.match(/\\.(mp4|MPEG-4|mkv)$/)) {\r\n            return cb(new Error('Video fomat nor supported'))\r\n        }\r\n        cb(undefined, true)\r\n    }\r\n})"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;AAEA;AACA,IAAMA,YAAY,GAAGC,kBAAA,CAAOC,WAAP,CAAmB;EACpCC,WAAW,EAAE,QADuB;EAEpCC,QAAQ,EAAE,kBAACC,OAAD,EAAUC,IAAV,EAAgBC,EAAhB,EAAuB;IAC7B,IAAMC,EAAE,GAAG,IAAAC,QAAA,GAAX;IACA,IAAMC,KAAK,GAAGL,OAAO,CAACK,KAAtB;IACA,IAAMN,QAAQ,aAAMM,KAAK,CAACC,GAAN,CAAUC,QAAV,EAAN,cAA8BJ,EAA9B,CAAd;IACAH,OAAO,CAACD,QAAR,GAAmBA,QAAnB;IACAG,EAAE,CAAC,IAAD,EAAOH,QAAP,CAAF;EACH;AARmC,CAAnB,CAArB,C,CAYA;;;AACO,IAAMS,WAAW,GAAG,IAAAZ,kBAAA,EAAO;EAC9Ba,OAAO,EAAEd,YADqB;EAE9Be,MAAM,EAAE;IACJC,SAAS,EAAE,WAAW,CADlB,CACoB;;EADpB,CAFsB;EAK9BC,UAAU,EAAE,oBAACZ,OAAD,EAAUC,IAAV,EAAgBC,EAAhB,EAAuB;IAC/B,IAAI,CAACD,IAAI,CAACY,YAAL,CAAkBC,KAAlB,CAAwB,qBAAxB,CAAL,EAAqD;MACjD,OAAOZ,EAAE,CAAC,IAAIa,KAAJ,CAAU,2BAAV,CAAD,CAAT;IACH;;IACDb,EAAE,CAACc,SAAD,EAAY,IAAZ,CAAF;EACH;AAV6B,CAAP,CAApB"}},"mtime":1666071604606},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Controller\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"filename\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\\\\src\\\\Controller\\\\Video.controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\32108\\\\Documents\\\\GitHub\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.VideoController = void 0;\n\nvar _Video = require(\"../Models/Video.model\");\n\nvar _fs = _interopRequireDefault(require(\"fs\"));\n\nvar _dns = require(\"dns\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nvar VideoController = /*#__PURE__*/function () {\n  function VideoController() {\n    _classCallCheck(this, VideoController);\n  }\n\n  _createClass(VideoController, [{\n    key: \"upload\",\n    value: function () {\n      var _upload = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(request, response) {\n        var newVideo, saveVideo;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                newVideo = new _Video.videoModel({\n                  owner: request.token._id,\n                  username: request.body.username,\n                  category: request.body.category,\n                  name: request.body.name,\n                  videopath: request.filename,\n                  description: request.body.description\n                });\n                _context.prev = 1;\n                _context.next = 4;\n                return newVideo.save();\n\n              case 4:\n                saveVideo = _context.sent;\n                return _context.abrupt(\"return\", response.status(201).json({\n                  msg: 'Video uploaded successfully'\n                }));\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context[\"catch\"](1);\n                return _context.abrupt(\"return\", response.status(500).json({\n                  msg: 'Video upload failed'\n                }));\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[1, 8]]);\n      }));\n\n      function upload(_x, _x2) {\n        return _upload.apply(this, arguments);\n      }\n\n      return upload;\n    }()\n  }, {\n    key: \"like\",\n    value: function like(request, response) {\n      var video_id = request.query.id;\n      var operation = request.query.operation;\n\n      if (operation === 'false') {\n        _Video.videoModel.findOneAndUpdate({\n          _id: video_id\n        }, {\n          $inc: {\n            likes: -1\n          }\n        }, {\n          \"new\": true\n        }, function (error, doc) {\n          if (error) {\n            return response.status(500).json({\n              msg: 'Network Error: Failed to cancel like video'\n            });\n          }\n\n          return response.status(200).json({\n            msg: 'Video like cancelled'\n          });\n        });\n      } else {\n        _Video.videoModel.findOneAndUpdate({\n          _id: video_id\n        }, {\n          $inc: {\n            likes: 1\n          }\n        }, {\n          \"new\": true\n        }, function (error, doc) {\n          if (error) {\n            return response.status(500).json({\n              msg: 'Network Error: Failed to like video'\n            });\n          }\n\n          return response.status(200).json({\n            msg: 'Video liked'\n          });\n        });\n      }\n    }\n  }, {\n    key: \"dislike\",\n    value: function dislike(request, response) {\n      var video_id = request.query.id;\n      var operation = request.query.operation;\n\n      if (operation === 'false') {\n        _Video.videoModel.findOneAndUpdate({\n          _id: video_id\n        }, {\n          $inc: {\n            dislikes: -1\n          }\n        }, {\n          \"new\": true\n        }, function (error, doc) {\n          if (error) {\n            return response.status(500).json({\n              msg: 'Network Error: Failed to cancel dislike video'\n            });\n          }\n\n          return response.status(200).json({\n            msg: 'Video dislike cancelled'\n          });\n        });\n      } else {\n        _Video.videoModel.findOneAndUpdate({\n          _id: video_id\n        }, {\n          $inc: {\n            dislikes: 1\n          }\n        }, {\n          \"new\": true\n        }, function (error, doc) {\n          if (error) {\n            return response.status(500).json({\n              msg: 'Network Error: Failed to dislike video'\n            });\n          }\n\n          return response.status(200).json({\n            msg: 'Video disliked'\n          });\n        });\n      }\n    }\n  }, {\n    key: \"searchVideo\",\n    value: function () {\n      var _searchVideo = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(request, response) {\n        var name, video;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                name = request.query.key;\n                _context2.prev = 1;\n                _context2.next = 4;\n                return _Video.videoModel.find({\n                  name: {\n                    $regex: name.toLowerCase()\n                  }\n                });\n\n              case 4:\n                video = _context2.sent;\n                return _context2.abrupt(\"return\", response.send(video));\n\n              case 8:\n                _context2.prev = 8;\n                _context2.t0 = _context2[\"catch\"](1);\n                return _context2.abrupt(\"return\", response.status(700).json({\n                  msg: 'No matching video'\n                }));\n\n              case 11:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[1, 8]]);\n      }));\n\n      function searchVideo(_x3, _x4) {\n        return _searchVideo.apply(this, arguments);\n      }\n\n      return searchVideo;\n    }() // search all videos and display\n\n  }, {\n    key: \"findAllVideo\",\n    value: function () {\n      var _findAllVideo = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(request, response) {\n        var video;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                _context3.next = 3;\n                return _Video.videoModel.find();\n\n              case 3:\n                video = _context3.sent;\n                return _context3.abrupt(\"return\", response.send(video));\n\n              case 7:\n                _context3.prev = 7;\n                _context3.t0 = _context3[\"catch\"](0);\n                return _context3.abrupt(\"return\", response.status(700).json({\n                  msg: 'No videos'\n                }));\n\n              case 10:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, null, [[0, 7]]);\n      }));\n\n      function findAllVideo(_x5, _x6) {\n        return _findAllVideo.apply(this, arguments);\n      }\n\n      return findAllVideo;\n    }() // search video by username\n\n  }, {\n    key: \"searchUVideo\",\n    value: function () {\n      var _searchUVideo = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(request, response) {\n        var name, video;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                name = request.query.key;\n                _context4.prev = 1;\n                _context4.next = 4;\n                return _Video.videoModel.find({\n                  username: {\n                    $regex: name\n                  }\n                });\n\n              case 4:\n                video = _context4.sent;\n                return _context4.abrupt(\"return\", response.send(video));\n\n              case 8:\n                _context4.prev = 8;\n                _context4.t0 = _context4[\"catch\"](1);\n                return _context4.abrupt(\"return\", response.status(700).json({\n                  msg: 'No matching video'\n                }));\n\n              case 11:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, null, [[1, 8]]);\n      }));\n\n      function searchUVideo(_x7, _x8) {\n        return _searchUVideo.apply(this, arguments);\n      }\n\n      return searchUVideo;\n    }() // search video by category\n\n  }, {\n    key: \"searchCat\",\n    value: function () {\n      var _searchCat = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(request, response) {\n        var cat, video;\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                cat = request.query.key;\n                _context5.prev = 1;\n                _context5.next = 4;\n                return _Video.videoModel.find({\n                  category: {\n                    $regex: cat\n                  }\n                });\n\n              case 4:\n                video = _context5.sent;\n                return _context5.abrupt(\"return\", response.send(video));\n\n              case 8:\n                _context5.prev = 8;\n                _context5.t0 = _context5[\"catch\"](1);\n                return _context5.abrupt(\"return\", response.status(700).json({\n                  msg: 'No matching video'\n                }));\n\n              case 11:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, null, [[1, 8]]);\n      }));\n\n      function searchCat(_x9, _x10) {\n        return _searchCat.apply(this, arguments);\n      }\n\n      return searchCat;\n    }() // stream video \n\n  }, {\n    key: \"stream\",\n    value: function stream(request, response) {\n      var range = request.headers.range;\n\n      if (!range) {\n        return response.status(400).json({\n          msg: 'Range header is required to start'\n        });\n      }\n\n      var videopath = \"videos/\".concat(request.params.filename);\n\n      var videosize = _fs[\"default\"].statSync(videopath).size; // get video size\n\n\n      var start = Number(range.replace(/\\D/g, \"\")); //get start point \n\n      var chunk_size = Math.pow(10, 6); // 1 mb , chunck size\n\n      var end = Math.min(start + chunk_size, videosize - 1); //end position\n\n      var contenLength = end - start + 1; // how many  size sending\n\n      var hearders = {\n        'Content-Length': contenLength,\n        'Accept-Range': 'bytes',\n        'Content-Type': 'video/mp40',\n        'Content-Range': \"bytes \".concat(start, \" -\").concat(end, \"/\").concat(videosize) //decise how far video gone\n\n      };\n      response.writeHead(206, hearders);\n\n      var videostream = _fs[\"default\"].createReadStream(videopath, {\n        start: start,\n        end: end\n      }); // create video stream\n\n\n      videostream.pipe(response);\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete(request, response) {\n      var video_id = request.query.video_id;\n      var video_path = request.query.video_path;\n      var videopath = \"videos/\".concat(video_path);\n\n      if (_fs[\"default\"].existsSync(videopath)) {\n        _fs[\"default\"].unlink(videopath, function (error) {\n          if (error) {\n            return response.status(500).json({\n              msg: 'Network Error: Failed to delete video'\n            });\n          }\n\n          _Video.videoModel.findOneAndDelete({\n            _id: video_id\n          }, function (error) {\n            if (error) {\n              return response.status(500).json({\n                msg: 'Network Error: Failed to delete video'\n              });\n            }\n\n            return response.status(200).json({\n              msg: ' video delete'\n            });\n          });\n        });\n      }\n    }\n  }, {\n    key: \"delete_user_all_videos\",\n    value: function () {\n      var _delete_user_all_videos = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(request, response) {\n        var delete_username, user_video_list, i, videopath;\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                delete_username = request.query.username;\n                user_video_list = request.query.video_list;\n\n                if (!(user_video_list !== undefined)) {\n                  _context6.next = 6;\n                  break;\n                }\n\n                for (i = 0; i < user_video_list.length; i++) {\n                  videopath = \"videos/\".concat(user_video_list[i]);\n\n                  if (_fs[\"default\"].existsSync(videopath)) {\n                    _fs[\"default\"].unlink(videopath, function (error) {\n                      if (error) {\n                        return response.status(500).json({\n                          msg: 'Network Error: Failed to delete video'\n                        });\n                      }\n                    });\n                  }\n                }\n\n                _context6.next = 6;\n                return _Video.videoModel.deleteMany({\n                  username: delete_username\n                });\n\n              case 6:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6);\n      }));\n\n      function delete_user_all_videos(_x11, _x12) {\n        return _delete_user_all_videos.apply(this, arguments);\n      }\n\n      return delete_user_all_videos;\n    }()\n  }]);\n\n  return VideoController;\n}();\n\nexports.VideoController = VideoController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJWaWRlb0NvbnRyb2xsZXIiLCJyZXF1ZXN0IiwicmVzcG9uc2UiLCJuZXdWaWRlbyIsInZpZGVvTW9kZWwiLCJvd25lciIsInRva2VuIiwiX2lkIiwidXNlcm5hbWUiLCJib2R5IiwiY2F0ZWdvcnkiLCJuYW1lIiwidmlkZW9wYXRoIiwiZmlsZW5hbWUiLCJkZXNjcmlwdGlvbiIsInNhdmUiLCJzYXZlVmlkZW8iLCJzdGF0dXMiLCJqc29uIiwibXNnIiwidmlkZW9faWQiLCJxdWVyeSIsImlkIiwib3BlcmF0aW9uIiwiZmluZE9uZUFuZFVwZGF0ZSIsIiRpbmMiLCJsaWtlcyIsImVycm9yIiwiZG9jIiwiZGlzbGlrZXMiLCJrZXkiLCJmaW5kIiwiJHJlZ2V4IiwidG9Mb3dlckNhc2UiLCJ2aWRlbyIsInNlbmQiLCJjYXQiLCJyYW5nZSIsImhlYWRlcnMiLCJwYXJhbXMiLCJ2aWRlb3NpemUiLCJmcyIsInN0YXRTeW5jIiwic2l6ZSIsInN0YXJ0IiwiTnVtYmVyIiwicmVwbGFjZSIsImNodW5rX3NpemUiLCJlbmQiLCJNYXRoIiwibWluIiwiY29udGVuTGVuZ3RoIiwiaGVhcmRlcnMiLCJ3cml0ZUhlYWQiLCJ2aWRlb3N0cmVhbSIsImNyZWF0ZVJlYWRTdHJlYW0iLCJwaXBlIiwidmlkZW9fcGF0aCIsImV4aXN0c1N5bmMiLCJ1bmxpbmsiLCJmaW5kT25lQW5kRGVsZXRlIiwiZGVsZXRlX3VzZXJuYW1lIiwidXNlcl92aWRlb19saXN0IiwidmlkZW9fbGlzdCIsInVuZGVmaW5lZCIsImkiLCJsZW5ndGgiLCJkZWxldGVNYW55Il0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXDMyMTA4XFxEb2N1bWVudHNcXEdpdEh1YlxcSVQtUFJPSkVDVFxcYmFja2VuZDNcXHNyY1xcQ29udHJvbGxlclxcIiwic291cmNlcyI6WyJWaWRlby5jb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHZpZGVvTW9kZWwgfSBmcm9tICcuLi9Nb2RlbHMvVmlkZW8ubW9kZWwnXHJcbmltcG9ydCBmcyBmcm9tICdmcydcclxuaW1wb3J0IHsgTk9OQU1FIH0gZnJvbSAnZG5zJ1xyXG5cclxuZXhwb3J0IGNsYXNzIFZpZGVvQ29udHJvbGxlciB7XHJcbiAgICBhc3luYyB1cGxvYWQocmVxdWVzdCwgcmVzcG9uc2UpIHtcclxuXHJcbiAgICAgICAgY29uc3QgbmV3VmlkZW8gPSBuZXcgdmlkZW9Nb2RlbCh7XHJcbiAgICAgICAgICAgIG93bmVyOiByZXF1ZXN0LnRva2VuLl9pZCxcclxuICAgICAgICAgICAgdXNlcm5hbWU6IHJlcXVlc3QuYm9keS51c2VybmFtZSxcclxuICAgICAgICAgICAgY2F0ZWdvcnk6IHJlcXVlc3QuYm9keS5jYXRlZ29yeSxcclxuICAgICAgICAgICAgbmFtZTogcmVxdWVzdC5ib2R5Lm5hbWUsXHJcbiAgICAgICAgICAgIHZpZGVvcGF0aDogcmVxdWVzdC5maWxlbmFtZSxcclxuICAgICAgICAgICAgZGVzY3JpcHRpb246IHJlcXVlc3QuYm9keS5kZXNjcmlwdGlvblxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNhdmVWaWRlbyA9IGF3YWl0IG5ld1ZpZGVvLnNhdmUoKVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMSkuanNvbih7IG1zZzogJ1ZpZGVvIHVwbG9hZGVkIHN1Y2Nlc3NmdWxseScgfSlcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7IG1zZzogJ1ZpZGVvIHVwbG9hZCBmYWlsZWQnIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBsaWtlKHJlcXVlc3QsIHJlc3BvbnNlKSB7XHJcbiAgICAgICAgY29uc3QgdmlkZW9faWQgPSByZXF1ZXN0LnF1ZXJ5LmlkO1xyXG4gICAgICAgIGNvbnN0IG9wZXJhdGlvbiA9IHJlcXVlc3QucXVlcnkub3BlcmF0aW9uXHJcbiAgICAgICAgaWYgKG9wZXJhdGlvbiA9PT0gJ2ZhbHNlJykge1xyXG4gICAgICAgICAgICB2aWRlb01vZGVsLmZpbmRPbmVBbmRVcGRhdGUoeyBfaWQ6IHZpZGVvX2lkIH0sIHsgJGluYzogeyBsaWtlczogLTEgfSB9LFxyXG4gICAgICAgICAgICAgICAgeyBuZXc6IHRydWUgfSwgKGVycm9yLCBkb2MpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oeyBtc2c6ICdOZXR3b3JrIEVycm9yOiBGYWlsZWQgdG8gY2FuY2VsIGxpa2UgdmlkZW8nIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHsgbXNnOiAnVmlkZW8gbGlrZSBjYW5jZWxsZWQnIH0pXHJcbiAgICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB2aWRlb01vZGVsLmZpbmRPbmVBbmRVcGRhdGUoeyBfaWQ6IHZpZGVvX2lkIH0sIHsgJGluYzogeyBsaWtlczogMSB9IH0sXHJcbiAgICAgICAgICAgICAgICB7IG5ldzogdHJ1ZSB9LCAoZXJyb3IsIGRvYykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7IG1zZzogJ05ldHdvcmsgRXJyb3I6IEZhaWxlZCB0byBsaWtlIHZpZGVvJyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7IG1zZzogJ1ZpZGVvIGxpa2VkJyB9KVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZGlzbGlrZShyZXF1ZXN0LCByZXNwb25zZSkge1xyXG4gICAgICAgIGNvbnN0IHZpZGVvX2lkID0gcmVxdWVzdC5xdWVyeS5pZDtcclxuICAgICAgICBjb25zdCBvcGVyYXRpb24gPSByZXF1ZXN0LnF1ZXJ5Lm9wZXJhdGlvblxyXG4gICAgICAgIGlmIChvcGVyYXRpb24gPT09ICdmYWxzZScpIHtcclxuICAgICAgICAgICAgdmlkZW9Nb2RlbC5maW5kT25lQW5kVXBkYXRlKHsgX2lkOiB2aWRlb19pZCB9LCB7ICRpbmM6IHsgZGlzbGlrZXM6IC0xIH0gfSxcclxuICAgICAgICAgICAgICAgIHsgbmV3OiB0cnVlIH0sIChlcnJvciwgZG9jKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAnTmV0d29yayBFcnJvcjogRmFpbGVkIHRvIGNhbmNlbCBkaXNsaWtlIHZpZGVvJyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7IG1zZzogJ1ZpZGVvIGRpc2xpa2UgY2FuY2VsbGVkJyB9KVxyXG4gICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdmlkZW9Nb2RlbC5maW5kT25lQW5kVXBkYXRlKHsgX2lkOiB2aWRlb19pZCB9LCB7ICRpbmM6IHsgZGlzbGlrZXM6IDEgfSB9LFxyXG4gICAgICAgICAgICAgICAgeyBuZXc6IHRydWUgfSwgKGVycm9yLCBkb2MpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oeyBtc2c6ICdOZXR3b3JrIEVycm9yOiBGYWlsZWQgdG8gZGlzbGlrZSB2aWRlbycgfSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cygyMDApLmpzb24oeyBtc2c6ICdWaWRlbyBkaXNsaWtlZCcgfSlcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIHNlYXJjaFZpZGVvKHJlcXVlc3QsIHJlc3BvbnNlKSB7XHJcbiAgICAgICAgY29uc3QgbmFtZSA9IHJlcXVlc3QucXVlcnkua2V5O1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCB2aWRlbyA9IGF3YWl0IHZpZGVvTW9kZWwuZmluZCh7IG5hbWU6IHsgJHJlZ2V4OiBuYW1lLnRvTG93ZXJDYXNlKCkgfSB9KVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc2VuZCh2aWRlbylcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg3MDApLmpzb24oeyBtc2c6ICdObyBtYXRjaGluZyB2aWRlbycgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gc2VhcmNoIGFsbCB2aWRlb3MgYW5kIGRpc3BsYXlcclxuICAgIGFzeW5jIGZpbmRBbGxWaWRlbyhyZXF1ZXN0LCByZXNwb25zZSkge1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgdmlkZW8gPSBhd2FpdCB2aWRlb01vZGVsLmZpbmQoKVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc2VuZCh2aWRlbylcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg3MDApLmpzb24oeyBtc2c6ICdObyB2aWRlb3MnIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gc2VhcmNoIHZpZGVvIGJ5IHVzZXJuYW1lXHJcbiAgICBhc3luYyBzZWFyY2hVVmlkZW8ocmVxdWVzdCwgcmVzcG9uc2UpIHtcclxuICAgICAgICBjb25zdCBuYW1lID0gcmVxdWVzdC5xdWVyeS5rZXk7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IHZpZGVvID0gYXdhaXQgdmlkZW9Nb2RlbC5maW5kKHsgdXNlcm5hbWU6IHsgJHJlZ2V4OiBuYW1lIH0gfSlcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnNlbmQodmlkZW8pXHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNzAwKS5qc29uKHsgbXNnOiAnTm8gbWF0Y2hpbmcgdmlkZW8nIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIHNlYXJjaCB2aWRlbyBieSBjYXRlZ29yeVxyXG4gICAgYXN5bmMgc2VhcmNoQ2F0KHJlcXVlc3QsIHJlc3BvbnNlKSB7XHJcbiAgICAgICAgY29uc3QgY2F0ID0gcmVxdWVzdC5xdWVyeS5rZXk7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IHZpZGVvID0gYXdhaXQgdmlkZW9Nb2RlbC5maW5kKHsgY2F0ZWdvcnk6IHsgJHJlZ2V4OiBjYXQgfSB9KVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc2VuZCh2aWRlbylcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg3MDApLmpzb24oeyBtc2c6ICdObyBtYXRjaGluZyB2aWRlbycgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gc3RyZWFtIHZpZGVvIFxyXG4gICAgc3RyZWFtKHJlcXVlc3QsIHJlc3BvbnNlKSB7XHJcbiAgICAgICAgY29uc3QgcmFuZ2UgPSByZXF1ZXN0LmhlYWRlcnMucmFuZ2VcclxuICAgICAgICBpZiAoIXJhbmdlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNDAwKS5qc29uKHsgbXNnOiAnUmFuZ2UgaGVhZGVyIGlzIHJlcXVpcmVkIHRvIHN0YXJ0JyB9KVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB2aWRlb3BhdGggPSBgdmlkZW9zLyR7cmVxdWVzdC5wYXJhbXMuZmlsZW5hbWV9YDtcclxuICAgICAgICBjb25zdCB2aWRlb3NpemUgPSBmcy5zdGF0U3luYyh2aWRlb3BhdGgpLnNpemU7ICAvLyBnZXQgdmlkZW8gc2l6ZVxyXG5cclxuICAgICAgICBjb25zdCBzdGFydCA9IE51bWJlcihyYW5nZS5yZXBsYWNlKC9cXEQvZywgXCJcIikpOyAgLy9nZXQgc3RhcnQgcG9pbnQgXHJcbiAgICAgICAgY29uc3QgY2h1bmtfc2l6ZSA9IDEwICoqIDYgLy8gMSBtYiAsIGNodW5jayBzaXplXHJcbiAgICAgICAgY29uc3QgZW5kID0gTWF0aC5taW4oc3RhcnQgKyBjaHVua19zaXplLCB2aWRlb3NpemUgLSAxKTsgICAvL2VuZCBwb3NpdGlvblxyXG5cclxuICAgICAgICBjb25zdCBjb250ZW5MZW5ndGggPSBlbmQgLSBzdGFydCArIDEgIC8vIGhvdyBtYW55ICBzaXplIHNlbmRpbmdcclxuICAgICAgICBjb25zdCBoZWFyZGVycyA9IHtcclxuICAgICAgICAgICAgJ0NvbnRlbnQtTGVuZ3RoJzogY29udGVuTGVuZ3RoLFxyXG4gICAgICAgICAgICAnQWNjZXB0LVJhbmdlJzogJ2J5dGVzJyxcclxuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICd2aWRlby9tcDQwJyxcclxuICAgICAgICAgICAgJ0NvbnRlbnQtUmFuZ2UnOiBgYnl0ZXMgJHtzdGFydH0gLSR7ZW5kfS8ke3ZpZGVvc2l6ZX1gICAgLy9kZWNpc2UgaG93IGZhciB2aWRlbyBnb25lXHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICByZXNwb25zZS53cml0ZUhlYWQoMjA2LCBoZWFyZGVycyk7XHJcbiAgICAgICAgY29uc3QgdmlkZW9zdHJlYW0gPSBmcy5jcmVhdGVSZWFkU3RyZWFtKHZpZGVvcGF0aCwgeyBzdGFydCwgZW5kIH0pOyAvLyBjcmVhdGUgdmlkZW8gc3RyZWFtXHJcbiAgICAgICAgdmlkZW9zdHJlYW0ucGlwZShyZXNwb25zZSlcclxuICAgIH1cclxuXHJcbiAgICBkZWxldGUocmVxdWVzdCwgcmVzcG9uc2UpIHtcclxuXHJcbiAgICAgICAgY29uc3QgdmlkZW9faWQgPSByZXF1ZXN0LnF1ZXJ5LnZpZGVvX2lkO1xyXG4gICAgICAgIGNvbnN0IHZpZGVvX3BhdGggPSByZXF1ZXN0LnF1ZXJ5LnZpZGVvX3BhdGg7XHJcbiAgICAgICAgY29uc3QgdmlkZW9wYXRoID0gYHZpZGVvcy8ke3ZpZGVvX3BhdGh9YDtcclxuICAgICAgICBpZiAoZnMuZXhpc3RzU3luYyh2aWRlb3BhdGgpKSB7XHJcbiAgICAgICAgICAgIGZzLnVubGluayh2aWRlb3BhdGgsIChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oeyBtc2c6ICdOZXR3b3JrIEVycm9yOiBGYWlsZWQgdG8gZGVsZXRlIHZpZGVvJyB9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmlkZW9Nb2RlbC5maW5kT25lQW5kRGVsZXRlKHsgX2lkOiB2aWRlb19pZCB9LCAoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oeyBtc2c6ICdOZXR3b3JrIEVycm9yOiBGYWlsZWQgdG8gZGVsZXRlIHZpZGVvJyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7IG1zZzogJyB2aWRlbyBkZWxldGUnIH0pXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBkZWxldGVfdXNlcl9hbGxfdmlkZW9zKHJlcXVlc3QsIHJlc3BvbnNlKSB7XHJcbiAgICAgICAgY29uc3QgZGVsZXRlX3VzZXJuYW1lID0gcmVxdWVzdC5xdWVyeS51c2VybmFtZTtcclxuICAgICAgICBjb25zdCB1c2VyX3ZpZGVvX2xpc3QgPSByZXF1ZXN0LnF1ZXJ5LnZpZGVvX2xpc3Q7XHJcbiAgICAgICAgaWYgKHVzZXJfdmlkZW9fbGlzdCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdXNlcl92aWRlb19saXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmlkZW9wYXRoID0gYHZpZGVvcy8ke3VzZXJfdmlkZW9fbGlzdFtpXX1gO1xyXG4gICAgICAgICAgICAgICAgaWYgKGZzLmV4aXN0c1N5bmModmlkZW9wYXRoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZzLnVubGluayh2aWRlb3BhdGgsIChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAnTmV0d29yayBFcnJvcjogRmFpbGVkIHRvIGRlbGV0ZSB2aWRlbycgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGF3YWl0IHZpZGVvTW9kZWwuZGVsZXRlTWFueSh7IHVzZXJuYW1lOiBkZWxldGVfdXNlcm5hbWUgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7OzsrQ0FEQSxvSjs7Ozs7Ozs7Ozs7O0lBR2FBLGU7Ozs7Ozs7OytFQUNULGlCQUFhQyxPQUFiLEVBQXNCQyxRQUF0QjtRQUFBO1FBQUE7VUFBQTtZQUFBO2NBQUE7Z0JBRVVDLFFBRlYsR0FFcUIsSUFBSUMsaUJBQUosQ0FBZTtrQkFDNUJDLEtBQUssRUFBRUosT0FBTyxDQUFDSyxLQUFSLENBQWNDLEdBRE87a0JBRTVCQyxRQUFRLEVBQUVQLE9BQU8sQ0FBQ1EsSUFBUixDQUFhRCxRQUZLO2tCQUc1QkUsUUFBUSxFQUFFVCxPQUFPLENBQUNRLElBQVIsQ0FBYUMsUUFISztrQkFJNUJDLElBQUksRUFBRVYsT0FBTyxDQUFDUSxJQUFSLENBQWFFLElBSlM7a0JBSzVCQyxTQUFTLEVBQUVYLE9BQU8sQ0FBQ1ksUUFMUztrQkFNNUJDLFdBQVcsRUFBRWIsT0FBTyxDQUFDUSxJQUFSLENBQWFLO2dCQU5FLENBQWYsQ0FGckI7Z0JBQUE7Z0JBQUE7Z0JBQUEsT0FZZ0NYLFFBQVEsQ0FBQ1ksSUFBVCxFQVpoQzs7Y0FBQTtnQkFZY0MsU0FaZDtnQkFBQSxpQ0FhZWQsUUFBUSxDQUFDZSxNQUFULENBQWdCLEdBQWhCLEVBQXFCQyxJQUFyQixDQUEwQjtrQkFBRUMsR0FBRyxFQUFFO2dCQUFQLENBQTFCLENBYmY7O2NBQUE7Z0JBQUE7Z0JBQUE7Z0JBQUEsaUNBZWVqQixRQUFRLENBQUNlLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCO2tCQUFFQyxHQUFHLEVBQUU7Z0JBQVAsQ0FBMUIsQ0FmZjs7Y0FBQTtjQUFBO2dCQUFBO1lBQUE7VUFBQTtRQUFBO01BQUEsQzs7Ozs7Ozs7OztXQW9CQSxjQUFLbEIsT0FBTCxFQUFjQyxRQUFkLEVBQXdCO01BQ3BCLElBQU1rQixRQUFRLEdBQUduQixPQUFPLENBQUNvQixL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","map":{"version":3,"names":["VideoController","request","response","newVideo","videoModel","owner","token","_id","username","body","category","name","videopath","filename","description","save","saveVideo","status","json","msg","video_id","query","id","operation","findOneAndUpdate","$inc","likes","error","doc","dislikes","key","find","$regex","toLowerCase","video","send","cat","range","headers","params","videosize","fs","statSync","size","start","Number","replace","chunk_size","end","Math","min","contenLength","hearders","writeHead","videostream","createReadStream","pipe","video_path","existsSync","unlink","findOneAndDelete","delete_username","user_video_list","video_list","undefined","i","length","deleteMany"],"sourceRoot":"C:\\Users\\32108\\Documents\\GitHub\\IT-PROJECT\\backend3\\src\\Controller\\","sources":["Video.controller.js"],"sourcesContent":["import { videoModel } from '../Models/Video.model'\r\nimport fs from 'fs'\r\nimport { NONAME } from 'dns'\r\n\r\nexport class VideoController {\r\n    async upload(request, response) {\r\n\r\n        const newVideo = new videoModel({\r\n            owner: request.token._id,\r\n            username: request.body.username,\r\n            category: request.body.category,\r\n            name: request.body.name,\r\n            videopath: request.filename,\r\n            description: request.body.description\r\n        })\r\n\r\n        try {\r\n            const saveVideo = await newVideo.save()\r\n            return response.status(201).json({ msg: 'Video uploaded successfully' })\r\n        } catch (error) {\r\n            return response.status(500).json({ msg: 'Video upload failed' })\r\n        }\r\n    }\r\n\r\n\r\n    like(request, response) {\r\n        const video_id = request.query.id;\r\n        const operation = request.query.operation\r\n        if (operation === 'false') {\r\n            videoModel.findOneAndUpdate({ _id: video_id }, { $inc: { likes: -1 } },\r\n                { new: true }, (error, doc) => {\r\n                    if (error) {\r\n                        return response.status(500).json({ msg: 'Network Error: Failed to cancel like video' })\r\n                    }\r\n                    return response.status(200).json({ msg: 'Video like cancelled' })\r\n                })\r\n\r\n        } else {\r\n            videoModel.findOneAndUpdate({ _id: video_id }, { $inc: { likes: 1 } },\r\n                { new: true }, (error, doc) => {\r\n                    if (error) {\r\n                        return response.status(500).json({ msg: 'Network Error: Failed to like video' })\r\n                    }\r\n                    return response.status(200).json({ msg: 'Video liked' })\r\n                })\r\n        }\r\n    }\r\n\r\n    dislike(request, response) {\r\n        const video_id = request.query.id;\r\n        const operation = request.query.operation\r\n        if (operation === 'false') {\r\n            videoModel.findOneAndUpdate({ _id: video_id }, { $inc: { dislikes: -1 } },\r\n                { new: true }, (error, doc) => {\r\n                    if (error) {\r\n                        return response.status(500).json({ msg: 'Network Error: Failed to cancel dislike video' })\r\n                    }\r\n                    return response.status(200).json({ msg: 'Video dislike cancelled' })\r\n                })\r\n\r\n        } else {\r\n            videoModel.findOneAndUpdate({ _id: video_id }, { $inc: { dislikes: 1 } },\r\n                { new: true }, (error, doc) => {\r\n                    if (error) {\r\n                        return response.status(500).json({ msg: 'Network Error: Failed to dislike video' })\r\n                    }\r\n                    return response.status(200).json({ msg: 'Video disliked' })\r\n                })\r\n        }\r\n    }\r\n\r\n    async searchVideo(request, response) {\r\n        const name = request.query.key;\r\n        try {\r\n            let video = await videoModel.find({ name: { $regex: name.toLowerCase() } })\r\n            return response.send(video)\r\n\r\n        } catch (error) {\r\n            return response.status(700).json({ msg: 'No matching video' })\r\n        }\r\n    }\r\n\r\n    // search all videos and display\r\n    async findAllVideo(request, response) {\r\n\r\n        try {\r\n            let video = await videoModel.find()\r\n            return response.send(video)\r\n\r\n        } catch (error) {\r\n            return response.status(700).json({ msg: 'No videos' })\r\n        }\r\n    }\r\n    // search video by username\r\n    async searchUVideo(request, response) {\r\n        const name = request.query.key;\r\n        try {\r\n            let video = await videoModel.find({ username: { $regex: name } })\r\n            return response.send(video)\r\n\r\n        } catch (error) {\r\n            return response.status(700).json({ msg: 'No matching video' })\r\n        }\r\n    }\r\n\r\n    // search video by category\r\n    async searchCat(request, response) {\r\n        const cat = request.query.key;\r\n        try {\r\n            let video = await videoModel.find({ category: { $regex: cat } })\r\n            return response.send(video)\r\n\r\n        } catch (error) {\r\n            return response.status(700).json({ msg: 'No matching video' })\r\n        }\r\n    }\r\n\r\n    // stream video \r\n    stream(request, response) {\r\n        const range = request.headers.range\r\n        if (!range) {\r\n            return response.status(400).json({ msg: 'Range header is required to start' })\r\n        }\r\n        const videopath = `videos/${request.params.filename}`;\r\n        const videosize = fs.statSync(videopath).size;  // get video size\r\n\r\n        const start = Number(range.replace(/\\D/g, \"\"));  //get start point \r\n        const chunk_size = 10 ** 6 // 1 mb , chunck size\r\n        const end = Math.min(start + chunk_size, videosize - 1);   //end position\r\n\r\n        const contenLength = end - start + 1  // how many  size sending\r\n        const hearders = {\r\n            'Content-Length': contenLength,\r\n            'Accept-Range': 'bytes',\r\n            'Content-Type': 'video/mp40',\r\n            'Content-Range': `bytes ${start} -${end}/${videosize}`   //decise how far video gone\r\n\r\n        }\r\n        response.writeHead(206, hearders);\r\n        const videostream = fs.createReadStream(videopath, { start, end }); // create video stream\r\n        videostream.pipe(response)\r\n    }\r\n\r\n    delete(request, response) {\r\n\r\n        const video_id = request.query.video_id;\r\n        const video_path = request.query.video_path;\r\n        const videopath = `videos/${video_path}`;\r\n        if (fs.existsSync(videopath)) {\r\n            fs.unlink(videopath, (error) => {\r\n                if (error) {\r\n                    return response.status(500).json({ msg: 'Network Error: Failed to delete video' })\r\n                }\r\n                videoModel.findOneAndDelete({ _id: video_id }, (error) => {\r\n                    if (error) {\r\n                        return response.status(500).json({ msg: 'Network Error: Failed to delete video' })\r\n                    }\r\n                    return response.status(200).json({ msg: ' video delete' })\r\n                })\r\n            })\r\n        }\r\n    }\r\n\r\n    async delete_user_all_videos(request, response) {\r\n        const delete_username = request.query.username;\r\n        const user_video_list = request.query.video_list;\r\n        if (user_video_list !== undefined) {\r\n            for (let i = 0; i < user_video_list.length; i++) {\r\n                var videopath = `videos/${user_video_list[i]}`;\r\n                if (fs.existsSync(videopath)) {\r\n                    fs.unlink(videopath, (error) => {\r\n                        if (error) {\r\n                            return response.status(500).json({ msg: 'Network Error: Failed to delete video' })\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n\r\n            await videoModel.deleteMany({ username: delete_username });\r\n        }\r\n    }\r\n}"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;;;+CADA,oJ;;;;;;;;;;;;IAGaA,e;;;;;;;;+EACT,iBAAaC,OAAb,EAAsBC,QAAtB;QAAA;QAAA;UAAA;YAAA;cAAA;gBAEUC,QAFV,GAEqB,IAAIC,iBAAJ,CAAe;kBAC5BC,KAAK,EAAEJ,OAAO,CAACK,KAAR,CAAcC,GADO;kBAE5BC,QAAQ,EAAEP,OAAO,CAACQ,IAAR,CAAaD,QAFK;kBAG5BE,QAAQ,EAAET,OAAO,CAACQ,IAAR,CAAaC,QAHK;kBAI5BC,IAAI,EAAEV,OAAO,CAACQ,IAAR,CAAaE,IAJS;kBAK5BC,SAAS,EAAEX,OAAO,CAACY,QALS;kBAM5BC,WAAW,EAAEb,OAAO,CAACQ,IAAR,CAAaK;gBANE,CAAf,CAFrB;gBAAA;gBAAA;gBAAA,OAYgCX,QAAQ,CAACY,IAAT,EAZhC;;cAAA;gBAYcC,SAZd;gBAAA,iCAaed,QAAQ,CAACe,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B;kBAAEC,GAAG,EAAE;gBAAP,CAA1B,CAbf;;cAAA;gBAAA;gBAAA;gBAAA,iCAeejB,QAAQ,CAACe,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B;kBAAEC,GAAG,EAAE;gBAAP,CAA1B,CAff;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,C;;;;;;;;;;WAoBA,cAAKlB,OAAL,EAAcC,QAAd,EAAwB;MACpB,IAAMkB,QAAQ,GAAGnB,OAAO,CAACoB,KAAR,CAAcC,EAA/B;MACA,IAAMC,SAAS,GAAGtB,OAAO,CAACoB,KAAR,CAAcE,SAAhC;;MACA,IAAIA,SAAS,KAAK,OAAlB,EAA2B;QACvBnB,iBAAA,CAAWoB,gBAAX,CAA4B;UAAEjB,GAAG,EAAEa;QAAP,CAA5B,EAA+C;UAAEK,IAAI,EAAE;YAAEC,KAAK,EAAE,CAAC;UAAV;QAAR,CAA/C,EACI;UAAE,OAAK;QAAP,CADJ,EACmB,UAACC,KAAD,EAAQC,GAAR,EAAgB;UAC3B,IAAID,KAAJ,EAAW;YACP,OAAOzB,QAAQ,CAACe,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B;cAAEC,GAAG,EAAE;YAAP,CAA1B,CAAP;UACH;;UACD,OAAOjB,QAAQ,CAACe,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B;YAAEC,GAAG,EAAE;UAAP,CAA1B,CAAP;QACH,CANL;MAQH,CATD,MASO;QACHf,iBAAA,CAAWoB,gBAAX,CAA4B;UAAEjB,GAAG,EAAEa;QAAP,CAA5B,EAA+C;UAAEK,IAAI,EAAE;YAAEC,KAAK,EAAE;UAAT;QAAR,CAA/C,EACI;UAAE,OAAK;QAAP,CADJ,EACmB,UAACC,KAAD,EAAQC,GAAR,EAAgB;UAC3B,IAAID,KAAJ,EAAW;YACP,OAAOzB,QAAQ,CAACe,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B;cAAEC,GAAG,EAAE;YAAP,CAA1B,CAAP;UACH;;UACD,OAAOjB,QAAQ,CAACe,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B;YAAEC,GAAG,EAAE;UAAP,CAA1B,CAAP;QACH,CANL;MAOH;IACJ;;;WAED,iBAAQlB,OAAR,EAAiBC,QAAjB,EAA2B;MACvB,IAAMkB,QAAQ,GAAGnB,OAAO,CAACoB,KAAR,CAAcC,EAA/B;MACA,IAAMC,SAAS,GAAGtB,OAAO,CAACoB,KAAR,CAAcE,SAAhC;;MACA,IAAIA,SAAS,KAAK,OAAlB,EAA2B;QACvBnB,iBAAA,CAAWoB,gBAAX,CAA4B;UAAEjB,GAAG,EAAEa;QAAP,CAA5B,EAA+C;UAAEK,IAAI,EAAE;YAAEI,QAAQ,EAAE,CAAC;UAAb;QAAR,CAA/C,EACI;UAAE,OAAK;QAAP,CADJ,EACmB,UAACF,KAAD,EAAQC,GAAR,EAAgB;UAC3B,IAAID,KAAJ,EAAW;YACP,OAAOzB,QAAQ,CAACe,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B;cAAEC,GAAG,EAAE;YAAP,CAA1B,CAAP;UACH;;UACD,OAAOjB,QAAQ,CAACe,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B;YAAEC,GAAG,EAAE;UAAP,CAA1B,CAAP;QACH,CANL;MAQH,CATD,MASO;QACHf,iBAAA,CAAWoB,gBAAX,CAA4B;UAAEjB,GAAG,EAAEa;QAAP,CAA5B,EAA+C;UAAEK,IAAI,EAAE;YAAEI,QAAQ,EAAE;UAAZ;QAAR,CAA/C,EACI;UAAE,OAAK;QAAP,CADJ,EACmB,UAACF,KAAD,EAAQC,GAAR,EAAgB;UAC3B,IAAID,KAAJ,EAAW;YACP,OAAOzB,QAAQ,CAACe,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B;cAAEC,GAAG,EAAE;YAAP,CAA1B,CAAP;UACH;;UACD,OAAOjB,QAAQ,CAACe,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B;YAAEC,GAAG,EAAE;UAAP,CAA1B,CAAP;QACH,CANL;MAOH;IACJ;;;;oFAED,kBAAkBlB,OAAlB,EAA2BC,QAA3B;QAAA;QAAA;UAAA;YAAA;cAAA;gBACUS,IADV,GACiBV,OAAO,CAACoB,KAAR,CAAcS,GAD/B;gBAAA;gBAAA;gBAAA,OAG0B1B,iBAAA,CAAW2B,IAAX,CAAgB;kBAAEpB,IAAI,EAAE;oBAAEqB,MAAM,EAAErB,IAAI,CAACsB,WAAL;kBAAV;gBAAR,CAAhB,CAH1B;;cAAA;gBAGYC,KAHZ;gBAAA,kCAIehC,QAAQ,CAACiC,IAAT,CAAcD,KAAd,CAJf;;cAAA;gBAAA;gBAAA;gBAAA,kCAOehC,QAAQ,CAACe,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B;kBAAEC,GAAG,EAAE;gBAAP,CAA1B,CAPf;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,C;;;;;;;QAWA;;;;;qFACA,kBAAmBlB,OAAnB,EAA4BC,QAA5B;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA;gBAAA,OAG0BE,iBAAA,CAAW2B,IAAX,EAH1B;;cAAA;gBAGYG,KAHZ;gBAAA,kCAIehC,QAAQ,CAACiC,IAAT,CAAcD,KAAd,CAJf;;cAAA;gBAAA;gBAAA;gBAAA,kCAOehC,QAAQ,CAACe,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B;kBAAEC,GAAG,EAAE;gBAAP,CAA1B,CAPf;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,C;;;;;;;QAUA;;;;;qFACA,kBAAmBlB,OAAnB,EAA4BC,QAA5B;QAAA;QAAA;UAAA;YAAA;cAAA;gBACUS,IADV,GACiBV,OAAO,CAACoB,KAAR,CAAcS,GAD/B;gBAAA;gBAAA;gBAAA,OAG0B1B,iBAAA,CAAW2B,IAAX,CAAgB;kBAAEvB,QAAQ,EAAE;oBAAEwB,MAAM,EAAErB;kBAAV;gBAAZ,CAAhB,CAH1B;;cAAA;gBAGYuB,KAHZ;gBAAA,kCAIehC,QAAQ,CAACiC,IAAT,CAAcD,KAAd,CAJf;;cAAA;gBAAA;gBAAA;gBAAA,kCAOehC,QAAQ,CAACe,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B;kBAAEC,GAAG,EAAE;gBAAP,CAA1B,CAPf;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,C;;;;;;;QAWA;;;;;kFACA,kBAAgBlB,OAAhB,EAAyBC,QAAzB;QAAA;QAAA;UAAA;YAAA;cAAA;gBACUkC,GADV,GACgBnC,OAAO,CAACoB,KAAR,CAAcS,GAD9B;gBAAA;gBAAA;gBAAA,OAG0B1B,iBAAA,CAAW2B,IAAX,CAAgB;kBAAErB,QAAQ,EAAE;oBAAEsB,MAAM,EAAEI;kBAAV;gBAAZ,CAAhB,CAH1B;;cAAA;gBAGYF,KAHZ;gBAAA,kCAIehC,QAAQ,CAACiC,IAAT,CAAcD,KAAd,CAJf;;cAAA;gBAAA;gBAAA;gBAAA,kCAOehC,QAAQ,CAACe,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B;kBAAEC,GAAG,EAAE;gBAAP,CAA1B,CAPf;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,C;;;;;;;QAWA;;;;WACA,gBAAOlB,OAAP,EAAgBC,QAAhB,EAA0B;MACtB,IAAMmC,KAAK,GAAGpC,OAAO,CAACqC,OAAR,CAAgBD,KAA9B;;MACA,IAAI,CAACA,KAAL,EAAY;QACR,OAAOnC,QAAQ,CAACe,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B;UAAEC,GAAG,EAAE;QAAP,CAA1B,CAAP;MACH;;MACD,IAAMP,SAAS,oBAAaX,OAAO,CAACsC,MAAR,CAAe1B,QAA5B,CAAf;;MACA,IAAM2B,SAAS,GAAGC,cAAA,CAAGC,QAAH,CAAY9B,SAAZ,EAAuB+B,IAAzC,CANsB,CAM0B;;;MAEhD,IAAMC,KAAK,GAAGC,MAAM,CAACR,KAAK,CAACS,OAAN,CAAc,KAAd,EAAqB,EAArB,CAAD,CAApB,CARsB,CAQ2B;;MACjD,IAAMC,UAAU,YAAG,EAAH,EAAS,CAAT,CAAhB,CATsB,CASK;;MAC3B,IAAMC,GAAG,GAAGC,IAAI,CAACC,GAAL,CAASN,KAAK,GAAGG,UAAjB,EAA6BP,SAAS,GAAG,CAAzC,CAAZ,CAVsB,CAUqC;;MAE3D,IAAMW,YAAY,GAAGH,GAAG,GAAGJ,KAAN,GAAc,CAAnC,CAZsB,CAYgB;;MACtC,IAAMQ,QAAQ,GAAG;QACb,kBAAkBD,YADL;QAEb,gBAAgB,OAFH;QAGb,gBAAgB,YAHH;QAIb,iCAA0BP,KAA1B,eAAoCI,GAApC,cAA2CR,SAA3C,CAJa,CAI4C;;MAJ5C,CAAjB;MAOAtC,QAAQ,CAACmD,SAAT,CAAmB,GAAnB,EAAwBD,QAAxB;;MACA,IAAME,WAAW,GAAGb,cAAA,CAAGc,gBAAH,CAAoB3C,SAApB,EAA+B;QAAEgC,KAAK,EAALA,KAAF;QAASI,GAAG,EAAHA;MAAT,CAA/B,CAApB,CArBsB,CAqB8C;;;MACpEM,WAAW,CAACE,IAAZ,CAAiBtD,QAAjB;IACH;;;WAED,iBAAOD,OAAP,EAAgBC,QAAhB,EAA0B;MAEtB,IAAMkB,QAAQ,GAAGnB,OAAO,CAACoB,KAAR,CAAcD,QAA/B;MACA,IAAMqC,UAAU,GAAGxD,OAAO,CAACoB,KAAR,CAAcoC,UAAjC;MACA,IAAM7C,SAAS,oBAAa6C,UAAb,CAAf;;MACA,IAAIhB,cAAA,CAAGiB,UAAH,CAAc9C,SAAd,CAAJ,EAA8B;QAC1B6B,cAAA,CAAGkB,MAAH,CAAU/C,SAAV,EAAqB,UAACe,KAAD,EAAW;UAC5B,IAAIA,KAAJ,EAAW;YACP,OAAOzB,QAAQ,CAACe,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B;cAAEC,GAAG,EAAE;YAAP,CAA1B,CAAP;UACH;;UACDf,iBAAA,CAAWwD,gBAAX,CAA4B;YAAErD,GAAG,EAAEa;UAAP,CAA5B,EAA+C,UAACO,KAAD,EAAW;YACtD,IAAIA,KAAJ,EAAW;cACP,OAAOzB,QAAQ,CAACe,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B;gBAAEC,GAAG,EAAE;cAAP,CAA1B,CAAP;YACH;;YACD,OAAOjB,QAAQ,CAACe,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B;cAAEC,GAAG,EAAE;YAAP,CAA1B,CAAP;UACH,CALD;QAMH,CAVD;MAWH;IACJ;;;;+FAED,kBAA6BlB,OAA7B,EAAsCC,QAAtC;QAAA;QAAA;UAAA;YAAA;cAAA;gBACU2D,eADV,GAC4B5D,OAAO,CAACoB,KAAR,CAAcb,QAD1C;gBAEUsD,eAFV,GAE4B7D,OAAO,CAACoB,KAAR,CAAc0C,UAF1C;;gBAAA,MAGQD,eAAe,KAAKE,SAH5B;kBAAA;kBAAA;gBAAA;;gBAIQ,KAASC,CAAT,GAAa,CAAb,EAAgBA,CAAC,GAAGH,eAAe,CAACI,MAApC,EAA4CD,CAAC,EAA7C,EAAiD;kBACzCrD,SADyC,oBACnBkD,eAAe,CAACG,CAAD,CADI;;kBAE7C,IAAIxB,cAAA,CAAGiB,UAAH,CAAc9C,SAAd,CAAJ,EAA8B;oBAC1B6B,cAAA,CAAGkB,MAAH,CAAU/C,SAAV,EAAqB,UAACe,KAAD,EAAW;sBAC5B,IAAIA,KAAJ,EAAW;wBACP,OAAOzB,QAAQ,CAACe,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B;0BAAEC,GAAG,EAAE;wBAAP,CAA1B,CAAP;sBACH;oBACJ,CAJD;kBAKH;gBACJ;;gBAbT;gBAAA,OAecf,iBAAA,CAAW+D,UAAX,CAAsB;kBAAE3D,QAAQ,EAAEqD;gBAAZ,CAAtB,CAfd;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,C"}},"mtime":1666071604606},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"filename\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Routes\\\\Auth_routes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _express = require(\"express\");\n\nvar _Auth_controller = require(\"../Controller/Auth_controller.js\");\n\nvar router = (0, _express.Router)();\nvar Controller = new _Auth_controller.AuthController(); //router.post('/app/signup')\n\nrouter.post('/api/signup', function (request, response) {\n  Controller.signup(request, response);\n});\nrouter.post('/api/signin', function (request, response) {\n  Controller.signin(request, response);\n}); // reset password\n\nrouter.post('/api/password-reset', function (request, response) {\n  Controller.forgotPassword(request, response);\n}); // delet a user from mongo DB\n\nrouter.post('/api/delete', function (request, response) {\n  Controller[\"delete\"](request, response);\n}); //find all user and return \n\nrouter.get('/api/findall', function (request, response) {\n  Controller.findAllUser(request, response);\n}); // update user information\n\nrouter.put('/api/update/:email', function (request, response) {\n  Controller.update(request, response);\n}); // search for a user\n\nrouter.get('/api/user-search/', function (request, response) {\n  Controller.searchUser(request, response);\n}); // Update user info including  email, password, username, age and gender\n\nrouter.post('/api/update', function (request, response) {\n  Controller.update(request, response);\n});\nvar _default = router; //module.exports = router;\n\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJSb3V0ZXIiLCJDb250cm9sbGVyIiwiQXV0aENvbnRyb2xsZXIiLCJwb3N0IiwicmVxdWVzdCIsInJlc3BvbnNlIiwic2lnbnVwIiwic2lnbmluIiwiZm9yZ290UGFzc3dvcmQiLCJnZXQiLCJmaW5kQWxsVXNlciIsInB1dCIsInVwZGF0ZSIsInNlYXJjaFVzZXIiXSwic291cmNlUm9vdCI6IkQ6XFxTY2hvb2xcXElUIFByb2plY3RcXElULVBST0pFQ1RcXGJhY2tlbmQzXFxzcmNcXFJvdXRlc1xcIiwic291cmNlcyI6WyJBdXRoX3JvdXRlcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSb3V0ZXIgfSBmcm9tICdleHByZXNzJztcclxuaW1wb3J0IHsgQXV0aENvbnRyb2xsZXIgfSBmcm9tICcuLi9Db250cm9sbGVyL0F1dGhfY29udHJvbGxlci5qcyc7XHJcblxyXG5cclxuY29uc3Qgcm91dGVyID0gUm91dGVyKCk7XHJcbmNvbnN0IENvbnRyb2xsZXIgPSBuZXcgQXV0aENvbnRyb2xsZXIoKTtcclxuXHJcbi8vcm91dGVyLnBvc3QoJy9hcHAvc2lnbnVwJylcclxucm91dGVyLnBvc3QoJy9hcGkvc2lnbnVwJywgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XHJcbiAgICBDb250cm9sbGVyLnNpZ251cChyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcbnJvdXRlci5wb3N0KCcvYXBpL3NpZ25pbicsIChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xyXG4gICAgQ29udHJvbGxlci5zaWduaW4ocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG4vLyByZXNldCBwYXNzd29yZFxyXG5yb3V0ZXIucG9zdCgnL2FwaS9wYXNzd29yZC1yZXNldCcsIChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xyXG4gICAgQ29udHJvbGxlci5mb3Jnb3RQYXNzd29yZChyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcblxyXG4vLyBkZWxldCBhIHVzZXIgZnJvbSBtb25nbyBEQlxyXG5yb3V0ZXIucG9zdCgnL2FwaS9kZWxldGUnLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgIENvbnRyb2xsZXIuZGVsZXRlKHJlcXVlc3QsIHJlc3BvbnNlKVxyXG59KVxyXG5cclxuLy9maW5kIGFsbCB1c2VyIGFuZCByZXR1cm4gXHJcbnJvdXRlci5nZXQoJy9hcGkvZmluZGFsbCcsIChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xyXG4gICAgQ29udHJvbGxlci5maW5kQWxsVXNlcihyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcbi8vIHVwZGF0ZSB1c2VyIGluZm9ybWF0aW9uXHJcbnJvdXRlci5wdXQoJy9hcGkvdXBkYXRlLzplbWFpbCcsIChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xyXG4gICAgQ29udHJvbGxlci51cGRhdGUocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG5cclxuLy8gc2VhcmNoIGZvciBhIHVzZXJcclxucm91dGVyLmdldCgnL2FwaS91c2VyLXNlYXJjaC8nLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgIENvbnRyb2xsZXIuc2VhcmNoVXNlcihyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcbi8vIFVwZGF0ZSB1c2VyIGluZm8gaW5jbHVkaW5nICBlbWFpbCwgcGFzc3dvcmQsIHVzZXJuYW1lLCBhZ2UgYW5kIGdlbmRlclxyXG5yb3V0ZXIucG9zdCgnL2FwaS91cGRhdGUnLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgIENvbnRyb2xsZXIudXBkYXRlKHJlcXVlc3QsIHJlc3BvbnNlKVxyXG59KVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XHJcbi8vbW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBR0EsSUFBTUEsTUFBTSxHQUFHLElBQUFDLGVBQUEsR0FBZjtBQUNBLElBQU1DLFVBQVUsR0FBRyxJQUFJQywrQkFBSixFQUFuQixDLENBRUE7O0FBQ0FILE1BQU0sQ0FBQ0ksSUFBUCxDQUFZLGFBQVosRUFBMkIsVUFBQ0MsT0FBRCxFQUFVQyxRQUFWLEVBQXVCO0VBQzlDSixVQUFVLENBQUNLLE1BQVgsQ0FBa0JGLE9BQWxCLEVBQTJCQyxRQUEzQjtBQUNILENBRkQ7QUFJQU4sTUFBTSxDQUFDSSxJQUFQLENBQVksYUFBWixFQUEyQixVQUFDQyxPQUFELEVBQVVDLFFBQVYsRUFBdUI7RUFDOUNKLFVBQVUsQ0FBQ00sTUFBWCxDQUFrQkgsT0FBbEIsRUFBMkJDLFFBQTNCO0FBQ0gsQ0FGRCxFLENBSUE7O0FBQ0FOLE1BQU0sQ0FBQ0ksSUFBUCxDQUFZLHFCQUFaLEVBQW1DLFVBQUNDLE9BQUQsRUFBVUMsUUFBVixFQUF1QjtFQUN0REosVUFBVSxDQUFDTyxjQUFYLENBQTBCSixPQUExQixFQUFtQ0MsUUFBbkM7QUFDSCxDQUZELEUsQ0FLQTs7QUFDQU4sTUFBTSxDQUFDSSxJQUFQLENBQVksYUFBWixFQUEyQixVQUFDQyxPQUFELEVBQVVDLFFBQVYsRUFBdUI7RUFDOUNKLFVBQVUsVUFBVixDQUFrQkcsT0FBbEIsRUFBMkJDLFFBQTNCO0FBQ0gsQ0FGRCxFLENBSUE7O0FBQ0FOLE1BQU0sQ0FBQ1UsR0FBUCxDQUFXLGNBQVgsRUFBMkIsVUFBQ0wsT0FBRCxFQUFVQyxRQUFWLEVBQXVCO0VBQzlDSixVQUFVLENBQUNTLFdBQVgsQ0FBdUJOLE9BQXZCLEVBQWdDQyxRQUFoQztBQUNILENBRkQsRSxDQUlBOztBQUNBTixNQUFNLENBQUNZLEdBQVAsQ0FBVyxvQkFBWCxFQUFpQyxVQUFDUCxPQUFELEVBQVVDLFFBQVYsRUFBdUI7RUFDcERKLFVBQVUsQ0FBQ1csTUFBWCxDQUFrQlIsT0FBbEIsRUFBMkJDLFFBQTNCO0FBQ0gsQ0FGRCxFLENBS0E7O0FBQ0FOLE1BQU0sQ0FBQ1UsR0FBUCxDQUFXLG1CQUFYLEVBQWdDLFVBQUNMLE9BQUQsRUFBVUMsUUFBVixFQUF1QjtFQUNuREosVUFBVSxDQUFDWSxVQUFYLENBQXNCVCxPQUF0QixFQUErQkMsUUFBL0I7QUFDSCxDQUZELEUsQ0FJQTs7QUFDQU4sTUFBTSxDQUFDSSxJQUFQLENBQVksYUFBWixFQUEyQixVQUFDQyxPQUFELEVBQVVDLFFBQVYsRUFBdUI7RUFDOUNKLFVBQVUsQ0FBQ1csTUFBWCxDQUFrQlIsT0FBbEIsRUFBMkJDLFFBQTNCO0FBQ0gsQ0FGRDtlQVNlTixNLEVBQ2YifQ==","map":{"version":3,"names":["router","Router","Controller","AuthController","post","request","response","signup","signin","forgotPassword","get","findAllUser","put","update","searchUser"],"sourceRoot":"D:\\School\\IT Project\\IT-PROJECT\\backend3\\src\\Routes\\","sources":["Auth_routes.js"],"sourcesContent":["import { Router } from 'express';\r\nimport { AuthController } from '../Controller/Auth_controller.js';\r\n\r\n\r\nconst router = Router();\r\nconst Controller = new AuthController();\r\n\r\n//router.post('/app/signup')\r\nrouter.post('/api/signup', (request, response) => {\r\n    Controller.signup(request, response)\r\n})\r\n\r\nrouter.post('/api/signin', (request, response) => {\r\n    Controller.signin(request, response)\r\n})\r\n\r\n// reset password\r\nrouter.post('/api/password-reset', (request, response) => {\r\n    Controller.forgotPassword(request, response)\r\n})\r\n\r\n\r\n// delet a user from mongo DB\r\nrouter.post('/api/delete', (request, response) => {\r\n    Controller.delete(request, response)\r\n})\r\n\r\n//find all user and return \r\nrouter.get('/api/findall', (request, response) => {\r\n    Controller.findAllUser(request, response)\r\n})\r\n\r\n// update user information\r\nrouter.put('/api/update/:email', (request, response) => {\r\n    Controller.update(request, response)\r\n})\r\n\r\n\r\n// search for a user\r\nrouter.get('/api/user-search/', (request, response) => {\r\n    Controller.searchUser(request, response)\r\n})\r\n\r\n// Update user info including  email, password, username, age and gender\r\nrouter.post('/api/update', (request, response) => {\r\n    Controller.update(request, response)\r\n})\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default router;\r\n//module.exports = router;"],"mappings":";;;;;;;AAAA;;AACA;;AAGA,IAAMA,MAAM,GAAG,IAAAC,eAAA,GAAf;AACA,IAAMC,UAAU,GAAG,IAAIC,+BAAJ,EAAnB,C,CAEA;;AACAH,MAAM,CAACI,IAAP,CAAY,aAAZ,EAA2B,UAACC,OAAD,EAAUC,QAAV,EAAuB;EAC9CJ,UAAU,CAACK,MAAX,CAAkBF,OAAlB,EAA2BC,QAA3B;AACH,CAFD;AAIAN,MAAM,CAACI,IAAP,CAAY,aAAZ,EAA2B,UAACC,OAAD,EAAUC,QAAV,EAAuB;EAC9CJ,UAAU,CAACM,MAAX,CAAkBH,OAAlB,EAA2BC,QAA3B;AACH,CAFD,E,CAIA;;AACAN,MAAM,CAACI,IAAP,CAAY,qBAAZ,EAAmC,UAACC,OAAD,EAAUC,QAAV,EAAuB;EACtDJ,UAAU,CAACO,cAAX,CAA0BJ,OAA1B,EAAmCC,QAAnC;AACH,CAFD,E,CAKA;;AACAN,MAAM,CAACI,IAAP,CAAY,aAAZ,EAA2B,UAACC,OAAD,EAAUC,QAAV,EAAuB;EAC9CJ,UAAU,UAAV,CAAkBG,OAAlB,EAA2BC,QAA3B;AACH,CAFD,E,CAIA;;AACAN,MAAM,CAACU,GAAP,CAAW,cAAX,EAA2B,UAACL,OAAD,EAAUC,QAAV,EAAuB;EAC9CJ,UAAU,CAACS,WAAX,CAAuBN,OAAvB,EAAgCC,QAAhC;AACH,CAFD,E,CAIA;;AACAN,MAAM,CAACY,GAAP,CAAW,oBAAX,EAAiC,UAACP,OAAD,EAAUC,QAAV,EAAuB;EACpDJ,UAAU,CAACW,MAAX,CAAkBR,OAAlB,EAA2BC,QAA3B;AACH,CAFD,E,CAKA;;AACAN,MAAM,CAACU,GAAP,CAAW,mBAAX,EAAgC,UAACL,OAAD,EAAUC,QAAV,EAAuB;EACnDJ,UAAU,CAACY,UAAX,CAAsBT,OAAtB,EAA+BC,QAA/B;AACH,CAFD,E,CAIA;;AACAN,MAAM,CAACI,IAAP,CAAY,aAAZ,EAA2B,UAACC,OAAD,EAAUC,QAAV,EAAuB;EAC9CJ,UAAU,CAACW,MAAX,CAAkBR,OAAlB,EAA2BC,QAA3B;AACH,CAFD;eASeN,M,EACf"}},"mtime":1667981482959},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Controller\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"filename\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Controller\\\\Auth_controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AuthController = void 0;\n\nvar _formidable = require(\"formidable\");\n\nvar _bcrypt = require(\"bcrypt\");\n\nvar _dotenv = require(\"dotenv\");\n\nvar _jsonwebtoken = require(\"jsonwebtoken\");\n\nvar _User_model = require(\"../Models/User_model.js\");\n\nvar _Video_model = require(\"../Models/Video_model.js\");\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n(0, _dotenv.config)();\n\nvar AuthController = /*#__PURE__*/function () {\n  function AuthController() {\n    _classCallCheck(this, AuthController);\n  }\n\n  _createClass(AuthController, [{\n    key: \"signup\",\n    value: //signup method\n    function signup(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(error, fields, files) {\n          var username, email, password, age, gender, salt, hashedPassword, newAccount, savedAccount;\n          return _regeneratorRuntime().wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  if (!error) {\n                    _context.next = 2;\n                    break;\n                  }\n\n                  return _context.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to create account, maybe try again later'\n                  }));\n\n                case 2:\n                  username = fields.username, email = fields.email, password = fields.password, age = fields.age, gender = fields.gender;\n\n                  if (!(password.length > 20 || password.length < 6)) {\n                    _context.next = 5;\n                    break;\n                  }\n\n                  return _context.abrupt(\"return\", response.status(503).json({\n                    msg: 'Password length need to be 6-20 range'\n                  }));\n\n                case 5:\n                  if (!(age > 150 || age < 0)) {\n                    _context.next = 7;\n                    break;\n                  }\n\n                  return _context.abrupt(\"return\", response.status(502).json({\n                    msg: 'Invalid age'\n                  }));\n\n                case 7:\n                  _context.next = 9;\n                  return (0, _bcrypt.genSalt)(15);\n\n                case 9:\n                  salt = _context.sent;\n                  _context.next = 12;\n                  return (0, _bcrypt.hash)(password, salt);\n\n                case 12:\n                  hashedPassword = _context.sent;\n                  newAccount = new _User_model.userModel({\n                    username: username,\n                    email: email,\n                    password: hashedPassword,\n                    age: age,\n                    gender: gender\n                  }); // create an account successful or failed\n\n                  _context.prev = 14;\n                  _context.next = 17;\n                  return newAccount.save();\n\n                case 17:\n                  savedAccount = _context.sent;\n                  return _context.abrupt(\"return\", response.status(201).json({\n                    msg: 'Account created successfully'\n                  }));\n\n                case 21:\n                  _context.prev = 21;\n                  _context.t0 = _context[\"catch\"](14);\n                  console.log(_context.t0);\n                  return _context.abrupt(\"return\", response.status(501).json({\n                    msg: 'This account has been registered. Change email or username'\n                  }));\n\n                case 25:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, null, [[14, 21]]);\n        }));\n\n        return function (_x, _x2, _x3) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n    } // sign in\n\n  }, {\n    key: \"signin\",\n    value: function signin(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(error, fields, files) {\n          var account, password, isAccountEmail, _user, _isPasswordValid, _token_payload, _token, _username, user, isPasswordValid, token_payload, token, username;\n\n          return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  if (!error) {\n                    _context2.next = 2;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to signin'\n                  }));\n\n                case 2:\n                  account = fields.account, password = fields.password; // email log in \n\n                  isAccountEmail = account.includes('@');\n\n                  if (!isAccountEmail) {\n                    _context2.next = 19;\n                    break;\n                  }\n\n                  _context2.next = 7;\n                  return _User_model.userModel.findOne({\n                    email: account\n                  });\n\n                case 7:\n                  _user = _context2.sent;\n\n                  if (_user) {\n                    _context2.next = 10;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\", response.status(404).json({\n                    msg: 'Email of this account does not exist'\n                  }));\n\n                case 10:\n                  _context2.next = 12;\n                  return (0, _bcrypt.compare)(password, _user.password);\n\n                case 12:\n                  _isPasswordValid = _context2.sent;\n\n                  if (_isPasswordValid) {\n                    _context2.next = 15;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\", response.status(400).json({\n                    msg: 'Invalid password'\n                  }));\n\n                case 15:\n                  _token_payload = {\n                    _id: _user._id,\n                    email: _user.email,\n                    username: _user.username\n                  };\n                  _token = (0, _jsonwebtoken.sign)(_token_payload, process.env.cookie_secret, {\n                    expiresIn: '365d'\n                  });\n                  _username = _token_payload.username;\n                  return _context2.abrupt(\"return\", response.status(200).json({\n                    token: _token,\n                    username: _username\n                  }));\n\n                case 19:\n                  _context2.next = 21;\n                  return _User_model.userModel.findOne({\n                    username: account\n                  });\n\n                case 21:\n                  user = _context2.sent;\n\n                  if (user) {\n                    _context2.next = 24;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\", response.status(404).json({\n                    msg: 'username of this account does not exist'\n                  }));\n\n                case 24:\n                  _context2.next = 26;\n                  return (0, _bcrypt.compare)(password, user.password);\n\n                case 26:\n                  isPasswordValid = _context2.sent;\n\n                  if (isPasswordValid) {\n                    _context2.next = 29;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\", response.status(400).json({\n                    msg: 'Invalid password'\n                  }));\n\n                case 29:\n                  token_payload = {\n                    _id: user._id,\n                    email: user.email,\n                    username: user.username\n                  };\n                  token = (0, _jsonwebtoken.sign)(token_payload, process.env.cookie_secret, {\n                    expiresIn: '365d'\n                  });\n                  username = token_payload.username;\n                  return _context2.abrupt(\"return\", response.status(200).json({\n                    token: token,\n                    username: username\n                  }));\n\n                case 33:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2);\n        }));\n\n        return function (_x4, _x5, _x6) {\n          return _ref2.apply(this, arguments);\n        };\n      }());\n    } // forgot password and reset\n\n  }, {\n    key: \"forgotPassword\",\n    value: function forgotPassword(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(error, fields, files) {\n          var email, password, salt, hashedPassword, user, updatedAccount;\n          return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n            while (1) {\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  if (!error) {\n                    _context3.next = 2;\n                    break;\n                  }\n\n                  return _context3.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to rset password'\n                  }));\n\n                case 2:\n                  email = fields.email, password = fields.password;\n\n                  if (!(!email || !password)) {\n                    _context3.next = 5;\n                    break;\n                  }\n\n                  return _context3.abrupt(\"return\", response.status(400).json({\n                    msg: 'email and password are required to reset password '\n                  }));\n\n                case 5:\n                  _context3.next = 7;\n                  return (0, _bcrypt.genSalt)(15);\n\n                case 7:\n                  salt = _context3.sent;\n                  _context3.next = 10;\n                  return (0, _bcrypt.hash)(password, salt);\n\n                case 10:\n                  hashedPassword = _context3.sent;\n                  _context3.prev = 11;\n                  _context3.next = 14;\n                  return _User_model.userModel.findOne({\n                    email: email\n                  });\n\n                case 14:\n                  user = _context3.sent;\n\n                  if (user) {\n                    _context3.next = 17;\n                    break;\n                  }\n\n                  return _context3.abrupt(\"return\", response.status(404).json({\n                    msg: 'Account with this email does not exist'\n                  }));\n\n                case 17:\n                  _context3.next = 19;\n                  return _User_model.userModel.findOneAndUpdate({\n                    email: email\n                  }, {\n                    $set: {\n                      password: hashedPassword\n                    }\n                  }, {\n                    \"new\": true\n                  });\n\n                case 19:\n                  updatedAccount = _context3.sent;\n                  return _context3.abrupt(\"return\", response.status(200).json({\n                    msg: 'Password rest successful'\n                  }));\n\n                case 23:\n                  _context3.prev = 23;\n                  _context3.t0 = _context3[\"catch\"](11);\n                  return _context3.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to reset password'\n                  }));\n\n                case 26:\n                case \"end\":\n                  return _context3.stop();\n              }\n            }\n          }, _callee3, null, [[11, 23]]);\n        }));\n\n        return function (_x7, _x8, _x9) {\n          return _ref3.apply(this, arguments);\n        };\n      }());\n    } // updat user info such as username, password, age and gender via email.\n\n  }, {\n    key: \"update\",\n    value: function () {\n      var _update = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(request, response) {\n        var form;\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                form = new _formidable.IncomingForm();\n                form.parse(request, /*#__PURE__*/function () {\n                  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(error, fields, files) {\n                    var email, username, age, gender, old_username, newUsername, newAge, newGender, user, updatedAccount, updatedVideo_username;\n                    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n                      while (1) {\n                        switch (_context4.prev = _context4.next) {\n                          case 0:\n                            if (!error) {\n                              _context4.next = 2;\n                              break;\n                            }\n\n                            return _context4.abrupt(\"return\", response.status(500).json({\n                              msg: 'Failed to update. Try again later'\n                            }));\n\n                          case 2:\n                            email = fields.email, username = fields.username, age = fields.age, gender = fields.gender, old_username = fields.old_username;\n                            newUsername = username;\n                            newAge = age;\n                            newGender = gender;\n                            _context4.prev = 6;\n                            _context4.next = 9;\n                            return _User_model.userModel.findOne({\n                              email: email\n                            });\n\n                          case 9:\n                            user = _context4.sent;\n\n                            if (user) {\n                              _context4.next = 12;\n                              break;\n                            }\n\n                            return _context4.abrupt(\"return\", response.status(404).json({\n                              msg: 'Account with this email does not exist'\n                            }));\n\n                          case 12:\n                            _context4.next = 14;\n                            return _User_model.userModel.findOneAndUpdate({\n                              email: email\n                            }, {\n                              $set: {\n                                username: newUsername,\n                                age: newAge,\n                                gender: newGender\n                              }\n                            }, {\n                              \"new\": true\n                            });\n\n                          case 14:\n                            updatedAccount = _context4.sent;\n                            _context4.next = 17;\n                            return _Video_model.videoModel.updateMany({\n                              username: old_username\n                            }, {\n                              $set: {\n                                username: newUsername\n                              }\n                            }, {\n                              \"new\": true\n                            });\n\n                          case 17:\n                            updatedVideo_username = _context4.sent;\n                            return _context4.abrupt(\"return\", response.status(200).json({\n                              msg: 'Edit successful'\n                            }));\n\n                          case 21:\n                            _context4.prev = 21;\n                            _context4.t0 = _context4[\"catch\"](6);\n                            return _context4.abrupt(\"return\", response.status(500).json({\n                              msg: 'Failed to update. Change email or username and try again'\n                            }));\n\n                          case 24:\n                          case \"end\":\n                            return _context4.stop();\n                        }\n                      }\n                    }, _callee4, null, [[6, 21]]);\n                  }));\n\n                  return function (_x12, _x13, _x14) {\n                    return _ref4.apply(this, arguments);\n                  };\n                }());\n\n              case 2:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5);\n      }));\n\n      function update(_x10, _x11) {\n        return _update.apply(this, arguments);\n      }\n\n      return update;\n    }() //delete user account\n\n  }, {\n    key: \"delete\",\n    value: function _delete(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(error, fields, files) {\n          var email, user;\n          return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n            while (1) {\n              switch (_context6.prev = _context6.next) {\n                case 0:\n                  if (!error) {\n                    _context6.next = 2;\n                    break;\n                  }\n\n                  return _context6.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to delete account, maybe try again later'\n                  }));\n\n                case 2:\n                  email = fields.email;\n                  _context6.prev = 3;\n                  _context6.next = 6;\n                  return _User_model.userModel.findOneAndDelete({\n                    email: email\n                  });\n\n                case 6:\n                  user = _context6.sent;\n                  return _context6.abrupt(\"return\", response.status(200).json({\n                    msg: 'delete successful'\n                  }));\n\n                case 10:\n                  _context6.prev = 10;\n                  _context6.t0 = _context6[\"catch\"](3);\n                  return _context6.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to delete'\n                  }));\n\n                case 13:\n                case \"end\":\n                  return _context6.stop();\n              }\n            }\n          }, _callee6, null, [[3, 10]]);\n        }));\n\n        return function (_x15, _x16, _x17) {\n          return _ref5.apply(this, arguments);\n        };\n      }());\n    } // find all user\n\n  }, {\n    key: \"findAllUser\",\n    value: function findAllUser(request, response) {\n      var form = new _formidable.IncomingForm();\n      form.parse(request, /*#__PURE__*/function () {\n        var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(error, fields, files) {\n          var user;\n          return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n            while (1) {\n              switch (_context7.prev = _context7.next) {\n                case 0:\n                  if (!error) {\n                    _context7.next = 2;\n                    break;\n                  }\n\n                  return _context7.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed to delete account, maybe try again later'\n                  }));\n\n                case 2:\n                  _context7.prev = 2;\n                  _context7.next = 5;\n                  return _User_model.userModel.find();\n\n                case 5:\n                  user = _context7.sent;\n                  return _context7.abrupt(\"return\", response.send(user));\n\n                case 9:\n                  _context7.prev = 9;\n                  _context7.t0 = _context7[\"catch\"](2);\n                  return _context7.abrupt(\"return\", response.status(500).json({\n                    msg: 'Failed find all users'\n                  }));\n\n                case 12:\n                case \"end\":\n                  return _context7.stop();\n              }\n            }\n          }, _callee7, null, [[2, 9]]);\n        }));\n\n        return function (_x18, _x19, _x20) {\n          return _ref6.apply(this, arguments);\n        };\n      }());\n    } // search for a user by request \n\n  }, {\n    key: \"searchUser\",\n    value: function () {\n      var _searchUser = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8(request, response) {\n        var name, isadmin, _user2, user;\n\n        return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                name = request.query.username;\n                isadmin = request.query.isadmin;\n\n                if (!(isadmin === 'false')) {\n                  _context8.next = 15;\n                  break;\n                }\n\n                _context8.prev = 3;\n                _context8.next = 6;\n                return _User_model.userModel.find({\n                  username: name\n                });\n\n              case 6:\n                _user2 = _context8.sent;\n                return _context8.abrupt(\"return\", response.send(_user2));\n\n              case 10:\n                _context8.prev = 10;\n                _context8.t0 = _context8[\"catch\"](3);\n                return _context8.abrupt(\"return\", response.status(500).json({\n                  msg: 'No matching user'\n                }));\n\n              case 13:\n                _context8.next = 32;\n                break;\n\n              case 15:\n                _context8.prev = 15;\n                _context8.next = 18;\n                return _User_model.userModel.find({\n                  username: {\n                    $regex: name\n                  }\n                });\n\n              case 18:\n                user = _context8.sent;\n\n                if (!(user.length > 0)) {\n                  _context8.next = 23;\n                  break;\n                }\n\n                return _context8.abrupt(\"return\", response.send(user));\n\n              case 23:\n                _context8.next = 25;\n                return _User_model.userModel.find({\n                  email: {\n                    $regex: name\n                  }\n                });\n\n              case 25:\n                user = _context8.sent;\n                return _context8.abrupt(\"return\", response.send(user));\n\n              case 27:\n                _context8.next = 32;\n                break;\n\n              case 29:\n                _context8.prev = 29;\n                _context8.t1 = _context8[\"catch\"](15);\n                return _context8.abrupt(\"return\", response.status(500).json({\n                  msg: 'No matching user'\n                }));\n\n              case 32:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, null, [[3, 10], [15, 29]]);\n      }));\n\n      function searchUser(_x21, _x22) {\n        return _searchUser.apply(this, arguments);\n      }\n\n      return searchUser;\n    }()\n  }]);\n\n  return AuthController;\n}();\n\nexports.AuthController = AuthController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25maWciLCJBdXRoQ29udHJvbGxlciIsInJlcXVlc3QiLCJyZXNwb25zZSIsImZvcm0iLCJJbmNvbWluZ0Zvcm0iLCJwYXJzZSIsImVycm9yIiwiZmllbGRzIiwiZmlsZXMiLCJzdGF0dXMiLCJqc29uIiwibXNnIiwidXNlcm5hbWUiLCJlbWFpbCIsInBhc3N3b3JkIiwiYWdlIiwiZ2VuZGVyIiwibGVuZ3RoIiwiZ2VuU2FsdCIsInNhbHQiLCJoYXNoIiwiaGFzaGVkUGFzc3dvcmQiLCJuZXdBY2NvdW50IiwidXNlck1vZGVsIiwic2F2ZSIsInNhdmVkQWNjb3VudCIsImNvbnNvbGUiLCJsb2ciLCJhY2NvdW50IiwiaXNBY2NvdW50RW1haWwiLCJpbmNsdWRlcyIsImZpbmRPbmUiLCJ1c2VyIiwiY29tcGFyZSIsImlzUGFzc3dvcmRWYWxpZCIsInRva2VuX3BheWxvYWQiLCJfaWQiLCJ0b2tlbiIsInNpZ24iLCJwcm9jZXNzIiwiZW52IiwiY29va2llX3NlY3JldCIsImV4cGlyZXNJbiIsImZpbmRPbmVBbmRVcGRhdGUiLCIkc2V0IiwidXBkYXRlZEFjY291bnQiLCJvbGRfdXNlcm5hbWUiLCJuZXdVc2VybmFtZSIsIm5ld0FnZSIsIm5ld0dlbmRlciIsInZpZGVvTW9kZWwiLCJ1cGRhdGVNYW55IiwidXBkYXRlZFZpZGVvX3VzZXJuYW1lIiwiZmluZE9uZUFuZERlbGV0ZSIsImZpbmQiLCJzZW5kIiwibmFtZSIsInF1ZXJ5IiwiaXNhZG1pbiIsIiRyZWdleCJdLCJzb3VyY2VSb290IjoiRDpcXFNjaG9vbFxcSVQgUHJvamVjdFxcSVQtUFJPSkVDVFxcYmFja2VuZDNcXHNyY1xcQ29udHJvbGxlclxcIiwic291cmNlcyI6WyJBdXRoX2NvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5jb21pbmdGb3JtIH0gZnJvbSAnZm9ybWlkYWJsZSc7XHJcbmltcG9ydCB7IGdlblNhbHQsIGhhc2gsIGNvbXBhcmUgfSBmcm9tICdiY3J5cHQnO1xyXG5pbXBvcnQgeyBjb25maWcgfSBmcm9tICdkb3RlbnYnO1xyXG5pbXBvcnQgeyB2ZXJpZnksIHNpZ24gfSBmcm9tICdqc29ud2VidG9rZW4nO1xyXG5pbXBvcnQgeyB1c2VyTW9kZWwgfSBmcm9tICcuLi9Nb2RlbHMvVXNlcl9tb2RlbC5qcydcclxuaW1wb3J0IHsgdmlkZW9Nb2RlbCB9IGZyb20gJy4uL01vZGVscy9WaWRlb19tb2RlbC5qcydcclxuY29uZmlnKClcclxuXHJcbmV4cG9ydCBjbGFzcyBBdXRoQ29udHJvbGxlciB7XHJcbiAgICAvL3NpZ251cCBtZXRob2RcclxuICAgIHNpZ251cChyZXF1ZXN0LCByZXNwb25zZSkge1xyXG4gICAgICAgIGNvbnN0IGZvcm0gPSBuZXcgSW5jb21pbmdGb3JtKCk7XHJcblxyXG4gICAgICAgIGZvcm0ucGFyc2UocmVxdWVzdCwgYXN5bmMgKGVycm9yLCBmaWVsZHMsIGZpbGVzKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oeyBtc2c6ICdGYWlsZWQgdG8gY3JlYXRlIGFjY291bnQsIG1heWJlIHRyeSBhZ2FpbiBsYXRlcicgfSlcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc3QgeyB1c2VybmFtZSwgZW1haWwsIHBhc3N3b3JkLCBhZ2UsIGdlbmRlciB9ID0gZmllbGRzO1xyXG4gICAgICAgICAgICBpZiAocGFzc3dvcmQubGVuZ3RoID4gMjAgfHwgcGFzc3dvcmQubGVuZ3RoIDwgNikgeyAgLy8gcGFzc3dvcmQgbWluaW11bSBsZW5ndGggPSA2LCBtYXhpbXVtIGxlbmd0aCA9IDIwXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMykuanNvbih7IG1zZzogJ1Bhc3N3b3JkIGxlbmd0aCBuZWVkIHRvIGJlIDYtMjAgcmFuZ2UnIH0pXHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChhZ2UgPiAxNTAgfHwgYWdlIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDIpLmpzb24oeyBtc2c6ICdJbnZhbGlkIGFnZScgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBzYWx0ID0gYXdhaXQgZ2VuU2FsdCgxNSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGhhc2hlZFBhc3N3b3JkID0gYXdhaXQgaGFzaChwYXNzd29yZCwgc2FsdCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld0FjY291bnQgPSBuZXcgdXNlck1vZGVsKHtcclxuICAgICAgICAgICAgICAgIHVzZXJuYW1lLFxyXG4gICAgICAgICAgICAgICAgZW1haWwsXHJcbiAgICAgICAgICAgICAgICBwYXNzd29yZDogaGFzaGVkUGFzc3dvcmQsXHJcbiAgICAgICAgICAgICAgICBhZ2UsXHJcbiAgICAgICAgICAgICAgICBnZW5kZXJcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLy8gY3JlYXRlIGFuIGFjY291bnQgc3VjY2Vzc2Z1bCBvciBmYWlsZWRcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNhdmVkQWNjb3VudCA9IGF3YWl0IG5ld0FjY291bnQuc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cygyMDEpLmpzb24oeyBtc2c6ICdBY2NvdW50IGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5JyB9KVxyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMSkuanNvbih7IG1zZzogJ1RoaXMgYWNjb3VudCBoYXMgYmVlbiByZWdpc3RlcmVkLiBDaGFuZ2UgZW1haWwgb3IgdXNlcm5hbWUnIH0pXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICAvLyBzaWduIGluXHJcbiAgICBzaWduaW4ocmVxdWVzdCwgcmVzcG9uc2UpIHtcclxuICAgICAgICBjb25zdCBmb3JtID0gbmV3IEluY29taW5nRm9ybSgpO1xyXG5cclxuICAgICAgICBmb3JtLnBhcnNlKHJlcXVlc3QsIGFzeW5jIChlcnJvciwgZmllbGRzLCBmaWxlcykgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAnRmFpbGVkIHRvIHNpZ25pbicgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB7IGFjY291bnQsIHBhc3N3b3JkIH0gPSBmaWVsZHM7XHJcbiAgICAgICAgICAgIC8vIGVtYWlsIGxvZyBpbiBcclxuICAgICAgICAgICAgY29uc3QgaXNBY2NvdW50RW1haWwgPSBhY2NvdW50LmluY2x1ZGVzKCdAJyk7XHJcbiAgICAgICAgICAgIGlmIChpc0FjY291bnRFbWFpbCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IHVzZXJNb2RlbC5maW5kT25lKHsgZW1haWw6IGFjY291bnQgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCF1c2VyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg0MDQpLmpzb24oeyBtc2c6ICdFbWFpbCBvZiB0aGlzIGFjY291bnQgZG9lcyBub3QgZXhpc3QnIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpc1Bhc3N3b3JkVmFsaWQgPSBhd2FpdCBjb21wYXJlKHBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKTsgIC8vIGhhc2hlZCBwYXNzd29yZFxyXG4gICAgICAgICAgICAgICAgaWYgKCFpc1Bhc3N3b3JkVmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwMCkuanNvbih7IG1zZzogJ0ludmFsaWQgcGFzc3dvcmQnIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0b2tlbl9wYXlsb2FkID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIF9pZDogdXNlci5faWQsXHJcbiAgICAgICAgICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXHJcbiAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWVcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IHRva2VuID0gc2lnbih0b2tlbl9wYXlsb2FkLCBwcm9jZXNzLmVudi5jb29raWVfc2VjcmV0LCB7IGV4cGlyZXNJbjogJzM2NWQnIH0pXHJcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VybmFtZSA9IHRva2VuX3BheWxvYWQudXNlcm5hbWU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7IHRva2VuLCB1c2VybmFtZSB9KVxyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgdXNlck1vZGVsLmZpbmRPbmUoeyB1c2VybmFtZTogYWNjb3VudCB9KTtcclxuXHJcbiAgICAgICAgICAgIGlmICghdXNlcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg0MDQpLmpzb24oeyBtc2c6ICd1c2VybmFtZSBvZiB0aGlzIGFjY291bnQgZG9lcyBub3QgZXhpc3QnIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgaXNQYXNzd29yZFZhbGlkID0gYXdhaXQgY29tcGFyZShwYXNzd29yZCwgdXNlci5wYXNzd29yZCk7ICAvLyBoYXNoZWQgcGFzc3dvcmRcclxuICAgICAgICAgICAgaWYgKCFpc1Bhc3N3b3JkVmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNDAwKS5qc29uKHsgbXNnOiAnSW52YWxpZCBwYXNzd29yZCcgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB0b2tlbl9wYXlsb2FkID0ge1xyXG4gICAgICAgICAgICAgICAgX2lkOiB1c2VyLl9pZCxcclxuICAgICAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxyXG4gICAgICAgICAgICAgICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB0b2tlbiA9IHNpZ24odG9rZW5fcGF5bG9hZCwgcHJvY2Vzcy5lbnYuY29va2llX3NlY3JldCwgeyBleHBpcmVzSW46ICczNjVkJyB9KVxyXG4gICAgICAgICAgICBjb25zdCB1c2VybmFtZSA9IHRva2VuX3BheWxvYWQudXNlcm5hbWU7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHsgdG9rZW4sIHVzZXJuYW1lIH0pXHJcblxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLy8gZm9yZ290IHBhc3N3b3JkIGFuZCByZXNldFxyXG4gICAgZm9yZ290UGFzc3dvcmQocmVxdWVzdCwgcmVzcG9uc2UpIHtcclxuICAgICAgICBjb25zdCBmb3JtID0gbmV3IEluY29taW5nRm9ybSgpO1xyXG5cclxuICAgICAgICBmb3JtLnBhcnNlKHJlcXVlc3QsIGFzeW5jIChlcnJvciwgZmllbGRzLCBmaWxlcykgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAnRmFpbGVkIHRvIHJzZXQgcGFzc3dvcmQnIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQgfSA9IGZpZWxkcztcclxuXHJcbiAgICAgICAgICAgIGlmICghZW1haWwgfHwgIXBhc3N3b3JkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwMCkuanNvbih7IG1zZzogJ2VtYWlsIGFuZCBwYXNzd29yZCBhcmUgcmVxdWlyZWQgdG8gcmVzZXQgcGFzc3dvcmQgJyB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHNhbHQgPSBhd2FpdCBnZW5TYWx0KDE1KTtcclxuICAgICAgICAgICAgY29uc3QgaGFzaGVkUGFzc3dvcmQgPSBhd2FpdCBoYXNoKHBhc3N3b3JkLCBzYWx0KVxyXG5cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB1c2VyTW9kZWwuZmluZE9uZSh7IGVtYWlsOiBlbWFpbCB9KTtcclxuICAgICAgICAgICAgICAgIGlmICghdXNlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNDA0KS5qc29uKHsgbXNnOiAnQWNjb3VudCB3aXRoIHRoaXMgZW1haWwgZG9lcyBub3QgZXhpc3QnIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvKiBjb25zdCB1cGRhdGVkQWNjb3VudCA9IGF3YWl0IHVzZXJNb2RlbC5maW5kT25lQW5kVXBkYXRlKHtlbWFpbDplbWFpbH0sIHskc2V0OntwYXNzd29yZDogaGFzaGVkUGFzc3dvcmR9fSwge25ldzp0cnVlfSlcclxuICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7bXNnOidQYXNzd29yZCByZXN0IHN1Y2Nlc3NmdWwnfSkgKi9cclxuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRBY2NvdW50ID0gYXdhaXQgdXNlck1vZGVsLmZpbmRPbmVBbmRVcGRhdGUoeyBlbWFpbDogZW1haWwgfSwgeyAkc2V0OiB7IHBhc3N3b3JkOiBoYXNoZWRQYXNzd29yZCB9IH0sIHsgbmV3OiB0cnVlIH0pXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7IG1zZzogJ1Bhc3N3b3JkIHJlc3Qgc3VjY2Vzc2Z1bCcgfSlcclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAnRmFpbGVkIHRvIHJlc2V0IHBhc3N3b3JkJyB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICAvLyB1cGRhdCB1c2VyIGluZm8gc3VjaCBhcyB1c2VybmFtZSwgcGFzc3dvcmQsIGFnZSBhbmQgZ2VuZGVyIHZpYSBlbWFpbC5cclxuICAgIGFzeW5jIHVwZGF0ZShyZXF1ZXN0LCByZXNwb25zZSkge1xyXG4gICAgICAgIGNvbnN0IGZvcm0gPSBuZXcgSW5jb21pbmdGb3JtKCk7XHJcbiAgICAgICAgZm9ybS5wYXJzZShyZXF1ZXN0LCBhc3luYyAoZXJyb3IsIGZpZWxkcywgZmlsZXMpID0+IHtcclxuICAgICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7IG1zZzogJ0ZhaWxlZCB0byB1cGRhdGUuIFRyeSBhZ2FpbiBsYXRlcicgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB7IGVtYWlsLCB1c2VybmFtZSwgYWdlLCBnZW5kZXIsIG9sZF91c2VybmFtZSB9ID0gZmllbGRzO1xyXG4gICAgICAgICAgICBjb25zdCBuZXdVc2VybmFtZSA9IHVzZXJuYW1lXHJcbiAgICAgICAgICAgIGNvbnN0IG5ld0FnZSA9IGFnZVxyXG4gICAgICAgICAgICBjb25zdCBuZXdHZW5kZXIgPSBnZW5kZXJcclxuXHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgdXNlck1vZGVsLmZpbmRPbmUoeyBlbWFpbDogZW1haWwgfSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXVzZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwNCkuanNvbih7IG1zZzogJ0FjY291bnQgd2l0aCB0aGlzIGVtYWlsIGRvZXMgbm90IGV4aXN0JyB9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbGV0IHVwZGF0ZWRBY2NvdW50ID0gYXdhaXQgdXNlck1vZGVsLmZpbmRPbmVBbmRVcGRhdGUoeyBlbWFpbDogZW1haWwgfSwgeyAkc2V0OiB7IHVzZXJuYW1lOiBuZXdVc2VybmFtZSwgYWdlOiBuZXdBZ2UsIGdlbmRlcjogbmV3R2VuZGVyIH0gfSwgeyBuZXc6IHRydWUgfSlcclxuICAgICAgICAgICAgICAgIGxldCB1cGRhdGVkVmlkZW9fdXNlcm5hbWUgPSBhd2FpdCB2aWRlb01vZGVsLnVwZGF0ZU1hbnkoeyB1c2VybmFtZTogb2xkX3VzZXJuYW1lIH0sIHsgJHNldDogeyB1c2VybmFtZTogbmV3VXNlcm5hbWUgfSB9LCB7IG5ldzogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cygyMDApLmpzb24oeyBtc2c6ICdFZGl0IHN1Y2Nlc3NmdWwnIH0pXHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7IG1zZzogJ0ZhaWxlZCB0byB1cGRhdGUuIENoYW5nZSBlbWFpbCBvciB1c2VybmFtZSBhbmQgdHJ5IGFnYWluJyB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICAvL2RlbGV0ZSB1c2VyIGFjY291bnRcclxuICAgIGRlbGV0ZShyZXF1ZXN0LCByZXNwb25zZSkge1xyXG4gICAgICAgIGNvbnN0IGZvcm0gPSBuZXcgSW5jb21pbmdGb3JtKCk7XHJcbiAgICAgICAgZm9ybS5wYXJzZShyZXF1ZXN0LCBhc3luYyAoZXJyb3IsIGZpZWxkcywgZmlsZXMpID0+IHtcclxuICAgICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7IG1zZzogJ0ZhaWxlZCB0byBkZWxldGUgYWNjb3VudCwgbWF5YmUgdHJ5IGFnYWluIGxhdGVyJyB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHsgZW1haWwgfSA9IGZpZWxkcztcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB1c2VyTW9kZWwuZmluZE9uZUFuZERlbGV0ZSh7IGVtYWlsOiBlbWFpbCB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHsgbXNnOiAnZGVsZXRlIHN1Y2Nlc3NmdWwnIH0pXHJcblxyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oeyBtc2c6ICdGYWlsZWQgdG8gZGVsZXRlJyB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICAvLyBmaW5kIGFsbCB1c2VyXHJcbiAgICBmaW5kQWxsVXNlcihyZXF1ZXN0LCByZXNwb25zZSkge1xyXG4gICAgICAgIGNvbnN0IGZvcm0gPSBuZXcgSW5jb21pbmdGb3JtKCk7XHJcblxyXG4gICAgICAgIGZvcm0ucGFyc2UocmVxdWVzdCwgYXN5bmMgKGVycm9yLCBmaWVsZHMsIGZpbGVzKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oeyBtc2c6ICdGYWlsZWQgdG8gZGVsZXRlIGFjY291bnQsIG1heWJlIHRyeSBhZ2FpbiBsYXRlcicgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IHVzZXJNb2RlbC5maW5kKClcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zZW5kKHVzZXIpXHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7IG1zZzogJ0ZhaWxlZCBmaW5kIGFsbCB1c2VycycgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vIHNlYXJjaCBmb3IgYSB1c2VyIGJ5IHJlcXVlc3QgXHJcbiAgICBhc3luYyBzZWFyY2hVc2VyKHJlcXVlc3QsIHJlc3BvbnNlKSB7XHJcbiAgICAgICAgY29uc3QgbmFtZSA9IHJlcXVlc3QucXVlcnkudXNlcm5hbWU7XHJcbiAgICAgICAgY29uc3QgaXNhZG1pbiA9IHJlcXVlc3QucXVlcnkuaXNhZG1pblxyXG4gICAgICAgIGlmIChpc2FkbWluID09PSAnZmFsc2UnKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdXNlciA9IGF3YWl0IHVzZXJNb2RlbC5maW5kKHsgdXNlcm5hbWU6IG5hbWUgfSlcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zZW5kKHVzZXIpXHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7IG1zZzogJ05vIG1hdGNoaW5nIHVzZXInIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHVzZXIgPSBhd2FpdCB1c2VyTW9kZWwuZmluZCh7IHVzZXJuYW1lOiB7ICRyZWdleDogbmFtZSB9IH0pXHJcbiAgICAgICAgICAgICAgICBpZiAodXNlci5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnNlbmQodXNlcilcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVzZXIgPSBhd2FpdCB1c2VyTW9kZWwuZmluZCh7IGVtYWlsOiB7ICRyZWdleDogbmFtZSB9IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnNlbmQodXNlcilcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAnTm8gbWF0Y2hpbmcgdXNlcicgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7K0NBSkEsb0o7Ozs7Ozs7Ozs7OztBQUtBLElBQUFBLGNBQUE7O0lBRWFDLGM7Ozs7Ozs7V0FDVDtJQUNBLGdCQUFPQyxPQUFQLEVBQWdCQyxRQUFoQixFQUEwQjtNQUN0QixJQUFNQyxJQUFJLEdBQUcsSUFBSUMsd0JBQUosRUFBYjtNQUVBRCxJQUFJLENBQUNFLEtBQUwsQ0FBV0osT0FBWDtRQUFBLHNFQUFvQixpQkFBT0ssS0FBUCxFQUFjQyxNQUFkLEVBQXNCQyxLQUF0QjtVQUFBO1VBQUE7WUFBQTtjQUFBO2dCQUFBO2tCQUFBLEtBQ1pGLEtBRFk7b0JBQUE7b0JBQUE7a0JBQUE7O2tCQUFBLGlDQUVMSixRQUFRLENBQUNPLE1B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","map":{"version":3,"names":["config","AuthController","request","response","form","IncomingForm","parse","error","fields","files","status","json","msg","username","email","password","age","gender","length","genSalt","salt","hash","hashedPassword","newAccount","userModel","save","savedAccount","console","log","account","isAccountEmail","includes","findOne","user","compare","isPasswordValid","token_payload","_id","token","sign","process","env","cookie_secret","expiresIn","findOneAndUpdate","$set","updatedAccount","old_username","newUsername","newAge","newGender","videoModel","updateMany","updatedVideo_username","findOneAndDelete","find","send","name","query","isadmin","$regex"],"sourceRoot":"D:\\School\\IT Project\\IT-PROJECT\\backend3\\src\\Controller\\","sources":["Auth_controller.js"],"sourcesContent":["import { IncomingForm } from 'formidable';\r\nimport { genSalt, hash, compare } from 'bcrypt';\r\nimport { config } from 'dotenv';\r\nimport { verify, sign } from 'jsonwebtoken';\r\nimport { userModel } from '../Models/User_model.js'\r\nimport { videoModel } from '../Models/Video_model.js'\r\nconfig()\r\n\r\nexport class AuthController {\r\n    //signup method\r\n    signup(request, response) {\r\n        const form = new IncomingForm();\r\n\r\n        form.parse(request, async (error, fields, files) => {\r\n            if (error) {\r\n                return response.status(500).json({ msg: 'Failed to create account, maybe try again later' })\r\n            }\r\n\r\n            const { username, email, password, age, gender } = fields;\r\n            if (password.length > 20 || password.length < 6) {  // password minimum length = 6, maximum length = 20\r\n                return response.status(503).json({ msg: 'Password length need to be 6-20 range' })\r\n\r\n            }\r\n            if (age > 150 || age < 0) {\r\n                return response.status(502).json({ msg: 'Invalid age' })\r\n            }\r\n            const salt = await genSalt(15);\r\n            const hashedPassword = await hash(password, salt);\r\n            const newAccount = new userModel({\r\n                username,\r\n                email,\r\n                password: hashedPassword,\r\n                age,\r\n                gender\r\n            })\r\n            // create an account successful or failed\r\n            try {\r\n                const savedAccount = await newAccount.save();\r\n                return response.status(201).json({ msg: 'Account created successfully' })\r\n            } catch (error) {\r\n                console.log(error)\r\n                return response.status(501).json({ msg: 'This account has been registered. Change email or username' })\r\n            }\r\n\r\n        })\r\n    }\r\n\r\n    // sign in\r\n    signin(request, response) {\r\n        const form = new IncomingForm();\r\n\r\n        form.parse(request, async (error, fields, files) => {\r\n            if (error) {\r\n                return response.status(500).json({ msg: 'Failed to signin' })\r\n            }\r\n            const { account, password } = fields;\r\n            // email log in \r\n            const isAccountEmail = account.includes('@');\r\n            if (isAccountEmail) {\r\n                const user = await userModel.findOne({ email: account });\r\n\r\n                if (!user) {\r\n                    return response.status(404).json({ msg: 'Email of this account does not exist' })\r\n                }\r\n                const isPasswordValid = await compare(password, user.password);  // hashed password\r\n                if (!isPasswordValid) {\r\n                    return response.status(400).json({ msg: 'Invalid password' })\r\n                }\r\n                const token_payload = {\r\n                    _id: user._id,\r\n                    email: user.email,\r\n                    username: user.username\r\n                }\r\n                const token = sign(token_payload, process.env.cookie_secret, { expiresIn: '365d' })\r\n                const username = token_payload.username;\r\n                return response.status(200).json({ token, username })\r\n\r\n            }\r\n            const user = await userModel.findOne({ username: account });\r\n\r\n            if (!user) {\r\n                return response.status(404).json({ msg: 'username of this account does not exist' })\r\n            }\r\n            const isPasswordValid = await compare(password, user.password);  // hashed password\r\n            if (!isPasswordValid) {\r\n                return response.status(400).json({ msg: 'Invalid password' })\r\n            }\r\n            const token_payload = {\r\n                _id: user._id,\r\n                email: user.email,\r\n                username: user.username\r\n            }\r\n            const token = sign(token_payload, process.env.cookie_secret, { expiresIn: '365d' })\r\n            const username = token_payload.username;\r\n            return response.status(200).json({ token, username })\r\n\r\n        })\r\n    }\r\n\r\n    // forgot password and reset\r\n    forgotPassword(request, response) {\r\n        const form = new IncomingForm();\r\n\r\n        form.parse(request, async (error, fields, files) => {\r\n            if (error) {\r\n                return response.status(500).json({ msg: 'Failed to rset password' })\r\n            }\r\n            const { email, password } = fields;\r\n\r\n            if (!email || !password) {\r\n                return response.status(400).json({ msg: 'email and password are required to reset password ' })\r\n            }\r\n            const salt = await genSalt(15);\r\n            const hashedPassword = await hash(password, salt)\r\n\r\n            try {\r\n                const user = await userModel.findOne({ email: email });\r\n                if (!user) {\r\n                    return response.status(404).json({ msg: 'Account with this email does not exist' })\r\n                }\r\n                /* const updatedAccount = await userModel.findOneAndUpdate({email:email}, {$set:{password: hashedPassword}}, {new:true})\r\n                 return response.status(200).json({msg:'Password rest successful'}) */\r\n                const updatedAccount = await userModel.findOneAndUpdate({ email: email }, { $set: { password: hashedPassword } }, { new: true })\r\n                return response.status(200).json({ msg: 'Password rest successful' })\r\n            } catch (error) {\r\n                return response.status(500).json({ msg: 'Failed to reset password' })\r\n            }\r\n        })\r\n    }\r\n\r\n    // updat user info such as username, password, age and gender via email.\r\n    async update(request, response) {\r\n        const form = new IncomingForm();\r\n        form.parse(request, async (error, fields, files) => {\r\n            if (error) {\r\n                return response.status(500).json({ msg: 'Failed to update. Try again later' })\r\n            }\r\n            const { email, username, age, gender, old_username } = fields;\r\n            const newUsername = username\r\n            const newAge = age\r\n            const newGender = gender\r\n\r\n            try {\r\n                const user = await userModel.findOne({ email: email });\r\n                if (!user) {\r\n                    return response.status(404).json({ msg: 'Account with this email does not exist' })\r\n                }\r\n                let updatedAccount = await userModel.findOneAndUpdate({ email: email }, { $set: { username: newUsername, age: newAge, gender: newGender } }, { new: true })\r\n                let updatedVideo_username = await videoModel.updateMany({ username: old_username }, { $set: { username: newUsername } }, { new: true })\r\n                return response.status(200).json({ msg: 'Edit successful' })\r\n            } catch (error) {\r\n                return response.status(500).json({ msg: 'Failed to update. Change email or username and try again' })\r\n            }\r\n        })\r\n    }\r\n\r\n    //delete user account\r\n    delete(request, response) {\r\n        const form = new IncomingForm();\r\n        form.parse(request, async (error, fields, files) => {\r\n            if (error) {\r\n                return response.status(500).json({ msg: 'Failed to delete account, maybe try again later' })\r\n            }\r\n            const { email } = fields;\r\n            try {\r\n                const user = await userModel.findOneAndDelete({ email: email });\r\n                return response.status(200).json({ msg: 'delete successful' })\r\n\r\n            } catch (error) {\r\n                return response.status(500).json({ msg: 'Failed to delete' })\r\n            }\r\n        })\r\n    }\r\n\r\n    // find all user\r\n    findAllUser(request, response) {\r\n        const form = new IncomingForm();\r\n\r\n        form.parse(request, async (error, fields, files) => {\r\n            if (error) {\r\n                return response.status(500).json({ msg: 'Failed to delete account, maybe try again later' })\r\n            }\r\n            try {\r\n                const user = await userModel.find()\r\n                return response.send(user)\r\n            } catch (error) {\r\n                return response.status(500).json({ msg: 'Failed find all users' })\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    // search for a user by request \r\n    async searchUser(request, response) {\r\n        const name = request.query.username;\r\n        const isadmin = request.query.isadmin\r\n        if (isadmin === 'false') {\r\n            try {\r\n                let user = await userModel.find({ username: name })\r\n                return response.send(user)\r\n            } catch (error) {\r\n                return response.status(500).json({ msg: 'No matching user' })\r\n            }\r\n        } else {\r\n            try {\r\n                var user = await userModel.find({ username: { $regex: name } })\r\n                if (user.length > 0) {\r\n                    return response.send(user)\r\n                } else {\r\n                    var user = await userModel.find({ email: { $regex: name } })\r\n                    return response.send(user)\r\n                }\r\n            } catch (error) {\r\n                return response.status(500).json({ msg: 'No matching user' })\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n}"],"mappings":"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"}},"mtime":1667981504880},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"filename\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Models\\\\User_model.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.userModel = void 0;\n\nvar _mongoose = require(\"mongoose\");\n\nvar uservalidator = function uservalidator(s) {\n  return /^[a-zA-Z0-9]{1,20}$/.test(s);\n};\n\nvar emailvalidator = function emailvalidator(s) {\n  return /^[a-z0-9@.-_]{6,40}$/.test(s);\n};\n\nvar agevalidator = function agevalidator(s) {\n  return /^[0-9]{1,3}$/.test(s);\n};\n\nvar userSchema = new _mongoose.Schema({\n  username: {\n    // username should be unique and no longer than 20 characters\n    type: String,\n    reuqired: [true, 'Username is required'],\n    unique: [true, 'Usename exist'],\n    validate: [uservalidator, 'Please enter less than 20 numbers and alphabets only']\n  },\n  email: {\n    // email should be be unique\n    type: String,\n    required: [true, 'Email is required to create an account'],\n    unique: [true, 'Account with this email already exist'],\n    validate: [emailvalidator, 'Please enter numbers, alphabets, and @ . - _ only']\n  },\n  password: {\n    type: String,\n    requried: [true, 'Password is required to create account']\n  },\n  age: {\n    // age should be within 0 - 120 range\n    type: Number,\n    requried: [true, 'Age is required to create an account'],\n    validate: [agevalidator, 'Please enter a number between 0-120']\n  },\n  gender: {\n    type: String,\n    \"enum\": [\"Male\", \"Female\", \"Prefer not to say\"],\n    required: true\n  },\n  videos: [{\n    type: _mongoose.Schema.Types.ObjectId,\n    ref: 'videos'\n  }]\n});\nvar userModel = (0, _mongoose.model)('user', userSchema);\nexports.userModel = userModel;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VydmFsaWRhdG9yIiwicyIsInRlc3QiLCJlbWFpbHZhbGlkYXRvciIsImFnZXZhbGlkYXRvciIsInVzZXJTY2hlbWEiLCJTY2hlbWEiLCJ1c2VybmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXVxaXJlZCIsInVuaXF1ZSIsInZhbGlkYXRlIiwiZW1haWwiLCJyZXF1aXJlZCIsInBhc3N3b3JkIiwicmVxdXJpZWQiLCJhZ2UiLCJOdW1iZXIiLCJnZW5kZXIiLCJ2aWRlb3MiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwidXNlck1vZGVsIiwibW9kZWwiXSwic291cmNlUm9vdCI6IkQ6XFxTY2hvb2xcXElUIFByb2plY3RcXElULVBST0pFQ1RcXGJhY2tlbmQzXFxzcmNcXE1vZGVsc1xcIiwic291cmNlcyI6WyJVc2VyX21vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydHsgU2NoZW1hLCBtb2RlbH0gZnJvbSAnbW9uZ29vc2UnO1xyXG5jb25zdCB1c2VydmFsaWRhdG9yID0gKHMpID0+XHJcbiAgICAvXlthLXpBLVowLTldezEsMjB9JC8udGVzdChzKVxyXG5cclxuY29uc3QgZW1haWx2YWxpZGF0b3IgPSAocykgPT5cclxuICAgIC9eW2EtejAtOUAuLV9dezYsNDB9JC8udGVzdChzKVxyXG5cclxuY29uc3QgYWdldmFsaWRhdG9yID0gKHMpID0+XHJcbiAgICAvXlswLTldezEsM30kLy50ZXN0KHMpXHJcblxyXG5jb25zdCB1c2VyU2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgICB1c2VybmFtZTp7IC8vIHVzZXJuYW1lIHNob3VsZCBiZSB1bmlxdWUgYW5kIG5vIGxvbmdlciB0aGFuIDIwIGNoYXJhY3RlcnNcclxuICAgICAgICB0eXBlOlN0cmluZyxcclxuICAgICAgICByZXVxaXJlZDogW3RydWUsICdVc2VybmFtZSBpcyByZXF1aXJlZCddLFxyXG4gICAgICAgIHVuaXF1ZTpbdHJ1ZSwgJ1VzZW5hbWUgZXhpc3QnXSxcclxuICAgICAgICB2YWxpZGF0ZTogW3VzZXJ2YWxpZGF0b3IsICdQbGVhc2UgZW50ZXIgbGVzcyB0aGFuIDIwIG51bWJlcnMgYW5kIGFscGhhYmV0cyBvbmx5J11cclxuICAgIH0sXHJcbiAgICBlbWFpbDp7IC8vIGVtYWlsIHNob3VsZCBiZSBiZSB1bmlxdWVcclxuICAgICAgICB0eXBlOlN0cmluZyxcclxuICAgICAgICByZXF1aXJlZDogW3RydWUsICdFbWFpbCBpcyByZXF1aXJlZCB0byBjcmVhdGUgYW4gYWNjb3VudCddLFxyXG4gICAgICAgIHVuaXF1ZTpbdHJ1ZSwgJ0FjY291bnQgd2l0aCB0aGlzIGVtYWlsIGFscmVhZHkgZXhpc3QnXSxcclxuICAgICAgICB2YWxpZGF0ZTogW2VtYWlsdmFsaWRhdG9yLCAnUGxlYXNlIGVudGVyIG51bWJlcnMsIGFscGhhYmV0cywgYW5kIEAgLiAtIF8gb25seSddXHJcbiAgICB9LFxyXG4gICAgcGFzc3dvcmQ6e1xyXG4gICAgICAgIHR5cGU6U3RyaW5nLFxyXG4gICAgICAgIHJlcXVyaWVkOlt0cnVlLCAnUGFzc3dvcmQgaXMgcmVxdWlyZWQgdG8gY3JlYXRlIGFjY291bnQnXSxcclxuXHJcbiAgICB9LFxyXG4gICAgYWdlOnsgLy8gYWdlIHNob3VsZCBiZSB3aXRoaW4gMCAtIDEyMCByYW5nZVxyXG4gICAgICAgIHR5cGU6TnVtYmVyLFxyXG4gICAgICAgIHJlcXVyaWVkOlt0cnVlLCAnQWdlIGlzIHJlcXVpcmVkIHRvIGNyZWF0ZSBhbiBhY2NvdW50J10sXHJcbiAgICAgICAgdmFsaWRhdGU6IFthZ2V2YWxpZGF0b3IsICdQbGVhc2UgZW50ZXIgYSBudW1iZXIgYmV0d2VlbiAwLTEyMCddXHJcblxyXG4gICAgfSxcclxuICAgIGdlbmRlcjp7XHJcbiAgICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICAgIGVudW06IFtcIk1hbGVcIiwgXCJGZW1hbGVcIiwgXCJQcmVmZXIgbm90IHRvIHNheVwiXSxcclxuICAgICAgICByZXF1aXJlZDogdHJ1ZVxyXG4gICAgfSxcclxuICAgIHZpZGVvczpbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0eXBlOlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcclxuICAgICAgICAgICAgcmVmOid2aWRlb3MnXHJcbiAgICAgICAgfVxyXG4gICAgXSxcclxuXHJcblxyXG5cclxuICAgICBcclxufSlcclxuZXhwb3J0IGNvbnN0IHVzZXJNb2RlbCA9IG1vZGVsKCd1c2VyJywgdXNlclNjaGVtYSlcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0EsSUFBTUEsYUFBYSxHQUFHLFNBQWhCQSxhQUFnQixDQUFDQyxDQUFEO0VBQUEsT0FDbEIsc0JBQXNCQyxJQUF0QixDQUEyQkQsQ0FBM0IsQ0FEa0I7QUFBQSxDQUF0Qjs7QUFHQSxJQUFNRSxjQUFjLEdBQUcsU0FBakJBLGNBQWlCLENBQUNGLENBQUQ7RUFBQSxPQUNuQix1QkFBdUJDLElBQXZCLENBQTRCRCxDQUE1QixDQURtQjtBQUFBLENBQXZCOztBQUdBLElBQU1HLFlBQVksR0FBRyxTQUFmQSxZQUFlLENBQUNILENBQUQ7RUFBQSxPQUNqQixlQUFlQyxJQUFmLENBQW9CRCxDQUFwQixDQURpQjtBQUFBLENBQXJCOztBQUdBLElBQU1JLFVBQVUsR0FBRyxJQUFJQyxnQkFBSixDQUFXO0VBQzFCQyxRQUFRLEVBQUM7SUFBRTtJQUNQQyxJQUFJLEVBQUNDLE1BREE7SUFFTEMsUUFBUSxFQUFFLENBQUMsSUFBRCxFQUFPLHNCQUFQLENBRkw7SUFHTEMsTUFBTSxFQUFDLENBQUMsSUFBRCxFQUFPLGVBQVAsQ0FIRjtJQUlMQyxRQUFRLEVBQUUsQ0FBQ1osYUFBRCxFQUFnQixzREFBaEI7RUFKTCxDQURpQjtFQU8xQmEsS0FBSyxFQUFDO0lBQUU7SUFDSkwsSUFBSSxFQUFDQyxNQURIO0lBRUZLLFFBQVEsRUFBRSxDQUFDLElBQUQsRUFBTyx3Q0FBUCxDQUZSO0lBR0ZILE1BQU0sRUFBQyxDQUFDLElBQUQsRUFBTyx1Q0FBUCxDQUhMO0lBSUZDLFFBQVEsRUFBRSxDQUFDVCxjQUFELEVBQWlCLG1EQUFqQjtFQUpSLENBUG9CO0VBYTFCWSxRQUFRLEVBQUM7SUFDTFAsSUFBSSxFQUFDQyxNQURBO0lBRUxPLFFBQVEsRUFBQyxDQUFDLElBQUQsRUFBTyx3Q0FBUDtFQUZKLENBYmlCO0VBa0IxQkMsR0FBRyxFQUFDO0lBQUU7SUFDRlQsSUFBSSxFQUFDVSxNQURMO0lBRUFGLFFBQVEsRUFBQyxDQUFDLElBQUQsRUFBTyxzQ0FBUCxDQUZUO0lBR0FKLFFBQVEsRUFBRSxDQUFDUixZQUFELEVBQWUscUNBQWY7RUFIVixDQWxCc0I7RUF3QjFCZSxNQUFNLEVBQUM7SUFDSFgsSUFBSSxFQUFFQyxNQURIO0lBRUgsUUFBTSxDQUFDLE1BQUQsRUFBUyxRQUFULEVBQW1CLG1CQUFuQixDQUZIO0lBR0hLLFFBQVEsRUFBRTtFQUhQLENBeEJtQjtFQTZCMUJNLE1BQU0sRUFBQyxDQUNIO0lBQ0laLElBQUksRUFBQ0YsZ0JBQUEsQ0FBT2UsS0FBUCxDQUFhQyxRQUR0QjtJQUVJQyxHQUFHLEVBQUM7RUFGUixDQURHO0FBN0JtQixDQUFYLENBQW5CO0FBd0NPLElBQU1DLFNBQVMsR0FBRyxJQUFBQyxlQUFBLEVBQU0sTUFBTixFQUFjcEIsVUFBZCxDQUFsQiJ9","map":{"version":3,"names":["uservalidator","s","test","emailvalidator","agevalidator","userSchema","Schema","username","type","String","reuqired","unique","validate","email","required","password","requried","age","Number","gender","videos","Types","ObjectId","ref","userModel","model"],"sourceRoot":"D:\\School\\IT Project\\IT-PROJECT\\backend3\\src\\Models\\","sources":["User_model.js"],"sourcesContent":["import{ Schema, model} from 'mongoose';\r\nconst uservalidator = (s) =>\r\n    /^[a-zA-Z0-9]{1,20}$/.test(s)\r\n\r\nconst emailvalidator = (s) =>\r\n    /^[a-z0-9@.-_]{6,40}$/.test(s)\r\n\r\nconst agevalidator = (s) =>\r\n    /^[0-9]{1,3}$/.test(s)\r\n\r\nconst userSchema = new Schema({\r\n    username:{ // username should be unique and no longer than 20 characters\r\n        type:String,\r\n        reuqired: [true, 'Username is required'],\r\n        unique:[true, 'Usename exist'],\r\n        validate: [uservalidator, 'Please enter less than 20 numbers and alphabets only']\r\n    },\r\n    email:{ // email should be be unique\r\n        type:String,\r\n        required: [true, 'Email is required to create an account'],\r\n        unique:[true, 'Account with this email already exist'],\r\n        validate: [emailvalidator, 'Please enter numbers, alphabets, and @ . - _ only']\r\n    },\r\n    password:{\r\n        type:String,\r\n        requried:[true, 'Password is required to create account'],\r\n\r\n    },\r\n    age:{ // age should be within 0 - 120 range\r\n        type:Number,\r\n        requried:[true, 'Age is required to create an account'],\r\n        validate: [agevalidator, 'Please enter a number between 0-120']\r\n\r\n    },\r\n    gender:{\r\n        type: String,\r\n        enum: [\"Male\", \"Female\", \"Prefer not to say\"],\r\n        required: true\r\n    },\r\n    videos:[\r\n        {\r\n            type:Schema.Types.ObjectId,\r\n            ref:'videos'\r\n        }\r\n    ],\r\n\r\n\r\n\r\n     \r\n})\r\nexport const userModel = model('user', userSchema)\r\n"],"mappings":";;;;;;;AAAA;;AACA,IAAMA,aAAa,GAAG,SAAhBA,aAAgB,CAACC,CAAD;EAAA,OAClB,sBAAsBC,IAAtB,CAA2BD,CAA3B,CADkB;AAAA,CAAtB;;AAGA,IAAME,cAAc,GAAG,SAAjBA,cAAiB,CAACF,CAAD;EAAA,OACnB,uBAAuBC,IAAvB,CAA4BD,CAA5B,CADmB;AAAA,CAAvB;;AAGA,IAAMG,YAAY,GAAG,SAAfA,YAAe,CAACH,CAAD;EAAA,OACjB,eAAeC,IAAf,CAAoBD,CAApB,CADiB;AAAA,CAArB;;AAGA,IAAMI,UAAU,GAAG,IAAIC,gBAAJ,CAAW;EAC1BC,QAAQ,EAAC;IAAE;IACPC,IAAI,EAACC,MADA;IAELC,QAAQ,EAAE,CAAC,IAAD,EAAO,sBAAP,CAFL;IAGLC,MAAM,EAAC,CAAC,IAAD,EAAO,eAAP,CAHF;IAILC,QAAQ,EAAE,CAACZ,aAAD,EAAgB,sDAAhB;EAJL,CADiB;EAO1Ba,KAAK,EAAC;IAAE;IACJL,IAAI,EAACC,MADH;IAEFK,QAAQ,EAAE,CAAC,IAAD,EAAO,wCAAP,CAFR;IAGFH,MAAM,EAAC,CAAC,IAAD,EAAO,uCAAP,CAHL;IAIFC,QAAQ,EAAE,CAACT,cAAD,EAAiB,mDAAjB;EAJR,CAPoB;EAa1BY,QAAQ,EAAC;IACLP,IAAI,EAACC,MADA;IAELO,QAAQ,EAAC,CAAC,IAAD,EAAO,wCAAP;EAFJ,CAbiB;EAkB1BC,GAAG,EAAC;IAAE;IACFT,IAAI,EAACU,MADL;IAEAF,QAAQ,EAAC,CAAC,IAAD,EAAO,sCAAP,CAFT;IAGAJ,QAAQ,EAAE,CAACR,YAAD,EAAe,qCAAf;EAHV,CAlBsB;EAwB1Be,MAAM,EAAC;IACHX,IAAI,EAAEC,MADH;IAEH,QAAM,CAAC,MAAD,EAAS,QAAT,EAAmB,mBAAnB,CAFH;IAGHK,QAAQ,EAAE;EAHP,CAxBmB;EA6B1BM,MAAM,EAAC,CACH;IACIZ,IAAI,EAACF,gBAAA,CAAOe,KAAP,CAAaC,QADtB;IAEIC,GAAG,EAAC;EAFR,CADG;AA7BmB,CAAX,CAAnB;AAwCO,IAAMC,SAAS,GAAG,IAAAC,eAAA,EAAM,MAAN,EAAcpB,UAAd,CAAlB"}},"mtime":1667981488195},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"filename\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Models\\\\Video_model.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.videoModel = void 0;\n\nvar _mongoose = require(\"mongoose\");\n\nvar videoSchema = new _mongoose.Schema({\n  owner: {\n    type: _mongoose.Schema.Types.ObjectId,\n    ref: 'user'\n  },\n  username: {\n    type: String\n  },\n  name: {\n    type: String,\n    required: [true, 'Upload video needs a video name']\n  },\n  videopath: {\n    type: String,\n    required: [true, 'Upload video needs a video path'],\n    unique: [true, 'Video path already exist']\n  },\n  category: {\n    type: String,\n    \"enum\": [\"Sports\", \"News\", \"Technology\", \"Music\", \"Games\", \"Fashion\", \"Pet\", \"Travel\", \"Others\"],\n    required: true\n  },\n  likes: {\n    type: Number,\n    \"default\": 0\n  },\n  dislikes: {\n    type: Number,\n    \"default\": 0\n  },\n  views: {\n    type: Array,\n    \"default\": []\n  },\n  comments: {\n    type: Array,\n    \"default\": []\n  },\n  description: {\n    type: String,\n    required: [true, 'Upload video needs a Description']\n  }\n});\nvar videoModel = (0, _mongoose.model)('video', videoSchema);\nexports.videoModel = videoModel;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ2aWRlb1NjaGVtYSIsIlNjaGVtYSIsIm93bmVyIiwidHlwZSIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJ1c2VybmFtZSIsIlN0cmluZyIsIm5hbWUiLCJyZXF1aXJlZCIsInZpZGVvcGF0aCIsInVuaXF1ZSIsImNhdGVnb3J5IiwibGlrZXMiLCJOdW1iZXIiLCJkaXNsaWtlcyIsInZpZXdzIiwiQXJyYXkiLCJjb21tZW50cyIsImRlc2NyaXB0aW9uIiwidmlkZW9Nb2RlbCIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiJEOlxcU2Nob29sXFxJVCBQcm9qZWN0XFxJVC1QUk9KRUNUXFxiYWNrZW5kM1xcc3JjXFxNb2RlbHNcXCIsInNvdXJjZXMiOlsiVmlkZW9fbW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU2NoZW1hLCBtb2RlbCB9IGZyb20gJ21vbmdvb3NlJ1xyXG5cclxuY29uc3QgdmlkZW9TY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICAgIG93bmVyOiB7XHJcbiAgICAgICAgdHlwZTogU2NoZW1hLlR5cGVzLk9iamVjdElkLFxyXG4gICAgICAgIHJlZjogJ3VzZXInXHJcbiAgICB9LFxyXG4gICAgdXNlcm5hbWU6IHtcclxuICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICB9LFxyXG4gICAgbmFtZToge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICByZXF1aXJlZDogW3RydWUsICdVcGxvYWQgdmlkZW8gbmVlZHMgYSB2aWRlbyBuYW1lJ11cclxuICAgIH0sXHJcbiAgICB2aWRlb3BhdGg6IHtcclxuICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgcmVxdWlyZWQ6IFt0cnVlLCAnVXBsb2FkIHZpZGVvIG5lZWRzIGEgdmlkZW8gcGF0aCddLFxyXG4gICAgICAgIHVuaXF1ZTogW3RydWUsICdWaWRlbyBwYXRoIGFscmVhZHkgZXhpc3QnXVxyXG4gICAgfSxcclxuICAgIGNhdGVnb3J5OiB7XHJcbiAgICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICAgIGVudW06IFtcIlNwb3J0c1wiLCBcIk5ld3NcIiwgXCJUZWNobm9sb2d5XCIsIFwiTXVzaWNcIiwgXCJHYW1lc1wiLCBcIkZhc2hpb25cIiwgXCJQZXRcIiwgXCJUcmF2ZWxcIiwgXCJPdGhlcnNcIl0sXHJcbiAgICAgICAgcmVxdWlyZWQ6IHRydWVcclxuICAgIH0sXHJcbiAgICBsaWtlczoge1xyXG4gICAgICAgIHR5cGU6IE51bWJlcixcclxuICAgICAgICBkZWZhdWx0OiAwXHJcbiAgICB9LFxyXG4gICAgZGlzbGlrZXM6IHtcclxuICAgICAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICAgICAgZGVmYXVsdDogMFxyXG4gICAgfSxcclxuICAgIHZpZXdzOiB7XHJcbiAgICAgICAgdHlwZTogQXJyYXksXHJcbiAgICAgICAgZGVmYXVsdDogW11cclxuICAgIH0sXHJcbiAgICBjb21tZW50czoge1xyXG4gICAgICAgIHR5cGU6IEFycmF5LFxyXG4gICAgICAgIGRlZmF1bHQ6IFtdXHJcbiAgICB9LFxyXG4gICAgZGVzY3JpcHRpb246IHtcclxuICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgcmVxdWlyZWQ6IFt0cnVlLCAnVXBsb2FkIHZpZGVvIG5lZWRzIGEgRGVzY3JpcHRpb24nXVxyXG4gICAgfSxcclxuXHJcbn0pXHJcbmV4cG9ydCBjb25zdCB2aWRlb01vZGVsID0gbW9kZWwoJ3ZpZGVvJywgdmlkZW9TY2hlbWEpIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBRUEsSUFBTUEsV0FBVyxHQUFHLElBQUlDLGdCQUFKLENBQVc7RUFDM0JDLEtBQUssRUFBRTtJQUNIQyxJQUFJLEVBQUVGLGdCQUFBLENBQU9HLEtBQVAsQ0FBYUMsUUFEaEI7SUFFSEMsR0FBRyxFQUFFO0VBRkYsQ0FEb0I7RUFLM0JDLFFBQVEsRUFBRTtJQUNOSixJQUFJLEVBQUVLO0VBREEsQ0FMaUI7RUFRM0JDLElBQUksRUFBRTtJQUNGTixJQUFJLEVBQUVLLE1BREo7SUFFRkUsUUFBUSxFQUFFLENBQUMsSUFBRCxFQUFPLGlDQUFQO0VBRlIsQ0FScUI7RUFZM0JDLFNBQVMsRUFBRTtJQUNQUixJQUFJLEVBQUVLLE1BREM7SUFFUEUsUUFBUSxFQUFFLENBQUMsSUFBRCxFQUFPLGlDQUFQLENBRkg7SUFHUEUsTUFBTSxFQUFFLENBQUMsSUFBRCxFQUFPLDBCQUFQO0VBSEQsQ0FaZ0I7RUFpQjNCQyxRQUFRLEVBQUU7SUFDTlYsSUFBSSxFQUFFSyxNQURBO0lBRU4sUUFBTSxDQUFDLFFBQUQsRUFBVyxNQUFYLEVBQW1CLFlBQW5CLEVBQWlDLE9BQWpDLEVBQTBDLE9BQTFDLEVBQW1ELFNBQW5ELEVBQThELEtBQTlELEVBQXFFLFFBQXJFLEVBQStFLFFBQS9FLENBRkE7SUFHTkUsUUFBUSxFQUFFO0VBSEosQ0FqQmlCO0VBc0IzQkksS0FBSyxFQUFFO0lBQ0hYLElBQUksRUFBRVksTUFESDtJQUVILFdBQVM7RUFGTixDQXRCb0I7RUEwQjNCQyxRQUFRLEVBQUU7SUFDTmIsSUFBSSxFQUFFWSxNQURBO0lBRU4sV0FBUztFQUZILENBMUJpQjtFQThCM0JFLEtBQUssRUFBRTtJQUNIZCxJQUFJLEVBQUVlLEtBREg7SUFFSCxXQUFTO0VBRk4sQ0E5Qm9CO0VBa0MzQkMsUUFBUSxFQUFFO0lBQ05oQixJQUFJLEVBQUVlLEtBREE7SUFFTixXQUFTO0VBRkgsQ0FsQ2lCO0VBc0MzQkUsV0FBVyxFQUFFO0lBQ1RqQixJQUFJLEVBQUVLLE1BREc7SUFFVEUsUUFBUSxFQUFFLENBQUMsSUFBRCxFQUFPLGtDQUFQO0VBRkQ7QUF0Q2MsQ0FBWCxDQUFwQjtBQTRDTyxJQUFNVyxVQUFVLEdBQUcsSUFBQUMsZUFBQSxFQUFNLE9BQU4sRUFBZXRCLFdBQWYsQ0FBbkIifQ==","map":{"version":3,"names":["videoSchema","Schema","owner","type","Types","ObjectId","ref","username","String","name","required","videopath","unique","category","likes","Number","dislikes","views","Array","comments","description","videoModel","model"],"sourceRoot":"D:\\School\\IT Project\\IT-PROJECT\\backend3\\src\\Models\\","sources":["Video_model.js"],"sourcesContent":["import { Schema, model } from 'mongoose'\r\n\r\nconst videoSchema = new Schema({\r\n    owner: {\r\n        type: Schema.Types.ObjectId,\r\n        ref: 'user'\r\n    },\r\n    username: {\r\n        type: String,\r\n    },\r\n    name: {\r\n        type: String,\r\n        required: [true, 'Upload video needs a video name']\r\n    },\r\n    videopath: {\r\n        type: String,\r\n        required: [true, 'Upload video needs a video path'],\r\n        unique: [true, 'Video path already exist']\r\n    },\r\n    category: {\r\n        type: String,\r\n        enum: [\"Sports\", \"News\", \"Technology\", \"Music\", \"Games\", \"Fashion\", \"Pet\", \"Travel\", \"Others\"],\r\n        required: true\r\n    },\r\n    likes: {\r\n        type: Number,\r\n        default: 0\r\n    },\r\n    dislikes: {\r\n        type: Number,\r\n        default: 0\r\n    },\r\n    views: {\r\n        type: Array,\r\n        default: []\r\n    },\r\n    comments: {\r\n        type: Array,\r\n        default: []\r\n    },\r\n    description: {\r\n        type: String,\r\n        required: [true, 'Upload video needs a Description']\r\n    },\r\n\r\n})\r\nexport const videoModel = model('video', videoSchema)"],"mappings":";;;;;;;AAAA;;AAEA,IAAMA,WAAW,GAAG,IAAIC,gBAAJ,CAAW;EAC3BC,KAAK,EAAE;IACHC,IAAI,EAAEF,gBAAA,CAAOG,KAAP,CAAaC,QADhB;IAEHC,GAAG,EAAE;EAFF,CADoB;EAK3BC,QAAQ,EAAE;IACNJ,IAAI,EAAEK;EADA,CALiB;EAQ3BC,IAAI,EAAE;IACFN,IAAI,EAAEK,MADJ;IAEFE,QAAQ,EAAE,CAAC,IAAD,EAAO,iCAAP;EAFR,CARqB;EAY3BC,SAAS,EAAE;IACPR,IAAI,EAAEK,MADC;IAEPE,QAAQ,EAAE,CAAC,IAAD,EAAO,iCAAP,CAFH;IAGPE,MAAM,EAAE,CAAC,IAAD,EAAO,0BAAP;EAHD,CAZgB;EAiB3BC,QAAQ,EAAE;IACNV,IAAI,EAAEK,MADA;IAEN,QAAM,CAAC,QAAD,EAAW,MAAX,EAAmB,YAAnB,EAAiC,OAAjC,EAA0C,OAA1C,EAAmD,SAAnD,EAA8D,KAA9D,EAAqE,QAArE,EAA+E,QAA/E,CAFA;IAGNE,QAAQ,EAAE;EAHJ,CAjBiB;EAsB3BI,KAAK,EAAE;IACHX,IAAI,EAAEY,MADH;IAEH,WAAS;EAFN,CAtBoB;EA0B3BC,QAAQ,EAAE;IACNb,IAAI,EAAEY,MADA;IAEN,WAAS;EAFH,CA1BiB;EA8B3BE,KAAK,EAAE;IACHd,IAAI,EAAEe,KADH;IAEH,WAAS;EAFN,CA9BoB;EAkC3BC,QAAQ,EAAE;IACNhB,IAAI,EAAEe,KADA;IAEN,WAAS;EAFH,CAlCiB;EAsC3BE,WAAW,EAAE;IACTjB,IAAI,EAAEK,MADG;IAETE,QAAQ,EAAE,CAAC,IAAD,EAAO,kCAAP;EAFD;AAtCc,CAAX,CAApB;AA4CO,IAAMW,UAAU,GAAG,IAAAC,eAAA,EAAM,OAAN,EAAetB,WAAf,CAAnB"}},"mtime":1667981485625},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"filename\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Routes\\\\Video_routes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _express = require(\"express\");\n\nvar _Authenticate_middleware = require(\"../Middlewares/Authenticate_middleware.js\");\n\nvar _Video_middleware = require(\"../Middlewares/Video_middleware.js\");\n\nvar _bodyParser = require(\"body-parser\");\n\nvar _Video_controller = require(\"../Controller/Video_controller.js\");\n\nvar router = (0, _express.Router)();\nvar Controller = new _Video_controller.VideoController(); //after upload work, next step is save to mongo db\n\nrouter.post('/api/video', (0, _bodyParser.json)(), _Authenticate_middleware.Authenticate, _Video_middleware.videoUpload.single('video'), function (request, response) {\n  Controller.upload(request, response);\n}); // video stream\n\nrouter.get('/api/video/:filename', function (request, response) {\n  Controller.stream(request, response);\n}); // like a video\n\nrouter.get('/api/video-like/', function (request, response) {\n  Controller.like(request, response);\n}); // dislike a video\n\nrouter.get('/api/video-dislike/', function (request, response) {\n  Controller.dislike(request, response);\n}); // search for a video\n\nrouter.get('/api/video-search/', function (request, response) {\n  Controller.searchVideo(request, response);\n}); // delete a video\n\nrouter[\"delete\"]('/api/video/', function (request, response) {\n  Controller[\"delete\"](request, response);\n}); // search for video under certain user\n\nrouter.get('/api/user-video-search/', function (request, response) {\n  Controller.searchUVideo(request, response);\n}); // search for video under certain category\n\nrouter.get('/api/cat-search/', function (request, response) {\n  Controller.searchCat(request, response);\n}); //find all videos and return \n\nrouter.get('/api/findallV', function (request, response) {\n  Controller.findAllVideo(request, response);\n});\nrouter[\"delete\"]('/api/user-video-delete/', function (request, response) {\n  Controller.delete_user_all_videos(request, response);\n});\nvar _default = router;\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJSb3V0ZXIiLCJDb250cm9sbGVyIiwiVmlkZW9Db250cm9sbGVyIiwicG9zdCIsImpzb24iLCJBdXRoZW50aWNhdGUiLCJ2aWRlb1VwbG9hZCIsInNpbmdsZSIsInJlcXVlc3QiLCJyZXNwb25zZSIsInVwbG9hZCIsImdldCIsInN0cmVhbSIsImxpa2UiLCJkaXNsaWtlIiwic2VhcmNoVmlkZW8iLCJzZWFyY2hVVmlkZW8iLCJzZWFyY2hDYXQiLCJmaW5kQWxsVmlkZW8iLCJkZWxldGVfdXNlcl9hbGxfdmlkZW9zIl0sInNvdXJjZVJvb3QiOiJEOlxcU2Nob29sXFxJVCBQcm9qZWN0XFxJVC1QUk9KRUNUXFxiYWNrZW5kM1xcc3JjXFxSb3V0ZXNcXCIsInNvdXJjZXMiOlsiVmlkZW9fcm91dGVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHJlc3BvbnNlLCBSb3V0ZXIgfSBmcm9tICdleHByZXNzJztcclxuaW1wb3J0IHsgQXV0aGVudGljYXRlIH0gZnJvbSAnLi4vTWlkZGxld2FyZXMvQXV0aGVudGljYXRlX21pZGRsZXdhcmUuanMnO1xyXG5pbXBvcnQgeyB2aWRlb1VwbG9hZCB9IGZyb20gJy4uL01pZGRsZXdhcmVzL1ZpZGVvX21pZGRsZXdhcmUuanMnO1xyXG5pbXBvcnQgeyBqc29uIH0gZnJvbSAnYm9keS1wYXJzZXInXHJcbmltcG9ydCB7IFZpZGVvQ29udHJvbGxlciB9IGZyb20gJy4uL0NvbnRyb2xsZXIvVmlkZW9fY29udHJvbGxlci5qcydcclxuXHJcbmNvbnN0IHJvdXRlciA9IFJvdXRlcigpO1xyXG5jb25zdCBDb250cm9sbGVyID0gbmV3IFZpZGVvQ29udHJvbGxlcigpO1xyXG4vL2FmdGVyIHVwbG9hZCB3b3JrLCBuZXh0IHN0ZXAgaXMgc2F2ZSB0byBtb25nbyBkYlxyXG5yb3V0ZXIucG9zdCgnL2FwaS92aWRlbycsIGpzb24oKSwgQXV0aGVudGljYXRlLCB2aWRlb1VwbG9hZC5zaW5nbGUoJ3ZpZGVvJyksIChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xyXG4gICAgQ29udHJvbGxlci51cGxvYWQocmVxdWVzdCwgcmVzcG9uc2UpXHJcbn0pXHJcblxyXG4vLyB2aWRlbyBzdHJlYW1cclxucm91dGVyLmdldCgnL2FwaS92aWRlby86ZmlsZW5hbWUnLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgIENvbnRyb2xsZXIuc3RyZWFtKHJlcXVlc3QsIHJlc3BvbnNlKVxyXG59KVxyXG5cclxuLy8gbGlrZSBhIHZpZGVvXHJcbnJvdXRlci5nZXQoJy9hcGkvdmlkZW8tbGlrZS8nLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgIENvbnRyb2xsZXIubGlrZShyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcblxyXG4vLyBkaXNsaWtlIGEgdmlkZW9cclxucm91dGVyLmdldCgnL2FwaS92aWRlby1kaXNsaWtlLycsIChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xyXG4gICAgQ29udHJvbGxlci5kaXNsaWtlKHJlcXVlc3QsIHJlc3BvbnNlKVxyXG59KVxyXG5cclxuLy8gc2VhcmNoIGZvciBhIHZpZGVvXHJcbnJvdXRlci5nZXQoJy9hcGkvdmlkZW8tc2VhcmNoLycsIChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xyXG4gICAgQ29udHJvbGxlci5zZWFyY2hWaWRlbyhyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcbi8vIGRlbGV0ZSBhIHZpZGVvXHJcbnJvdXRlci5kZWxldGUoJy9hcGkvdmlkZW8vJywgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XHJcbiAgICBDb250cm9sbGVyLmRlbGV0ZShyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcbi8vIHNlYXJjaCBmb3IgdmlkZW8gdW5kZXIgY2VydGFpbiB1c2VyXHJcbnJvdXRlci5nZXQoJy9hcGkvdXNlci12aWRlby1zZWFyY2gvJywgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XHJcbiAgICBDb250cm9sbGVyLnNlYXJjaFVWaWRlbyhyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcbi8vIHNlYXJjaCBmb3IgdmlkZW8gdW5kZXIgY2VydGFpbiBjYXRlZ29yeVxyXG5yb3V0ZXIuZ2V0KCcvYXBpL2NhdC1zZWFyY2gvJywgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XHJcbiAgICBDb250cm9sbGVyLnNlYXJjaENhdChyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcbi8vZmluZCBhbGwgdmlkZW9zIGFuZCByZXR1cm4gXHJcbnJvdXRlci5nZXQoJy9hcGkvZmluZGFsbFYnLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgIENvbnRyb2xsZXIuZmluZEFsbFZpZGVvKHJlcXVlc3QsIHJlc3BvbnNlKVxyXG59KVxyXG5cclxucm91dGVyLmRlbGV0ZSgnL2FwaS91c2VyLXZpZGVvLWRlbGV0ZS8nLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcclxuICAgIENvbnRyb2xsZXIuZGVsZXRlX3VzZXJfYWxsX3ZpZGVvcyhyZXF1ZXN0LCByZXNwb25zZSlcclxufSlcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFQSxJQUFNQSxNQUFNLEdBQUcsSUFBQUMsZUFBQSxHQUFmO0FBQ0EsSUFBTUMsVUFBVSxHQUFHLElBQUlDLGlDQUFKLEVBQW5CLEMsQ0FDQTs7QUFDQUgsTUFBTSxDQUFDSSxJQUFQLENBQVksWUFBWixFQUEwQixJQUFBQyxnQkFBQSxHQUExQixFQUFrQ0MscUNBQWxDLEVBQWdEQyw2QkFBQSxDQUFZQyxNQUFaLENBQW1CLE9BQW5CLENBQWhELEVBQTZFLFVBQUNDLE9BQUQsRUFBVUMsUUFBVixFQUF1QjtFQUNoR1IsVUFBVSxDQUFDUyxNQUFYLENBQWtCRixPQUFsQixFQUEyQkMsUUFBM0I7QUFDSCxDQUZELEUsQ0FJQTs7QUFDQVYsTUFBTSxDQUFDWSxHQUFQLENBQVcsc0JBQVgsRUFBbUMsVUFBQ0gsT0FBRCxFQUFVQyxRQUFWLEVBQXVCO0VBQ3REUixVQUFVLENBQUNXLE1BQVgsQ0FBa0JKLE9BQWxCLEVBQTJCQyxRQUEzQjtBQUNILENBRkQsRSxDQUlBOztBQUNBVixNQUFNLENBQUNZLEdBQVAsQ0FBVyxrQkFBWCxFQUErQixVQUFDSCxPQUFELEVBQVVDLFFBQVYsRUFBdUI7RUFDbERSLFVBQVUsQ0FBQ1ksSUFBWCxDQUFnQkwsT0FBaEIsRUFBeUJDLFFBQXpCO0FBQ0gsQ0FGRCxFLENBS0E7O0FBQ0FWLE1BQU0sQ0FBQ1ksR0FBUCxDQUFXLHFCQUFYLEVBQWtDLFVBQUNILE9BQUQsRUFBVUMsUUFBVixFQUF1QjtFQUNyRFIsVUFBVSxDQUFDYSxPQUFYLENBQW1CTixPQUFuQixFQUE0QkMsUUFBNUI7QUFDSCxDQUZELEUsQ0FJQTs7QUFDQVYsTUFBTSxDQUFDWSxHQUFQLENBQVcsb0JBQVgsRUFBaUMsVUFBQ0gsT0FBRCxFQUFVQyxRQUFWLEVBQXVCO0VBQ3BEUixVQUFVLENBQUNjLFdBQVgsQ0FBdUJQLE9BQXZCLEVBQWdDQyxRQUFoQztBQUNILENBRkQsRSxDQUlBOztBQUNBVixNQUFNLFVBQU4sQ0FBYyxhQUFkLEVBQTZCLFVBQUNTLE9BQUQsRUFBVUMsUUFBVixFQUF1QjtFQUNoRFIsVUFBVSxVQUFWLENBQWtCTyxPQUFsQixFQUEyQkMsUUFBM0I7QUFDSCxDQUZELEUsQ0FJQTs7QUFDQVYsTUFBTSxDQUFDWSxHQUFQLENBQVcseUJBQVgsRUFBc0MsVUFBQ0gsT0FBRCxFQUFVQyxRQUFWLEVBQXVCO0VBQ3pEUixVQUFVLENBQUNlLFlBQVgsQ0FBd0JSLE9BQXhCLEVBQWlDQyxRQUFqQztBQUNILENBRkQsRSxDQUlBOztBQUNBVixNQUFNLENBQUNZLEdBQVAsQ0FBVyxrQkFBWCxFQUErQixVQUFDSCxPQUFELEVBQVVDLFFBQVYsRUFBdUI7RUFDbERSLFVBQVUsQ0FBQ2dCLFNBQVgsQ0FBcUJULE9BQXJCLEVBQThCQyxRQUE5QjtBQUNILENBRkQsRSxDQUlBOztBQUNBVixNQUFNLENBQUNZLEdBQVAsQ0FBVyxlQUFYLEVBQTRCLFVBQUNILE9BQUQsRUFBVUMsUUFBVixFQUF1QjtFQUMvQ1IsVUFBVSxDQUFDaUIsWUFBWCxDQUF3QlYsT0FBeEIsRUFBaUNDLFFBQWpDO0FBQ0gsQ0FGRDtBQUlBVixNQUFNLFVBQU4sQ0FBYyx5QkFBZCxFQUF5QyxVQUFDUyxPQUFELEVBQVVDLFFBQVYsRUFBdUI7RUFDNURSLFVBQVUsQ0FBQ2tCLHNCQUFYLENBQWtDWCxPQUFsQyxFQUEyQ0MsUUFBM0M7QUFDSCxDQUZEO2VBSWVWLE0ifQ==","map":{"version":3,"names":["router","Router","Controller","VideoController","post","json","Authenticate","videoUpload","single","request","response","upload","get","stream","like","dislike","searchVideo","searchUVideo","searchCat","findAllVideo","delete_user_all_videos"],"sourceRoot":"D:\\School\\IT Project\\IT-PROJECT\\backend3\\src\\Routes\\","sources":["Video_routes.js"],"sourcesContent":["import { response, Router } from 'express';\r\nimport { Authenticate } from '../Middlewares/Authenticate_middleware.js';\r\nimport { videoUpload } from '../Middlewares/Video_middleware.js';\r\nimport { json } from 'body-parser'\r\nimport { VideoController } from '../Controller/Video_controller.js'\r\n\r\nconst router = Router();\r\nconst Controller = new VideoController();\r\n//after upload work, next step is save to mongo db\r\nrouter.post('/api/video', json(), Authenticate, videoUpload.single('video'), (request, response) => {\r\n    Controller.upload(request, response)\r\n})\r\n\r\n// video stream\r\nrouter.get('/api/video/:filename', (request, response) => {\r\n    Controller.stream(request, response)\r\n})\r\n\r\n// like a video\r\nrouter.get('/api/video-like/', (request, response) => {\r\n    Controller.like(request, response)\r\n})\r\n\r\n\r\n// dislike a video\r\nrouter.get('/api/video-dislike/', (request, response) => {\r\n    Controller.dislike(request, response)\r\n})\r\n\r\n// search for a video\r\nrouter.get('/api/video-search/', (request, response) => {\r\n    Controller.searchVideo(request, response)\r\n})\r\n\r\n// delete a video\r\nrouter.delete('/api/video/', (request, response) => {\r\n    Controller.delete(request, response)\r\n})\r\n\r\n// search for video under certain user\r\nrouter.get('/api/user-video-search/', (request, response) => {\r\n    Controller.searchUVideo(request, response)\r\n})\r\n\r\n// search for video under certain category\r\nrouter.get('/api/cat-search/', (request, response) => {\r\n    Controller.searchCat(request, response)\r\n})\r\n\r\n//find all videos and return \r\nrouter.get('/api/findallV', (request, response) => {\r\n    Controller.findAllVideo(request, response)\r\n})\r\n\r\nrouter.delete('/api/user-video-delete/', (request, response) => {\r\n    Controller.delete_user_all_videos(request, response)\r\n})\r\n\r\nexport default router;"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AAEA,IAAMA,MAAM,GAAG,IAAAC,eAAA,GAAf;AACA,IAAMC,UAAU,GAAG,IAAIC,iCAAJ,EAAnB,C,CACA;;AACAH,MAAM,CAACI,IAAP,CAAY,YAAZ,EAA0B,IAAAC,gBAAA,GAA1B,EAAkCC,qCAAlC,EAAgDC,6BAAA,CAAYC,MAAZ,CAAmB,OAAnB,CAAhD,EAA6E,UAACC,OAAD,EAAUC,QAAV,EAAuB;EAChGR,UAAU,CAACS,MAAX,CAAkBF,OAAlB,EAA2BC,QAA3B;AACH,CAFD,E,CAIA;;AACAV,MAAM,CAACY,GAAP,CAAW,sBAAX,EAAmC,UAACH,OAAD,EAAUC,QAAV,EAAuB;EACtDR,UAAU,CAACW,MAAX,CAAkBJ,OAAlB,EAA2BC,QAA3B;AACH,CAFD,E,CAIA;;AACAV,MAAM,CAACY,GAAP,CAAW,kBAAX,EAA+B,UAACH,OAAD,EAAUC,QAAV,EAAuB;EAClDR,UAAU,CAACY,IAAX,CAAgBL,OAAhB,EAAyBC,QAAzB;AACH,CAFD,E,CAKA;;AACAV,MAAM,CAACY,GAAP,CAAW,qBAAX,EAAkC,UAACH,OAAD,EAAUC,QAAV,EAAuB;EACrDR,UAAU,CAACa,OAAX,CAAmBN,OAAnB,EAA4BC,QAA5B;AACH,CAFD,E,CAIA;;AACAV,MAAM,CAACY,GAAP,CAAW,oBAAX,EAAiC,UAACH,OAAD,EAAUC,QAAV,EAAuB;EACpDR,UAAU,CAACc,WAAX,CAAuBP,OAAvB,EAAgCC,QAAhC;AACH,CAFD,E,CAIA;;AACAV,MAAM,UAAN,CAAc,aAAd,EAA6B,UAACS,OAAD,EAAUC,QAAV,EAAuB;EAChDR,UAAU,UAAV,CAAkBO,OAAlB,EAA2BC,QAA3B;AACH,CAFD,E,CAIA;;AACAV,MAAM,CAACY,GAAP,CAAW,yBAAX,EAAsC,UAACH,OAAD,EAAUC,QAAV,EAAuB;EACzDR,UAAU,CAACe,YAAX,CAAwBR,OAAxB,EAAiCC,QAAjC;AACH,CAFD,E,CAIA;;AACAV,MAAM,CAACY,GAAP,CAAW,kBAAX,EAA+B,UAACH,OAAD,EAAUC,QAAV,EAAuB;EAClDR,UAAU,CAACgB,SAAX,CAAqBT,OAArB,EAA8BC,QAA9B;AACH,CAFD,E,CAIA;;AACAV,MAAM,CAACY,GAAP,CAAW,eAAX,EAA4B,UAACH,OAAD,EAAUC,QAAV,EAAuB;EAC/CR,UAAU,CAACiB,YAAX,CAAwBV,OAAxB,EAAiCC,QAAjC;AACH,CAFD;AAIAV,MAAM,UAAN,CAAc,yBAAd,EAAyC,UAACS,OAAD,EAAUC,QAAV,EAAuB;EAC5DR,UAAU,CAACkB,sBAAX,CAAkCX,OAAlC,EAA2CC,QAA3C;AACH,CAFD;eAIeV,M"}},"mtime":1667981479813},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Middlewares\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"filename\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Middlewares\\\\Authenticate_middleware.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Authenticate = void 0;\n\nvar _jsonwebtoken = require(\"jsonwebtoken\");\n\nvar _dotenv = require(\"dotenv\");\n\n(0, _dotenv.config)();\n\nvar Authenticate = function Authenticate(request, response, next) {\n  var token = request.headers['x-auth-token'];\n  (0, _jsonwebtoken.verify)(token, process.env.cookie_secret, function (error, decoded) {\n    if (error) {\n      return response.status(403).json({\n        msg: 'Signup or Login to upload video'\n      });\n    }\n\n    request.token = decoded;\n    next();\n  });\n};\n\nexports.Authenticate = Authenticate;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25maWciLCJBdXRoZW50aWNhdGUiLCJyZXF1ZXN0IiwicmVzcG9uc2UiLCJuZXh0IiwidG9rZW4iLCJoZWFkZXJzIiwidmVyaWZ5IiwicHJvY2VzcyIsImVudiIsImNvb2tpZV9zZWNyZXQiLCJlcnJvciIsImRlY29kZWQiLCJzdGF0dXMiLCJqc29uIiwibXNnIl0sInNvdXJjZVJvb3QiOiJEOlxcU2Nob29sXFxJVCBQcm9qZWN0XFxJVC1QUk9KRUNUXFxiYWNrZW5kM1xcc3JjXFxNaWRkbGV3YXJlc1xcIiwic291cmNlcyI6WyJBdXRoZW50aWNhdGVfbWlkZGxld2FyZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge3ZlcmlmeX0gZnJvbSAnanNvbndlYnRva2VuJztcclxuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnZG90ZW52JztcclxuY29uZmlnKCk7XHJcblxyXG5leHBvcnQgY29uc3QgQXV0aGVudGljYXRlID0gKHJlcXVlc3QsIHJlc3BvbnNlLCBuZXh0KT0+e1xyXG4gICAgY29uc3QgdG9rZW4gPSByZXF1ZXN0LmhlYWRlcnNbJ3gtYXV0aC10b2tlbiddO1xyXG5cclxuICAgIHZlcmlmeSh0b2tlbiwgcHJvY2Vzcy5lbnYuY29va2llX3NlY3JldCwgKGVycm9yLCBkZWNvZGVkKT0+e1xyXG4gICAgICAgIGlmIChlcnJvcil7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNDAzKS5qc29uKHttc2c6J1NpZ251cCBvciBMb2dpbiB0byB1cGxvYWQgdmlkZW8nfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgcmVxdWVzdC50b2tlbiA9IGRlY29kZWQ7XHJcbiAgICAgICAgbmV4dCgpXHJcbiAgICB9KVxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0EsSUFBQUEsY0FBQTs7QUFFTyxJQUFNQyxZQUFZLEdBQUcsU0FBZkEsWUFBZSxDQUFDQyxPQUFELEVBQVVDLFFBQVYsRUFBb0JDLElBQXBCLEVBQTJCO0VBQ25ELElBQU1DLEtBQUssR0FBR0gsT0FBTyxDQUFDSSxPQUFSLENBQWdCLGNBQWhCLENBQWQ7RUFFQSxJQUFBQyxvQkFBQSxFQUFPRixLQUFQLEVBQWNHLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxhQUExQixFQUF5QyxVQUFDQyxLQUFELEVBQVFDLE9BQVIsRUFBa0I7SUFDdkQsSUFBSUQsS0FBSixFQUFVO01BQ04sT0FBT1IsUUFBUSxDQUFDVSxNQUFULENBQWdCLEdBQWhCLEVBQXFCQyxJQUFyQixDQUEwQjtRQUFDQyxHQUFHLEVBQUM7TUFBTCxDQUExQixDQUFQO0lBQ0g7O0lBQ0RiLE9BQU8sQ0FBQ0csS0FBUixHQUFnQk8sT0FBaEI7SUFDQVIsSUFBSTtFQUNQLENBTkQ7QUFPSCxDQVZNIn0=","map":{"version":3,"names":["config","Authenticate","request","response","next","token","headers","verify","process","env","cookie_secret","error","decoded","status","json","msg"],"sourceRoot":"D:\\School\\IT Project\\IT-PROJECT\\backend3\\src\\Middlewares\\","sources":["Authenticate_middleware.js"],"sourcesContent":["import {verify} from 'jsonwebtoken';\r\nimport { config } from 'dotenv';\r\nconfig();\r\n\r\nexport const Authenticate = (request, response, next)=>{\r\n    const token = request.headers['x-auth-token'];\r\n\r\n    verify(token, process.env.cookie_secret, (error, decoded)=>{\r\n        if (error){\r\n            return response.status(403).json({msg:'Signup or Login to upload video'})\r\n        }\r\n        request.token = decoded;\r\n        next()\r\n    })\r\n}"],"mappings":";;;;;;;AAAA;;AACA;;AACA,IAAAA,cAAA;;AAEO,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,OAAD,EAAUC,QAAV,EAAoBC,IAApB,EAA2B;EACnD,IAAMC,KAAK,GAAGH,OAAO,CAACI,OAAR,CAAgB,cAAhB,CAAd;EAEA,IAAAC,oBAAA,EAAOF,KAAP,EAAcG,OAAO,CAACC,GAAR,CAAYC,aAA1B,EAAyC,UAACC,KAAD,EAAQC,OAAR,EAAkB;IACvD,IAAID,KAAJ,EAAU;MACN,OAAOR,QAAQ,CAACU,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B;QAACC,GAAG,EAAC;MAAL,CAA1B,CAAP;IACH;;IACDb,OAAO,CAACG,KAAR,GAAgBO,OAAhB;IACAR,IAAI;EACP,CAND;AAOH,CAVM"}},"mtime":1667980928432},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Middlewares\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"filename\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Middlewares\\\\Video_middleware.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.videoUpload = void 0;\n\nvar _file = _interopRequireDefault(require(\"@babel/core/lib/transformation/file/file.js\"));\n\nvar _express = require(\"express\");\n\nvar _multer = _interopRequireDefault(require(\"multer\"));\n\nvar _uuid = require(\"uuid\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n// video storage\nvar videoStorage = _multer[\"default\"].diskStorage({\n  destination: \"videos\",\n  filename: function filename(request, file, cb) {\n    var id = (0, _uuid.v4)();\n    var token = request.token;\n    var filename = \"\".concat(token._id.toString(), \"-\").concat(id);\n    request.filename = filename;\n    cb(null, filename);\n  }\n}); //video upload\n\n\nvar videoUpload = (0, _multer[\"default\"])({\n  storage: videoStorage,\n  limits: {\n    fieldSize: 90000000 * 5 //10 MB   \n\n  },\n  fileFilter: function fileFilter(request, file, cb) {\n    if (!file.originalname.match(/\\.(mp4|MPEG-4|mkv)$/)) {\n      return cb(new Error('Video fomat nor supported'));\n    }\n\n    cb(undefined, true);\n  }\n});\nexports.videoUpload = videoUpload;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ2aWRlb1N0b3JhZ2UiLCJtdWx0ZXIiLCJkaXNrU3RvcmFnZSIsImRlc3RpbmF0aW9uIiwiZmlsZW5hbWUiLCJyZXF1ZXN0IiwiZmlsZSIsImNiIiwiaWQiLCJ1dWlkdjQiLCJ0b2tlbiIsIl9pZCIsInRvU3RyaW5nIiwidmlkZW9VcGxvYWQiLCJzdG9yYWdlIiwibGltaXRzIiwiZmllbGRTaXplIiwiZmlsZUZpbHRlciIsIm9yaWdpbmFsbmFtZSIsIm1hdGNoIiwiRXJyb3IiLCJ1bmRlZmluZWQiXSwic291cmNlUm9vdCI6IkQ6XFxTY2hvb2xcXElUIFByb2plY3RcXElULVBST0pFQ1RcXGJhY2tlbmQzXFxzcmNcXE1pZGRsZXdhcmVzXFwiLCJzb3VyY2VzIjpbIlZpZGVvX21pZGRsZXdhcmUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGZpbGUgZnJvbSBcIkBiYWJlbC9jb3JlL2xpYi90cmFuc2Zvcm1hdGlvbi9maWxlL2ZpbGUuanNcIjtcclxuaW1wb3J0IHsgcmVxdWVzdCB9IGZyb20gXCJleHByZXNzXCI7XHJcbmltcG9ydCBtdWx0ZXIgZnJvbSBcIm11bHRlclwiO1xyXG5pbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tICd1dWlkJztcclxuXHJcbi8vIHZpZGVvIHN0b3JhZ2VcclxuY29uc3QgdmlkZW9TdG9yYWdlID0gbXVsdGVyLmRpc2tTdG9yYWdlKHtcclxuICAgIGRlc3RpbmF0aW9uOiBcInZpZGVvc1wiLFxyXG4gICAgZmlsZW5hbWU6IChyZXF1ZXN0LCBmaWxlLCBjYikgPT4ge1xyXG4gICAgICAgIGNvbnN0IGlkID0gdXVpZHY0KCk7XHJcbiAgICAgICAgY29uc3QgdG9rZW4gPSByZXF1ZXN0LnRva2VuO1xyXG4gICAgICAgIGNvbnN0IGZpbGVuYW1lID0gYCR7dG9rZW4uX2lkLnRvU3RyaW5nKCl9LSR7aWR9YDtcclxuICAgICAgICByZXF1ZXN0LmZpbGVuYW1lID0gZmlsZW5hbWU7XHJcbiAgICAgICAgY2IobnVsbCwgZmlsZW5hbWUpXHJcbiAgICB9XHJcblxyXG59KVxyXG5cclxuLy92aWRlbyB1cGxvYWRcclxuZXhwb3J0IGNvbnN0IHZpZGVvVXBsb2FkID0gbXVsdGVyKHtcclxuICAgIHN0b3JhZ2U6IHZpZGVvU3RvcmFnZSxcclxuICAgIGxpbWl0czoge1xyXG4gICAgICAgIGZpZWxkU2l6ZTogOTAwMDAwMDAgKiA1IC8vMTAgTUIgICBcclxuICAgIH0sXHJcbiAgICBmaWxlRmlsdGVyOiAocmVxdWVzdCwgZmlsZSwgY2IpID0+IHtcclxuICAgICAgICBpZiAoIWZpbGUub3JpZ2luYWxuYW1lLm1hdGNoKC9cXC4obXA0fE1QRUctNHxta3YpJC8pKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjYihuZXcgRXJyb3IoJ1ZpZGVvIGZvbWF0IG5vciBzdXBwb3J0ZWQnKSlcclxuICAgICAgICB9XHJcbiAgICAgICAgY2IodW5kZWZpbmVkLCB0cnVlKVxyXG4gICAgfVxyXG59KSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUE7QUFDQSxJQUFNQSxZQUFZLEdBQUdDLGtCQUFBLENBQU9DLFdBQVAsQ0FBbUI7RUFDcENDLFdBQVcsRUFBRSxRQUR1QjtFQUVwQ0MsUUFBUSxFQUFFLGtCQUFDQyxPQUFELEVBQVVDLElBQVYsRUFBZ0JDLEVBQWhCLEVBQXVCO0lBQzdCLElBQU1DLEVBQUUsR0FBRyxJQUFBQyxRQUFBLEdBQVg7SUFDQSxJQUFNQyxLQUFLLEdBQUdMLE9BQU8sQ0FBQ0ssS0FBdEI7SUFDQSxJQUFNTixRQUFRLGFBQU1NLEtBQUssQ0FBQ0MsR0FBTixDQUFVQyxRQUFWLEVBQU4sY0FBOEJKLEVBQTlCLENBQWQ7SUFDQUgsT0FBTyxDQUFDRCxRQUFSLEdBQW1CQSxRQUFuQjtJQUNBRyxFQUFFLENBQUMsSUFBRCxFQUFPSCxRQUFQLENBQUY7RUFDSDtBQVJtQyxDQUFuQixDQUFyQixDLENBWUE7OztBQUNPLElBQU1TLFdBQVcsR0FBRyxJQUFBWixrQkFBQSxFQUFPO0VBQzlCYSxPQUFPLEVBQUVkLFlBRHFCO0VBRTlCZSxNQUFNLEVBQUU7SUFDSkMsU0FBUyxFQUFFLFdBQVcsQ0FEbEIsQ0FDb0I7O0VBRHBCLENBRnNCO0VBSzlCQyxVQUFVLEVBQUUsb0JBQUNaLE9BQUQsRUFBVUMsSUFBVixFQUFnQkMsRUFBaEIsRUFBdUI7SUFDL0IsSUFBSSxDQUFDRCxJQUFJLENBQUNZLFlBQUwsQ0FBa0JDLEtBQWxCLENBQXdCLHFCQUF4QixDQUFMLEVBQXFEO01BQ2pELE9BQU9aLEVBQUUsQ0FBQyxJQUFJYSxLQUFKLENBQVUsMkJBQVYsQ0FBRCxDQUFUO0lBQ0g7O0lBQ0RiLEVBQUUsQ0FBQ2MsU0FBRCxFQUFZLElBQVosQ0FBRjtFQUNIO0FBVjZCLENBQVAsQ0FBcEIifQ==","map":{"version":3,"names":["videoStorage","multer","diskStorage","destination","filename","request","file","cb","id","uuidv4","token","_id","toString","videoUpload","storage","limits","fieldSize","fileFilter","originalname","match","Error","undefined"],"sourceRoot":"D:\\School\\IT Project\\IT-PROJECT\\backend3\\src\\Middlewares\\","sources":["Video_middleware.js"],"sourcesContent":["import file from \"@babel/core/lib/transformation/file/file.js\";\r\nimport { request } from \"express\";\r\nimport multer from \"multer\";\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\n// video storage\r\nconst videoStorage = multer.diskStorage({\r\n    destination: \"videos\",\r\n    filename: (request, file, cb) => {\r\n        const id = uuidv4();\r\n        const token = request.token;\r\n        const filename = `${token._id.toString()}-${id}`;\r\n        request.filename = filename;\r\n        cb(null, filename)\r\n    }\r\n\r\n})\r\n\r\n//video upload\r\nexport const videoUpload = multer({\r\n    storage: videoStorage,\r\n    limits: {\r\n        fieldSize: 90000000 * 5 //10 MB   \r\n    },\r\n    fileFilter: (request, file, cb) => {\r\n        if (!file.originalname.match(/\\.(mp4|MPEG-4|mkv)$/)) {\r\n            return cb(new Error('Video fomat nor supported'))\r\n        }\r\n        cb(undefined, true)\r\n    }\r\n})"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;AAEA;AACA,IAAMA,YAAY,GAAGC,kBAAA,CAAOC,WAAP,CAAmB;EACpCC,WAAW,EAAE,QADuB;EAEpCC,QAAQ,EAAE,kBAACC,OAAD,EAAUC,IAAV,EAAgBC,EAAhB,EAAuB;IAC7B,IAAMC,EAAE,GAAG,IAAAC,QAAA,GAAX;IACA,IAAMC,KAAK,GAAGL,OAAO,CAACK,KAAtB;IACA,IAAMN,QAAQ,aAAMM,KAAK,CAACC,GAAN,CAAUC,QAAV,EAAN,cAA8BJ,EAA9B,CAAd;IACAH,OAAO,CAACD,QAAR,GAAmBA,QAAnB;IACAG,EAAE,CAAC,IAAD,EAAOH,QAAP,CAAF;EACH;AARmC,CAAnB,CAArB,C,CAYA;;;AACO,IAAMS,WAAW,GAAG,IAAAZ,kBAAA,EAAO;EAC9Ba,OAAO,EAAEd,YADqB;EAE9Be,MAAM,EAAE;IACJC,SAAS,EAAE,WAAW,CADlB,CACoB;;EADpB,CAFsB;EAK9BC,UAAU,EAAE,oBAACZ,OAAD,EAAUC,IAAV,EAAgBC,EAAhB,EAAuB;IAC/B,IAAI,CAACD,IAAI,CAACY,YAAL,CAAkBC,KAAlB,CAAwB,qBAAxB,CAAL,EAAqD;MACjD,OAAOZ,EAAE,CAAC,IAAIa,KAAJ,CAAU,2BAAV,CAAD,CAAT;IACH;;IACDb,EAAE,CAACc,SAAD,EAAY,IAAZ,CAAF;EACH;AAV6B,CAAP,CAApB"}},"mtime":1667981491070},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Controller\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"filename\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\\\\src\\\\Controller\\\\Video_controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\School\\\\IT Project\\\\IT-PROJECT\\\\backend3\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.13:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.VideoController = void 0;\n\nvar _Video_model = require(\"../Models/Video_model.js\");\n\nvar _fs = _interopRequireDefault(require(\"fs\"));\n\nvar _dns = require(\"dns\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nvar VideoController = /*#__PURE__*/function () {\n  function VideoController() {\n    _classCallCheck(this, VideoController);\n  }\n\n  _createClass(VideoController, [{\n    key: \"upload\",\n    value: function () {\n      var _upload = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(request, response) {\n        var newVideo, saveVideo;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                newVideo = new _Video_model.videoModel({\n                  owner: request.token._id,\n                  username: request.body.username,\n                  category: request.body.category,\n                  name: request.body.name,\n                  videopath: request.filename,\n                  description: request.body.description\n                });\n                _context.prev = 1;\n                _context.next = 4;\n                return newVideo.save();\n\n              case 4:\n                saveVideo = _context.sent;\n                return _context.abrupt(\"return\", response.status(201).json({\n                  msg: 'Video uploaded successfully'\n                }));\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context[\"catch\"](1);\n                return _context.abrupt(\"return\", response.status(500).json({\n                  msg: 'Video upload failed'\n                }));\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[1, 8]]);\n      }));\n\n      function upload(_x, _x2) {\n        return _upload.apply(this, arguments);\n      }\n\n      return upload;\n    }()\n  }, {\n    key: \"like\",\n    value: function like(request, response) {\n      var video_id = request.query.id;\n      var operation = request.query.operation;\n\n      if (operation === 'false') {\n        _Video_model.videoModel.findOneAndUpdate({\n          _id: video_id\n        }, {\n          $inc: {\n            likes: -1\n          }\n        }, {\n          \"new\": true\n        }, function (error, doc) {\n          if (error) {\n            return response.status(500).json({\n              msg: 'Network Error: Failed to cancel like video'\n            });\n          }\n\n          return response.status(200).json({\n            msg: 'Video like cancelled'\n          });\n        });\n      } else {\n        _Video_model.videoModel.findOneAndUpdate({\n          _id: video_id\n        }, {\n          $inc: {\n            likes: 1\n          }\n        }, {\n          \"new\": true\n        }, function (error, doc) {\n          if (error) {\n            return response.status(500).json({\n              msg: 'Network Error: Failed to like video'\n            });\n          }\n\n          return response.status(200).json({\n            msg: 'Video liked'\n          });\n        });\n      }\n    }\n  }, {\n    key: \"dislike\",\n    value: function dislike(request, response) {\n      var video_id = request.query.id;\n      var operation = request.query.operation;\n\n      if (operation === 'false') {\n        _Video_model.videoModel.findOneAndUpdate({\n          _id: video_id\n        }, {\n          $inc: {\n            dislikes: -1\n          }\n        }, {\n          \"new\": true\n        }, function (error, doc) {\n          if (error) {\n            return response.status(500).json({\n              msg: 'Network Error: Failed to cancel dislike video'\n            });\n          }\n\n          return response.status(200).json({\n            msg: 'Video dislike cancelled'\n          });\n        });\n      } else {\n        _Video_model.videoModel.findOneAndUpdate({\n          _id: video_id\n        }, {\n          $inc: {\n            dislikes: 1\n          }\n        }, {\n          \"new\": true\n        }, function (error, doc) {\n          if (error) {\n            return response.status(500).json({\n              msg: 'Network Error: Failed to dislike video'\n            });\n          }\n\n          return response.status(200).json({\n            msg: 'Video disliked'\n          });\n        });\n      }\n    }\n  }, {\n    key: \"searchVideo\",\n    value: function () {\n      var _searchVideo = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(request, response) {\n        var name, video;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                name = request.query.key.toLowerCase();\n                _context2.prev = 1;\n                _context2.next = 4;\n                return _Video_model.videoModel.find({\n                  name: {\n                    $regex: name\n                  }\n                });\n\n              case 4:\n                video = _context2.sent;\n                return _context2.abrupt(\"return\", response.send(video));\n\n              case 8:\n                _context2.prev = 8;\n                _context2.t0 = _context2[\"catch\"](1);\n                return _context2.abrupt(\"return\", response.status(700).json({\n                  msg: 'No matching video'\n                }));\n\n              case 11:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[1, 8]]);\n      }));\n\n      function searchVideo(_x3, _x4) {\n        return _searchVideo.apply(this, arguments);\n      }\n\n      return searchVideo;\n    }() // search all videos and display\n\n  }, {\n    key: \"findAllVideo\",\n    value: function () {\n      var _findAllVideo = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(request, response) {\n        var video;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                _context3.next = 3;\n                return _Video_model.videoModel.find();\n\n              case 3:\n                video = _context3.sent;\n                return _context3.abrupt(\"return\", response.send(video));\n\n              case 7:\n                _context3.prev = 7;\n                _context3.t0 = _context3[\"catch\"](0);\n                return _context3.abrupt(\"return\", response.status(700).json({\n                  msg: 'No videos'\n                }));\n\n              case 10:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, null, [[0, 7]]);\n      }));\n\n      function findAllVideo(_x5, _x6) {\n        return _findAllVideo.apply(this, arguments);\n      }\n\n      return findAllVideo;\n    }() // search video by username\n\n  }, {\n    key: \"searchUVideo\",\n    value: function () {\n      var _searchUVideo = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(request, response) {\n        var name, video;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                name = request.query.key;\n                _context4.prev = 1;\n                _context4.next = 4;\n                return _Video_model.videoModel.find({\n                  username: name\n                });\n\n              case 4:\n                video = _context4.sent;\n                return _context4.abrupt(\"return\", response.send(video));\n\n              case 8:\n                _context4.prev = 8;\n                _context4.t0 = _context4[\"catch\"](1);\n                return _context4.abrupt(\"return\", response.status(700).json({\n                  msg: 'No matching video'\n                }));\n\n              case 11:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, null, [[1, 8]]);\n      }));\n\n      function searchUVideo(_x7, _x8) {\n        return _searchUVideo.apply(this, arguments);\n      }\n\n      return searchUVideo;\n    }() // search video by category\n\n  }, {\n    key: \"searchCat\",\n    value: function () {\n      var _searchCat = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(request, response) {\n        var cat, video;\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                cat = request.query.key;\n                _context5.prev = 1;\n                _context5.next = 4;\n                return _Video_model.videoModel.find({\n                  category: {\n                    $regex: cat\n                  }\n                });\n\n              case 4:\n                video = _context5.sent;\n                return _context5.abrupt(\"return\", response.send(video));\n\n              case 8:\n                _context5.prev = 8;\n                _context5.t0 = _context5[\"catch\"](1);\n                return _context5.abrupt(\"return\", response.status(700).json({\n                  msg: 'No matching video'\n                }));\n\n              case 11:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, null, [[1, 8]]);\n      }));\n\n      function searchCat(_x9, _x10) {\n        return _searchCat.apply(this, arguments);\n      }\n\n      return searchCat;\n    }() // stream video \n\n  }, {\n    key: \"stream\",\n    value: function stream(request, response) {\n      var range = request.headers.range;\n\n      if (!range) {\n        return response.status(400).json({\n          msg: 'Range header is required to start'\n        });\n      }\n\n      var videopath = \"videos/\".concat(request.params.filename);\n\n      var videosize = _fs[\"default\"].statSync(videopath).size; // get video size\n\n\n      var start = Number(range.replace(/\\D/g, \"\")); //get start point \n\n      var chunk_size = Math.pow(10, 6); // 1 mb , chunck size\n\n      var end = Math.min(start + chunk_size, videosize - 1); //end position\n\n      var contenLength = end - start + 1; // how many  size sending\n\n      var hearders = {\n        'Content-Length': contenLength,\n        'Accept-Range': 'bytes',\n        'Content-Type': 'video/mp40',\n        'Content-Range': \"bytes \".concat(start, \" -\").concat(end, \"/\").concat(videosize) //decise how far video gone\n\n      };\n      response.writeHead(206, hearders);\n\n      var videostream = _fs[\"default\"].createReadStream(videopath, {\n        start: start,\n        end: end\n      }); // create video stream\n\n\n      videostream.pipe(response);\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete(request, response) {\n      var video_id = request.query.video_id;\n      var video_path = request.query.video_path;\n      var videopath = \"videos/\".concat(video_path);\n\n      if (_fs[\"default\"].existsSync(videopath)) {\n        _fs[\"default\"].unlink(videopath, function (error) {\n          if (error) {\n            return response.status(500).json({\n              msg: 'Network Error: Failed to delete video'\n            });\n          }\n\n          _Video_model.videoModel.findOneAndDelete({\n            _id: video_id\n          }, function (error) {\n            if (error) {\n              return response.status(500).json({\n                msg: 'Network Error: Failed to delete video'\n              });\n            }\n\n            return response.status(200).json({\n              msg: ' video delete'\n            });\n          });\n        });\n      }\n    }\n  }, {\n    key: \"delete_user_all_videos\",\n    value: function () {\n      var _delete_user_all_videos = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(request, response) {\n        var delete_username, user_video_list, i, videopath;\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                delete_username = request.query.username;\n                user_video_list = request.query.video_list;\n\n                if (!(user_video_list !== undefined)) {\n                  _context6.next = 6;\n                  break;\n                }\n\n                for (i = 0; i < user_video_list.length; i++) {\n                  videopath = \"videos/\".concat(user_video_list[i]);\n\n                  if (_fs[\"default\"].existsSync(videopath)) {\n                    _fs[\"default\"].unlink(videopath, function (error) {\n                      if (error) {\n                        return response.status(500).json({\n                          msg: 'Network Error: Failed to delete video'\n                        });\n                      }\n                    });\n                  }\n                }\n\n                _context6.next = 6;\n                return _Video_model.videoModel.deleteMany({\n                  username: delete_username\n                });\n\n              case 6:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6);\n      }));\n\n      function delete_user_all_videos(_x11, _x12) {\n        return _delete_user_all_videos.apply(this, arguments);\n      }\n\n      return delete_user_all_videos;\n    }()\n  }]);\n\n  return VideoController;\n}();\n\nexports.VideoController = VideoController;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJWaWRlb0NvbnRyb2xsZXIiLCJyZXF1ZXN0IiwicmVzcG9uc2UiLCJuZXdWaWRlbyIsInZpZGVvTW9kZWwiLCJvd25lciIsInRva2VuIiwiX2lkIiwidXNlcm5hbWUiLCJib2R5IiwiY2F0ZWdvcnkiLCJuYW1lIiwidmlkZW9wYXRoIiwiZmlsZW5hbWUiLCJkZXNjcmlwdGlvbiIsInNhdmUiLCJzYXZlVmlkZW8iLCJzdGF0dXMiLCJqc29uIiwibXNnIiwidmlkZW9faWQiLCJxdWVyeSIsImlkIiwib3BlcmF0aW9uIiwiZmluZE9uZUFuZFVwZGF0ZSIsIiRpbmMiLCJsaWtlcyIsImVycm9yIiwiZG9jIiwiZGlzbGlrZXMiLCJrZXkiLCJ0b0xvd2VyQ2FzZSIsImZpbmQiLCIkcmVnZXgiLCJ2aWRlbyIsInNlbmQiLCJjYXQiLCJyYW5nZSIsImhlYWRlcnMiLCJwYXJhbXMiLCJ2aWRlb3NpemUiLCJmcyIsInN0YXRTeW5jIiwic2l6ZSIsInN0YXJ0IiwiTnVtYmVyIiwicmVwbGFjZSIsImNodW5rX3NpemUiLCJlbmQiLCJNYXRoIiwibWluIiwiY29udGVuTGVuZ3RoIiwiaGVhcmRlcnMiLCJ3cml0ZUhlYWQiLCJ2aWRlb3N0cmVhbSIsImNyZWF0ZVJlYWRTdHJlYW0iLCJwaXBlIiwidmlkZW9fcGF0aCIsImV4aXN0c1N5bmMiLCJ1bmxpbmsiLCJmaW5kT25lQW5kRGVsZXRlIiwiZGVsZXRlX3VzZXJuYW1lIiwidXNlcl92aWRlb19saXN0IiwidmlkZW9fbGlzdCIsInVuZGVmaW5lZCIsImkiLCJsZW5ndGgiLCJkZWxldGVNYW55Il0sInNvdXJjZVJvb3QiOiJEOlxcU2Nob29sXFxJVCBQcm9qZWN0XFxJVC1QUk9KRUNUXFxiYWNrZW5kM1xcc3JjXFxDb250cm9sbGVyXFwiLCJzb3VyY2VzIjpbIlZpZGVvX2NvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdmlkZW9Nb2RlbCB9IGZyb20gJy4uL01vZGVscy9WaWRlb19tb2RlbC5qcydcclxuaW1wb3J0IGZzIGZyb20gJ2ZzJ1xyXG5pbXBvcnQgeyBOT05BTUUgfSBmcm9tICdkbnMnXHJcblxyXG5leHBvcnQgY2xhc3MgVmlkZW9Db250cm9sbGVyIHtcclxuICAgIGFzeW5jIHVwbG9hZChyZXF1ZXN0LCByZXNwb25zZSkge1xyXG5cclxuICAgICAgICBjb25zdCBuZXdWaWRlbyA9IG5ldyB2aWRlb01vZGVsKHtcclxuICAgICAgICAgICAgb3duZXI6IHJlcXVlc3QudG9rZW4uX2lkLFxyXG4gICAgICAgICAgICB1c2VybmFtZTogcmVxdWVzdC5ib2R5LnVzZXJuYW1lLFxyXG4gICAgICAgICAgICBjYXRlZ29yeTogcmVxdWVzdC5ib2R5LmNhdGVnb3J5LFxyXG4gICAgICAgICAgICBuYW1lOiByZXF1ZXN0LmJvZHkubmFtZSxcclxuICAgICAgICAgICAgdmlkZW9wYXRoOiByZXF1ZXN0LmZpbGVuYW1lLFxyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogcmVxdWVzdC5ib2R5LmRlc2NyaXB0aW9uXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3Qgc2F2ZVZpZGVvID0gYXdhaXQgbmV3VmlkZW8uc2F2ZSgpXHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoMjAxKS5qc29uKHsgbXNnOiAnVmlkZW8gdXBsb2FkZWQgc3VjY2Vzc2Z1bGx5JyB9KVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAnVmlkZW8gdXBsb2FkIGZhaWxlZCcgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGxpa2UocmVxdWVzdCwgcmVzcG9uc2UpIHtcclxuICAgICAgICBjb25zdCB2aWRlb19pZCA9IHJlcXVlc3QucXVlcnkuaWQ7XHJcbiAgICAgICAgY29uc3Qgb3BlcmF0aW9uID0gcmVxdWVzdC5xdWVyeS5vcGVyYXRpb25cclxuICAgICAgICBpZiAob3BlcmF0aW9uID09PSAnZmFsc2UnKSB7XHJcbiAgICAgICAgICAgIHZpZGVvTW9kZWwuZmluZE9uZUFuZFVwZGF0ZSh7IF9pZDogdmlkZW9faWQgfSwgeyAkaW5jOiB7IGxpa2VzOiAtMSB9IH0sXHJcbiAgICAgICAgICAgICAgICB7IG5ldzogdHJ1ZSB9LCAoZXJyb3IsIGRvYykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7IG1zZzogJ05ldHdvcmsgRXJyb3I6IEZhaWxlZCB0byBjYW5jZWwgbGlrZSB2aWRlbycgfSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cygyMDApLmpzb24oeyBtc2c6ICdWaWRlbyBsaWtlIGNhbmNlbGxlZCcgfSlcclxuICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHZpZGVvTW9kZWwuZmluZE9uZUFuZFVwZGF0ZSh7IF9pZDogdmlkZW9faWQgfSwgeyAkaW5jOiB7IGxpa2VzOiAxIH0gfSxcclxuICAgICAgICAgICAgICAgIHsgbmV3OiB0cnVlIH0sIChlcnJvciwgZG9jKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAwKS5qc29uKHsgbXNnOiAnTmV0d29yayBFcnJvcjogRmFpbGVkIHRvIGxpa2UgdmlkZW8nIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHsgbXNnOiAnVmlkZW8gbGlrZWQnIH0pXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkaXNsaWtlKHJlcXVlc3QsIHJlc3BvbnNlKSB7XHJcbiAgICAgICAgY29uc3QgdmlkZW9faWQgPSByZXF1ZXN0LnF1ZXJ5LmlkO1xyXG4gICAgICAgIGNvbnN0IG9wZXJhdGlvbiA9IHJlcXVlc3QucXVlcnkub3BlcmF0aW9uXHJcbiAgICAgICAgaWYgKG9wZXJhdGlvbiA9PT0gJ2ZhbHNlJykge1xyXG4gICAgICAgICAgICB2aWRlb01vZGVsLmZpbmRPbmVBbmRVcGRhdGUoeyBfaWQ6IHZpZGVvX2lkIH0sIHsgJGluYzogeyBkaXNsaWtlczogLTEgfSB9LFxyXG4gICAgICAgICAgICAgICAgeyBuZXc6IHRydWUgfSwgKGVycm9yLCBkb2MpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oeyBtc2c6ICdOZXR3b3JrIEVycm9yOiBGYWlsZWQgdG8gY2FuY2VsIGRpc2xpa2UgdmlkZW8nIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHsgbXNnOiAnVmlkZW8gZGlzbGlrZSBjYW5jZWxsZWQnIH0pXHJcbiAgICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB2aWRlb01vZGVsLmZpbmRPbmVBbmRVcGRhdGUoeyBfaWQ6IHZpZGVvX2lkIH0sIHsgJGluYzogeyBkaXNsaWtlczogMSB9IH0sXHJcbiAgICAgICAgICAgICAgICB7IG5ldzogdHJ1ZSB9LCAoZXJyb3IsIGRvYykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7IG1zZzogJ05ldHdvcmsgRXJyb3I6IEZhaWxlZCB0byBkaXNsaWtlIHZpZGVvJyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbih7IG1zZzogJ1ZpZGVvIGRpc2xpa2VkJyB9KVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgc2VhcmNoVmlkZW8ocmVxdWVzdCwgcmVzcG9uc2UpIHtcclxuICAgICAgICBjb25zdCBuYW1lID0gcmVxdWVzdC5xdWVyeS5rZXkudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgdmlkZW8gPSBhd2FpdCB2aWRlb01vZGVsLmZpbmQoeyBuYW1lOiB7ICRyZWdleDogbmFtZSB9IH0pXHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zZW5kKHZpZGVvKVxyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDcwMCkuanNvbih7IG1zZzogJ05vIG1hdGNoaW5nIHZpZGVvJyB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBzZWFyY2ggYWxsIHZpZGVvcyBhbmQgZGlzcGxheVxyXG4gICAgYXN5bmMgZmluZEFsbFZpZGVvKHJlcXVlc3QsIHJlc3BvbnNlKSB7XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCB2aWRlbyA9IGF3YWl0IHZpZGVvTW9kZWwuZmluZCgpXHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zZW5kKHZpZGVvKVxyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDcwMCkuanNvbih7IG1zZzogJ05vIHZpZGVvcycgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBzZWFyY2ggdmlkZW8gYnkgdXNlcm5hbWVcclxuICAgIGFzeW5jIHNlYXJjaFVWaWRlbyhyZXF1ZXN0LCByZXNwb25zZSkge1xyXG4gICAgICAgIGNvbnN0IG5hbWUgPSByZXF1ZXN0LnF1ZXJ5LmtleTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgdmlkZW8gPSBhd2FpdCB2aWRlb01vZGVsLmZpbmQoeyB1c2VybmFtZTogbmFtZSB9KVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc2VuZCh2aWRlbylcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg3MDApLmpzb24oeyBtc2c6ICdObyBtYXRjaGluZyB2aWRlbycgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gc2VhcmNoIHZpZGVvIGJ5IGNhdGVnb3J5XHJcbiAgICBhc3luYyBzZWFyY2hDYXQocmVxdWVzdCwgcmVzcG9uc2UpIHtcclxuICAgICAgICBjb25zdCBjYXQgPSByZXF1ZXN0LnF1ZXJ5LmtleTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgdmlkZW8gPSBhd2FpdCB2aWRlb01vZGVsLmZpbmQoeyBjYXRlZ29yeTogeyAkcmVnZXg6IGNhdCB9IH0pXHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zZW5kKHZpZGVvKVxyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDcwMCkuanNvbih7IG1zZzogJ05vIG1hdGNoaW5nIHZpZGVvJyB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBzdHJlYW0gdmlkZW8gXHJcbiAgICBzdHJlYW0ocmVxdWVzdCwgcmVzcG9uc2UpIHtcclxuICAgICAgICBjb25zdCByYW5nZSA9IHJlcXVlc3QuaGVhZGVycy5yYW5nZVxyXG4gICAgICAgIGlmICghcmFuZ2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg0MDApLmpzb24oeyBtc2c6ICdSYW5nZSBoZWFkZXIgaXMgcmVxdWlyZWQgdG8gc3RhcnQnIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHZpZGVvcGF0aCA9IGB2aWRlb3MvJHtyZXF1ZXN0LnBhcmFtcy5maWxlbmFtZX1gO1xyXG4gICAgICAgIGNvbnN0IHZpZGVvc2l6ZSA9IGZzLnN0YXRTeW5jKHZpZGVvcGF0aCkuc2l6ZTsgIC8vIGdldCB2aWRlbyBzaXplXHJcblxyXG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gTnVtYmVyKHJhbmdlLnJlcGxhY2UoL1xcRC9nLCBcIlwiKSk7ICAvL2dldCBzdGFydCBwb2ludCBcclxuICAgICAgICBjb25zdCBjaHVua19zaXplID0gMTAgKiogNiAvLyAxIG1iICwgY2h1bmNrIHNpemVcclxuICAgICAgICBjb25zdCBlbmQgPSBNYXRoLm1pbihzdGFydCArIGNodW5rX3NpemUsIHZpZGVvc2l6ZSAtIDEpOyAgIC8vZW5kIHBvc2l0aW9uXHJcblxyXG4gICAgICAgIGNvbnN0IGNvbnRlbkxlbmd0aCA9IGVuZCAtIHN0YXJ0ICsgMSAgLy8gaG93IG1hbnkgIHNpemUgc2VuZGluZ1xyXG4gICAgICAgIGNvbnN0IGhlYXJkZXJzID0ge1xyXG4gICAgICAgICAgICAnQ29udGVudC1MZW5ndGgnOiBjb250ZW5MZW5ndGgsXHJcbiAgICAgICAgICAgICdBY2NlcHQtUmFuZ2UnOiAnYnl0ZXMnLFxyXG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ3ZpZGVvL21wNDAnLFxyXG4gICAgICAgICAgICAnQ29udGVudC1SYW5nZSc6IGBieXRlcyAke3N0YXJ0fSAtJHtlbmR9LyR7dmlkZW9zaXplfWAgICAvL2RlY2lzZSBob3cgZmFyIHZpZGVvIGdvbmVcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJlc3BvbnNlLndyaXRlSGVhZCgyMDYsIGhlYXJkZXJzKTtcclxuICAgICAgICBjb25zdCB2aWRlb3N0cmVhbSA9IGZzLmNyZWF0ZVJlYWRTdHJlYW0odmlkZW9wYXRoLCB7IHN0YXJ0LCBlbmQgfSk7IC8vIGNyZWF0ZSB2aWRlbyBzdHJlYW1cclxuICAgICAgICB2aWRlb3N0cmVhbS5waXBlKHJlc3BvbnNlKVxyXG4gICAgfVxyXG5cclxuICAgIGRlbGV0ZShyZXF1ZXN0LCByZXNwb25zZSkge1xyXG5cclxuICAgICAgICBjb25zdCB2aWRlb19pZCA9IHJlcXVlc3QucXVlcnkudmlkZW9faWQ7XHJcbiAgICAgICAgY29uc3QgdmlkZW9fcGF0aCA9IHJlcXVlc3QucXVlcnkudmlkZW9fcGF0aDtcclxuICAgICAgICBjb25zdCB2aWRlb3BhdGggPSBgdmlkZW9zLyR7dmlkZW9fcGF0aH1gO1xyXG4gICAgICAgIGlmIChmcy5leGlzdHNTeW5jKHZpZGVvcGF0aCkpIHtcclxuICAgICAgICAgICAgZnMudW5saW5rKHZpZGVvcGF0aCwgKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7IG1zZzogJ05ldHdvcmsgRXJyb3I6IEZhaWxlZCB0byBkZWxldGUgdmlkZW8nIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2aWRlb01vZGVsLmZpbmRPbmVBbmREZWxldGUoeyBfaWQ6IHZpZGVvX2lkIH0sIChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMCkuanNvbih7IG1zZzogJ05ldHdvcmsgRXJyb3I6IEZhaWxlZCB0byBkZWxldGUgdmlkZW8nIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHsgbXNnOiAnIHZpZGVvIGRlbGV0ZScgfSlcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGRlbGV0ZV91c2VyX2FsbF92aWRlb3MocmVxdWVzdCwgcmVzcG9uc2UpIHtcclxuICAgICAgICBjb25zdCBkZWxldGVfdXNlcm5hbWUgPSByZXF1ZXN0LnF1ZXJ5LnVzZXJuYW1lO1xyXG4gICAgICAgIGNvbnN0IHVzZXJfdmlkZW9fbGlzdCA9IHJlcXVlc3QucXVlcnkudmlkZW9fbGlzdDtcclxuICAgICAgICBpZiAodXNlcl92aWRlb19saXN0ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB1c2VyX3ZpZGVvX2xpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciB2aWRlb3BhdGggPSBgdmlkZW9zLyR7dXNlcl92aWRlb19saXN0W2ldfWA7XHJcbiAgICAgICAgICAgICAgICBpZiAoZnMuZXhpc3RzU3luYyh2aWRlb3BhdGgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZnMudW5saW5rKHZpZGVvcGF0aCwgKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLmpzb24oeyBtc2c6ICdOZXR3b3JrIEVycm9yOiBGYWlsZWQgdG8gZGVsZXRlIHZpZGVvJyB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYXdhaXQgdmlkZW9Nb2RlbC5kZWxldGVNYW55KHsgdXNlcm5hbWU6IGRlbGV0ZV91c2VybmFtZSB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUNBOzs7OytDQURBLG9KOzs7Ozs7Ozs7Ozs7SUFHYUEsZTs7Ozs7Ozs7K0VBQ1QsaUJBQWFDLE9BQWIsRUFBc0JDLFFBQXRCO1FBQUE7UUFBQTtVQUFBO1lBQUE7Y0FBQTtnQkFFVUMsUUFGVixHQUVxQixJQUFJQyx1QkFBSixDQUFlO2tCQUM1QkMsS0FBSyxFQUFFSixPQUFPLENBQUNLLEtBQVIsQ0FBY0MsR0FETztrQkFFNUJDLFFBQVEsRUFBRVAsT0FBTyxDQUFDUSxJQUFSLENBQWFELFFBRks7a0JBRzVCRSxRQUFRLEVBQUVULE9BQU8sQ0FBQ1EsSUFBUixDQUFhQyxRQUhLO2tCQUk1QkMsSUFBSSxFQUFFVixPQUFPLENBQUNRLElBQVIsQ0FBYUUsSUFKUztrQkFLNUJDLFNBQVMsRUFBRVgsT0FBTyxDQUFDWSxRQUxTO2tCQU01QkMsV0FBVyxFQUFFYixPQUFPLENBQUNRLElBQVIsQ0FBYUs7Z0JBTkUsQ0FBZixDQUZyQjtnQkFBQTtnQkFBQTtnQkFBQSxPQVlnQ1gsUUFBUSxDQUFDWSxJQUFULEVBWmhDOztjQUFBO2dCQVljQyxTQVpkO2dCQUFBLGlDQWFlZCxRQUFRLENBQUNlLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCO2tCQUFFQyxHQUFHLEVBQUU7Z0JBQVAsQ0FBMUIsQ0FiZjs7Y0FBQTtnQkFBQTtnQkFBQTtnQkFBQSxpQ0FlZWpCLFFBQVEsQ0FBQ2UsTUFBVCxDQUFnQixHQUFoQixFQUFxQkMsSUFBckIsQ0FBMEI7a0JBQUVDLEdBQUcsRUFBRTtnQkFBUCxDQUExQixDQWZmOztjQUFBO2NBQUE7Z0JBQUE7WUFBQTtVQUFBO1FBQUE7TUFBQSxDOzs7Ozs7Ozs7O1dBb0JBLGNBQUtsQixPQUFMLEVBQWNDLFFBQWQsRUFBd0I7TUFDcEIsSUFBTWtCLFFBQVEsR0FBR25CLE9BQU8sQ0FBQ29CLEtBQVIsQ0FBY0MsRUFBL0I7TUFDQSxJQUFNQyxTQUFTLEdBQUd0QixPQUFPLENBQUNvQixLQUFSLENBQWNFLFNBQWhDOztNQUNBLElBQUlBLFNBQVMsS0FBSyxPQUFsQixFQUEyQjtRQUN2Qm5CLHVCQUFBLENBQVdvQixnQkFBWCxDQUE0QjtVQUFFakIsR0FBRyxFQUFFYTtRQUFQLENBQTVCLEVBQStDO1VBQUVLLElBQUksRUFBRTtZQUFFQyxLQUFLLEVBQUUsQ0FBQztVQUFWO1FBQVIsQ0FBL0MsRUFDSTtVQUFFLE9BQUs7UUFBUCxDQURKLEVBQ21CLFVBQUNDLEtBQUQsRUFBUUMsR0FBUixFQUFnQjtVQUMzQixJQUFJRCxLQUFKLEVBQVc7WUFDUCxPQUFPekIsUUFBUSxDQUFDZSxNQUFULENBQWdCLEdBQWhCLEVBQXFCQyxJQUFyQixDQUEwQjtjQUFFQyxHQUFHLEVBQUU7WUFBUCxDQUExQixDQUFQO1VBQ0g7O1VBQ0QsT0FBT2pCLFFBQVEsQ0FBQ2UsTUFBVCxDQUFnQixHQUFoQixFQUFxQkMsSUFBckIsQ0FBMEI7WUFBRUMsR0FBRyxFQUFFO1VBQVAsQ0FBMUIsQ0FBUDtRQUNILENBTkw7TUFRSCxDQVRELE1BU087UUFDSGYsdUJBQUEsQ0FBV29CLGdCQUFYLENBQTRCO1VBQUVqQixHQUFHLEVBQUVhO1FBQVAsQ0FBNUIsRUFBK0M7VUFBRUssSUFBSSxFQUFFO1lBQUVDLEtBQUssRUFBRTtVQUFUO1FBQVIsQ0FBL0MsRUFDSTtVQUFFLE9BQUs7UUFBUCxDQURKLEVBQ21CLFVBQUNDLEtBQUQsRUFBUUMsR0FBUixFQUFnQjtVQUMzQixJQUFJRCxLQUFKLEVBQVc7WUFDUCxPQUFPekIsUUFBUSxDQUFDZSxNQUFULENBQWdCLEdBQWhCLEVBQXFCQyxJQUFyQixDQUEwQjtjQUFFQyxHQUFHLEVBQUU7WUFBUCxDQUExQixDQUFQO1VBQ0g7O1VBQ0QsT0FBT2pCLFFBQVEsQ0FBQ2UsTUFBVCxDQUFnQixHQUFoQixFQUFxQkMsSUFBckIsQ0FBMEI7WUFBRUMsR0FBRyxFQUFFO1VBQVAsQ0FBMUIsQ0FBUDtRQUNILENBTkw7TUFPSDtJQUNKOzs7V0FFRCxpQkFBUWxCLE9BQVIsRUFBaUJDLFFBQWpCLEVBQTJCO01BQ3ZCLElBQU1rQixRQUFRLEdBQUduQixPQUFPLENBQUNvQixLQUFSLENBQWNDLEVBQS9CO01BQ0EsSUFBTUMsU0FBUyxHQUFHdEIsT0FBTyxDQUFDb0IsS0FBUixDQUFjRSxTQUFoQzs7TUFDQSxJQUFJQSxTQUFTLEtBQUssT0FBbEIsRUFBMkI7UUFDdkJuQix1QkFBQSxDQUFXb0IsZ0JBQVgsQ0FBNEI7VUFBRWpCLEdBQUcsRUFBRWE7UUFBUCxDQUE1QixFQUErQztVQUFFSyxJQUFJLEVBQUU7WUFBRUksUUFBUSxFQUFFLENBQUM7VUFBYjtRQUFSLENBQS9DLEVBQ0k7VUFBRSxPQUFLO1FBQVAsQ0FESixFQUNtQixVQUFDRixLQUFELEVBQVFDLEdBQVIsRUFBZ0I7VUFDM0IsSUFBSUQsS0FBSixFQUFXO1lBQ1AsT0FBT3pCLFFBQVEsQ0FBQ2UsTUFBVCxDQUFnQixHQUFoQixFQUFxQkMsSUFBckIsQ0FBMEI7Y0FBRUMsR0FBRyxFQUFFO1lBQVAsQ0FBMUIsQ0FBUDtVQUNIOztVQUNELE9BQU9qQixRQUFRLENBQUNlLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCO1lBQUVDLEdBQUcsRUFBRTtVQUFQLENBQTFCLENBQVA7UUFDSCxDQU5MO01BUUgsQ0FURCxNQVNPO1FBQ0hmLHVCQUFBLENBQVdvQixnQkFBWCxDQUE0QjtVQUFFakIsR0FBRyxFQUFFYTtRQUFQLENBQTVCLEVBQStDO1VBQUVLLElBQUksRUFBRTtZQUFFSSxRQUFRLEVBQUU7VUFBWjtRQUFSLENBQS9DLEVBQ0k7VUFBRSxPQUFLO1FBQVAsQ0FESixFQUNtQixVQUFDRixLQUFELEVBQVFDLEdBQVIsRUFBZ0I7VUFDM0IsSUFBSUQsS0FBSixFQUFXO1lBQ1AsT0FBT3pCLFFBQVEsQ0FBQ2UsTUFBVCxDQUFnQixHQUFoQixFQUFxQkMsSUFBckIsQ0FBMEI7Y0FBRUMsR0FBRyxFQUFFO1lBQVAsQ0FBMUIsQ0FBUDtVQUNIOztVQUNELE9BQU9qQixRQUFRLENBQUNlLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCO1lBQUVDLEdBQUcsRUFBRTtVQUFQLENBQTFCLENBQVA7UUFDSCxDQU5MO01BT0g7SUFDSjs7OztvRkFFRCxrQkFBa0JsQixPQUFsQixFQUEyQkMsUUFBM0I7UUFBQTtRQUFBO1VBQUE7WUFBQTtjQUFBO2dCQUNVUyxJQURWLEdBQ2lCVixPQUFPLENBQUNvQixLQUFSLENBQWNTLEdBQWQsQ0FBa0JDLFdBQWxCLEVBRGpCO2dCQUFBO2dCQUFBO2dCQUFBLE9BRzBCM0IsdUJBQUEsQ0FBVzRCLElBQVgsQ0FBZ0I7a0JBQUVyQixJQUFJLEVBQUU7b0JBQUVzQixNQUFNLEVBQUV0QjtrQkFBVjtnQkFBUixDQUFoQixDQUgxQjs7Y0FBQTtnQkFHWXVCLEtBSFo7Z0JBQUEsa0NBSWVoQyxRQUFRLENBQUNpQyxJQUFULENBQWNELEtBQWQsQ0FKZjs7Y0FBQTtnQkFBQTtnQkFBQTtnQkFBQSxrQ0FPZWhDLFFBQVEsQ0FBQ2UsTUFBVCxDQUFnQixHQUFoQixFQUFxQkMsSUFBckIsQ0FBMEI7a0JBQUVDLEdBQUcsRUFBRTtnQkFBUCxDQUExQixDQVBmOztjQUFBO2NBQUE7Z0JBQUE7WUFBQTtVQUFBO1FBQUE7TUFBQSxDOzs7Ozs7O1FBV0E7Ozs7O3FGQUNBLGtCQUFtQmxCLE9BQW5CLEVBQTRCQyxRQUE1QjtRQUFBO1FBQUE7VUFBQTtZQUFBO2NBQUE7Z0JBQUE7Z0JBQUE7Z0JBQUEsT0FHMEJFLHVCQUFBLENBQVc0QixJQUFYLEVBSDFCOztjQUFBO2dCQUdZRSxLQUhaO2dCQUFBLGtDQUllaEMsUUFBUSxDQUFDaUMsSUFBVCxDQUFjRCxLQUFkLENBSmY7O2NBQUE7Z0JBQUE7Z0JBQUE7Z0JBQUEsa0NBT2VoQyxRQUFRLENBQUNlLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCO2tCQUFFQyxHQUFHLEVBQUU7Z0JBQVAsQ0FBMUIsQ0FQZjs7Y0FBQTtjQUFBO2dCQUFBO1lBQUE7VUFBQTtRQUFBO01BQUEsQzs7Ozs7OztRQVVBOzs7OztxRkFDQSxrQkFBbUJsQixPQUFuQixFQUE0QkMsUUFBNUI7UUFBQTtRQUFBO1VBQUE7WUFBQTtjQUFBO2dCQUNVUyxJQURWLEdBQ2lCVixPQUFPLENBQUNvQixLQUFSLENBQWNTLEdBRC9CO2dCQUFBO2dCQUFBO2dCQUFBLE9BRzBCMUIsdUJBQUEsQ0FBVzRCLElBQVgsQ0FBZ0I7a0JBQUV4QixRQUFRLEVBQUVHO2dCQUFaLENBQWhCLENBSDFCOztjQUFBO2dCQUdZdUIsS0FIWjtnQkFBQSxrQ0FJZWhDLFFBQVEsQ0FBQ2lDLElBQVQsQ0FBY0QsS0FBZCxDQUpmOztjQUFBO2dCQUFBO2dCQUFBO2dCQUFBLGtDQU9laEMsUUFBUSxDQUFDZSxNQUFULENBQWdCLEdBQWhCLEVBQXFCQyxJQUFyQixDQUEwQjtrQkFBRUMsR0FBRyxFQUFFO2dCQUFQLENBQTFCLENBUGY7O2NBQUE7Y0FBQTtnQkFBQTtZQUFBO1VBQUE7UUFBQTtNQUFBLEM7Ozs7Ozs7UUFXQTs7Ozs7a0ZBQ0Esa0JBQWdCbEIsT0FBaEIsRUFBeUJDLFFBQXpCO1FBQUE7UUFBQTtVQUFBO1lBQUE7Y0FBQTtnQkFDVWtDLEdBRFYsR0FDZ0JuQyxPQUFPLENBQUNvQixLQUFSLENBQWNTLEdBRDlCO2dCQUFBO2dCQUFBO2dCQUFBLE9BRzBCMUIsdUJBQUEsQ0FBVzRCLElBQVgsQ0FBZ0I7a0JBQUV0QixRQUFRLEVBQUU7b0JBQUV1QixNQUFNLEVBQUVHO2tCQUFWO2dCQUFaLENBQWhCLENBSDFCOztjQUFBO2dCQUdZRixLQUhaO2dCQUFBLGtDQUllaEMsUUFBUSxDQUFDaUMsSUFBVCxDQUFjRCxLQUFkLENBSmY7O2NBQUE7Z0JBQUE7Z0JBQUE7Z0JBQUEsa0NBT2VoQyxRQUFRLENBQUNlLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUJDLElBQXJCLENBQTBCO2tCQUFFQyxHQUFHLEVBQUU7Z0JBQVAsQ0FBMUIsQ0FQZjs7Y0FBQTtjQUFBO2dCQUFBO1lBQUE7VUFBQTtRQUFBO01BQUEsQzs7Ozs7OztRQVdBOzs7O1dBQ0EsZ0JBQU9sQixPQUFQLEVBQWdCQyxRQUFoQixFQUEwQjtNQUN0QixJQUFNbUMsS0FBSyxHQUFHcEMsT0FBTyxDQUFDcUMsT0FBUixDQUFnQkQsS0FBOUI7O01BQ0EsSUFBSSxDQUFDQSxLQUFMLEVBQVk7UUFDUixPQUFPbkMsUUFBUSxDQUFDZSxNQUFULENBQWdCLEdBQWhCLEVBQXFCQyxJQUFyQixDQUEwQjtVQUFFQyxHQUFHLEVBQUU7UUFBUCxDQUExQixDQUFQO01BQ0g7O01BQ0QsSUFBTVAsU0FBUyxvQkFBYVgsT0FBTyxDQUFDc0MsTUFBUixDQUFlMUIsUUFBNUIsQ0FBZjs7TUFDQSxJQUFNMkIsU0FBUyxHQUFHQyxjQUFBLENBQUdDLFFBQUgsQ0FBWTlCLFNBQVosRUFBdUIrQixJQUF6QyxDQU5zQixDQU0wQjs7O01BRWhELElBQU1DLEtBQUssR0FBR0MsTUFBTSxDQUFDUixLQUFLLENBQUNTLE9BQU4sQ0FBYyxLQUFkLEVBQXFCLEVBQXJCLENBQUQsQ0FBcEIsQ0FSc0IsQ0FRMkI7O01BQ2pELElBQU1DLFVBQVUsWUFBRyxFQUFILEVBQVMsQ0FBVCxDQUFoQixDQVRzQixDQVNLOztNQUMzQixJQUFNQyxHQUFHLEdBQUdDLElBQUksQ0FBQ0MsR0FBTCxDQUFTTixLQUFLLEdBQUdHLFVBQWpCLEVBQTZCUCxTQUFTLEdBQUcsQ0FBekMsQ0FBWixDQVZzQixDQVVxQzs7TUFFM0QsSUFBTVcsWUFBWSxHQUFHSCxHQUFHLEdBQUdKLEtBQU4sR0FBYyxDQUFuQyxDQVpzQixDQVlnQjs7TUFDdEMsSUFBTVEsUUFBUSxHQUFHO1FBQ2Isa0JBQWtCRCxZQURMO1FBRWIsZ0JBQWdCLE9BRkg7UUFHYixnQkFBZ0IsWUFISDtRQUliLGlDQUEwQlAsS0FBMUIsZUFBb0NJLEdBQXBDLGNBQTJDUixTQUEzQyxDQUphLENBSTRDOztNQUo1QyxDQUFqQjtNQU9BdEMsUUFBUSxDQUFDbUQsU0FBVCxDQUFtQixHQUFuQixFQUF3QkQsUUFBeEI7O01BQ0EsSUFBTUUsV0FBVyxHQUFHYixjQUFBLENBQUdjLGdCQUFILENBQW9CM0MsU0FBcEIsRUFBK0I7UUFBRWdDLEtBQUssRUFBTEEsS0FBRjtRQUFTSSxHQUFHLEVBQUhBO01BQVQsQ0FBL0IsQ0FBcEIsQ0FyQnNCLENBcUI4Qzs7O01BQ3BFTSxXQUFXLENBQUNFLElBQVosQ0FBaUJ0RCxRQUFqQjtJQUNIOzs7V0FFRCxpQkFBT0QsT0FBUCxFQUFnQkMsUUFBaEIsRUFBMEI7TUFFdEIsSUFBTWtCLFFBQVEsR0FBR25CLE9BQU8sQ0FBQ29CLEtBQVIsQ0FBY0QsUUFBL0I7TUFDQSxJQUFNcUMsVUFBVSxHQUFHeEQsT0FBTyxDQUFDb0IsS0FBUixDQUFjb0MsVUFBakM7TUFDQSxJQUFNN0MsU0FBUyxvQkFBYTZDLFVBQWIsQ0FBZjs7TUFDQSxJQUFJaEIsY0FBQSxDQUFHaUIsVUFBSCxDQUFjOUMsU0FBZCxDQUFKLEVBQThCO1FBQzFCNkIsY0FBQSxDQUFHa0IsTUFBSCxDQUFVL0MsU0FBVixFQUFxQixVQUFDZSxLQUFELEVBQVc7VUFDNUIsSUFBSUEsS0FBSixFQUFXO1lBQ1AsT0FBT3pCLFFBQVEsQ0FBQ2UsTUFBVCxDQUFnQixHQUFoQixFQUFxQkMsSUFBckIsQ0FBMEI7Y0FBRUMsR0FBRyxFQUFFO1lBQVAsQ0FBMUIsQ0FBUDtVQUNIOztVQUNEZix1QkFBQSxDQUFXd0QsZ0JBQVgsQ0FBNEI7WUFBRXJELEdBQUcsRUFBRWE7VUFBUCxDQUE1QixFQUErQyxVQUFDTyxLQUFELEVBQVc7WUFDdEQsSUFBSUEsS0FBSixFQUFXO2NBQ1AsT0FBT3pCLFFBQVEsQ0FBQ2UsTUFBVCxDQUFnQixHQUFoQixFQUFxQkMsSUFBckIsQ0FBMEI7Z0JBQUVDLEdBQUcsRUFBRTtjQUFQLENBQTFCLENBQVA7WUFDSDs7WUFDRCxPQUFPakIsUUFBUSxDQUFDZSxNQUFULENBQWdCLEdBQWhCLEVBQXFCQyxJQUFyQixDQUEwQjtjQUFFQyxHQUFHLEVBQUU7WUFBUCxDQUExQixDQUFQO1VBQ0gsQ0FMRDtRQU1ILENBVkQ7TUFXSDtJQUNKOzs7OytGQUVELGtCQUE2QmxCLE9BQTdCLEVBQXNDQyxRQUF0QztRQUFBO1FBQUE7VUFBQTtZQUFBO2NBQUE7Z0JBQ1UyRCxlQURWLEdBQzRCNUQsT0FBTyxDQUFDb0IsS0FBUixDQUFjYixRQUQxQztnQkFFVXNELGVBRlYsR0FFNEI3RCxPQUFPLENBQUNvQixLQUFSLENBQWMwQyxVQUYxQzs7Z0JBQUEsTUFHUUQsZUFBZSxLQUFLRSxTQUg1QjtrQkFBQTtrQkFBQTtnQkFBQTs7Z0JBSVEsS0FBU0MsQ0FBVCxHQUFhLENBQWIsRUFBZ0JBLENBQUMsR0FBR0gsZUFBZSxDQUFDSSxNQUFwQyxFQUE0Q0QsQ0FBQyxFQUE3QyxFQUFpRDtrQkFDekNyRCxTQUR5QyxvQkFDbkJrRCxlQUFlLENBQUNHLENBQUQsQ0FESTs7a0JBRTdDLElBQUl4QixjQUFBLENBQUdpQixVQUFILENBQWM5QyxTQUFkLENBQUosRUFBOEI7b0JBQzFCNkIsY0FBQSxDQUFHa0IsTUFBSCxDQUFVL0MsU0FBVixFQUFxQixVQUFDZSxLQUFELEVBQVc7c0JBQzVCLElBQUlBLEtBQUosRUFBVzt3QkFDUCxPQUFPekIsUUFBUSxDQUFDZSxNQUFULENBQWdCLEdBQWhCLEVBQXFCQyxJQUFyQixDQUEwQjswQkFBRUMsR0FBRyxFQUFFO3dCQUFQLENBQTFCLENBQVA7c0JBQ0g7b0JBQ0osQ0FKRDtrQkFLSDtnQkFDSjs7Z0JBYlQ7Z0JBQUEsT0FlY2YsdUJBQUEsQ0FBVytELFVBQVgsQ0FBc0I7a0JBQUUzRCxRQUFRLEVBQUVxRDtnQkFBWixDQUF0QixDQWZkOztjQUFBO2NBQUE7Z0JBQUE7WUFBQTtVQUFBO1FBQUE7TUFBQSxDIn0=","map":{"version":3,"names":["VideoController","request","response","newVideo","videoModel","owner","token","_id","username","body","category","name","videopath","filename","description","save","saveVideo","status","json","msg","video_id","query","id","operation","findOneAndUpdate","$inc","likes","error","doc","dislikes","key","toLowerCase","find","$regex","video","send","cat","range","headers","params","videosize","fs","statSync","size","start","Number","replace","chunk_size","end","Math","min","contenLength","hearders","writeHead","videostream","createReadStream","pipe","video_path","existsSync","unlink","findOneAndDelete","delete_username","user_video_list","video_list","undefined","i","length","deleteMany"],"sourceRoot":"D:\\School\\IT Project\\IT-PROJECT\\backend3\\src\\Controller\\","sources":["Video_controller.js"],"sourcesContent":["import { videoModel } from '../Models/Video_model.js'\r\nimport fs from 'fs'\r\nimport { NONAME } from 'dns'\r\n\r\nexport class VideoController {\r\n    async upload(request, response) {\r\n\r\n        const newVideo = new videoModel({\r\n            owner: request.token._id,\r\n            username: request.body.username,\r\n            category: request.body.category,\r\n            name: request.body.name,\r\n            videopath: request.filename,\r\n            description: request.body.description\r\n        })\r\n\r\n        try {\r\n            const saveVideo = await newVideo.save()\r\n            return response.status(201).json({ msg: 'Video uploaded successfully' })\r\n        } catch (error) {\r\n            return response.status(500).json({ msg: 'Video upload failed' })\r\n        }\r\n    }\r\n\r\n\r\n    like(request, response) {\r\n        const video_id = request.query.id;\r\n        const operation = request.query.operation\r\n        if (operation === 'false') {\r\n            videoModel.findOneAndUpdate({ _id: video_id }, { $inc: { likes: -1 } },\r\n                { new: true }, (error, doc) => {\r\n                    if (error) {\r\n                        return response.status(500).json({ msg: 'Network Error: Failed to cancel like video' })\r\n                    }\r\n                    return response.status(200).json({ msg: 'Video like cancelled' })\r\n                })\r\n\r\n        } else {\r\n            videoModel.findOneAndUpdate({ _id: video_id }, { $inc: { likes: 1 } },\r\n                { new: true }, (error, doc) => {\r\n                    if (error) {\r\n                        return response.status(500).json({ msg: 'Network Error: Failed to like video' })\r\n                    }\r\n                    return response.status(200).json({ msg: 'Video liked' })\r\n                })\r\n        }\r\n    }\r\n\r\n    dislike(request, response) {\r\n        const video_id = request.query.id;\r\n        const operation = request.query.operation\r\n        if (operation === 'false') {\r\n            videoModel.findOneAndUpdate({ _id: video_id }, { $inc: { dislikes: -1 } },\r\n                { new: true }, (error, doc) => {\r\n                    if (error) {\r\n                        return response.status(500).json({ msg: 'Network Error: Failed to cancel dislike video' })\r\n                    }\r\n                    return response.status(200).json({ msg: 'Video dislike cancelled' })\r\n                })\r\n\r\n        } else {\r\n            videoModel.findOneAndUpdate({ _id: video_id }, { $inc: { dislikes: 1 } },\r\n                { new: true }, (error, doc) => {\r\n                    if (error) {\r\n                        return response.status(500).json({ msg: 'Network Error: Failed to dislike video' })\r\n                    }\r\n                    return response.status(200).json({ msg: 'Video disliked' })\r\n                })\r\n        }\r\n    }\r\n\r\n    async searchVideo(request, response) {\r\n        const name = request.query.key.toLowerCase();\r\n        try {\r\n            let video = await videoModel.find({ name: { $regex: name } })\r\n            return response.send(video)\r\n\r\n        } catch (error) {\r\n            return response.status(700).json({ msg: 'No matching video' })\r\n        }\r\n    }\r\n\r\n    // search all videos and display\r\n    async findAllVideo(request, response) {\r\n\r\n        try {\r\n            let video = await videoModel.find()\r\n            return response.send(video)\r\n\r\n        } catch (error) {\r\n            return response.status(700).json({ msg: 'No videos' })\r\n        }\r\n    }\r\n    // search video by username\r\n    async searchUVideo(request, response) {\r\n        const name = request.query.key;\r\n        try {\r\n            let video = await videoModel.find({ username: name })\r\n            return response.send(video)\r\n\r\n        } catch (error) {\r\n            return response.status(700).json({ msg: 'No matching video' })\r\n        }\r\n    }\r\n\r\n    // search video by category\r\n    async searchCat(request, response) {\r\n        const cat = request.query.key;\r\n        try {\r\n            let video = await videoModel.find({ category: { $regex: cat } })\r\n            return response.send(video)\r\n\r\n        } catch (error) {\r\n            return response.status(700).json({ msg: 'No matching video' })\r\n        }\r\n    }\r\n\r\n    // stream video \r\n    stream(request, response) {\r\n        const range = request.headers.range\r\n        if (!range) {\r\n            return response.status(400).json({ msg: 'Range header is required to start' })\r\n        }\r\n        const videopath = `videos/${request.params.filename}`;\r\n        const videosize = fs.statSync(videopath).size;  // get video size\r\n\r\n        const start = Number(range.replace(/\\D/g, \"\"));  //get start point \r\n        const chunk_size = 10 ** 6 // 1 mb , chunck size\r\n        const end = Math.min(start + chunk_size, videosize - 1);   //end position\r\n\r\n        const contenLength = end - start + 1  // how many  size sending\r\n        const hearders = {\r\n            'Content-Length': contenLength,\r\n            'Accept-Range': 'bytes',\r\n            'Content-Type': 'video/mp40',\r\n            'Content-Range': `bytes ${start} -${end}/${videosize}`   //decise how far video gone\r\n\r\n        }\r\n        response.writeHead(206, hearders);\r\n        const videostream = fs.createReadStream(videopath, { start, end }); // create video stream\r\n        videostream.pipe(response)\r\n    }\r\n\r\n    delete(request, response) {\r\n\r\n        const video_id = request.query.video_id;\r\n        const video_path = request.query.video_path;\r\n        const videopath = `videos/${video_path}`;\r\n        if (fs.existsSync(videopath)) {\r\n            fs.unlink(videopath, (error) => {\r\n                if (error) {\r\n                    return response.status(500).json({ msg: 'Network Error: Failed to delete video' })\r\n                }\r\n                videoModel.findOneAndDelete({ _id: video_id }, (error) => {\r\n                    if (error) {\r\n                        return response.status(500).json({ msg: 'Network Error: Failed to delete video' })\r\n                    }\r\n                    return response.status(200).json({ msg: ' video delete' })\r\n                })\r\n            })\r\n        }\r\n    }\r\n\r\n    async delete_user_all_videos(request, response) {\r\n        const delete_username = request.query.username;\r\n        const user_video_list = request.query.video_list;\r\n        if (user_video_list !== undefined) {\r\n            for (let i = 0; i < user_video_list.length; i++) {\r\n                var videopath = `videos/${user_video_list[i]}`;\r\n                if (fs.existsSync(videopath)) {\r\n                    fs.unlink(videopath, (error) => {\r\n                        if (error) {\r\n                            return response.status(500).json({ msg: 'Network Error: Failed to delete video' })\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n\r\n            await videoModel.deleteMany({ username: delete_username });\r\n        }\r\n    }\r\n}"],"mappings":"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"}},"mtime":1667981499364}}
>>>>>>> Stashed changes
